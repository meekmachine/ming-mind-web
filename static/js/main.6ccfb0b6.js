/*! For license information please see main.6ccfb0b6.js.LICENSE.txt */
(()=>{var t={1168:(t,e,n)=>{"use strict";e.Z=void 0;var r,i=(r=n(8895))&&r.__esModule?r:{default:r};function o(t){return t[0]}function a(t){return t[1]}function s(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}var l=function(){function t(t){var e=new i.default(t);this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=e.coords,this._init(e)}var e=t.prototype;return e._init=function(t){var e=t,n=this.points;if(e.hull&&e.hull.length>2&&function(t){for(var e=t.triangles,n=t.coords,r=0;r<e.length;r+=3){var i=2*e[r],o=2*e[r+1],a=2*e[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:n.length/2},(function(t,e){return e})).sort((function(t,e){return n[2*t]-n[2*e]||n[2*t+1]-n[2*e+1]}));for(var r=this.collinear[0],o=this.collinear[this.collinear.length-1],a=[n[2*r],n[2*r+1],n[2*o],n[2*o+1]],l=1e-8*Math.sqrt(Math.pow(a[3]-a[1],2)+Math.pow(a[2]-a[0],2)),c=0,u=n.length/2;c<u;++c){var h=s(n[2*c],n[2*c+1],l);n[2*c]=h[0],n[2*c+1]=h[1]}t=new i.default(n)}for(var d=this.halfedges=t.halfedges,f=this.hull=t.hull,p=this.triangles=t.triangles,m=this.inedges.fill(-1),g=this._hullIndex.fill(-1),v=0,y=d.length;v<y;++v){var b=p[v%3===2?v-2:v+1];-1!==d[v]&&-1!==m[b]||(m[b]=v)}for(var _=0,x=f.length;_<x;++_)g[f[_]]=_;f.length<=2&&f.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=f[0],this.triangles[1]=f[1],this.triangles[2]=f[1],m[f[0]]=1,2===f.length&&(m[f[1]]=0))},e.neighbors=function(t){var e=[],n=this.inedges,r=this.hull,i=this._hullIndex,o=this.halfedges,a=this.triangles,s=n[t];if(-1===s)return e;var l=s,c=-1;do{if(c=a[l],e.push(c),a[l=l%3===2?l-2:l+1]!==t)break;if(-1===(l=o[l])){var u=r[(i[t]+1)%r.length];u!==c&&e.push(u);break}}while(l!==s);return e},e.find=function(t,e,n){if(void 0===n&&(n=0),(t=+t)!==t||(e=+e)!==e)return-1;for(var r,i=n;(r=this._step(n,t,e))>=0&&r!==n&&r!==i;)n=r;return r},e._step=function(t,e,n){var r=this.inedges,i=this.points;if(-1===r[t]||!i.length)return(t+1)%(i.length>>1);var o=t,a=Math.pow(e-i[2*t],2)+Math.pow(n-i[2*t+1],2),s=this.neighbors(t),l=Array.isArray(s),c=0;for(s=l?s:s[Symbol.iterator]();;){var u;if(l){if(c>=s.length)break;u=s[c++]}else{if((c=s.next()).done)break;u=c.value}var h=u,d=Math.pow(e-i[2*h],2)+Math.pow(n-i[2*h+1],2);d<a&&(a=d,o=h)}return o},t}();e.Z=l,l.from=function(t,e,n,r){return void 0===e&&(e=o),void 0===n&&(n=a),new l(function(t,e,n,r){for(var i=t.length,o=new Float64Array(2*i),a=0;a<i;++a){var s=t[a];o[2*a]=e.call(r,s,a,t),o[2*a+1]=n.call(r,s,a,t)}return o}(t,e,n,r))}},8895:function(t){t.exports=function(){"use strict";var t=Math.pow(2,-52),e=new Uint32Array(512),n=function(t){var e=t.length>>1;if(e>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()};function r(t,e){var n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function i(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}function o(t,e,n,r,i,o){var a=(r-e)*(i-t),s=(n-t)*(o-e);return Math.abs(a-s)>=33306690738754716e-32*Math.abs(a+s)?a-s:0}function a(t,e,n,r,i,a){return(o(i,a,t,e,n,r)||o(t,e,n,r,i,a)||o(n,r,i,a,t,e))<0}function s(t,e,n,r,i,o,a,s){var l=t-a,c=e-s,u=n-a,h=r-s,d=i-a,f=o-s,p=u*u+h*h,m=d*d+f*f;return l*(h*m-p*f)-c*(u*m-p*d)+(l*l+c*c)*(u*f-h*d)<0}function l(t,e,n,r,i,o){var a=n-t,s=r-e,l=i-t,c=o-e,u=a*a+s*s,h=l*l+c*c,d=.5/(a*c-s*l),f=(c*u-s*h)*d,p=(a*h-l*u)*d;return f*f+p*p}function c(t,e,n,r,i,o){var a=n-t,s=r-e,l=i-t,c=o-e,u=a*a+s*s,h=l*l+c*c,d=.5/(a*c-s*l);return{x:t+(c*u-s*h)*d,y:e+(a*h-l*u)*d}}function u(t,e,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var o=t[i],a=e[o],s=i-1;s>=n&&e[t[s]]>a;)t[s+1]=t[s--];t[s+1]=o}else{var l=n+1,c=r;h(t,n+r>>1,l),e[t[n]]>e[t[r]]&&h(t,n,r),e[t[l]]>e[t[r]]&&h(t,l,r),e[t[n]]>e[t[l]]&&h(t,n,l);for(var d=t[l],f=e[d];;){do{l++}while(e[t[l]]<f);do{c--}while(e[t[c]]>f);if(c<l)break;h(t,l,c)}t[n+1]=t[c],t[c]=d,r-l+1>=c-n?(u(t,e,l,r),u(t,e,n,c-1)):(u(t,e,n,c-1),u(t,e,l,r))}}function h(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function d(t){return t[0]}function f(t){return t[1]}return n.from=function(t,e,r){void 0===e&&(e=d),void 0===r&&(r=f);for(var i=t.length,o=new Float64Array(2*i),a=0;a<i;a++){var s=t[a];o[2*a]=e(s),o[2*a+1]=r(s)}return new n(o)},n.prototype.update=function(){for(var e=this,n=e.coords,r=e._hullPrev,o=e._hullNext,s=e._hullTri,h=e._hullHash,d=n.length>>1,f=1/0,p=1/0,m=-1/0,g=-1/0,v=0;v<d;v++){var y=n[2*v],b=n[2*v+1];y<f&&(f=y),b<p&&(p=b),y>m&&(m=y),b>g&&(g=b),this._ids[v]=v}for(var _,x,w,S=(f+m)/2,E=(p+g)/2,T=1/0,M=0;M<d;M++){var A=i(S,E,n[2*M],n[2*M+1]);A<T&&(_=M,T=A)}var C=n[2*_],k=n[2*_+1];T=1/0;for(var O=0;O<d;O++)if(O!==_){var P=i(C,k,n[2*O],n[2*O+1]);P<T&&P>0&&(x=O,T=P)}for(var R=n[2*x],N=n[2*x+1],L=1/0,I=0;I<d;I++)if(I!==_&&I!==x){var D=l(C,k,R,N,n[2*I],n[2*I+1]);D<L&&(w=I,L=D)}var j=n[2*w],U=n[2*w+1];if(L===1/0){for(var F=0;F<d;F++)this._dists[F]=n[2*F]-n[0]||n[2*F+1]-n[1];u(this._ids,this._dists,0,d-1);for(var z=new Uint32Array(d),B=0,V=0,H=-1/0;V<d;V++){var q=this._ids[V];this._dists[q]>H&&(z[B++]=q,H=this._dists[q])}return this.hull=z.subarray(0,B),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(a(C,k,R,N,j,U)){var W=x,G=R,X=N;x=w,R=j,N=U,w=W,j=G,U=X}var K=c(C,k,R,N,j,U);this._cx=K.x,this._cy=K.y;for(var Y=0;Y<d;Y++)this._dists[Y]=i(n[2*Y],n[2*Y+1],K.x,K.y);u(this._ids,this._dists,0,d-1),this._hullStart=_;var $=3;o[_]=r[w]=x,o[x]=r[_]=w,o[w]=r[x]=_,s[_]=0,s[x]=1,s[w]=2,h.fill(-1),h[this._hashKey(C,k)]=_,h[this._hashKey(R,N)]=x,h[this._hashKey(j,U)]=w,this.trianglesLen=0,this._addTriangle(_,x,w,-1,-1,-1);for(var Q=0,Z=void 0,J=void 0;Q<this._ids.length;Q++){var tt=this._ids[Q],et=n[2*tt],nt=n[2*tt+1];if(!(Q>0&&Math.abs(et-Z)<=t&&Math.abs(nt-J)<=t)&&(Z=et,J=nt,tt!==_&&tt!==x&&tt!==w)){for(var rt=0,it=0,ot=this._hashKey(et,nt);it<this._hashSize&&(-1===(rt=h[(ot+it)%this._hashSize])||rt===o[rt]);it++);for(var at=rt=r[rt],st=void 0;st=o[at],!a(et,nt,n[2*at],n[2*at+1],n[2*st],n[2*st+1]);)if((at=st)===rt){at=-1;break}if(-1!==at){var lt=this._addTriangle(at,tt,o[at],-1,-1,s[at]);s[tt]=this._legalize(lt+2),s[at]=lt,$++;for(var ct=o[at];st=o[ct],a(et,nt,n[2*ct],n[2*ct+1],n[2*st],n[2*st+1]);)lt=this._addTriangle(ct,tt,st,s[tt],-1,s[ct]),s[tt]=this._legalize(lt+2),o[ct]=ct,$--,ct=st;if(at===rt)for(;a(et,nt,n[2*(st=r[at])],n[2*st+1],n[2*at],n[2*at+1]);)lt=this._addTriangle(st,tt,at,-1,s[at],s[st]),this._legalize(lt+2),s[st]=lt,o[at]=at,$--,at=st;this._hullStart=r[tt]=at,o[at]=r[ct]=tt,o[tt]=ct,h[this._hashKey(et,nt)]=tt,h[this._hashKey(n[2*at],n[2*at+1])]=at}}}this.hull=new Uint32Array($);for(var ut=0,ht=this._hullStart;ut<$;ut++)this.hull[ut]=ht,ht=o[ht];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)},n.prototype._hashKey=function(t,e){return Math.floor(r(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize},n.prototype._legalize=function(t){for(var n=this,r=n._triangles,i=n._halfedges,o=n.coords,a=0,l=0;;){var c=i[t],u=t-t%3;if(l=u+(t+2)%3,-1!==c){var h=c-c%3,d=u+(t+1)%3,f=h+(c+2)%3,p=r[l],m=r[t],g=r[d],v=r[f];if(s(o[2*p],o[2*p+1],o[2*m],o[2*m+1],o[2*g],o[2*g+1],o[2*v],o[2*v+1])){r[t]=v,r[c]=p;var y=i[f];if(-1===y){var b=this._hullStart;do{if(this._hullTri[b]===f){this._hullTri[b]=t;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(t,y),this._link(c,i[l]),this._link(l,f);var _=h+(c+1)%3;a<e.length&&(e[a++]=_)}else{if(0===a)break;t=e[--a]}}else{if(0===a)break;t=e[--a]}}return l},n.prototype._link=function(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)},n.prototype._addTriangle=function(t,e,n,r,i,o){var a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a},n}()},2110:(t,e,n)=>{"use strict";var r=n(7441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&t(e,i,r)}var a=u(n);h&&(a=a.concat(h(n)));for(var s=l(e),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=d(n,v);try{c(e,v,y)}catch(b){}}}}return e}},2451:(t,e)=>{function n(t,e){var n=[],r=[];return null==e&&(e=function(t,e){return n[0]===e?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(e)).join(".")+"]"}),function(i,o){if(n.length>0){var a=n.indexOf(this);~a?n.splice(a+1):n.push(this),~a?r.splice(a,1/0,i):r.push(i),~n.indexOf(o)&&(o=e.call(this,i,o))}else n.push(o);return null==t?o:t.call(this,i,o)}}(t.exports=function(t,e,r,i){return JSON.stringify(t,n(e,i),r)}).getSerialize=n},6198:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object AsyncFunction]",s="[object Function]",l="[object GeneratorFunction]",c="[object Null]",u="[object Object]",h="[object Proxy]",d="[object Undefined]",f=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m[o]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m[s]=m["[object Map]"]=m["[object Number]"]=m[u]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object WeakMap]"]=!1;var g="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,v="object"==typeof self&&self&&self.Object===Object&&self,y=g||v||Function("return this")(),b=e&&!e.nodeType&&e,_=b&&t&&!t.nodeType&&t,x=_&&_.exports===b,w=x&&g.process,S=function(){try{var t=_&&_.require&&_.require("util").types;return t||w&&w.binding&&w.binding("util")}catch(e){}}(),E=S&&S.isTypedArray;var T,M,A=Array.prototype,C=Function.prototype,k=Object.prototype,O=y["__core-js_shared__"],P=C.toString,R=k.hasOwnProperty,N=function(){var t=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),L=k.toString,I=P.call(Object),D=RegExp("^"+P.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=x?y.Buffer:void 0,U=y.Symbol,F=y.Uint8Array,z=j?j.allocUnsafe:void 0,B=(T=Object.getPrototypeOf,M=Object,function(t){return T(M(t))}),V=Object.create,H=k.propertyIsEnumerable,q=A.splice,W=U?U.toStringTag:void 0,G=function(){try{var t=yt(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),X=j?j.isBuffer:void 0,K=Math.max,Y=Date.now,$=yt(y,"Map"),Q=yt(Object,"create"),Z=function(){function t(){}return function(e){if(!Ot(e))return{};if(V)return V(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function J(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function nt(t){var e=this.__data__=new tt(t);this.size=e.size}function rt(t,e){var n=Tt(t),r=!n&&Et(t),i=!n&&!r&&At(t),o=!n&&!r&&!i&&Rt(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],l=s.length;for(var c in t)!e&&!R.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bt(c,l))||s.push(c);return s}function it(t,e,n){(void 0!==n&&!St(t[e],n)||void 0===n&&!(e in t))&&st(t,e,n)}function ot(t,e,n){var r=t[e];R.call(t,e)&&St(r,n)&&(void 0!==n||e in t)||st(t,e,n)}function at(t,e){for(var n=t.length;n--;)if(St(t[n][0],e))return n;return-1}function st(t,e,n){"__proto__"==e&&G?G(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}J.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},J.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},J.prototype.get=function(t){var e=this.__data__;if(Q){var n=e[t];return n===r?void 0:n}return R.call(e,t)?e[t]:void 0},J.prototype.has=function(t){var e=this.__data__;return Q?void 0!==e[t]:R.call(e,t)},J.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Q&&void 0===e?r:e,this},tt.prototype.clear=function(){this.__data__=[],this.size=0},tt.prototype.delete=function(t){var e=this.__data__,n=at(e,t);return!(n<0)&&(n==e.length-1?e.pop():q.call(e,n,1),--this.size,!0)},tt.prototype.get=function(t){var e=this.__data__,n=at(e,t);return n<0?void 0:e[n][1]},tt.prototype.has=function(t){return at(this.__data__,t)>-1},tt.prototype.set=function(t,e){var n=this.__data__,r=at(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},et.prototype.clear=function(){this.size=0,this.__data__={hash:new J,map:new($||tt),string:new J}},et.prototype.delete=function(t){var e=vt(this,t).delete(t);return this.size-=e?1:0,e},et.prototype.get=function(t){return vt(this,t).get(t)},et.prototype.has=function(t){return vt(this,t).has(t)},et.prototype.set=function(t,e){var n=vt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},nt.prototype.clear=function(){this.__data__=new tt,this.size=0},nt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},nt.prototype.get=function(t){return this.__data__.get(t)},nt.prototype.has=function(t){return this.__data__.has(t)},nt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof tt){var r=n.__data__;if(!$||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new et(r)}return n.set(t,e),this.size=n.size,this};var lt,ct=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[lt?a:++r];if(!1===e(i[s],s,i))break}return t};function ut(t){return null==t?void 0===t?d:c:W&&W in Object(t)?function(t){var e=R.call(t,W),n=t[W];try{t[W]=void 0;var r=!0}catch(o){}var i=L.call(t);r&&(e?t[W]=n:delete t[W]);return i}(t):function(t){return L.call(t)}(t)}function ht(t){return Pt(t)&&ut(t)==o}function dt(t){return!(!Ot(t)||function(t){return!!N&&N in t}(t))&&(Ct(t)?D:f).test(function(t){if(null!=t){try{return P.call(t)}catch(e){}try{return t+""}catch(e){}}return""}(t))}function ft(t){if(!Ot(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=_t(t),n=[];for(var r in t)("constructor"!=r||!e&&R.call(t,r))&&n.push(r);return n}function pt(t,e,n,r,i){t!==e&&ct(e,(function(o,a){if(i||(i=new nt),Ot(o))!function(t,e,n,r,i,o,a){var s=xt(t,n),l=xt(e,n),c=a.get(l);if(c)return void it(t,n,c);var h=o?o(s,l,n+"",t,e,a):void 0,d=void 0===h;if(d){var f=Tt(l),p=!f&&At(l),m=!f&&!p&&Rt(l);h=l,f||p||m?Tt(s)?h=s:Pt(g=s)&&Mt(g)?h=function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(s):p?(d=!1,h=function(t,e){if(e)return t.slice();var n=t.length,r=z?z(n):new t.constructor(n);return t.copy(r),r}(l,!0)):m?(d=!1,h=function(t,e){var n=e?function(t){var e=new t.constructor(t.byteLength);return new F(e).set(new F(t)),e}(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(l,!0)):h=[]:function(t){if(!Pt(t)||ut(t)!=u)return!1;var e=B(t);if(null===e)return!0;var n=R.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&P.call(n)==I}(l)||Et(l)?(h=s,Et(s)?h=function(t){return function(t,e,n,r){var i=!n;n||(n={});var o=-1,a=e.length;for(;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),i?st(n,s,l):ot(n,s,l)}return n}(t,Nt(t))}(s):Ot(s)&&!Ct(s)||(h=function(t){return"function"!=typeof t.constructor||_t(t)?{}:Z(B(t))}(l))):d=!1}var g;d&&(a.set(l,h),i(h,l,r,o,a),a.delete(l));it(t,n,h)}(t,e,a,n,pt,r,i);else{var s=r?r(xt(t,a),o,a+"",t,e,i):void 0;void 0===s&&(s=o),it(t,a,s)}}),Nt)}function mt(t,e){return wt(function(t,e,n){return e=K(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=K(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,s)}}(t,e,Dt),t+"")}var gt=G?function(t,e){return G(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Dt;function vt(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function yt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return dt(n)?n:void 0}function bt(t,e){var n=typeof t;return!!(e=null==e?i:e)&&("number"==n||"symbol"!=n&&p.test(t))&&t>-1&&t%1==0&&t<e}function _t(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||k)}function xt(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var wt=function(t){var e=0,n=0;return function(){var r=Y(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(gt);function St(t,e){return t===e||t!==t&&e!==e}var Et=ht(function(){return arguments}())?ht:function(t){return Pt(t)&&R.call(t,"callee")&&!H.call(t,"callee")},Tt=Array.isArray;function Mt(t){return null!=t&&kt(t.length)&&!Ct(t)}var At=X||function(){return!1};function Ct(t){if(!Ot(t))return!1;var e=ut(t);return e==s||e==l||e==a||e==h}function kt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function Ot(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Pt(t){return null!=t&&"object"==typeof t}var Rt=E?function(t){return function(e){return t(e)}}(E):function(t){return Pt(t)&&kt(t.length)&&!!m[ut(t)]};function Nt(t){return Mt(t)?rt(t,!0):ft(t)}var Lt,It=(Lt=function(t,e,n,r){pt(t,e,n,r)},mt((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=Lt.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(t,e,n){if(!Ot(n))return!1;var r=typeof e;return!!("number"==r?Mt(n)&&bt(e,n.length):"string"==r&&e in n)&&St(n[e],t)}(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&Lt(t,a,n,i)}return t})));function Dt(t){return t}t.exports=It},908:(t,e,n)=>{var r=n(8136)(n(7009),"DataView");t.exports=r},9676:(t,e,n)=>{var r=n(5403),i=n(2747),o=n(6037),a=n(4154),s=n(7728);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},8384:(t,e,n)=>{var r=n(3894),i=n(8699),o=n(4957),a=n(7184),s=n(7109);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},5797:(t,e,n)=>{var r=n(8136)(n(7009),"Map");t.exports=r},8059:(t,e,n)=>{var r=n(4086),i=n(9255),o=n(9186),a=n(3423),s=n(3739);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},8319:(t,e,n)=>{var r=n(8136)(n(7009),"Promise");t.exports=r},3924:(t,e,n)=>{var r=n(8136)(n(7009),"Set");t.exports=r},692:(t,e,n)=>{var r=n(8059),i=n(5774),o=n(1596);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},2854:(t,e,n)=>{var r=n(8384),i=n(511),o=n(835),a=n(707),s=n(8832),l=n(5077);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,t.exports=c},7197:(t,e,n)=>{var r=n(7009).Symbol;t.exports=r},6219:(t,e,n)=>{var r=n(7009).Uint8Array;t.exports=r},7091:(t,e,n)=>{var r=n(8136)(n(7009),"WeakMap");t.exports=r},3665:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},1211:t=>{t.exports=function(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}},4903:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},9055:(t,e,n)=>{var r=n(4842);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},2683:t=>{t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},7538:(t,e,n)=>{var r=n(6478),i=n(4963),o=n(3629),a=n(5174),s=n(6800),l=n(9102),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),u=!n&&i(t),h=!n&&!u&&a(t),d=!n&&!u&&!h&&l(t),f=n||u||h||d,p=f?r(t.length,String):[],m=p.length;for(var g in t)!e&&!c.call(t,g)||f&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},8950:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},1705:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},7897:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},8463:(t,e,n)=>{var r=n(2526),i=n(9231),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},7112:(t,e,n)=>{var r=n(9231);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},8430:(t,e,n)=>{var r=n(7927);t.exports=function(t,e,n,i){return r(t,(function(t,r,o){e(i,t,n(t),o)})),i}},2526:(t,e,n)=>{var r=n(8528);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},1468:(t,e,n)=>{var r=n(692),i=n(9055),o=n(2683),a=n(8950),s=n(6194),l=n(75);t.exports=function(t,e,n,c){var u=-1,h=i,d=!0,f=t.length,p=[],m=e.length;if(!f)return p;n&&(e=a(e,s(n))),c?(h=o,d=!1):e.length>=200&&(h=l,d=!1,e=new r(e));t:for(;++u<f;){var g=t[u],v=null==n?g:n(g);if(g=c||0!==g?g:0,d&&v===v){for(var y=m;y--;)if(e[y]===v)continue t;p.push(g)}else h(e,v,c)||p.push(g)}return p}},7927:(t,e,n)=>{var r=n(5358),i=n(7056)(r);t.exports=i},2045:t=>{t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},5182:(t,e,n)=>{var r=n(1705),i=n(3529);t.exports=function t(e,n,o,a,s){var l=-1,c=e.length;for(o||(o=i),s||(s=[]);++l<c;){var u=e[l];n>0&&o(u)?n>1?t(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},5099:(t,e,n)=>{var r=n(372)();t.exports=r},5358:(t,e,n)=>{var r=n(5099),i=n(2742);t.exports=function(t,e){return t&&r(t,e,i)}},8667:(t,e,n)=>{var r=n(3082),i=n(9793);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},1986:(t,e,n)=>{var r=n(1705),i=n(3629);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},9066:(t,e,n)=>{var r=n(7197),i=n(1587),o=n(3581),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},529:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},4842:(t,e,n)=>{var r=n(2045),i=n(505),o=n(7167);t.exports=function(t,e,n){return e===e?o(t,e,n):r(t,i,n)}},7162:(t,e,n)=>{var r=n(5358);t.exports=function(t,e,n,i){return r(t,(function(t,r,o){e(i,n(t),r,o)})),i}},4906:(t,e,n)=>{var r=n(9066),i=n(3141);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},9931:(t,e,n)=>{var r=n(9066),i=n(3141);t.exports=function(t){return i(t)&&"[object Date]"==r(t)}},1848:(t,e,n)=>{var r=n(3355),i=n(3141);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,o,a,t,s))}},3355:(t,e,n)=>{var r=n(2854),i=n(5305),o=n(2206),a=n(8078),s=n(8383),l=n(3629),c=n(5174),u=n(9102),h="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,m,g,v){var y=l(t),b=l(e),_=y?d:s(t),x=b?d:s(e),w=(_=_==h?f:_)==f,S=(x=x==h?f:x)==f,E=_==x;if(E&&c(t)){if(!c(e))return!1;y=!0,w=!1}if(E&&!w)return v||(v=new r),y||u(t)?i(t,e,n,m,g,v):o(t,e,_,n,m,g,v);if(!(1&n)){var T=w&&p.call(t,"__wrapped__"),M=S&&p.call(e,"__wrapped__");if(T||M){var A=T?t.value():t,C=M?e.value():e;return v||(v=new r),g(A,C,n,m,v)}}return!!E&&(v||(v=new r),a(t,e,n,m,g,v))}},8856:(t,e,n)=>{var r=n(2854),i=n(1848);t.exports=function(t,e,n,o){var a=n.length,s=a,l=!o;if(null==t)return!s;for(t=Object(t);a--;){var c=n[a];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<s;){var u=(c=n[a])[0],h=t[u],d=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var f=new r;if(o)var p=o(h,d,u,t,e,f);if(!(void 0===p?i(d,h,3,o,f):p))return!1}}return!0}},505:t=>{t.exports=function(t){return t!==t}},6703:(t,e,n)=>{var r=n(4786),i=n(257),o=n(8092),a=n(7907),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?d:s).test(a(t))}},7817:(t,e,n)=>{var r=n(9066),i=n(3141);t.exports=function(t){return i(t)&&"[object RegExp]"==r(t)}},8150:(t,e,n)=>{var r=n(9066),i=n(4635),o=n(3141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},6025:(t,e,n)=>{var r=n(7080),i=n(4322),o=n(2100),a=n(3629),s=n(38);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},3654:(t,e,n)=>{var r=n(2936),i=n(8836),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},8664:(t,e,n)=>{var r=n(8092),i=n(2936),o=n(4221),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},3849:(t,e,n)=>{var r=n(7927),i=n(1473);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}},7080:(t,e,n)=>{var r=n(8856),i=n(9091),o=n(284);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},4322:(t,e,n)=>{var r=n(1848),i=n(6181),o=n(5658),a=n(5823),s=n(5072),l=n(284),c=n(9793);t.exports=function(t,e){return a(t)&&s(e)?l(c(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},3226:(t,e,n)=>{var r=n(8950),i=n(8667),o=n(6025),a=n(3849),s=n(9179),l=n(6194),c=n(4480),u=n(2100),h=n(3629);t.exports=function(t,e,n){e=e.length?r(e,(function(t){return h(t)?function(e){return i(e,1===t.length?t[0]:t)}:t})):[u];var d=-1;e=r(e,l(o));var f=a(t,(function(t,n,i){return{criteria:r(e,(function(e){return e(t)})),index:++d,value:t}}));return s(f,(function(t,e){return c(t,e,n)}))}},4980:(t,e,n)=>{var r=n(2591),i=n(5658);t.exports=function(t,e){return r(t,e,(function(e,n){return i(t,n)}))}},2591:(t,e,n)=>{var r=n(8667),i=n(379),o=n(3082);t.exports=function(t,e,n){for(var a=-1,s=e.length,l={};++a<s;){var c=e[a],u=r(t,c);n(u,c)&&i(l,o(c,t),u)}return l}},9586:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},4084:(t,e,n)=>{var r=n(8667);t.exports=function(t){return function(e){return r(e,t)}}},7255:t=>{var e=Math.ceil,n=Math.max;t.exports=function(t,r,i,o){for(var a=-1,s=n(e((r-t)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=t,t+=i;return l}},8794:(t,e,n)=>{var r=n(2100),i=n(4262),o=n(9156);t.exports=function(t,e){return o(i(t,e,r),t+"")}},379:(t,e,n)=>{var r=n(8463),i=n(3082),o=n(6800),a=n(8092),s=n(9793);t.exports=function(t,e,n,l){if(!a(t))return t;for(var c=-1,u=(e=i(e,t)).length,h=u-1,d=t;null!=d&&++c<u;){var f=s(e[c]),p=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return t;if(c!=h){var m=d[f];void 0===(p=l?l(m,f,d):void 0)&&(p=a(m)?m:o(e[c+1])?[]:{})}r(d,f,p),d=d[f]}return t}},7532:(t,e,n)=>{var r=n(1547),i=n(8528),o=n(2100),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},9204:(t,e,n)=>{var r=n(7927);t.exports=function(t,e){var n;return r(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}},9179:t=>{t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},5261:(t,e,n)=>{var r=n(9231);t.exports=function(t,e){for(var n=-1,i=t.length,o=0,a=[];++n<i;){var s=t[n],l=e?e(s):s;if(!n||!r(l,c)){var c=l;a[o++]=0===s?0:s}}return a}},8645:t=>{t.exports=function(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}},6478:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},2446:(t,e,n)=>{var r=n(7197),i=n(8950),o=n(3629),a=n(152),s=r?r.prototype:void 0,l=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n}},821:(t,e,n)=>{var r=n(6050),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},6194:t=>{t.exports=function(t){return function(e){return t(e)}}},9602:(t,e,n)=>{var r=n(692),i=n(9055),o=n(2683),a=n(75),s=n(7730),l=n(2230);t.exports=function(t,e,n){var c=-1,u=i,h=t.length,d=!0,f=[],p=f;if(n)d=!1,u=o;else if(h>=200){var m=e?null:s(t);if(m)return l(m);d=!1,u=a,p=new r}else p=e?[]:f;t:for(;++c<h;){var g=t[c],v=e?e(g):g;if(g=n||0!==g?g:0,d&&v===v){for(var y=p.length;y--;)if(p[y]===v)continue t;e&&p.push(v),f.push(g)}else u(p,v,n)||(p!==f&&p.push(v),f.push(g))}return f}},8019:(t,e,n)=>{var r=n(8950);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},75:t=>{t.exports=function(t,e){return t.has(e)}},3082:(t,e,n)=>{var r=n(3629),i=n(5823),o=n(170),a=n(3518);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},8558:(t,e,n)=>{var r=n(152);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t===t,a=r(t),s=void 0!==e,l=null===e,c=e===e,u=r(e);if(!l&&!u&&!a&&t>e||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&t<e||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}},4480:(t,e,n)=>{var r=n(8558);t.exports=function(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,l=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return t.index-e.index}},4503:(t,e,n)=>{var r=n(8463),i=n(2526);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var c=e[s],u=o?o(n[c],t[c],c,n,t):void 0;void 0===u&&(u=t[c]),a?i(n,c,u):r(n,c,u)}return n}},5525:(t,e,n)=>{var r=n(7009)["__core-js_shared__"];t.exports=r},4629:(t,e,n)=>{var r=n(1211),i=n(8430),o=n(6025),a=n(3629);t.exports=function(t,e){return function(n,s){var l=a(n)?r:i,c=e?e():{};return l(n,t,o(s,2),c)}}},9934:(t,e,n)=>{var r=n(8794),i=n(3195);t.exports=function(t){return r((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var l=n[r];l&&t(e,l,r,a)}return e}))}},7056:(t,e,n)=>{var r=n(1473);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},372:t=>{t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}},5481:(t,e,n)=>{var r=n(6025),i=n(1473),o=n(2742);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var l=r(n,3);e=o(e),n=function(t){return l(s[t],t,s)}}var c=t(e,n,a);return c>-1?s[l?e[c]:c]:void 0}}},164:(t,e,n)=>{var r=n(7162);t.exports=function(t,e){return function(n,i){return r(n,t,e(i),{})}}},6381:(t,e,n)=>{var r=n(7255),i=n(3195),o=n(1495);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&i(e,n,a)&&(n=a=void 0),e=o(e),void 0===n?(n=e,e=0):n=o(n),a=void 0===a?e<n?1:-1:o(a),r(e,n,a,t)}}},7730:(t,e,n)=>{var r=n(3924),i=n(9694),o=n(2230),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},8528:(t,e,n)=>{var r=n(8136),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},5305:(t,e,n)=>{var r=n(692),i=n(7897),o=n(75);t.exports=function(t,e,n,a,s,l){var c=1&n,u=t.length,h=e.length;if(u!=h&&!(c&&h>u))return!1;var d=l.get(t),f=l.get(e);if(d&&f)return d==e&&f==t;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(t,e),l.set(e,t);++p<u;){var v=t[p],y=e[p];if(a)var b=c?a(y,v,p,e,t,l):a(v,y,p,t,e,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(e,(function(t,e){if(!o(g,e)&&(v===t||s(v,t,n,a,l)))return g.push(e)}))){m=!1;break}}else if(v!==y&&!s(v,y,n,a,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},2206:(t,e,n)=>{var r=n(7197),i=n(6219),o=n(9231),a=n(5305),s=n(234),l=n(2230),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,h,d){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),t.size!=e.size&&!p)return!1;var m=d.get(t);if(m)return m==e;r|=2,d.set(t,e);var g=a(f(t),f(e),r,c,h,d);return d.delete(t),g;case"[object Symbol]":if(u)return u.call(t)==u.call(e)}return!1}},8078:(t,e,n)=>{var r=n(8248),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var l=1&n,c=r(t),u=c.length;if(u!=r(e).length&&!l)return!1;for(var h=u;h--;){var d=c[h];if(!(l?d in e:i.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var g=l;++h<u;){var v=t[d=c[h]],y=e[d];if(o)var b=l?o(y,v,d,e,t,s):o(v,y,d,t,e,s);if(!(void 0===b?v===y||a(v,y,n,o,s):b)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var _=t.constructor,x=e.constructor;_==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(t),s.delete(e),m}},7038:(t,e,n)=>{var r=n(5506),i=n(4262),o=n(9156);t.exports=function(t){return o(i(t,void 0,r),t+"")}},1032:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},8248:(t,e,n)=>{var r=n(1986),i=n(5918),o=n(2742);t.exports=function(t){return r(t,o,i)}},5341:(t,e,n)=>{var r=n(1986),i=n(8487),o=n(3961);t.exports=function(t){return r(t,o,i)}},2799:(t,e,n)=>{var r=n(5964);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},9091:(t,e,n)=>{var r=n(5072),i=n(2742);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},8136:(t,e,n)=>{var r=n(6703),i=n(40);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},1137:(t,e,n)=>{var r=n(2709)(Object.getPrototypeOf,Object);t.exports=r},1587:(t,e,n)=>{var r=n(7197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(l){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},5918:(t,e,n)=>{var r=n(4903),i=n(8174),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},8487:(t,e,n)=>{var r=n(1705),i=n(1137),o=n(5918),a=n(8174),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},8383:(t,e,n)=>{var r=n(908),i=n(5797),o=n(8319),a=n(3924),s=n(7091),l=n(9066),c=n(7907),u="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),v=c(o),y=c(a),b=c(s),_=l;(r&&_(new r(new ArrayBuffer(1)))!=p||i&&_(new i)!=u||o&&_(o.resolve())!=h||a&&_(new a)!=d||s&&_(new s)!=f)&&(_=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case v:return h;case y:return d;case b:return f}return e}),t.exports=_},40:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},6417:(t,e,n)=>{var r=n(3082),i=n(4963),o=n(3629),a=n(6800),s=n(4635),l=n(9793);t.exports=function(t,e,n){for(var c=-1,u=(e=r(e,t)).length,h=!1;++c<u;){var d=l(e[c]);if(!(h=null!=t&&n(t,d)))break;t=t[d]}return h||++c!=u?h:!!(u=null==t?0:t.length)&&s(u)&&a(d,u)&&(o(t)||i(t))}},5403:(t,e,n)=>{var r=n(9620);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},6037:(t,e,n)=>{var r=n(9620),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},4154:(t,e,n)=>{var r=n(9620),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},7728:(t,e,n)=>{var r=n(9620);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},3529:(t,e,n)=>{var r=n(7197),i=n(4963),o=n(3629),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},6800:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},3195:(t,e,n)=>{var r=n(9231),i=n(1473),o=n(6800),a=n(8092);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},5823:(t,e,n)=>{var r=n(3629),i=n(152),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},5964:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},257:(t,e,n)=>{var r=n(5525),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},2936:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},5072:(t,e,n)=>{var r=n(8092);t.exports=function(t){return t===t&&!r(t)}},3894:t=>{t.exports=function(){this.__data__=[],this.size=0}},8699:(t,e,n)=>{var r=n(7112),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},4957:(t,e,n)=>{var r=n(7112);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},7184:(t,e,n)=>{var r=n(7112);t.exports=function(t){return r(this.__data__,t)>-1}},7109:(t,e,n)=>{var r=n(7112);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},4086:(t,e,n)=>{var r=n(9676),i=n(8384),o=n(5797);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9255:(t,e,n)=>{var r=n(2799);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},9186:(t,e,n)=>{var r=n(2799);t.exports=function(t){return r(this,t).get(t)}},3423:(t,e,n)=>{var r=n(2799);t.exports=function(t){return r(this,t).has(t)}},3739:(t,e,n)=>{var r=n(2799);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},234:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},284:t=>{t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},4634:(t,e,n)=>{var r=n(9151);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},9620:(t,e,n)=>{var r=n(8136)(Object,"create");t.exports=r},8836:(t,e,n)=>{var r=n(2709)(Object.keys,Object);t.exports=r},4221:t=>{t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},9494:(t,e,n)=>{t=n.nmd(t);var r=n(1032),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=s},3581:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},2709:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},4262:(t,e,n)=>{var r=n(3665),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),l=Array(s);++a<s;)l[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(l),r(t,this,c)}}},7009:(t,e,n)=>{var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},5774:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},1596:t=>{t.exports=function(t){return this.__data__.has(t)}},2230:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},9156:(t,e,n)=>{var r=n(7532),i=n(3197)(r);t.exports=i},3197:t=>{var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var i=e(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},511:(t,e,n)=>{var r=n(8384);t.exports=function(){this.__data__=new r,this.size=0}},835:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},707:t=>{t.exports=function(t){return this.__data__.get(t)}},8832:t=>{t.exports=function(t){return this.__data__.has(t)}},5077:(t,e,n)=>{var r=n(8384),i=n(5797),o=n(8059);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},7167:t=>{t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},170:(t,e,n)=>{var r=n(4634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},9793:(t,e,n)=>{var r=n(152);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},7907:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(n){}try{return t+""}catch(n){}}return""}},6050:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},5687:(t,e,n)=>{var r=n(8463),i=n(4503),o=n(9934),a=n(1473),s=n(2936),l=n(2742),c=Object.prototype.hasOwnProperty,u=o((function(t,e){if(s(e)||a(e))i(e,l(e),t);else for(var n in e)c.call(e,n)&&r(t,n,e[n])}));t.exports=u},1547:t=>{t.exports=function(t){return function(){return t}}},8573:(t,e,n)=>{var r=n(8092),i=n(72),o=n(2582),a=Math.max,s=Math.min;t.exports=function(t,e,n){var l,c,u,h,d,f,p=0,m=!1,g=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=l,r=c;return l=c=void 0,p=e,h=t.apply(r,n)}function b(t){var n=t-f;return void 0===f||n>=e||n<0||g&&t-p>=u}function _(){var t=i();if(b(t))return x(t);d=setTimeout(_,function(t){var n=e-(t-f);return g?s(n,u-(t-p)):n}(t))}function x(t){return d=void 0,v&&l?y(t):(l=c=void 0,h)}function w(){var t=i(),n=b(t);if(l=arguments,c=this,f=t,n){if(void 0===d)return function(t){return p=t,d=setTimeout(_,e),m?y(t):h}(f);if(g)return clearTimeout(d),d=setTimeout(_,e),y(f)}return void 0===d&&(d=setTimeout(_,e)),h}return e=o(e)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(o(n.maxWait)||0,e):u,v="trailing"in n?!!n.trailing:v),w.cancel=function(){void 0!==d&&clearTimeout(d),p=0,l=f=c=d=void 0},w.flush=function(){return void 0===d?h:x(i())},w}},6933:(t,e,n)=>{var r=n(8794),i=n(9231),o=n(3195),a=n(3961),s=Object.prototype,l=s.hasOwnProperty,c=r((function(t,e){t=Object(t);var n=-1,r=e.length,c=r>2?e[2]:void 0;for(c&&o(e[0],e[1],c)&&(r=1);++n<r;)for(var u=e[n],h=a(u),d=-1,f=h.length;++d<f;){var p=h[d],m=t[p];(void 0===m||i(m,s[p])&&!l.call(t,p))&&(t[p]=u[p])}return t}));t.exports=c},1180:(t,e,n)=>{var r=n(1468),i=n(5182),o=n(8794),a=n(6279),s=o((function(t,e){return a(t)?r(t,i(e,1,a,!0)):[]}));t.exports=s},9231:t=>{t.exports=function(t,e){return t===e||t!==t&&e!==e}},1996:(t,e,n)=>{var r=n(5481)(n(1475));t.exports=r},1475:(t,e,n)=>{var r=n(2045),i=n(6025),o=n(9753),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(t,i(e,3),l)}},5506:(t,e,n)=>{var r=n(5182);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},9305:t=>{t.exports=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}},6181:(t,e,n)=>{var r=n(8667);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},8444:(t,e,n)=>{var r=n(2526),i=n(4629),o=Object.prototype.hasOwnProperty,a=i((function(t,e,n){o.call(t,n)?t[n].push(e):r(t,n,[e])}));t.exports=a},5658:(t,e,n)=>{var r=n(529),i=n(6417);t.exports=function(t,e){return null!=t&&i(t,e,r)}},2100:t=>{t.exports=function(t){return t}},806:(t,e,n)=>{var r=n(4842),i=n(1473),o=n(6769),a=n(9753),s=n(2063),l=Math.max;t.exports=function(t,e,n,c){t=i(t)?t:s(t),n=n&&!c?a(n):0;var u=t.length;return n<0&&(n=l(u+n,0)),o(t)?n<=u&&t.indexOf(e,n)>-1:!!u&&r(t,e,n)>-1}},5417:(t,e,n)=>{var r=n(1547),i=n(164),o=n(2100),a=Object.prototype.toString,s=i((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=a.call(e)),t[e]=n}),r(o));t.exports=s},4963:(t,e,n)=>{var r=n(4906),i=n(3141),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},3629:t=>{var e=Array.isArray;t.exports=e},1473:(t,e,n)=>{var r=n(4786),i=n(4635);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},6279:(t,e,n)=>{var r=n(1473),i=n(3141);t.exports=function(t){return i(t)&&r(t)}},5174:(t,e,n)=>{t=n.nmd(t);var r=n(7009),i=n(9488),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l},6609:(t,e,n)=>{var r=n(9931),i=n(6194),o=n(9494),a=o&&o.isDate,s=a?i(a):r;t.exports=s},6364:(t,e,n)=>{var r=n(3654),i=n(8383),o=n(4963),a=n(3629),s=n(1473),l=n(5174),c=n(2936),u=n(9102),h=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||l(t)||u(t)||o(t)))return!t.length;var e=i(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!r(t).length;for(var n in t)if(h.call(t,n))return!1;return!0}},8111:(t,e,n)=>{var r=n(1848);t.exports=function(t,e){return r(t,e)}},4786:(t,e,n)=>{var r=n(9066),i=n(8092);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},4635:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},5633:t=>{t.exports=function(t){return null==t}},8092:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},3141:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},3977:(t,e,n)=>{var r=n(9066),i=n(1137),o=n(3141),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},5625:(t,e,n)=>{var r=n(7817),i=n(6194),o=n(9494),a=o&&o.isRegExp,s=a?i(a):r;t.exports=s},6769:(t,e,n)=>{var r=n(9066),i=n(3629),o=n(3141);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},152:(t,e,n)=>{var r=n(9066),i=n(3141);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},9102:(t,e,n)=>{var r=n(8150),i=n(6194),o=n(9494),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},2530:t=>{t.exports=function(t){return void 0===t}},2742:(t,e,n)=>{var r=n(7538),i=n(3654),o=n(1473);t.exports=function(t){return o(t)?r(t):i(t)}},3961:(t,e,n)=>{var r=n(7538),i=n(8664),o=n(1473);t.exports=function(t){return o(t)?r(t,!0):i(t)}},5727:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},9151:(t,e,n)=>{var r=n(8059);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},6754:t=>{t.exports=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},9694:t=>{t.exports=function(){}},72:(t,e,n)=>{var r=n(7009);t.exports=function(){return r.Date.now()}},4417:(t,e,n)=>{var r=n(6025),i=n(6754),o=n(7790);t.exports=function(t,e){return o(t,i(r(e)))}},5812:(t,e,n)=>{var r=n(3226),i=n(3629);t.exports=function(t,e,n,o){return null==t?[]:(i(e)||(e=null==e?[]:[e]),i(n=o?void 0:n)||(n=null==n?[]:[n]),r(t,e,n))}},6460:(t,e,n)=>{var r=n(4980),i=n(7038)((function(t,e){return null==t?{}:r(t,e)}));t.exports=i},7790:(t,e,n)=>{var r=n(8950),i=n(6025),o=n(2591),a=n(5341);t.exports=function(t,e){if(null==t)return{};var n=r(a(t),(function(t){return[t]}));return e=i(e),o(t,n,(function(t,n){return e(t,n[0])}))}},38:(t,e,n)=>{var r=n(9586),i=n(4084),o=n(5823),a=n(9793);t.exports=function(t){return o(t)?r(a(t)):i(t)}},6222:(t,e,n)=>{var r=n(6381)();t.exports=r},4064:(t,e,n)=>{var r=n(7897),i=n(6025),o=n(9204),a=n(3629),s=n(3195);t.exports=function(t,e,n){var l=a(t)?r:o;return n&&s(t,e,n)&&(e=void 0),l(t,i(e,3))}},1139:(t,e,n)=>{var r=n(5261);t.exports=function(t){return t&&t.length?r(t):[]}},8174:t=>{t.exports=function(){return[]}},9488:t=>{t.exports=function(){return!1}},7151:(t,e,n)=>{var r=n(8645),i=n(2100);t.exports=function(t){return t&&t.length?r(t,i):0}},3038:(t,e,n)=>{var r=n(8573),i=n(8092);t.exports=function(t,e,n){var o=!0,a=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(t,e,{leading:o,maxWait:e,trailing:a})}},1495:(t,e,n)=>{var r=n(2582),i=1/0;t.exports=function(t){return t?(t=r(t))===i||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}},9753:(t,e,n)=>{var r=n(1495);t.exports=function(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}},2582:(t,e,n)=>{var r=n(821),i=n(8092),o=n(152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||l.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},3518:(t,e,n)=>{var r=n(2446);t.exports=function(t){return null==t?"":r(t)}},2064:(t,e,n)=>{var r=n(9602);t.exports=function(t){return t&&t.length?r(t):[]}},6339:(t,e,n)=>{var r=n(6025),i=n(9602);t.exports=function(t,e){return t&&t.length?i(t,r(e,2)):[]}},804:(t,e,n)=>{var r=n(3518),i=0;t.exports=function(t){var e=++i;return r(t)+e}},2063:(t,e,n)=>{var r=n(8019),i=n(2742);t.exports=function(t){return null==t?[]:r(t,i(t))}},1761:(t,e,n)=>{var r=n(1468),i=n(8794),o=n(6279),a=i((function(t,e){return o(t)?r(t,e):[]}));t.exports=a},9010:t=>{t.exports=function(t){!function(t){if(!t)throw new Error("Eventify cannot use falsy object as events subject");for(var e=["on","fire","off"],n=0;n<e.length;++n)if(t.hasOwnProperty(e[n]))throw new Error("Subject cannot be eventified, since it already has property '"+e[n]+"'")}(t);var e=function(t){var e=Object.create(null);return{on:function(n,r,i){if("function"!==typeof r)throw new Error("callback is expected to be a function");var o=e[n];return o||(o=e[n]=[]),o.push({callback:r,ctx:i}),t},off:function(n,r){if("undefined"===typeof n)return e=Object.create(null),t;if(e[n])if("function"!==typeof r)delete e[n];else for(var i=e[n],o=0;o<i.length;++o)i[o].callback===r&&i.splice(o,1);return t},fire:function(n){var r,i=e[n];if(!i)return t;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var o=0;o<i.length;++o){var a=i[o];a.callback.apply(a.ctx,r)}return t}}}(t);return t.on=e.on,t.off=e.off,t.fire=e.fire,t}},2070:(t,e,n)=>{t.exports=function(t,e){if(!t)throw new Error("Graph structure cannot be undefined");var o=(e&&e.createSimulator||n(8618))(e);if(Array.isArray(e))throw new Error("Physics settings is expected to be an object");var a=t.version>19?function(e){var n=t.getLinks(e);return n?1+n.size/3:1}:function(e){var n=t.getLinks(e);return n?1+n.length/3:1};e&&"function"===typeof e.nodeMass&&(a=e.nodeMass);var s=new Map,l={},c=0,u=o.settings.springTransform||i;c=0,t.forEachNode((function(t){g(t.id),c+=1})),t.forEachLink(y),t.on("changed",m);var h=!1,d={step:function(){if(0===c)return f(!0),!0;var t=o.step();d.lastMove=t,d.fire("step");var e=t/c<=.01;return f(e),e},getNodePosition:function(t){return x(t).pos},setNodePosition:function(t){var e=x(t);e.setPosition.apply(e,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(t){var e=l[t];if(e)return{from:e.from.pos,to:e.to.pos}},getGraphRect:function(){return o.getBBox()},forEachBody:p,pinNode:function(t,e){x(t.id).isPinned=!!e},isNodePinned:function(t){return x(t.id).isPinned},dispose:function(){t.off("changed",m),d.fire("disposed")},getBody:function(t){return s.get(t)},getSpring:function(e,n){var r;if(void 0===n)r="object"!==typeof e?e:e.id;else{var i=t.hasLink(e,n);if(!i)return;r=i.id}return l[r]},getForceVectorLength:function(){var t=0,e=0;return p((function(n){t+=Math.abs(n.force.x),e+=Math.abs(n.force.y)})),Math.sqrt(t*t+e*e)},simulator:o,graph:t,lastMove:0};return r(d),d;function f(t){var e;h!==t&&(h=t,e=t,d.fire("stable",e))}function p(t){s.forEach(t)}function m(e){for(var n=0;n<e.length;++n){var r=e[n];"add"===r.changeType?(r.node&&g(r.node.id),r.link&&y(r.link)):"remove"===r.changeType&&(r.node&&v(r.node),r.link&&b(r.link))}c=t.getNodesCount()}function g(e){var n=s.get(e);if(!n){var r=t.getNode(e);if(!r)throw new Error("initBody() was called with unknown node id");var i=r.position;if(!i){var a=function(t){var e=[];if(!t.links)return e;for(var n=Math.min(t.links.length,2),r=0;r<n;++r){var i=t.links[r],o=i.fromId!==t.id?s.get(i.fromId):s.get(i.toId);o&&o.pos&&e.push(o)}return e}(r);i=o.getBestNewBodyPosition(a)}(n=o.addBodyAt(i)).id=e,s.set(e,n),_(e),function(t){return t&&(t.isPinned||t.data&&t.data.isPinned)}(r)&&(n.isPinned=!0)}}function v(t){var e=t.id,n=s.get(e);n&&(s.delete(e),o.removeBody(n))}function y(t){_(t.fromId),_(t.toId);var e=s.get(t.fromId),n=s.get(t.toId),r=o.addSpring(e,n,t.length);u(t,r),l[t.id]=r}function b(e){var n=l[e.id];if(n){var r=t.getNode(e.fromId),i=t.getNode(e.toId);r&&_(r.id),i&&_(i.id),delete l[e.id],o.removeSpring(n)}}function _(t){var e=s.get(t);if(e.mass=a(t),Number.isNaN(e.mass))throw new Error("Node mass should be a number")}function x(t){var e=s.get(t);return e||(g(t),e=s.get(t)),e}},t.exports.simulator=n(8618);var r=n(9010);function i(){}},5842:(t,e,n)=>{const r=n(2302);t.exports=function(t){return function(e,n){let i=n&&n.indent||0,o=n&&void 0!==n.join?n.join:"\n",a=Array(i+1).join(" "),s=[];for(let l=0;l<t;++l){let t=r(l),n=0===l?"":a;s.push(n+e.replace(/{var}/g,t))}return s.join(o)}}},1282:(t,e,n)=>{t.exports=function(t){let e=i(t);return new Function("bodies","settings","random",e)},t.exports.generateFunctionBody=i;const r=n(5842);function i(t){let e=r(t);return"\n  var boundingBox = {\n    ".concat(e("min_{var}: 0, max_{var}: 0,",{indent:4}),"\n  };\n\n  return {\n    box: boundingBox,\n\n    update: updateBoundingBox,\n\n    reset: resetBoundingBox,\n\n    getBestNewPosition: function (neighbors) {\n      var ").concat(e("base_{var} = 0",{join:", "}),";\n\n      if (neighbors.length) {\n        for (var i = 0; i < neighbors.length; ++i) {\n          let neighborPos = neighbors[i].pos;\n          ").concat(e("base_{var} += neighborPos.{var};",{indent:10}),"\n        }\n\n        ").concat(e("base_{var} /= neighbors.length;",{indent:8}),"\n      } else {\n        ").concat(e("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8}),"\n      }\n\n      var springLength = settings.springLength;\n      return {\n        ").concat(e("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8}),"\n      };\n    }\n  };\n\n  function updateBoundingBox() {\n    var i = bodies.length;\n    if (i === 0) return; // No bodies - no borders.\n\n    ").concat(e("var max_{var} = -Infinity;",{indent:4}),"\n    ").concat(e("var min_{var} = Infinity;",{indent:4}),"\n\n    while(i--) {\n      // this is O(n), it could be done faster with quadtree, if we check the root node bounds\n      var bodyPos = bodies[i].pos;\n      ").concat(e("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6}),"\n      ").concat(e("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6}),"\n    }\n\n    ").concat(e("boundingBox.min_{var} = min_{var};",{indent:4}),"\n    ").concat(e("boundingBox.max_{var} = max_{var};",{indent:4}),"\n  }\n\n  function resetBoundingBox() {\n    ").concat(e("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4}),"\n  }\n")}},2525:(t,e,n)=>{const r=n(5842);function i(t,e){return"\n".concat(a(t,e),"\n").concat(o(t),"\nreturn {Body: Body, Vector: Vector};\n")}function o(t){let e=r(t),n=e("{var}",{join:", "});return"\nfunction Body(".concat(n,") {\n  this.isPinned = false;\n  this.pos = new Vector(").concat(n,");\n  this.force = new Vector();\n  this.velocity = new Vector();\n  this.mass = 1;\n\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.reset = function() {\n  this.force.reset();\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.setPosition = function (").concat(n,") {\n  ").concat(e("this.pos.{var} = {var} || 0;",{indent:2}),"\n};")}function a(t,e){let n=r(t),i="";e&&(i="".concat(n("\n   var v{var};\nObject.defineProperty(this, '{var}', {\n  set: function(v) { \n    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');\n    v{var} = v; \n  },\n  get: function() { return v{var}; }\n});")));let o=n("{var}",{join:", "});return"function Vector(".concat(o,") {\n  ").concat(i,"\n    if (typeof arguments[0] === 'object') {\n      // could be another vector\n      let v = arguments[0];\n      ").concat(n('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4}),"\n      ").concat(n("this.{var} = v.{var};",{indent:4}),"\n    } else {\n      ").concat(n('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4}),"\n    }\n  }\n  \n  Vector.prototype.reset = function () {\n    ").concat(n("this.{var} = ",{join:""}),"0;\n  };")}t.exports=function(t,e){let n=i(t,e),{Body:r}=new Function(n)();return r},t.exports.generateCreateBodyFunctionBody=i,t.exports.getVectorCode=a,t.exports.getBodyCode=o},5947:(t,e,n)=>{const r=n(5842);function i(t){let e=r(t);return"\n  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');\n\n  return {\n    update: function(body) {\n      ".concat(e("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6}),"\n    }\n  };\n")}t.exports=function(t){let e=i(t);return new Function("options",e)},t.exports.generateCreateDragForceFunctionBody=i},9063:(t,e,n)=>{const r=n(5842);function i(t){let e=r(t);return"\n  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');\n  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');\n\n  return {\n    /**\n     * Updates forces acting on a spring\n     */\n    update: function (spring) {\n      var body1 = spring.from;\n      var body2 = spring.to;\n      var length = spring.length < 0 ? options.springLength : spring.length;\n      ".concat(e("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6}),"\n      var r = Math.sqrt(").concat(e("d{var} * d{var}",{join:" + "}),");\n\n      if (r === 0) {\n        ").concat(e("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8}),"\n        r = Math.sqrt(").concat(e("d{var} * d{var}",{join:" + "}),");\n      }\n\n      var d = r - length;\n      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;\n\n      ").concat(e("body1.force.{var} += coefficient * d{var}",{indent:6}),";\n      body1.springCount += 1;\n      body1.springLength += r;\n\n      ").concat(e("body2.force.{var} -= coefficient * d{var}",{indent:6}),";\n      body2.springCount += 1;\n      body2.springLength += r;\n    }\n  };\n")}t.exports=function(t){let e=i(t);return new Function("options","random",e)},t.exports.generateCreateSpringForceFunctionBody=i},100:(t,e,n)=>{const r=n(5842);function i(t){let e=r(t);return"\n  var length = bodies.length;\n  if (length === 0) return 0;\n\n  ".concat(e("var d{var} = 0, t{var} = 0;",{indent:2}),"\n\n  for (var i = 0; i < length; ++i) {\n    var body = bodies[i];\n    if (body.isPinned) continue;\n\n    if (adaptiveTimeStepWeight && body.springCount) {\n      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);\n    }\n\n    var coeff = timeStep / body.mass;\n\n    ").concat(e("body.velocity.{var} += coeff * body.force.{var};",{indent:4}),"\n    ").concat(e("var v{var} = body.velocity.{var};",{indent:4}),"\n    var v = Math.sqrt(").concat(e("v{var} * v{var}",{join:" + "}),");\n\n    if (v > 1) {\n      // We normalize it so that we move within timeStep range. \n      // for the case when v <= 1 - we let velocity to fade out.\n      ").concat(e("body.velocity.{var} = v{var} / v;",{indent:6}),"\n    }\n\n    ").concat(e("d{var} = timeStep * body.velocity.{var};",{indent:4}),"\n\n    ").concat(e("body.pos.{var} += d{var};",{indent:4}),"\n\n    ").concat(e("t{var} += Math.abs(d{var});",{indent:4}),"\n  }\n\n  return (").concat(e("t{var} * t{var}",{join:" + "}),")/length;\n")}t.exports=function(t){let e=i(t);return new Function("bodies","timeStep","adaptiveTimeStepWeight",e)},t.exports.generateIntegratorFunctionBody=i},6547:(t,e,n)=>{const r=n(5842),i=n(2302);function o(t){let e=r(t),n=Math.pow(2,t);return"\n".concat("\n/**\n * Our implementation of QuadTree is non-recursive to avoid GC hit\n * This data structure represent stack of elements\n * which we are trying to insert into quad tree.\n */\nfunction InsertStack () {\n    this.stack = [];\n    this.popIdx = 0;\n}\n\nInsertStack.prototype = {\n    isEmpty: function() {\n        return this.popIdx === 0;\n    },\n    push: function (node, body) {\n        var item = this.stack[this.popIdx];\n        if (!item) {\n            // we are trying to avoid memory pressure: create new element\n            // only when absolutely necessary\n            this.stack[this.popIdx] = new InsertStackElement(node, body);\n        } else {\n            item.node = node;\n            item.body = body;\n        }\n        ++this.popIdx;\n    },\n    pop: function () {\n        if (this.popIdx > 0) {\n            return this.stack[--this.popIdx];\n        }\n    },\n    reset: function () {\n        this.popIdx = 0;\n    }\n};\n\nfunction InsertStackElement(node, body) {\n    this.node = node; // QuadTree node\n    this.body = body; // physical body which needs to be inserted to node\n}\n","\n").concat(c(t),"\n").concat(a(t),"\n").concat(l(t),"\n").concat(s(t),"\n\nfunction createQuadTree(options, random) {\n  options = options || {};\n  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;\n  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;\n\n  var gravity = options.gravity;\n  var updateQueue = [];\n  var insertStack = new InsertStack();\n  var theta = options.theta;\n\n  var nodesCache = [];\n  var currentInCache = 0;\n  var root = newNode();\n\n  return {\n    insertBodies: insertBodies,\n\n    /**\n     * Gets root node if it is present\n     */\n    getRoot: function() {\n      return root;\n    },\n\n    updateBodyForce: update,\n\n    options: function(newOptions) {\n      if (newOptions) {\n        if (typeof newOptions.gravity === 'number') {\n          gravity = newOptions.gravity;\n        }\n        if (typeof newOptions.theta === 'number') {\n          theta = newOptions.theta;\n        }\n\n        return this;\n      }\n\n      return {\n        gravity: gravity,\n        theta: theta\n      };\n    }\n  };\n\n  function newNode() {\n    // To avoid pressure on GC we reuse nodes.\n    var node = nodesCache[currentInCache];\n    if (node) {\n").concat(function(t){let e=[];for(let r=0;r<n;++r)e.push("".concat(t,"quad").concat(r," = null;"));return e.join("\n")}("      node."),"\n      node.body = null;\n      node.mass = ").concat(e("node.mass_{var} = ",{join:""}),"0;\n      ").concat(e("node.min_{var} = node.max_{var} = ",{join:""}),"0;\n    } else {\n      node = new QuadNode();\n      nodesCache[currentInCache] = node;\n    }\n\n    ++currentInCache;\n    return node;\n  }\n\n  function update(sourceBody) {\n    var queue = updateQueue;\n    var v;\n    ").concat(e("var d{var};",{indent:4}),"\n    var r; \n    ").concat(e("var f{var} = 0;",{indent:4}),"\n    var queueLength = 1;\n    var shiftIdx = 0;\n    var pushIdx = 1;\n\n    queue[0] = root;\n\n    while (queueLength) {\n      var node = queue[shiftIdx];\n      var body = node.body;\n\n      queueLength -= 1;\n      shiftIdx += 1;\n      var differentBody = (body !== sourceBody);\n      if (body && differentBody) {\n        // If the current node is a leaf node (and it is not source body),\n        // calculate the force exerted by the current node on body, and add this\n        // amount to body's net force.\n        ").concat(e("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8}),"\n        r = Math.sqrt(").concat(e("d{var} * d{var}",{join:" + "}),");\n\n        if (r === 0) {\n          // Poor man's protection against zero distance.\n          ").concat(e("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10}),"\n          r = Math.sqrt(").concat(e("d{var} * d{var}",{join:" + "}),");\n        }\n\n        // This is standard gravitation force calculation but we divide\n        // by r^3 to save two operations when normalizing force vector.\n        v = gravity * body.mass * sourceBody.mass / (r * r * r);\n        ").concat(e("f{var} += v * d{var};",{indent:8}),"\n      } else if (differentBody) {\n        // Otherwise, calculate the ratio s / r,  where s is the width of the region\n        // represented by the internal node, and r is the distance between the body\n        // and the node's center-of-mass\n        ").concat(e("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8}),"\n        r = Math.sqrt(").concat(e("d{var} * d{var}",{join:" + "}),");\n\n        if (r === 0) {\n          // Sorry about code duplication. I don't want to create many functions\n          // right away. Just want to see performance first.\n          ").concat(e("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10}),"\n          r = Math.sqrt(").concat(e("d{var} * d{var}",{join:" + "}),");\n        }\n        // If s / r < \u03b8, treat this internal node as a single body, and calculate the\n        // force it exerts on sourceBody, and add this amount to sourceBody's net force.\n        if ((node.max_").concat(i(0)," - node.min_").concat(i(0),") / r < theta) {\n          // in the if statement above we consider node's width only\n          // because the region was made into square during tree creation.\n          // Thus there is no difference between using width or height.\n          v = gravity * node.mass * sourceBody.mass / (r * r * r);\n          ").concat(e("f{var} += v * d{var};",{indent:10}),"\n        } else {\n          // Otherwise, run the procedure recursively on each of the current node's children.\n\n          // I intentionally unfolded this loop, to save several CPU cycles.\n").concat(function(){let t=Array(11).join(" "),e=[];for(let r=0;r<n;++r)e.push(t+"if (node.quad".concat(r,") {")),e.push(t+"  queue[pushIdx] = node.quad".concat(r,";")),e.push(t+"  queueLength += 1;"),e.push(t+"  pushIdx += 1;"),e.push(t+"}");return e.join("\n")}(),"\n        }\n      }\n    }\n\n    ").concat(e("sourceBody.force.{var} += f{var};",{indent:4}),"\n  }\n\n  function insertBodies(bodies) {\n    ").concat(e("var {var}min = Number.MAX_VALUE;",{indent:4}),"\n    ").concat(e("var {var}max = Number.MIN_VALUE;",{indent:4}),"\n    var i = bodies.length;\n\n    // To reduce quad tree depth we are looking for exact bounding box of all particles.\n    while (i--) {\n      var pos = bodies[i].pos;\n      ").concat(e("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6}),"\n      ").concat(e("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6}),"\n    }\n\n    // Makes the bounds square.\n    var maxSideLength = -Infinity;\n    ").concat(e("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4}),"\n\n    currentInCache = 0;\n    root = newNode();\n    ").concat(e("root.min_{var} = {var}min;",{indent:4}),"\n    ").concat(e("root.max_{var} = {var}min + maxSideLength;",{indent:4}),"\n\n    i = bodies.length - 1;\n    if (i >= 0) {\n      root.body = bodies[i];\n    }\n    while (i--) {\n      insert(bodies[i], root);\n    }\n  }\n\n  function insert(newBody) {\n    insertStack.reset();\n    insertStack.push(root, newBody);\n\n    while (!insertStack.isEmpty()) {\n      var stackItem = insertStack.pop();\n      var node = stackItem.node;\n      var body = stackItem.body;\n\n      if (!node.body) {\n        // This is internal node. Update the total mass of the node and center-of-mass.\n        ").concat(e("var {var} = body.pos.{var};",{indent:8}),"\n        node.mass += body.mass;\n        ").concat(e("node.mass_{var} += body.mass * {var};",{indent:8}),"\n\n        // Recursively insert the body in the appropriate quadrant.\n        // But first find the appropriate quadrant.\n        var quadIdx = 0; // Assume we are in the 0's quad.\n        ").concat(e("var min_{var} = node.min_{var};",{indent:8}),"\n        ").concat(e("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8}),"\n\n").concat(function(e){let n=[],r=Array(e+1).join(" ");for(let o=0;o<t;++o)n.push(r+"if (".concat(i(o)," > max_").concat(i(o),") {")),n.push(r+"  quadIdx = quadIdx + ".concat(Math.pow(2,o),";")),n.push(r+"  min_".concat(i(o)," = max_").concat(i(o),";")),n.push(r+"  max_".concat(i(o)," = node.max_").concat(i(o),";")),n.push(r+"}");return n.join("\n")}(8),"\n\n        var child = getChild(node, quadIdx);\n\n        if (!child) {\n          // The node is internal but this quadrant is not taken. Add\n          // subnode to it.\n          child = newNode();\n          ").concat(e("child.min_{var} = min_{var};",{indent:10}),"\n          ").concat(e("child.max_{var} = max_{var};",{indent:10}),"\n          child.body = body;\n\n          setChild(node, quadIdx, child);\n        } else {\n          // continue searching in this quadrant.\n          insertStack.push(child, body);\n        }\n      } else {\n        // We are trying to add to the leaf node.\n        // We have to convert current leaf into internal node\n        // and continue adding two nodes.\n        var oldBody = node.body;\n        node.body = null; // internal nodes do not cary bodies\n\n        if (isSamePosition(oldBody.pos, body.pos)) {\n          // Prevent infinite subdivision by bumping one node\n          // anywhere in this quadrant\n          var retriesCount = 3;\n          do {\n            var offset = random.nextDouble();\n            ").concat(e("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12}),"\n\n            ").concat(e("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12}),"\n            retriesCount -= 1;\n            // Make sure we don't bump it out of the box. If we do, next iteration should fix it\n          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));\n\n          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {\n            // This is very bad, we ran out of precision.\n            // if we do not return from the method we'll get into\n            // infinite loop here. So we sacrifice correctness of layout, and keep the app running\n            // Next layout iteration should get larger bounding box in the first step and fix this\n            return;\n          }\n        }\n        // Next iteration should subdivide node further.\n        insertStack.push(node, oldBody);\n        insertStack.push(node, body);\n      }\n    }\n  }\n}\nreturn createQuadTree;\n\n")}function a(t){let e=r(t);return"\n  function isSamePosition(point1, point2) {\n    ".concat(e("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2}),"\n  \n    return ").concat(e("d{var} < 1e-8",{join:" && "}),";\n  }  \n")}function s(t){var e=Math.pow(2,t);return"\nfunction setChild(node, idx, child) {\n  ".concat(function(){let t=[];for(let n=0;n<e;++n){let e=0===n?"  ":"  else ";t.push("".concat(e,"if (idx === ").concat(n,") node.quad").concat(n," = child;"))}return t.join("\n")}(),"\n}")}function l(t){return"function getChild(node, idx) {\n".concat(function(){let e=[],n=Math.pow(2,t);for(let t=0;t<n;++t)e.push("  if (idx === ".concat(t,") return node.quad").concat(t,";"));return e.join("\n")}(),"\n  return null;\n}")}function c(t){let e=r(t),n=Math.pow(2,t);return"\nfunction QuadNode() {\n  // body stored inside this node. In quad tree only leaf nodes (by construction)\n  // contain bodies:\n  this.body = null;\n\n  // Child nodes are stored in quads. Each quad is presented by number:\n  // 0 | 1\n  // -----\n  // 2 | 3\n".concat(function(t){let e=[];for(let r=0;r<n;++r)e.push("".concat(t,"quad").concat(r," = null;"));return e.join("\n")}("  this."),"\n\n  // Total mass of current node\n  this.mass = 0;\n\n  // Center of mass coordinates\n  ").concat(e("this.mass_{var} = 0;",{indent:2}),"\n\n  // bounding box coordinates\n  ").concat(e("this.min_{var} = 0;",{indent:2}),"\n  ").concat(e("this.max_{var} = 0;",{indent:2}),"\n}\n")}function u(){return"\n/**\n * Our implementation of QuadTree is non-recursive to avoid GC hit\n * This data structure represent stack of elements\n * which we are trying to insert into quad tree.\n */\nfunction InsertStack () {\n    this.stack = [];\n    this.popIdx = 0;\n}\n\nInsertStack.prototype = {\n    isEmpty: function() {\n        return this.popIdx === 0;\n    },\n    push: function (node, body) {\n        var item = this.stack[this.popIdx];\n        if (!item) {\n            // we are trying to avoid memory pressure: create new element\n            // only when absolutely necessary\n            this.stack[this.popIdx] = new InsertStackElement(node, body);\n        } else {\n            item.node = node;\n            item.body = body;\n        }\n        ++this.popIdx;\n    },\n    pop: function () {\n        if (this.popIdx > 0) {\n            return this.stack[--this.popIdx];\n        }\n    },\n    reset: function () {\n        this.popIdx = 0;\n    }\n};\n\nfunction InsertStackElement(node, body) {\n    this.node = node; // QuadTree node\n    this.body = body; // physical body which needs to be inserted to node\n}\n"}t.exports=function(t){let e=o(t);return new Function(e)()},t.exports.generateQuadTreeFunctionBody=o,t.exports.getInsertStackCode=u,t.exports.getQuadNodeCode=c,t.exports.isSamePosition=a,t.exports.getChildBodyCode=l,t.exports.setChildBodyCode=s},2302:t=>{t.exports=function(t){return 0===t?"x":1===t?"y":2===t?"z":"c"+(t+1)}},8618:(t,e,n)=>{t.exports=function(t){var e=n(7422),h=n(6147),d=n(9010);if(t){if(void 0!==t.springCoeff)throw new Error("springCoeff was renamed to springCoefficient");if(void 0!==t.dragCoeff)throw new Error("dragCoeff was renamed to dragCoefficient")}t=h(t,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var f=c[t.dimensions];if(!f){var p=t.dimensions;f={Body:r(p,t.debug),createQuadTree:i(p),createBounds:o(p),createDragForce:a(p),createSpringForce:s(p),integrate:l(p)},c[p]=f}var m=f.Body,g=f.createQuadTree,v=f.createBounds,y=f.createDragForce,b=f.createSpringForce,_=f.integrate,x=n(2165).random(42),w=[],S=[],E=g(t,x),T=v(w,t,x),M=b(t,x),A=y(t),C=[],k=new Map,O=0;N("nbody",(function(){if(0===w.length)return;E.insertBodies(w);var t=w.length;for(;t--;){var e=w[t];e.isPinned||(e.reset(),E.updateBodyForce(e),A.update(e))}})),N("spring",(function(){var t=S.length;for(;t--;)M.update(S[t])}));var P={bodies:w,quadTree:E,springs:S,settings:t,addForce:N,removeForce:function(t){var e=C.indexOf(k.get(t));if(e<0)return;C.splice(e,1),k.delete(t)},getForces:function(){return k},step:function(){for(var e=0;e<C.length;++e)C[e](O);var n=_(w,t.timeStep,t.adaptiveTimeStepWeight);return O+=1,n},addBody:function(t){if(!t)throw new Error("Body is required");return w.push(t),t},addBodyAt:function(t){if(!t)throw new Error("Body position is required");var e=(t=>new m(t))(t);return w.push(e),e},removeBody:function(t){if(t){var e=w.indexOf(t);if(!(e<0))return w.splice(e,1),0===w.length&&T.reset(),!0}},addSpring:function(t,n,r,i){if(!t||!n)throw new Error("Cannot add null spring to force simulator");"number"!==typeof r&&(r=-1);var o=new e(t,n,r,i>=0?i:-1);return S.push(o),o},getTotalMovement:function(){return 0},removeSpring:function(t){if(t){var e=S.indexOf(t);return e>-1?(S.splice(e,1),!0):void 0}},getBestNewBodyPosition:function(t){return T.getBestNewPosition(t)},getBBox:R,getBoundingBox:R,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(e){return void 0!==e?(t.gravity=e,E.options({gravity:e}),this):t.gravity},theta:function(e){return void 0!==e?(t.theta=e,E.options({theta:e}),this):t.theta},random:x};return function(t,e){for(var n in t)u(t,e,n)}(t,P),d(P),P;function R(){return T.update(),T.box}function N(t,e){if(k.has(t))throw new Error("Force "+t+" is already added");k.set(t,e),C.push(e)}};var r=n(2525),i=n(6547),o=n(1282),a=n(5947),s=n(9063),l=n(100),c={};function u(t,e,n){if(t.hasOwnProperty(n)&&"function"!==typeof e[n]){var r=Number.isFinite(t[n]);e[n]=r?function(r){if(void 0!==r){if(!Number.isFinite(r))throw new Error("Value of "+n+" should be a valid number.");return t[n]=r,e}return t[n]}:function(r){return void 0!==r?(t[n]=r,e):t[n]}}}},7422:t=>{t.exports=function(t,e,n,r){this.from=t,this.to=e,this.length=n,this.coefficient=r}},1700:(t,e,n)=>{t.exports=function(t){"uniqueLinkId"in(t=t||{})&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now on each graph\nis considered to be not a multigraph by default (each edge is unique)."),t.multigraph=t.uniqueLinkId);void 0===t.multigraph&&(t.multigraph=!1);if("function"!==typeof Map)throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var e=new Map,n=new Map,l={},c=0,u=t.multigraph?function(t,e,n){var r=s(t,e),i=l.hasOwnProperty(r);if(i||T(t,e)){i||(l[r]=0);var o="@"+ ++l[r];r=s(t+o,e+o)}return new a(t,e,n,r)}:function(t,e,r){var i=s(t,e),o=n.get(i);if(o)return o.data=r,o;return new a(t,e,r,i)},h=[],d=M,f=M,p=M,m=M,g={version:20,addNode:b,addLink:function(t,e,r){p();var i=_(t)||b(t),a=_(e)||b(e),s=u(t,e,r),l=n.has(s.id);n.set(s.id,s),o(i,s),t!==e&&o(a,s);return d(s,l?"update":"add"),m(),s},removeLink:function(t,e){void 0!==e&&(t=T(t,e));return E(t)},removeNode:x,getNode:_,getNodeCount:w,getLinkCount:S,getEdgeCount:S,getLinksCount:S,getNodesCount:w,getLinks:function(t){var e=_(t);return e?e.links:null},forEachNode:k,forEachLinkedNode:function(t,n,r){var i=_(t);if(i&&i.links&&"function"===typeof n)return r?function(t,n,r){var i=t.values(),o=i.next();for(;!o.done;){var a=o.value;if(a.fromId===n&&r(e.get(a.toId),a))return!0;o=i.next()}}(i.links,t,n):function(t,n,r){var i=t.values(),o=i.next();for(;!o.done;){var a=o.value,s=a.fromId===n?a.toId:a.fromId;if(r(e.get(s),a))return!0;o=i.next()}}(i.links,t,n)},forEachLink:function(t){if("function"===typeof t)for(var e=n.values(),r=e.next();!r.done;){if(t(r.value))return!0;r=e.next()}},beginUpdate:p,endUpdate:m,clear:function(){p(),k((function(t){x(t.id)})),m()},hasLink:T,hasNode:_,getLink:T};return r(g),function(){var t=g.on;function e(){return g.beginUpdate=p=A,g.endUpdate=m=C,d=v,f=y,g.on=t,t.apply(g,arguments)}g.on=e}(),g;function v(t,e){h.push({link:t,changeType:e})}function y(t,e){h.push({node:t,changeType:e})}function b(t,n){if(void 0===t)throw new Error("Invalid node identifier");p();var r=_(t);return r?(r.data=n,f(r,"update")):(r=new i(t,n),f(r,"add")),e.set(t,r),m(),r}function _(t){return e.get(t)}function x(t){var n=_(t);if(!n)return!1;p();var r=n.links;return r&&(r.forEach(E),n.links=null),e.delete(t),f(n,"remove"),m(),!0}function w(){return e.size}function S(){return n.size}function E(t){if(!t)return!1;if(!n.get(t.id))return!1;p(),n.delete(t.id);var e=_(t.fromId),r=_(t.toId);return e&&e.links.delete(t),r&&r.links.delete(t),d(t,"remove"),m(),!0}function T(t,e){if(void 0!==t&&void 0!==e)return n.get(s(t,e))}function M(){}function A(){c+=1}function C(){0===(c-=1)&&h.length>0&&(g.fire("changed",h),h.length=0)}function k(t){if("function"!==typeof t)throw new Error("Function is expected to iterate over graph nodes. You passed "+t);for(var n=e.values(),r=n.next();!r.done;){if(t(r.value))return!0;r=n.next()}}};var r=n(9010);function i(t,e){this.id=t,this.links=null,this.data=e}function o(t,e){t.links?t.links.add(e):t.links=new Set([e])}function a(t,e,n,r){this.fromId=t,this.toId=e,this.data=n,this.id=r}function s(t,e){return t.toString()+"\ud83d\udc49 "+e.toString()}},6147:t=>{t.exports=function t(e,n){var r;e||(e={});if(n)for(r in n)if(n.hasOwnProperty(r)){var i=e.hasOwnProperty(r),o=typeof n[r];!i||typeof e[r]!==o?e[r]=n[r]:"object"===o&&(e[r]=t(e[r],n[r]))}return e}},2165:t=>{function e(t){return new n("number"===typeof t?t:+new Date)}function n(t){this.seed=t}function r(t){return Math.sqrt(2*Math.PI/t)*Math.pow(1/Math.E*(t+1/(12*t-1/(10*t))),t)}function i(){var t=this.seed;return t=4294967295&(3042594569^(t=(t=4294967295&((t=(t=4294967295&(3345072700^(t=t+2127912214+(t<<12)&4294967295)^t>>>19))+374761393+(t<<5)&4294967295)+3550635116^t<<9))+4251993797+(t<<3)&4294967295)^t>>>16),this.seed=t,(268435455&t)/268435456}t.exports=e,t.exports.random=e,t.exports.randomIterator=function(t,n){var r=n||e();if("function"!==typeof r.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(e){var n,i,o;for(n=t.length-1;n>0;--n)i=r.next(n+1),o=t[i],t[i]=t[n],t[n]=o,e(o);t.length&&e(t[0])},shuffle:function(){var e,n,i;for(e=t.length-1;e>0;--e)n=r.next(e+1),i=t[n],t[n]=t[e],t[e]=i;return t}}},n.prototype.next=function(t){return Math.floor(this.nextDouble()*t)},n.prototype.nextDouble=i,n.prototype.uniform=i,n.prototype.gaussian=function(){var t,e,n;do{t=(e=2*this.nextDouble()-1)*e+(n=2*this.nextDouble()-1)*n}while(t>=1||0===t);return e*Math.sqrt(-2*Math.log(t)/t)},n.prototype.levy=function(){var t=1.5,e=Math.pow(r(2.5)*Math.sin(Math.PI*t/2)/(r(1.25)*t*Math.pow(2,.25)),1/t);return this.gaussian()*e/Math.pow(Math.abs(this.gaussian()),1/t)}},888:(t,e,n)=>{"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:(t,e,n)=>{t.exports=n(888)()},9047:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6921:function(t){var e;"undefined"!==typeof self&&self,e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=109)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),i=n(18),o=n(19),a=n(45),s=n(46),l=n(47),c=n(48),u=n(49),h=n(12),d=n(32),f=n(33),p=n(31),m=n(1),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:r.default,Format:i.default,Leaf:o.default,Embed:c.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:u.default,Attributor:{Attribute:h.default,Class:d.default,Style:f.default,Store:p.default}};e.default=g},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=this;return e="[Parchment] "+e,(n=t.call(this,e)||this).message=e,n.name=n.constructor.name,n}return r(e,t),e}(Error);e.ParchmentError=i;var o,a={},s={},l={},c={};function u(t,e){var n;if(void 0===e&&(e=o.ANY),"string"===typeof t)n=c[t]||a[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)n=c.text;else if("number"===typeof t)t&o.LEVEL&o.BLOCK?n=c.block:t&o.LEVEL&o.INLINE&&(n=c.inline);else if(t instanceof HTMLElement){var r=(t.getAttribute("class")||"").split(/\s+/);for(var i in r)if(n=s[r[i]])break;n=n||l[t.tagName]}return null==n?null:e&o.LEVEL&n.scope&&e&o.TYPE&n.scope?n:null}e.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(o=e.Scope||(e.Scope={})),e.create=function(t,e){var n=u(t);if(null==n)throw new i("Unable to create "+t+" blot");var r=n,o=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:r.create(e);return new r(o,e)},e.find=function t(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[e.DATA_KEY]?n[e.DATA_KEY].blot:r?t(n.parentNode,r):null},e.query=u,e.register=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length>1)return e.map((function(e){return t(e)}));var r=e[0];if("string"!==typeof r.blotName&&"string"!==typeof r.attrName)throw new i("Invalid definition");if("abstract"===r.blotName)throw new i("Cannot register abstract class");return c[r.blotName||r.attrName]=r,"string"===typeof r.keyName?a[r.keyName]=r:(null!=r.className&&(s[r.className]=r),null!=r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map((function(t){return t.toUpperCase()})):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach((function(t){null!=l[t]&&null!=r.className||(l[t]=r)})))),r}},function(t,e,n){var r=n(51),i=n(11),o=n(3),a=n(20),s=String.fromCharCode(0),l=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};l.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,null!=e&&"object"===typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},l.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},l.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"===typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},l.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=o(!0,{},t),"object"===typeof n){if("number"===typeof t.delete&&"number"===typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"===typeof n.delete&&null!=t.insert&&(e-=1,"object"!==typeof(n=this.ops[e-1])))return this.ops.unshift(t),this;if(i(t.attributes,n.attributes)){if("string"===typeof t.insert&&"string"===typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"===typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"===typeof t.retain&&"number"===typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"===typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},l.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},l.prototype.filter=function(t){return this.ops.filter(t)},l.prototype.forEach=function(t){this.ops.forEach(t)},l.prototype.map=function(t){return this.ops.map(t)},l.prototype.partition=function(t){var e=[],n=[];return this.forEach((function(r){(t(r)?e:n).push(r)})),[e,n]},l.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},l.prototype.changeLength=function(){return this.reduce((function(t,e){return e.insert?t+a.length(e):e.delete?t-e.delete:t}),0)},l.prototype.length=function(){return this.reduce((function(t,e){return t+a.length(e)}),0)},l.prototype.slice=function(t,e){t=t||0,"number"!==typeof e&&(e=1/0);for(var n=[],r=a.iterator(this.ops),i=0;i<e&&r.hasNext();){var o;i<t?o=r.next(t-i):(o=r.next(e-i),n.push(o)),i+=a.length(o)}return new l(n)},l.prototype.compose=function(t){var e=a.iterator(this.ops),n=a.iterator(t.ops),r=[],o=n.peek();if(null!=o&&"number"===typeof o.retain&&null==o.attributes){for(var s=o.retain;"insert"===e.peekType()&&e.peekLength()<=s;)s-=e.peekLength(),r.push(e.next());o.retain-s>0&&n.next(o.retain-s)}for(var c=new l(r);e.hasNext()||n.hasNext();)if("insert"===n.peekType())c.push(n.next());else if("delete"===e.peekType())c.push(e.next());else{var u=Math.min(e.peekLength(),n.peekLength()),h=e.next(u),d=n.next(u);if("number"===typeof d.retain){var f={};"number"===typeof h.retain?f.retain=u:f.insert=h.insert;var p=a.attributes.compose(h.attributes,d.attributes,"number"===typeof h.retain);if(p&&(f.attributes=p),c.push(f),!n.hasNext()&&i(c.ops[c.ops.length-1],f)){var m=new l(e.rest());return c.concat(m).chop()}}else"number"===typeof d.delete&&"number"===typeof h.retain&&c.push(d)}return c.chop()},l.prototype.concat=function(t){var e=new l(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},l.prototype.diff=function(t,e){if(this.ops===t.ops)return new l;var n=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"===typeof n.insert?n.insert:s;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),o=new l,c=r(n[0],n[1],e),u=a.iterator(this.ops),h=a.iterator(t.ops);return c.forEach((function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case r.INSERT:n=Math.min(h.peekLength(),e),o.push(h.next(n));break;case r.DELETE:n=Math.min(e,u.peekLength()),u.next(n),o.delete(n);break;case r.EQUAL:n=Math.min(u.peekLength(),h.peekLength(),e);var s=u.next(n),l=h.next(n);i(s.insert,l.insert)?o.retain(n,a.attributes.diff(s.attributes,l.attributes)):o.push(l).delete(n)}e-=n}})),o.chop()},l.prototype.eachLine=function(t,e){e=e||"\n";for(var n=a.iterator(this.ops),r=new l,i=0;n.hasNext();){if("insert"!==n.peekType())return;var o=n.peek(),s=a.length(o)-n.peekLength(),c="string"===typeof o.insert?o.insert.indexOf(e,s)-s:-1;if(c<0)r.push(n.next());else if(c>0)r.push(n.next(c));else{if(!1===t(r,n.next(1).attributes||{},i))return;i+=1,r=new l}}r.length()>0&&t(r,{},i)},l.prototype.transform=function(t,e){if(e=!!e,"number"===typeof t)return this.transformPosition(t,e);for(var n=a.iterator(this.ops),r=a.iterator(t.ops),i=new l;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!e&&"insert"===r.peekType())if("insert"===r.peekType())i.push(r.next());else{var o=Math.min(n.peekLength(),r.peekLength()),s=n.next(o),c=r.next(o);if(s.delete)continue;c.delete?i.push(c):i.retain(o,a.attributes.transform(s.attributes,c.attributes,e))}else i.retain(a.length(n.next()));return i.chop()},l.prototype.transformPosition=function(t,e){e=!!e;for(var n=a.iterator(this.ops),r=0;n.hasNext()&&r<=t;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<t||!e)&&(t+=i),r+=i):t-=Math.min(i,t-r)}return t},t.exports=l},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(t){return"function"===typeof Array.isArray?Array.isArray(t):"[object Array]"===r.call(t)},s=function(t){if(!t||"[object Object]"!==r.call(t))return!1;var e,i=n.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!i&&!o)return!1;for(e in t);return"undefined"===typeof e||n.call(t,e)},l=function(t,e){i&&"__proto__"===e.name?i(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},c=function(t,e){if("__proto__"===e){if(!n.call(t,e))return;if(o)return o(t,e).value}return t[e]};t.exports=function t(){var e,n,r,i,o,u,h=arguments[0],d=1,f=arguments.length,p=!1;for("boolean"===typeof h&&(p=h,h=arguments[1]||{},d=2),(null==h||"object"!==typeof h&&"function"!==typeof h)&&(h={});d<f;++d)if(null!=(e=arguments[d]))for(n in e)r=c(h,n),h!==(i=c(e,n))&&(p&&i&&(s(i)||(o=a(i)))?(o?(o=!1,u=r&&a(r)?r:[]):u=r&&s(r)?r:{},l(h,{name:n,newValue:t(p,u,i)})):"undefined"!==typeof i&&l(h,{name:n,newValue:i}));return h}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=h(n(3)),a=h(n(2)),s=h(n(0)),l=h(n(16)),c=h(n(6)),u=h(n(7));function h(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(){return d(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),r(e,[{key:"attach",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,o.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=s.default.query(t,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,r){this.format(n,r)}},{key:"insertAt",value:function(t,n,r){if("string"===typeof n&&n.endsWith("\n")){var o=s.default.create(g.blotName);this.parent.insertBefore(o,0===t?this:this.next),o.insertAt(0,n.slice(0,-1))}else i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r)}}]),e}(s.default.Embed);m.scope=s.default.Scope.BLOCK_BLOT;var g=function(t){function e(t){d(this,e);var n=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache={},n}return p(e,t),r(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce((function(t,e){return 0===e.length()?t:t.insert(e.value(),v(e))}),new a.default).insert("\n",v(this))),this.cache.delta}},{key:"deleteAt",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),this.cache={}}},{key:"formatAt",value:function(t,n,r,o){n<=0||(s.default.query(r,s.default.Scope.BLOCK)?t+n===this.length()&&this.format(r,o):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(n,this.length()-t-1),r,o),this.cache={})}},{key:"insertAt",value:function(t,n,r){if(null!=r)return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r);if(0!==n.length){var o=n.split("\n"),a=o.shift();a.length>0&&(t<this.length()-1||null==this.children.tail?i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var s=this;o.reduce((function(t,e){return(s=s.split(t,!0)).insertAt(0,e),e.length}),t+a.length)}}},{key:"insertBefore",value:function(t,n){var r=this.children.head;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n),r instanceof l.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,n),this.cache={}}},{key:"optimize",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-1)){var r=this.clone();return 0===t?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var o=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,n);return this.cache={},o}}]),e}(s.default.Block);function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"===typeof t.formats&&(e=(0,o.default)(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:v(t.parent,e))}g.blotName="block",g.tagName="P",g.defaultChild="break",g.allowedChildren=[c.default,s.default.Embed,u.default],e.bubbleFormats=v,e.BlockEmbed=m,e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(50);var a=g(n(2)),s=g(n(14)),l=g(n(8)),c=g(n(9)),u=g(n(0)),h=n(15),d=g(h),f=g(n(3)),p=g(n(10)),m=g(n(34));function g(t){return t&&t.__esModule?t:{default:t}}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=(0,p.default)("quill"),b=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=_(e,r),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new d.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(t){t===l.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(l.default.events.SCROLL_UPDATE,(function(t,e){var r=n.selection.lastRange,i=r&&0===r.length?r.index:void 0;x.call(n,(function(){return n.editor.update(null,e,i)}),t)}));var o=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+i+"<p><br></p></div>");this.setContents(o),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),p.default.level(t)}},{key:"find",value:function(t){return t.__quill||u.default.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&y.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof t){var i=t.attrName||t.blotName;"string"===typeof i?this.register("formats/"+i,t,e):Object.keys(t).forEach((function(r){n.register(r,t[r],e)}))}else null==this.imports[t]||r||y.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?u.default.register(e):t.startsWith("modules")&&"function"===typeof e.register&&e.register()}}]),o(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof t){var n=t;(t=document.createElement("div")).classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var r=this,o=w(t,e,n),a=i(o,4);return t=a[0],e=a[1],n=a[3],x.call(this,(function(){return r.editor.deleteText(t,e)}),n,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return x.call(this,(function(){var r=n.getSelection(!0),i=new a.default;if(null==r)return i;if(u.default.query(t,u.default.Scope.BLOCK))i=n.editor.formatLine(r.index,r.length,v({},t,e));else{if(0===r.length)return n.selection.format(t,e),i;i=n.editor.formatText(r.index,r.length,v({},t,e))}return n.setSelection(r,l.default.sources.SILENT),i}),r)}},{key:"formatLine",value:function(t,e,n,r,o){var a,s=this,l=w(t,e,n,r,o),c=i(l,4);return t=c[0],e=c[1],a=c[2],o=c[3],x.call(this,(function(){return s.editor.formatLine(t,e,a)}),o,t,0)}},{key:"formatText",value:function(t,e,n,r,o){var a,s=this,l=w(t,e,n,r,o),c=i(l,4);return t=c[0],e=c[1],a=c[2],o=c[3],x.call(this,(function(){return s.editor.formatText(t,e,a)}),o,t,0)}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"===typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=w(t,e),r=i(n,2);return t=r[0],e=r[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=w(t,e),r=i(n,2);return t=r[0],e=r[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return x.call(this,(function(){return i.editor.insertEmbed(e,n,r)}),o,e)}},{key:"insertText",value:function(t,e,n,r,o){var a,s=this,l=w(t,0,n,r,o),c=i(l,4);return t=c[0],a=c[2],o=c[3],x.call(this,(function(){return s.editor.insertText(t,e,a)}),o,t,e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}},{key:"removeFormat",value:function(t,e,n){var r=this,o=w(t,e,n),a=i(o,4);return t=a[0],e=a[1],n=a[3],x.call(this,(function(){return r.editor.removeFormat(t,e)}),n,t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return x.call(this,(function(){t=new a.default(t);var n=e.getLength(),r=e.editor.deleteText(0,n),i=e.editor.applyDelta(t),o=i.ops[i.ops.length-1];return null!=o&&"string"===typeof o.insert&&"\n"===o.insert[o.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),i.delete(1)),r.compose(i)}),n)}},{key:"setSelection",value:function(e,n,r){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var o=w(e,n,r),a=i(o,4);e=a[0],n=a[1],r=a[3],this.selection.setRange(new h.Range(e,n),r),r!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,n=(new a.default).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return x.call(this,(function(){return t=new a.default(t),e.editor.applyDelta(t,n)}),n,!0)}}]),t}();function _(t,e){if((e=(0,f.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e)).theme&&e.theme!==b.DEFAULTS.theme){if(e.theme=b.import("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=m.default;var n=(0,f.default)(!0,{},e.theme.DEFAULTS);[n,e].forEach((function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach((function(e){!0===t.modules[e]&&(t.modules[e]={})}))}));var r=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce((function(t,e){var n=b.import("modules/"+e);return null==n?y.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=n.DEFAULTS||{},t}),{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,f.default)(!0,{},b.DEFAULTS,{modules:r},n,e),["bounds","container","scrollingContainer"].forEach((function(t){"string"===typeof e[t]&&(e[t]=document.querySelector(e[t]))})),e.modules=Object.keys(e.modules).reduce((function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t}),{}),e}function x(t,e,n,r){if(this.options.strict&&!this.isEnabled()&&e===l.default.sources.USER)return new a.default;var i=null==n?null:this.getSelection(),o=this.editor.delta,s=t();if(null!=i&&(!0===n&&(n=i.index),null==r?i=S(i,s,e):0!==r&&(i=S(i,n,r,e)),this.setSelection(i,l.default.sources.SILENT)),s.length()>0){var c,u,h=[l.default.events.TEXT_CHANGE,s,o,e];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(h)),e!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,h)}return s}function w(t,e,n,i,o){var a={};return"number"===typeof t.index&&"number"===typeof t.length?"number"!==typeof e?(o=i,i=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!==typeof e&&(o=i,i=n,n=e,e=0),"object"===("undefined"===typeof n?"undefined":r(n))?(a=n,o=i):"string"===typeof n&&(null!=i?a[n]=i:o=n),[t,e,a,o=o||l.default.sources.API]}function S(t,e,n,r){if(null==t)return null;var o=void 0,s=void 0;if(e instanceof a.default){var c=[t.index,t.index+t.length].map((function(t){return e.transformPosition(t,r!==l.default.sources.USER)})),u=i(c,2);o=u[0],s=u[1]}else{var d=[t.index,t.index+t.length].map((function(t){return t<e||t===e&&r===l.default.sources.USER?t:n>=0?t+n:Math.max(e,t+n)})),f=i(d,2);o=f[0],s=f[1]}return new h.Range(o,s-o)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=l.default.events,b.sources=l.default.sources,b.version="1.3.7",b.imports={delta:a.default,parchment:u.default,"core/module":c.default,"core/theme":m.default},e.expandConfig=_,e.overload=w,e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=s(n(7)),a=s(n(0));function s(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"formatAt",value:function(t,n,r,o){if(e.compare(this.statics.blotName,r)<0&&a.default.query(r,a.default.Scope.BLOT)){var s=this.isolate(t,n);o&&s.wrap(r,o)}else i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,r,o)}},{key:"optimize",value:function(t){if(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(t,n){var r=e.order.indexOf(t),i=e.order.indexOf(n);return r>=0||i>=0?r-i:t===n?0:t<n?-1:1}}]),e}(a.default.Inline);l.allowedChildren=[l,a.default.Embed,o.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=i)&&r.__esModule?r:{default:r}).default.Text);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=a(n(54));function a(t){return t&&t.__esModule?t:{default:t}}var s=(0,a(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(t){document.addEventListener(t,(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(t){var n;t.__quill&&t.__quill.emitter&&(n=t.__quill.emitter).handleDOM.apply(n,e)}))}))}));var l=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.listeners={},t.on("error",s.error),t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"emit",value:function(){s.log.apply(s,arguments),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(this.listeners[t.type]||[]).forEach((function(e){var r=e.node,i=e.handler;(t.target===r||r.contains(t.target))&&i.apply(void 0,[t].concat(n))}))}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}]),e}(o.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n};r.DEFAULTS={},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=["error","warn","log","info"],i="warn";function o(t){if(r.indexOf(t)<=r.indexOf(i)){for(var e,n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(e=console)[t].apply(e,o)}}function a(t){return r.reduce((function(e,n){return e[n]=o.bind(console,n,t),e}),{})}o.level=a.level=function(t){i=t},e.default=a},function(t,e,n){var r=Array.prototype.slice,i=n(52),o=n(53),a=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var c,u;if(s(t)||s(e))return!1;if(t.prototype!==e.prototype)return!1;if(o(t))return!!o(e)&&(t=r.call(t),e=r.call(e),a(t,e,n));if(l(t)){if(!l(e))return!1;if(t.length!==e.length)return!1;for(c=0;c<t.length;c++)if(t[c]!==e[c])return!1;return!0}try{var h=i(t),d=i(e)}catch(f){return!1}if(h.length!=d.length)return!1;for(h.sort(),d.sort(),c=h.length-1;c>=0;c--)if(h[c]!=d[c])return!1;for(c=h.length-1;c>=0;c--)if(u=h[c],!a(t[u],e[u],n))return!1;return typeof t===typeof e}(t,e,n))};function s(t){return null===t||void 0===t}function l(t){return!(!t||"object"!==typeof t||"number"!==typeof t.length)&&"function"===typeof t.copy&&"function"===typeof t.slice&&!(t.length>0&&"number"!==typeof t[0])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var i=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|i:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,(function(t){return t.name}))},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=r.query(t,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"===typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=h(n(2)),s=h(n(0)),l=h(n(4)),c=h(n(6)),u=h(n(7));function h(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(){return d(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),e}(c.default);m.blotName="code",m.tagName="CODE";var g=function(t){function e(){return d(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),i(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce((function(e,n){return e.insert(n).insert("\n",t.formats())}),new a.default)}},{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n){var i=this.descendant(u.default,this.length()-1),a=r(i,1)[0];null!=a&&a.deleteAt(a.length()-1,1),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}},{key:"formatAt",value:function(t,n,r,i){if(0!==n&&null!=s.default.query(r,s.default.Scope.BLOCK)&&(r!==this.statics.blotName||i!==this.statics.formats(this.domNode))){var o=this.newlineIndex(t);if(!(o<0||o>=t+n)){var a=this.newlineIndex(t,!0)+1,l=o-a+1,c=this.isolate(a,l),u=c.next;c.format(r,i),u instanceof e&&u.formatAt(0,t-a+n-l,r,i)}}}},{key:"insertAt",value:function(t,e,n){if(null==n){var i=this.descendant(u.default,t),o=r(i,2),a=o[0],s=o[1];a.insertAt(s,e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var e=this.domNode.textContent.slice(t).indexOf("\n");return e>-1?t+e:-1}},{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(t),n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(t){var e=s.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof s.default.Embed?e.remove():e.unwrap()}))}}],[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),e}(l.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",e.Code=m,e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=v(n(2)),s=v(n(20)),l=v(n(0)),c=v(n(13)),u=v(n(24)),h=n(4),d=v(h),f=v(n(16)),p=v(n(21)),m=v(n(11)),g=v(n(3));function v(t){return t&&t.__esModule?t:{default:t}}var y=/^[ -~]*$/,b=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scroll=e,this.delta=this.getDelta()}return o(t,[{key:"applyDelta",value:function(t){var e=this,n=!1;this.scroll.update();var o=this.scroll.length();return this.scroll.batchStart(),(t=function(t){return t.reduce((function(t,e){if(1===e.insert){var n=(0,p.default)(e.attributes);return delete n.image,t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||((e=(0,p.default)(e)).attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"===typeof e.insert){var r=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(r,e.attributes)}return t.push(e)}),new a.default)}(t)).reduce((function(t,a){var c=a.retain||a.delete||a.insert.length||1,u=a.attributes||{};if(null!=a.insert){if("string"===typeof a.insert){var f=a.insert;f.endsWith("\n")&&n&&(n=!1,f=f.slice(0,-1)),t>=o&&!f.endsWith("\n")&&(n=!0),e.scroll.insertAt(t,f);var p=e.scroll.line(t),m=i(p,2),v=m[0],y=m[1],b=(0,g.default)({},(0,h.bubbleFormats)(v));if(v instanceof d.default){var _=v.descendant(l.default.Leaf,y),x=i(_,1)[0];b=(0,g.default)(b,(0,h.bubbleFormats)(x))}u=s.default.attributes.diff(b,u)||{}}else if("object"===r(a.insert)){var w=Object.keys(a.insert)[0];if(null==w)return t;e.scroll.insertAt(t,w,a.insert[w])}o+=c}return Object.keys(u).forEach((function(n){e.scroll.formatAt(t,c,n,u[n])})),t+c}),0),t.reduce((function(t,n){return"number"===typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new a.default).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach((function(i){if(null==n.scroll.whitelist||n.scroll.whitelist[i]){var o=n.scroll.lines(t,Math.max(e,1)),a=e;o.forEach((function(e){var o=e.length();if(e instanceof c.default){var s=t-e.offset(n.scroll),l=e.newlineIndex(s+a)-s+1;e.formatAt(s,l,i,r[i])}else e.format(i,r[i]);a-=o}))}})),this.scroll.optimize(),this.update((new a.default).retain(t).retain(e,(0,p.default)(r)))}},{key:"formatText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach((function(i){n.scroll.formatAt(t,e,i,r[i])})),this.update((new a.default).retain(t).retain(e,(0,p.default)(r)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(t,e){return t.concat(e.delta())}),new a.default)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===e?this.scroll.path(t).forEach((function(t){var e=i(t,1)[0];e instanceof d.default?n.push(e):e instanceof l.default.Leaf&&r.push(e)})):(n=this.scroll.lines(t,e),r=this.scroll.descendants(l.default.Leaf,t,e));var o=[n,r].map((function(t){if(0===t.length)return{};for(var e=(0,h.bubbleFormats)(t.shift());Object.keys(e).length>0;){var n=t.shift();if(null==n)return e;e=_((0,h.bubbleFormats)(n),e)}return e}));return g.default.apply(g.default,o)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter((function(t){return"string"===typeof t.insert})).map((function(t){return t.insert})).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new a.default).retain(t).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(r).forEach((function(i){n.scroll.formatAt(t,e.length,i,r[i])})),this.update((new a.default).retain(t).insert(e,(0,p.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===d.default.blotName&&!(t.children.length>1)&&t.children.head instanceof f.default}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),r=this.scroll.line(t+e),o=i(r,2),s=o[0],l=o[1],u=0,h=new a.default;null!=s&&(u=s instanceof c.default?s.newlineIndex(l)-l+1:s.length()-l,h=s.delta().slice(l,l+u-1).insert("\n"));var d=this.getContents(t,e+u).diff((new a.default).insert(n).concat(h)),f=(new a.default).retain(t).concat(d);return this.applyDelta(f)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(y)&&l.default.find(e[0].target)){var i=l.default.find(e[0].target),o=(0,h.bubbleFormats)(i),s=i.offset(this.scroll),c=e[0].oldValue.replace(u.default.CONTENTS,""),d=(new a.default).insert(c),f=(new a.default).insert(i.value());t=(new a.default).retain(s).concat(d.diff(f,n)).reduce((function(t,e){return e.insert?t.insert(e.insert,o):t.push(e)}),new a.default),this.delta=r.compose(t)}else this.delta=this.getDelta(),t&&(0,m.default)(r.compose(t),this.delta)||(t=r.diff(this.delta,n));return t}}]),t}();function _(t,e){return Object.keys(e).reduce((function(n,r){return null==t[r]||(e[r]===t[r]?n[r]=e[r]:Array.isArray(e[r])?e[r].indexOf(t[r])<0&&(n[r]=e[r].concat([t[r]])):n[r]=[e[r],t[r]]),n}),{})}e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=c(n(0)),a=c(n(21)),s=c(n(11)),l=c(n(8));function c(t){return t&&t.__esModule?t:{default:t}}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var d=(0,c(n(10)).default)("quill:selection"),f=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h(this,t),this.index=e,this.length=n},p=function(){function t(e,n){var r=this;h(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=o.default.create("cursor",this),this.lastRange=this.savedRange=new f(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){r.mouseDown||setTimeout(r.update.bind(r,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(t,e){t===l.default.events.TEXT_CHANGE&&e.length()>0&&r.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(r.hasFocus()){var t=r.getNativeRange();null!=t&&t.start.node!==r.cursor.textNode&&r.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{r.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(e){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(t,e){if(e.range){var n=e.range,i=n.startNode,o=n.startOffset,a=n.endNode,s=n.endOffset;r.setNativeRange(i,o,a,s)}})),this.update(l.default.sources.SILENT)}return i(t,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",(function(){t.composing=!0})),this.root.addEventListener("compositionend",(function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout((function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,(function(){t.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){t.mouseDown=!1,t.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!o.default.query(t,o.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=o.default.find(n.start.node,!1);if(null==r)return;if(r instanceof o.default.Leaf){var i=r.split(n.start.offset);r.parent.insertBefore(this.cursor,i)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var i=void 0,o=this.scroll.leaf(t),a=r(o,2),s=a[0],l=a[1];if(null==s)return null;var c=s.position(l,!0),u=r(c,2);i=u[0],l=u[1];var h=document.createRange();if(e>0){h.setStart(i,l);var d=this.scroll.leaf(t+e),f=r(d,2);if(s=f[0],l=f[1],null==s)return null;var p=s.position(l,!0),m=r(p,2);return i=m[0],l=m[1],h.setEnd(i,l),h.getBoundingClientRect()}var g="left",v=void 0;return i instanceof Text?(l<i.data.length?(h.setStart(i,l),h.setEnd(i,l+1)):(h.setStart(i,l-1),h.setEnd(i,l),g="right"),v=h.getBoundingClientRect()):(v=s.domNode.getBoundingClientRect(),l>0&&(g="right")),{bottom:v.top+v.height,height:v.height,left:v[g],right:v[g],top:v.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return d.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var i=n.map((function(t){var n=r(t,2),i=n[0],a=n[1],s=o.default.find(i,!0),l=s.offset(e.scroll);return 0===a?l:s instanceof o.default.Container?l+s.length():l+s.index(i,a)})),a=Math.min(Math.max.apply(Math,u(i)),this.scroll.length()-1),s=Math.min.apply(Math,[a].concat(u(i)));return new f(s,a-s)}},{key:"normalizeNative",value:function(t){if(!m(this.root,t.startContainer)||!t.collapsed&&!m(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;n=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n})),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],i=[],o=this.scroll.length();return n.forEach((function(t,n){t=Math.min(o-1,t);var a,s=e.scroll.leaf(t),l=r(s,2),c=l[0],u=l[1],h=c.position(u,0!==n),d=r(h,2);a=d[0],u=d[1],i.push(a,u)})),i.length<2&&(i=i.concat(i)),i}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var i=this.scroll.length()-1,o=this.scroll.line(Math.min(e.index,i)),a=r(o,1)[0],s=a;if(e.length>0){var l=this.scroll.line(Math.min(e.index+e.length,i));s=r(l,1)[0]}if(null!=a&&null!=s){var c=t.getBoundingClientRect();n.top<c.top?t.scrollTop-=c.top-n.top:n.bottom>c.bottom&&(t.scrollTop+=n.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(d.info("setNativeRange",t,e,n,r),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=t){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||i||t!==a.startContainer||e!==a.startOffset||n!==a.endContainer||r!==a.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(t,e),s.setEnd(n,r),o.removeAllRanges(),o.addRange(s)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"===typeof e&&(n=e,e=!1),d.info("setRange",t),null!=t){var r=this.rangeToNative(t);this.setNativeRange.apply(this,u(r).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,e=this.lastRange,n=this.getRange(),i=r(n,2),o=i[0],c=i[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(e,this.lastRange)){var u;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var h,d=[l.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(e),t];(u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(d)),t!==l.default.sources.SILENT&&(h=this.emitter).emit.apply(h,d)}}}]),t}();function m(t,e){try{e.parentNode}catch(n){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}e.Range=f,e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(0),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"insertInto",value:function(t,n){0===t.children.length?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}(((r=a)&&r.__esModule?r:{default:r}).default.Embed);s.blotName="break",s.tagName="BR",e.default=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(44),o=n(30),a=n(1),s=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return r(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach((function(t){t.attach()}))},e.prototype.build=function(){var t=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(e){try{var n=l(e);t.insertBefore(n,t.children.head||void 0)}catch(r){if(r instanceof a.ParchmentError)return;throw r}}))},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(function(t,e,n){t.deleteAt(e,n)}))},e.prototype.descendant=function(t,n){var r=this.children.find(n),i=r[0],o=r[1];return null==t.blotName&&t(i)||null!=t.blotName&&i instanceof t?[i,o]:i instanceof e?i.descendant(t,o):[null,-1]},e.prototype.descendants=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var i=[],o=r;return this.children.forEachAt(n,r,(function(n,r,a){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&i.push(n),n instanceof e&&(i=i.concat(n.descendants(t,r,o))),o-=a})),i},e.prototype.detach=function(){this.children.forEach((function(t){t.detach()})),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,r){this.children.forEachAt(t,e,(function(t,e,i){t.formatAt(e,i,n,r)}))},e.prototype.insertAt=function(t,e,n){var r=this.children.find(t),i=r[0],o=r[1];if(i)i.insertAt(o,e,n);else{var s=null==n?a.create("text",e):a.create(e,n);this.appendChild(s)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(e){return t instanceof e})))throw new a.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce((function(t,e){return t+e.length()}),0)},e.prototype.moveChildren=function(t,e){this.children.forEach((function(n){t.insertBefore(n,e)}))},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var n=a.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var r=this.children.find(t,n),i=r[0],o=r[1],a=[[this,t]];return i instanceof e?a.concat(i.path(o,n)):(null!=i&&a.push([i,o]),a)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),(function(t,r,i){t=t.split(r,e),n.appendChild(t)})),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var n=this,r=[],i=[];t.forEach((function(t){t.target===n.domNode&&"childList"===t.type&&(r.push.apply(r,t.addedNodes),i.push.apply(i,t.removedNodes))})),i.forEach((function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=a.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}})),r.filter((function(t){return t.parentNode==n.domNode})).sort((function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(t){var e=null;null!=t.nextSibling&&(e=a.find(t.nextSibling));var r=l(t);r.next==e&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,e||void 0))}))},e}(o.default);function l(t){var e=a.find(t);if(null==e)try{e=a.create(t)}catch(n){e=a.create(a.Scope.INLINE),[].slice.call(t.childNodes).forEach((function(t){e.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),o=n(31),a=n(17),s=n(1),l=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new o.default(n.domNode),n}return r(e,t),e.formats=function(t){return"string"===typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=s.query(t);n instanceof i.default?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var r=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(r),r},e.prototype.update=function(e,n){var r=this;t.prototype.update.call(this,e,n),e.some((function(t){return t.target===r.domNode&&"attributes"===t.type}))&&this.attributes.build()},e.prototype.wrap=function(n,r){var i=t.prototype.wrap.call(this,n,r);return i instanceof e&&i.statics.scope===this.statics.scope&&this.attributes.move(i),i},e}(a.default);e.default=l},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(30),o=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=o.Scope.INLINE_BLOT,e}(i.default);e.default=a},function(t,e,n){var r=n(11),i=n(3),o={attributes:{compose:function(t,e,n){"object"!==typeof t&&(t={}),"object"!==typeof e&&(e={});var r=i(!0,{},e);for(var o in n||(r=Object.keys(r).reduce((function(t,e){return null!=r[e]&&(t[e]=r[e]),t}),{})),t)void 0!==t[o]&&void 0===e[o]&&(r[o]=t[o]);return Object.keys(r).length>0?r:void 0},diff:function(t,e){"object"!==typeof t&&(t={}),"object"!==typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce((function(n,i){return r(t[i],e[i])||(n[i]=void 0===e[i]?null:e[i]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if("object"!==typeof t)return e;if("object"===typeof e){if(!n)return e;var r=Object.keys(e).reduce((function(n,r){return void 0===t[r]&&(n[r]=e[r]),n}),{});return Object.keys(r).length>0?r:void 0}}},iterator:function(t){return new a(t)},length:function(t){return"number"===typeof t.delete?t.delete:"number"===typeof t.retain?t.retain:"string"===typeof t.insert?t.insert.length:1}};function a(t){this.ops=t,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,r=o.length(e);if(t>=r-n?(t=r-n,this.index+=1,this.offset=0):this.offset+=t,"number"===typeof e.delete)return{delete:t};var i={};return e.attributes&&(i.attributes=e.attributes),"number"===typeof e.retain?i.retain=t:"string"===typeof e.insert?i.insert=e.insert.substr(n,t):i.insert=e.insert,i}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index].delete?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(r)}return[]},t.exports=o},function(t,e){var n=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,n,r;try{e=Map}catch(s){e=function(){}}try{n=Set}catch(s){n=function(){}}try{r=Promise}catch(s){r=function(){}}function i(o,s,l,c,u){"object"===typeof s&&(l=s.depth,c=s.prototype,u=s.includeNonEnumerable,s=s.circular);var h=[],d=[],f="undefined"!=typeof Buffer;return"undefined"==typeof s&&(s=!0),"undefined"==typeof l&&(l=1/0),function o(l,p){if(null===l)return null;if(0===p)return l;var m,g;if("object"!=typeof l)return l;if(t(l,e))m=new e;else if(t(l,n))m=new n;else if(t(l,r))m=new r((function(t,e){l.then((function(e){t(o(e,p-1))}),(function(t){e(o(t,p-1))}))}));else if(i.__isArray(l))m=[];else if(i.__isRegExp(l))m=new RegExp(l.source,a(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(i.__isDate(l))m=new Date(l.getTime());else{if(f&&Buffer.isBuffer(l))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(m),m;t(l,Error)?m=Object.create(l):"undefined"==typeof c?(g=Object.getPrototypeOf(l),m=Object.create(g)):(m=Object.create(c),g=c)}if(s){var v=h.indexOf(l);if(-1!=v)return d[v];h.push(l),d.push(m)}for(var y in t(l,e)&&l.forEach((function(t,e){var n=o(e,p-1),r=o(t,p-1);m.set(n,r)})),t(l,n)&&l.forEach((function(t){var e=o(t,p-1);m.add(e)})),l){var b;g&&(b=Object.getOwnPropertyDescriptor(g,y)),b&&null==b.set||(m[y]=o(l[y],p-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(l);for(y=0;y<_.length;y++){var x=_[y];(!(S=Object.getOwnPropertyDescriptor(l,x))||S.enumerable||u)&&(m[x]=o(l[x],p-1),S.enumerable||Object.defineProperty(m,x,{enumerable:!1}))}}if(u){var w=Object.getOwnPropertyNames(l);for(y=0;y<w.length;y++){var S,E=w[y];(S=Object.getOwnPropertyDescriptor(l,E))&&S.enumerable||(m[E]=o(l[E],p-1),Object.defineProperty(m,E,{enumerable:!1}))}}return m}(o,l)}function o(t){return Object.prototype.toString.call(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return i.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},i.__objToStr=o,i.__isDate=function(t){return"object"===typeof t&&"[object Date]"===o(t)},i.__isArray=function(t){return"object"===typeof t&&"[object Array]"===o(t)},i.__isRegExp=function(t){return"object"===typeof t&&"[object RegExp]"===o(t)},i.__getRegExpFlags=a,i}();"object"===typeof t&&t.exports&&(t.exports=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=f(n(0)),s=f(n(8)),l=n(4),c=f(l),u=f(n(16)),h=f(n(13)),d=f(n(25));function f(t){return t&&t.__esModule?t:{default:t}}function p(t){return t instanceof c.default||t instanceof l.BlockEmbed}var m=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce((function(t,e){return t[e]=!0,t}),{})),r.domNode.addEventListener("DOMNodeInserted",(function(){})),r.optimize(),r.enable(),r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,n){var i=this.line(t),a=r(i,2),s=a[0],c=a[1],d=this.line(t+n),f=r(d,1)[0];if(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),null!=f&&s!==f&&c>0){if(s instanceof l.BlockEmbed||f instanceof l.BlockEmbed)return void this.optimize();if(s instanceof h.default){var p=s.newlineIndex(s.length(),!0);if(p>-1&&(s=s.split(p+1))===f)return void this.optimize()}else if(f instanceof h.default){var m=f.newlineIndex(0);m>-1&&f.split(m+1)}var g=f.children.head instanceof u.default?null:f.children.head;s.moveChildren(f,g),s.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,n,r,i){(null==this.whitelist||this.whitelist[r])&&(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,r,i),this.optimize())}},{key:"insertAt",value:function(t,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(t>=this.length())if(null==r||null==a.default.query(n,a.default.Scope.BLOCK)){var i=a.default.create(this.statics.defaultChild);this.appendChild(i),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),i.insertAt(0,n,r)}else{var s=a.default.create(n,r);this.appendChild(s)}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r);this.optimize()}}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===a.default.Scope.INLINE_BLOT){var r=a.default.create(this.statics.defaultChild);r.appendChild(t),t=r}o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(p,t)}},{key:"lines",value:function(){return function t(e,n,r){var i=[],o=r;return e.children.forEachAt(n,r,(function(e,n,r){p(e)?i.push(e):e instanceof a.default.Container&&(i=i.concat(t(e,n,o))),o-=r})),i}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t,n),t.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,t,n))}},{key:"path",value:function(t){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var n=s.default.sources.USER;"string"===typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,t),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,t)}}}]),e}(a.default.Scroll);m.blotName="scroll",m.className="ql-editor",m.tagName="DIV",m.defaultChild="block",m.allowedChildren=[c.default,l.BlockEmbed,d.default],e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=m(n(21)),s=m(n(11)),l=m(n(3)),c=m(n(2)),u=m(n(20)),h=m(n(0)),d=m(n(5)),f=m(n(10)),p=m(n(9));function m(t){return t&&t.__esModule?t:{default:t}}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=(0,f.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.bindings={},Object.keys(r.options.bindings).forEach((function(e){("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist.list)&&r.options.bindings[e]&&r.addBinding(r.options.bindings[e])})),r.addBinding({key:e.keys.ENTER,shiftKey:null},E),r.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},x),r.addBinding({key:e.keys.DELETE},{collapsed:!0},w)):(r.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},x),r.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),r.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},S),r.addBinding({key:e.keys.DELETE},{collapsed:!1},S),r.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},x),r.listen(),r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,null,[{key:"match",value:function(t,e){return e=A(e),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!e[n]!==t[n]&&null!==e[n]}))&&e.key===(t.which||t.keyCode)}}]),o(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=A(t);if(null==r||null==r.key)return v.warn("Attempted to add invalid keyboard binding",r);"function"===typeof e&&(e={handler:e}),"function"===typeof n&&(n={handler:n}),r=(0,l.default)(r,e,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var o=n.which||n.keyCode,a=(t.bindings[o]||[]).filter((function(t){return e.match(n,t)}));if(0!==a.length){var l=t.quill.getSelection();if(null!=l&&t.quill.hasFocus()){var c=t.quill.getLine(l.index),u=i(c,2),d=u[0],f=u[1],p=t.quill.getLeaf(l.index),m=i(p,2),g=m[0],v=m[1],y=0===l.length?[g,v]:t.quill.getLeaf(l.index+l.length),b=i(y,2),_=b[0],x=b[1],w=g instanceof h.default.Text?g.value().slice(0,v):"",S=_ instanceof h.default.Text?_.value().slice(x):"",E={collapsed:0===l.length,empty:0===l.length&&d.length()<=1,format:t.quill.getFormat(l),offset:f,prefix:w,suffix:S};a.some((function(e){if(null!=e.collapsed&&e.collapsed!==E.collapsed)return!1;if(null!=e.empty&&e.empty!==E.empty)return!1;if(null!=e.offset&&e.offset!==E.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((function(t){return null==E.format[t]})))return!1}else if("object"===r(e.format)&&!Object.keys(e.format).every((function(t){return!0===e.format[t]?null!=E.format[t]:!1===e.format[t]?null==E.format[t]:(0,s.default)(e.format[t],E.format[t])})))return!1;return!(null!=e.prefix&&!e.prefix.test(E.prefix))&&!(null!=e.suffix&&!e.suffix.test(E.suffix))&&!0!==e.handler.call(t,l,E)}))&&n.preventDefault()}}}}))}}]),e}(p.default);function _(t,e){var n,r=t===b.keys.LEFT?"prefix":"suffix";return g(n={key:t,shiftKey:e,altKey:null},r,/^$/),g(n,"handler",(function(n){var r=n.index;t===b.keys.RIGHT&&(r+=n.length+1);var o=this.quill.getLeaf(r);return!(i(o,1)[0]instanceof h.default.Embed)||(t===b.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,d.default.sources.USER):this.quill.setSelection(n.index-1,d.default.sources.USER):e?this.quill.setSelection(n.index,n.length+1,d.default.sources.USER):this.quill.setSelection(n.index+n.length+1,d.default.sources.USER),!1)})),n}function x(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var n=this.quill.getLine(t.index),r=i(n,1)[0],o={};if(0===e.offset){var a=this.quill.getLine(t.index-1),s=i(a,1)[0];if(null!=s&&s.length()>1){var l=r.formats(),c=this.quill.getFormat(t.index-1,1);o=u.default.attributes.diff(l,c)||{}}}var h=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-h,h,d.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(t.index-h,h,o,d.default.sources.USER),this.quill.focus()}}function w(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var r={},o=0,a=this.quill.getLine(t.index),s=i(a,1)[0];if(e.offset>=s.length()-1){var l=this.quill.getLine(t.index+1),c=i(l,1)[0];if(c){var h=s.formats(),f=this.quill.getFormat(t.index,1);r=u.default.attributes.diff(h,f)||{},o=c.length()}}this.quill.deleteText(t.index,n,d.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(t.index+o-1,n,r,d.default.sources.USER)}}function S(t){var e=this.quill.getLines(t),n={};if(e.length>1){var r=e[0].formats(),i=e[e.length-1].formats();n=u.default.attributes.diff(i,r)||{}}this.quill.deleteText(t,d.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,d.default.sources.USER),this.quill.setSelection(t.index,d.default.sources.SILENT),this.quill.focus()}function E(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var r=Object.keys(e.format).reduce((function(t,n){return h.default.query(n,h.default.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t}),{});this.quill.insertText(t.index,"\n",r,d.default.sources.USER),this.quill.setSelection(t.index+1,d.default.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach((function(t){null==r[t]&&(Array.isArray(e.format[t])||"link"!==t&&n.quill.format(t,e.format[t],d.default.sources.USER))}))}function T(t){return{key:b.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=h.default.query("code-block"),r=e.index,o=e.length,a=this.quill.scroll.descendant(n,r),s=i(a,2),l=s[0],c=s[1];if(null!=l){var u=this.quill.getIndex(l),f=l.newlineIndex(c,!0)+1,p=l.newlineIndex(u+c+o),m=l.domNode.textContent.slice(f,p).split("\n");c=0,m.forEach((function(e,i){t?(l.insertAt(f+c,n.TAB),c+=n.TAB.length,0===i?r+=n.TAB.length:o+=n.TAB.length):e.startsWith(n.TAB)&&(l.deleteAt(f+c,n.TAB.length),c-=n.TAB.length,0===i?r-=n.TAB.length:o-=n.TAB.length),c+=e.length+1})),this.quill.update(d.default.sources.USER),this.quill.setSelection(r,o,d.default.sources.SILENT)}}}}function M(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],d.default.sources.USER)}}}function A(t){if("string"===typeof t||"number"===typeof t)return A({key:t});if("object"===("undefined"===typeof t?"undefined":r(t))&&(t=(0,a.default)(t,!1)),"string"===typeof t.key)if(null!=b.keys[t.key.toUpperCase()])t.key=b.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[y]=t.shortKey,delete t.shortKey),t}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:M("bold"),italic:M("italic"),underline:M("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",d.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",d.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",d.default.sources.USER):null!=e.format.list&&this.quill.format("list",!1,d.default.sources.USER)}},"indent code-block":T(!0),"outdent code-block":T(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,d.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new c.default).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,d.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,d.default.sources.USER),e.format.indent&&this.quill.format("indent",!1,d.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=this.quill.getLine(t.index),n=i(e,2),r=n[0],o=n[1],a=(0,l.default)({},r.formats(),{list:"checked"}),s=(new c.default).retain(t.index).insert("\n",a).retain(r.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,d.default.sources.USER),this.quill.setSelection(t.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=this.quill.getLine(t.index),r=i(n,2),o=r[0],a=r[1],s=(new c.default).retain(t.index).insert("\n",e.format).retain(o.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,d.default.sources.USER),this.quill.setSelection(t.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var n=e.prefix.length,r=this.quill.getLine(t.index),o=i(r,2),a=o[0],s=o[1];if(s>n)return!0;var l=void 0;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(t.index," ",d.default.sources.USER),this.quill.history.cutoff();var u=(new c.default).retain(t.index-s).delete(n+1).retain(a.length()-2-s).retain(1,{list:l});this.quill.updateContents(u,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,d.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=this.quill.getLine(t.index),n=i(e,2),r=n[0],o=n[1],a=(new c.default).retain(t.index+r.length()-o-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,d.default.sources.USER)}},"embed left":_(b.keys.LEFT,!1),"embed left shift":_(b.keys.LEFT,!0),"embed right":_(b.keys.RIGHT,!1),"embed right shift":_(b.keys.RIGHT,!0)}},e.default=b,e.SHORTKEY=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=l(n(0)),s=l(n(7));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.selection=n,r.textNode=document.createTextNode(e.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,null,[{key:"value",value:function(){}}]),o(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,n){if(0!==this._length)return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);for(var r=this,o=0;null!=r&&r.statics.scope!==a.default.Scope.BLOCK_BLOT;)o+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=e.CONTENTS.length,r.optimize(),r.formatAt(o,e.CONTENTS.length,t,n),this._length=0)}},{key:"index",value:function(t,n){return t===this.textNode?0:i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,n=this.selection.getNativeRange(),i=void 0,o=void 0,l=void 0;if(null!=n&&n.start.node===t&&n.end.node===t){var c=[t,n.start.offset,n.end.offset];i=c[0],o=c[1],l=c[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var u=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof s.default?(i=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=e.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=o){var h=[o,l].map((function(t){return Math.max(0,Math.min(i.data.length,t-1))})),d=r(h,2);return o=d[0],l=d[1],{startNode:i,startOffset:o,endNode:i,endOffset:l}}}}},{key:"update",value:function(t,e){var n=this;if(t.some((function(t){return"characterData"===t.type&&t.target===n.textNode}))){var r=this.restore();r&&(e.range=r)}}},{key:"value",value:function(){return""}}]),e}(a.default.Embed);c.blotName="cursor",c.className="ql-cursor",c.tagName="span",c.CONTENTS="\ufeff",e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(0)),i=n(4),o=a(i);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.default.Container);s.allowedChildren=[o.default,i.BlockEmbed,s],e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(0),s=(r=a)&&r.__esModule?r:{default:r},l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"value",value:function(t){var n=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(t){return("00"+parseInt(t).toString(16)).slice(-2)})).join("")):n}}]),e}(s.default.Attributor.Style),c=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),u=new l("color","color",{scope:s.default.Scope.INLINE});e.ColorAttributor=l,e.ColorClass=c,e.ColorStyle=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(6),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),n.setAttribute("href",t),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return l(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),e}(((r=a)&&r.__esModule?r:{default:r}).default);function l(t,e){var n=document.createElement("a");n.href=t;var r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}s.blotName="link",s.tagName="A",s.SANITIZED_URL="about:blank",s.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e.default=s,e.sanitize=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=s(n(23)),a=s(n(107));function s(t){return t&&t.__esModule?t:{default:t}}var l=0;function c(t,e){t.setAttribute(e,!("true"===t.getAttribute(e)))}var u=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(t){switch(t.keyCode){case o.default.keys.ENTER:n.togglePicker();break;case o.default.keys.ESCAPE:n.escape(),t.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return i(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",(function(){e.selectItem(n,!0)})),n.addEventListener("keydown",(function(t){switch(t.keyCode){case o.default.keys.ENTER:e.selectItem(n,!0),t.preventDefault();break;case o.default.keys.ESCAPE:e.escape(),t.preventDefault()}})),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=a.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,[].slice.call(this.select.options).forEach((function(n){var r=t.buildItem(n);e.appendChild(r),!0===n.selected&&t.selectItem(r)})),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach((function(e){t.container.setAttribute(e.name,e.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout((function(){return t.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e))){if("function"===typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"===typeof Event?"undefined":r(Event))){var i=document.createEvent("Event");i.initEvent("change",!0,!0),this.select.dispatchEvent(i)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(0)),i=v(n(5)),o=n(4),a=v(o),s=v(n(16)),l=v(n(25)),c=v(n(24)),u=v(n(35)),h=v(n(6)),d=v(n(22)),f=v(n(7)),p=v(n(55)),m=v(n(42)),g=v(n(23));function v(t){return t&&t.__esModule?t:{default:t}}i.default.register({"blots/block":a.default,"blots/block/embed":o.BlockEmbed,"blots/break":s.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":u.default,"blots/inline":h.default,"blots/scroll":d.default,"blots/text":f.default,"modules/clipboard":p.default,"modules/history":m.default,"modules/keyboard":g.default}),r.default.register(a.default,s.default,c.default,h.default,d.default,f.default),e.default=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(){function t(t){this.domNode=t,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"===typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"===typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return r.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,n,i){var o=this.isolate(t,e);if(null!=r.query(n,r.Scope.BLOT)&&i)o.wrap(n,i);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var a=r.create(this.statics.scope);o.wrap(a),a.format(n,i)}},t.prototype.insertAt=function(t,e,n){var i=null==n?r.create("text",e):r.create(e,n),o=this.split(t);this.parent.insertBefore(i,o)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n="string"===typeof t?r.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"===typeof t?r.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),i=n(32),o=n(33),a=n(1),s=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=r.default.keys(this.domNode),n=i.default.keys(this.domNode),s=o.default.keys(this.domNode);e.concat(n).concat(s).forEach((function(e){var n=a.query(e,a.Scope.ATTRIBUTE);n instanceof r.default&&(t.attributes[n.attrName]=n)}))},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach((function(n){var r=e.attributes[n].value(e.domNode);t.format(n,r)}))},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach((function(t){e.attributes[t].remove(e.domNode)})),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce((function(e,n){return e[n]=t.attributes[n].value(t.domNode),e}),{})},t}();e.default=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function i(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter((function(t){return 0===t.indexOf(e+"-")}))}Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map((function(t){return t.split("-").slice(0,-1).join("-")}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){i(t,this.keyName).forEach((function(e){t.classList.remove(e)})),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(i(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function i(t){var e=t.split("-"),n=e.slice(1).map((function(t){return t[0].toUpperCase()+t.slice(1)})).join("");return e[0]+n}Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map((function(t){return t.split(":")[0].trim()}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[i(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[i(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[i(this.keyName)];return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n,this.modules={}}return r(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach((function(e){null==t.modules[e]&&t.addModule(e)}))}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();i.DEFAULTS={modules:{}},i.themes={default:i},e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=s(n(0)),a=s(n(7));function s(t){return t&&t.__esModule?t:{default:t}}var l="\ufeff",c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(t){n.contentNode.appendChild(t)})),n.leftGuard=document.createTextNode(l),n.rightGuard=document.createTextNode(l),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"index",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"restore",value:function(t){var e=void 0,n=void 0,r=t.data.split(l).join("");if(t===this.leftGuard)if(this.prev instanceof a.default){var i=this.prev.length();this.prev.insertAt(i,r),e={startNode:this.prev.domNode,startOffset:i+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(o.default.create(n),this),e={startNode:n,startOffset:r.length};else t===this.rightGuard&&(this.next instanceof a.default?(this.next.insertAt(0,r),e={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(o.default.create(n),this.next),e={startNode:n,startOffset:r.length}));return t.data=l,e}},{key:"update",value:function(t,e){var n=this;t.forEach((function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var r=n.restore(t.target);r&&(e.range=r)}}))}}]),e}(o.default.Embed);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r},a={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new o.default.Attributor.Attribute("align","align",a),l=new o.default.Attributor.Class("align","ql-align",a),c=new o.default.Attributor.Style("align","text-align",a);e.AlignAttribute=s,e.AlignClass=l,e.AlignStyle=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r},a=n(26),s=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),l=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});e.BackgroundClass=s,e.BackgroundStyle=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r},a={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},s=new o.default.Attributor.Attribute("direction","dir",a),l=new o.default.Attributor.Class("direction","ql-direction",a),c=new o.default.Attributor.Style("direction","direction",a);e.DirectionAttribute=s,e.DirectionClass=l,e.DirectionStyle=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(0),s=(r=a)&&r.__esModule?r:{default:r},l={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new s.default.Attributor.Class("font","ql-font",l),u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"value",value:function(t){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}(s.default.Attributor.Style),h=new u("font","font-family",l);e.FontStyle=h,e.FontClass=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r},a=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=a,e.SizeStyle=s},function(t,e,n){"use strict";t.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=a(n(0)),o=a(n(5));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(o.default.events.EDITOR_CHANGE,(function(t,e,n,i){t!==o.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&i!==o.default.sources.USER?r.transform(e):r.record(e,n))})),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],o.default.sources.USER),this.ignoreChange=!1;var r=l(n[t]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var i=this.stack.undo.pop();n=n.compose(i.undo),t=i.redo.compose(t)}else this.lastRecorded=r;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})),this.stack.redo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}(a(n(9)).default);function l(t){var e=t.reduce((function(t,e){return t+=e.delete||0}),0),n=t.length()-e;return function(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"===typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some((function(t){return null!=i.default.query(t,i.default.Scope.BLOCK)})))}(t)&&(n-=1),n}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=s,e.getLastChangeIndex=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=p(n(3)),a=p(n(2)),s=p(n(8)),l=p(n(23)),c=p(n(34)),u=p(n(59)),h=p(n(60)),d=p(n(28)),f=p(n(61));function p(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function v(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],_=[!1,"serif","monospace"],x=["1","2","3",!1],w=["small",!1,"large","huge"],S=function(t){function e(t,n){m(this,e);var r=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return t.emitter.listenDOM("click",document.body,(function e(n){if(!document.body.contains(t.root))return document.body.removeEventListener("click",e);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach((function(t){t.container.contains(n.target)||t.close()}))})),r}return v(e,t),r(e,[{key:"addModule",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t,e){t.forEach((function(t){(t.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice(3),null!=e[n]))if("direction"===n)t.innerHTML=e[n][""]+e[n].rtl;else if("string"===typeof e[n])t.innerHTML=e[n];else{var r=t.value||"";null!=r&&e[n][r]&&(t.innerHTML=e[n][r])}}))}))}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=t.map((function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&T(t,y),new h.default(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&T(t,b,"background"===n?"#ffffff":"#000000"),new u.default(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?T(t,_):t.classList.contains("ql-header")?T(t,x):t.classList.contains("ql-size")&&T(t,w)),new d.default(t)})),this.quill.on(s.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(t){t.update()}))}))}}]),e}(c.default);S.DEFAULTS=(0,o.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",(function(){if(null!=e.files&&null!=e.files[0]){var n=new FileReader;n.onload=function(n){var r=t.quill.getSelection(!0);t.quill.updateContents((new a.default).retain(r.index).delete(r.length).insert({image:n.target.result}),s.default.sources.USER),t.quill.setSelection(r.index+1,s.default.sources.SILENT),e.value=""},n.readAsDataURL(e.files[0])}})),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var E=function(t){function e(t,n){m(this,e);var r=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return v(e,t),r(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",(function(e){l.default.match(e,"enter")?(t.save(),e.preventDefault()):l.default.match(e,"escape")&&(t.cancel(),e.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:"save",value:function(){var t=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var e=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,s.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,s.default.sources.USER)),this.quill.root.scrollTop=e;break;case"video":t=function(t){var e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0":(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/":t}(t);case"formula":if(!t)break;var n=this.quill.getSelection(!0);if(null!=n){var r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,s.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",s.default.sources.USER),this.quill.setSelection(r+2,s.default.sources.USER)}}this.textbox.value="",this.hide()}}]),e}(f.default);function T(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){var r=document.createElement("option");e===n?r.setAttribute("selected","selected"):r.setAttribute("value",e),t.appendChild(r)}))}e.BaseTooltip=E,e.default=S},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,n=this.iterator();e=n();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n,r=this.iterator();n=r();){var i=n.length();if(t<i||e&&t===i&&(null==n.next||0!==n.next.length()))return[n,t];t-=i}return[null,0]},t.prototype.forEach=function(t){for(var e,n=this.iterator();e=n();)t(e)},t.prototype.forEachAt=function(t,e,n){if(!(e<=0))for(var r,i=this.find(t),o=i[0],a=t-i[1],s=this.iterator(o);(r=s())&&a<t+e;){var l=r.length();t>a?n(r,t-a,Math.min(e,a+l-t)):n(r,0,Math.min(l,t+e-a)),a+=l}},t.prototype.map=function(t){return this.reduce((function(e,n){return e.push(t(n)),e}),[])},t.prototype.reduce=function(t,e){for(var n,r=this.iterator();n=r();)e=t(e,n);return e},t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(17),o=n(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver((function(t){n.update(t)})),n.observer.observe(n.domNode,a),n.attach(),n}return r(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach((function(t){t.remove()})):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,r,i){this.update(),t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.insertAt=function(e,n,r){this.update(),t.prototype.insertAt.call(this,e,n,r)},e.prototype.optimize=function(e,n){var r=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);for(var a=[].slice.call(this.observer.takeRecords());a.length>0;)e.push(a.pop());for(var s=function(t,e){void 0===e&&(e=!0),null!=t&&t!==r&&null!=t.domNode.parentNode&&(null==t.domNode[o.DATA_KEY].mutations&&(t.domNode[o.DATA_KEY].mutations=[]),e&&s(t.parent))},l=function(t){null!=t.domNode[o.DATA_KEY]&&null!=t.domNode[o.DATA_KEY].mutations&&(t instanceof i.default&&t.children.forEach(l),t.optimize(n))},c=e,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach((function(t){var e=o.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(s(o.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,(function(t){var e=o.find(t,!1);s(e,!1),e instanceof i.default&&e.children.forEach((function(t){s(t,!1)}))}))):"attributes"===t.type&&s(e.prev)),s(e))})),this.children.forEach(l),a=(c=[].slice.call(this.observer.takeRecords())).slice();a.length>0;)e.push(a.pop())}},e.prototype.update=function(e,n){var r=this;void 0===n&&(n={}),(e=e||this.observer.takeRecords()).map((function(t){var e=o.find(t.target,!0);return null==e?null:null==e.domNode[o.DATA_KEY].mutations?(e.domNode[o.DATA_KEY].mutations=[t],e):(e.domNode[o.DATA_KEY].mutations.push(t),null)})).forEach((function(t){null!=t&&t!==r&&null!=t.domNode[o.DATA_KEY]&&t.update(t.domNode[o.DATA_KEY].mutations||[],n)})),null!=this.domNode[o.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild="block",e.scope=o.Scope.BLOCK_BLOT,e.tagName="DIV",e}(i.default);e.default=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),o=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(n){if(n.tagName!==e.tagName)return t.formats.call(this,n)},e.prototype.format=function(n,r){var o=this;n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):(this.children.forEach((function(t){t instanceof i.default||(t=t.wrap(e.blotName,!0)),o.attributes.copy(t)})),this.unwrap())},e.prototype.formatAt=function(e,n,r,i){null!=this.formats()[r]||o.query(r,o.Scope.ATTRIBUTE)?this.isolate(e,n).format(r,i):t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var i=this.next;i instanceof e&&i.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(r,i.formats())&&(i.moveChildren(this),i.remove())},e.blotName="inline",e.scope=o.Scope.INLINE_BLOT,e.tagName="SPAN",e}(i.default);e.default=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),o=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(n){var r=o.query(e.blotName).tagName;if(n.tagName!==r)return t.formats.call(this,n)},e.prototype.format=function(n,r){null!=o.query(n,o.Scope.BLOCK)&&(n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,n,r,i){null!=o.query(r,o.Scope.BLOCK)?this.format(r,i):t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.insertAt=function(e,n,r){if(null==r||null!=o.query(n,o.Scope.INLINE))t.prototype.insertAt.call(this,e,n,r);else{var i=this.split(e),a=o.create(n,r);i.parent.insertBefore(a,i)}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n)},e.blotName="block",e.scope=o.Scope.BLOCK_BLOT,e.tagName="P",e}(i.default);e.default=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,r,i){0===e&&n===this.length()?this.format(r,i):t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(n(19).default);e.default=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),o=n(1),a=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return r(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e.normalize&&(e=e.normalize()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,r){null==r?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,r)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=o.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some((function(t){return"characterData"===t.type&&t.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=o.Scope.INLINE_BLOT,e}(i.default);e.default=a},function(t,e,n){"use strict";var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)===!e?e:i.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!==typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var r=n.indexOf(t,e);return-1!==r&&r===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(e=n[o],t.call(i,e,o,n))return e}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(t,e){var n=-1,r=1,i=0;function o(t,e,u){if(t==e)return t?[[i,t]]:[];(u<0||t.length<u)&&(u=null);var d=s(t,e),f=t.substring(0,d);d=l(t=t.substring(d),e=e.substring(d));var p=t.substring(t.length-d),m=function(t,e){var c;if(!t)return[[r,e]];if(!e)return[[n,t]];var u=t.length>e.length?t:e,h=t.length>e.length?e:t,d=u.indexOf(h);if(-1!=d)return c=[[r,u.substring(0,d)],[i,h],[r,u.substring(d+h.length)]],t.length>e.length&&(c[0][0]=c[2][0]=n),c;if(1==h.length)return[[n,t],[r,e]];var f=function(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function i(t,e,n){for(var r,i,o,a,c=t.substring(n,n+Math.floor(t.length/4)),u=-1,h="";-1!=(u=e.indexOf(c,u+1));){var d=s(t.substring(n),e.substring(u)),f=l(t.substring(0,n),e.substring(0,u));h.length<f+d&&(h=e.substring(u-f,u)+e.substring(u,u+d),r=t.substring(0,n-f),i=t.substring(n+d),o=e.substring(0,u-f),a=e.substring(u+d))}return 2*h.length>=t.length?[r,i,o,a,h]:null}var o,a,c,u,h,d=i(n,r,Math.ceil(n.length/4)),f=i(n,r,Math.ceil(n.length/2));if(!d&&!f)return null;o=f?d&&d[4].length>f[4].length?d:f:d,t.length>e.length?(a=o[0],c=o[1],u=o[2],h=o[3]):(u=o[0],h=o[1],a=o[2],c=o[3]);var p=o[4];return[a,c,u,h,p]}(t,e);if(f){var p=f[0],m=f[1],g=f[2],v=f[3],y=f[4],b=o(p,g),_=o(m,v);return b.concat([[i,y]],_)}return function(t,e){for(var i=t.length,o=e.length,s=Math.ceil((i+o)/2),l=s,c=2*s,u=new Array(c),h=new Array(c),d=0;d<c;d++)u[d]=-1,h[d]=-1;u[l+1]=0,h[l+1]=0;for(var f=i-o,p=f%2!=0,m=0,g=0,v=0,y=0,b=0;b<s;b++){for(var _=-b+m;_<=b-g;_+=2){for(var x=l+_,w=(A=_==-b||_!=b&&u[x-1]<u[x+1]?u[x+1]:u[x-1]+1)-_;A<i&&w<o&&t.charAt(A)==e.charAt(w);)A++,w++;if(u[x]=A,A>i)g+=2;else if(w>o)m+=2;else if(p&&(T=l+f-_)>=0&&T<c&&-1!=h[T]&&A>=(E=i-h[T]))return a(t,e,A,w)}for(var S=-b+v;S<=b-y;S+=2){for(var E,T=l+S,M=(E=S==-b||S!=b&&h[T-1]<h[T+1]?h[T+1]:h[T-1]+1)-S;E<i&&M<o&&t.charAt(i-E-1)==e.charAt(o-M-1);)E++,M++;if(h[T]=E,E>i)y+=2;else if(M>o)v+=2;else if(!p){var A;if((x=l+f-S)>=0&&x<c&&-1!=u[x])if(w=l+(A=u[x])-x,A>=(E=i-E))return a(t,e,A,w)}}}return[[n,t],[r,e]]}(t,e)}(t=t.substring(0,t.length-d),e=e.substring(0,e.length-d));return f&&m.unshift([i,f]),p&&m.push([i,p]),c(m),null!=u&&(m=function(t,e){var r=function(t,e){if(0===e)return[i,t];for(var r=0,o=0;o<t.length;o++){var a=t[o];if(a[0]===n||a[0]===i){var s=r+a[1].length;if(e===s)return[o+1,t];if(e<s){t=t.slice();var l=e-r,c=[a[0],a[1].slice(0,l)],u=[a[0],a[1].slice(l)];return t.splice(o,1,c,u),[o+1,t]}r=s}}throw new Error("cursor_pos is out of bounds!")}(t,e),o=r[1],a=r[0],s=o[a],l=o[a+1];if(null==s)return t;if(s[0]!==i)return t;if(null!=l&&s[1]+l[1]===l[1]+s[1])return o.splice(a,2,l,s),h(o,a,2);if(null!=l&&0===l[1].indexOf(s[1])){o.splice(a,2,[l[0],s[1]],[0,s[1]]);var c=l[1].slice(s[1].length);return c.length>0&&o.splice(a+2,0,[l[0],c]),h(o,a,3)}return t}(m,u)),m=function(t){for(var e=!1,o=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},a=function(t){return t.charCodeAt(t.length-1)>=55296&&t.charCodeAt(t.length-1)<=56319},s=2;s<t.length;s+=1)t[s-2][0]===i&&a(t[s-2][1])&&t[s-1][0]===n&&o(t[s-1][1])&&t[s][0]===r&&o(t[s][1])&&(e=!0,t[s-1][1]=t[s-2][1].slice(-1)+t[s-1][1],t[s][1]=t[s-2][1].slice(-1)+t[s][1],t[s-2][1]=t[s-2][1].slice(0,-1));if(!e)return t;var l=[];for(s=0;s<t.length;s+=1)t[s][1].length>0&&l.push(t[s]);return l}(m)}function a(t,e,n,r){var i=t.substring(0,n),a=e.substring(0,r),s=t.substring(n),l=e.substring(r),c=o(i,a),u=o(s,l);return c.concat(u)}function s(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function l(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function c(t){t.push([i,""]);for(var e,o=0,a=0,u=0,h="",d="";o<t.length;)switch(t[o][0]){case r:u++,d+=t[o][1],o++;break;case n:a++,h+=t[o][1],o++;break;case i:a+u>1?(0!==a&&0!==u&&(0!==(e=s(d,h))&&(o-a-u>0&&t[o-a-u-1][0]==i?t[o-a-u-1][1]+=d.substring(0,e):(t.splice(0,0,[i,d.substring(0,e)]),o++),d=d.substring(e),h=h.substring(e)),0!==(e=l(d,h))&&(t[o][1]=d.substring(d.length-e)+t[o][1],d=d.substring(0,d.length-e),h=h.substring(0,h.length-e))),0===a?t.splice(o-u,a+u,[r,d]):0===u?t.splice(o-a,a+u,[n,h]):t.splice(o-a-u,a+u,[n,h],[r,d]),o=o-a-u+(a?1:0)+(u?1:0)+1):0!==o&&t[o-1][0]==i?(t[o-1][1]+=t[o][1],t.splice(o,1)):o++,u=0,a=0,h="",d=""}""===t[t.length-1][1]&&t.pop();var f=!1;for(o=1;o<t.length-1;)t[o-1][0]==i&&t[o+1][0]==i&&(t[o][1].substring(t[o][1].length-t[o-1][1].length)==t[o-1][1]?(t[o][1]=t[o-1][1]+t[o][1].substring(0,t[o][1].length-t[o-1][1].length),t[o+1][1]=t[o-1][1]+t[o+1][1],t.splice(o-1,1),f=!0):t[o][1].substring(0,t[o+1][1].length)==t[o+1][1]&&(t[o-1][1]+=t[o+1][1],t[o][1]=t[o][1].substring(t[o+1][1].length)+t[o+1][1],t.splice(o+1,1),f=!0)),o++;f&&c(t)}var u=o;function h(t,e,n){for(var r=e+n-1;r>=0&&r>=e-1;r--)if(r+1<t.length){var i=t[r],o=t[r+1];i[0]===o[1]&&t.splice(r,2,[i[0],i[1]+o[1]])}return t}u.INSERT=r,u.DELETE=n,u.EQUAL=i,t.exports=u},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"===typeof Object.keys?Object.keys:n).shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function i(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:i).supported=r,e.unsupported=i},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function i(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)n.call(t,e)&&i.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t,e){var n=r?r+t:t,i=this._events[n];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,a=i.length,s=new Array(a);o<a;o++)s[o]=i[o].fn;return s},a.prototype.emit=function(t,e,n,i,o,a){var s=r?r+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,i),!0;case 5:return u.fn.call(u.context,e,n,i,o),!0;case 6:return u.fn.call(u.context,e,n,i,o,a),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;case 4:u[c].fn.call(u[c].context,e,n,i);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(t,e,n){var i=new o(e,n||this),a=r?r+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],i]:this._events[a].push(i):(this._events[a]=i,this._eventsCount++),this},a.prototype.once=function(t,e,n){var i=new o(e,n||this,!0),a=r?r+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],i]:this._events[a].push(i):(this._events[a]=i,this._eventsCount++),this},a.prototype.removeListener=function(t,e,n,o){var a=r?r+t:t;if(!this._events[a])return this;if(!e)return 0===--this._eventsCount?this._events=new i:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==e||o&&!s.once||n&&s.context!==n||(0===--this._eventsCount?this._events=new i:delete this._events[a]);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==e||o&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new i:delete this._events[a]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&(0===--this._eventsCount?this._events=new i:delete this._events[e])):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=r,a.EventEmitter=a,"undefined"!==typeof t&&(t.exports=a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=b(n(3)),s=b(n(2)),l=b(n(0)),c=b(n(5)),u=b(n(10)),h=b(n(9)),d=n(36),f=n(37),p=b(n(13)),m=n(26),g=n(38),v=n(39),y=n(40);function b(t){return t&&t.__esModule?t:{default:t}}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=(0,u.default)("quill:clipboard"),w="__ql-matcher",S=[[Node.TEXT_NODE,j],[Node.TEXT_NODE,I],["br",function(t,e){return k(e,"\n")||e.insert("\n"),e}],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,D],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,function(t,e){var n={},r=t.style||{};return r.fontStyle&&"italic"===C(t).fontStyle&&(n.italic=!0),r.fontWeight&&(C(t).fontWeight.startsWith("bold")||parseInt(C(t).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(e=A(e,n)),parseFloat(r.textIndent||0)>0&&(e=(new s.default).insert("\t").concat(e)),e}],["li",function(t,e){var n=l.default.query(t);if(null==n||"list-item"!==n.blotName||!k(e,"\n"))return e;for(var r=-1,i=t.parentNode;!i.classList.contains("ql-clipboard");)"list"===(l.default.query(i)||{}).blotName&&(r+=1),i=i.parentNode;return r<=0?e:e.compose((new s.default).retain(e.length()-1).retain(1,{indent:r}))}],["b",R.bind(R,"bold")],["i",R.bind(R,"italic")],["style",function(){return new s.default}]],E=[d.AlignAttribute,g.DirectionAttribute].reduce((function(t,e){return t[e.keyName]=e,t}),{}),T=[d.AlignStyle,f.BackgroundStyle,m.ColorStyle,g.DirectionStyle,v.FontStyle,y.SizeStyle].reduce((function(t,e){return t[e.keyName]=e,t}),{}),M=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],S.concat(r.options.matchers).forEach((function(t){var e=i(t,2),o=e[0],a=e[1];(n.matchVisual||a!==D)&&r.addMatcher(o,a)})),r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){if("string"===typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[p.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,_({},p.default.blotName,e[p.default.blotName]))}var r=this.prepareMatching(),o=i(r,2),a=o[0],l=o[1],c=P(this.container,a,l);return k(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new s.default).retain(c.length()-1).delete(1))),x.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"===typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,c.default.sources.SILENT);else{var r=this.convert(e);this.quill.updateContents((new s.default).retain(t).concat(r),n),this.quill.setSelection(t+r.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new s.default).retain(n.index),i=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout((function(){r=r.concat(e.convert()).delete(n.length),e.quill.updateContents(r,c.default.sources.USER),e.quill.setSelection(r.length()-n.length,c.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=i,e.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],n=[];return this.matchers.forEach((function(r){var o=i(r,2),a=o[0],s=o[1];switch(a){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:e.push(s);break;default:[].forEach.call(t.container.querySelectorAll(a),(function(t){t[w]=t[w]||[],t[w].push(s)}))}})),[e,n]}}]),e}(h.default);function A(t,e,n){return"object"===("undefined"===typeof e?"undefined":r(e))?Object.keys(e).reduce((function(t,n){return A(t,n,e[n])}),t):t.reduce((function(t,r){return r.attributes&&r.attributes[e]?t.push(r):t.insert(r.insert,(0,a.default)({},_({},e,n),r.attributes))}),new s.default)}function C(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};var e="__ql-computed-style";return t[e]||(t[e]=window.getComputedStyle(t))}function k(t,e){for(var n="",r=t.ops.length-1;r>=0&&n.length<e.length;--r){var i=t.ops[r];if("string"!==typeof i.insert)break;n=i.insert+n}return n.slice(-1*e.length)===e}function O(t){if(0===t.childNodes.length)return!1;var e=C(t);return["block","list-item"].indexOf(e.display)>-1}function P(t,e,n){return t.nodeType===t.TEXT_NODE?n.reduce((function(e,n){return n(t,e)}),new s.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],(function(r,i){var o=P(i,e,n);return i.nodeType===t.ELEMENT_NODE&&(o=e.reduce((function(t,e){return e(i,t)}),o),o=(i[w]||[]).reduce((function(t,e){return e(i,t)}),o)),r.concat(o)}),new s.default):new s.default}function R(t,e,n){return A(n,t,!0)}function N(t,e){var n=l.default.Attributor.Attribute.keys(t),r=l.default.Attributor.Class.keys(t),i=l.default.Attributor.Style.keys(t),o={};return n.concat(r).concat(i).forEach((function(e){var n=l.default.query(e,l.default.Scope.ATTRIBUTE);null!=n&&(o[n.attrName]=n.value(t),o[n.attrName])||(null==(n=E[e])||n.attrName!==e&&n.keyName!==e||(o[n.attrName]=n.value(t)||void 0),null==(n=T[e])||n.attrName!==e&&n.keyName!==e||(n=T[e],o[n.attrName]=n.value(t)||void 0))})),Object.keys(o).length>0&&(e=A(e,o)),e}function L(t,e){var n=l.default.query(t);if(null==n)return e;if(n.prototype instanceof l.default.Embed){var r={},i=n.value(t);null!=i&&(r[n.blotName]=i,e=(new s.default).insert(r,n.formats(t)))}else"function"===typeof n.formats&&(e=A(e,n.blotName,n.formats(t)));return e}function I(t,e){return k(e,"\n")||(O(t)||e.length()>0&&t.nextSibling&&O(t.nextSibling))&&e.insert("\n"),e}function D(t,e){if(O(t)&&null!=t.nextElementSibling&&!k(e,"\n\n")){var n=t.offsetHeight+parseFloat(C(t).marginTop)+parseFloat(C(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}function j(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!C(t.parentNode).whiteSpace.startsWith("pre")){var r=function(t,e){return(e=e.replace(/[^\u00a0]/g,"")).length<1&&t?" ":e};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==t.previousSibling&&O(t.parentNode)||null!=t.previousSibling&&O(t.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==t.nextSibling&&O(t.parentNode)||null!=t.nextSibling&&O(t.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return e.insert(n)}M.DEFAULTS={matchers:[],matchVisual:!0},e.default=M,e.matchAttributor=N,e.matchBlot=L,e.matchNewline=I,e.matchSpacing=D,e.matchText=j},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(6),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}(((r=a)&&r.__esModule?r:{default:r}).default);s.blotName="bold",s.tagName=["STRONG","B"],e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=u(n(2)),a=u(n(0)),s=u(n(5)),l=u(n(10)),c=u(n(9));function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var d=(0,l.default)("quill:toolbar"),f=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i,o=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(o.options.container)){var a=document.createElement("div");m(a,o.options.container),t.container.parentNode.insertBefore(a,t.container),o.container=a}else"string"===typeof o.options.container?o.container=document.querySelector(o.options.container):o.container=o.options.container;return o.container instanceof HTMLElement?(o.container.classList.add("ql-toolbar"),o.controls=[],o.handlers={},Object.keys(o.options.handlers).forEach((function(t){o.addHandler(t,o.options.handlers[t])})),[].forEach.call(o.container.querySelectorAll("button, select"),(function(t){o.attach(t)})),o.quill.on(s.default.events.EDITOR_CHANGE,(function(t,e){t===s.default.events.SELECTION_CHANGE&&o.update(e)})),o.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){var t=o.quill.selection.getRange(),e=r(t,1)[0];o.update(e)})),o):(i=d.error("Container required for toolbar",o.options),h(o,i))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=[].find.call(t.classList,(function(t){return 0===t.indexOf("ql-")}));if(n){if(n=n.slice(3),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void d.warn("ignoring attaching to disabled format",n,t);if(null==a.default.query(n))return void d.warn("ignoring attaching to nonexistent format",n,t)}var i="SELECT"===t.tagName?"change":"click";t.addEventListener(i,(function(i){var l=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var c=t.options[t.selectedIndex];l=!c.hasAttribute("selected")&&(c.value||!1)}else l=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),i.preventDefault();e.quill.focus();var u=e.quill.selection.getRange(),h=r(u,1)[0];if(null!=e.handlers[n])e.handlers[n].call(e,l);else if(a.default.query(n).prototype instanceof a.default.Embed){if(!(l=prompt("Enter "+n)))return;e.quill.updateContents((new o.default).retain(h.index).delete(h.length).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,l)),s.default.sources.USER)}else e.quill.format(n,l,s.default.sources.USER);e.update(h)})),this.controls.push([n,t])}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach((function(n){var i=r(n,2),o=i[0],a=i[1];if("SELECT"===a.tagName){var s=void 0;if(null==t)s=null;else if(null==e[o])s=a.querySelector("option[selected]");else if(!Array.isArray(e[o])){var l=e[o];"string"===typeof l&&(l=l.replace(/\"/g,'\\"')),s=a.querySelector('option[value="'+l+'"]')}null==s?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(null==t)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var c=e[o]===a.getAttribute("value")||null!=e[o]&&e[o].toString()===a.getAttribute("value")||null==e[o]&&!a.getAttribute("value");a.classList.toggle("ql-active",c)}else a.classList.toggle("ql-active",null!=e[o])}))}}]),e}(c.default);function p(t,e,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+e),null!=n&&(r.value=n),t.appendChild(r)}function m(t,e){Array.isArray(e[0])||(e=[e]),e.forEach((function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach((function(t){if("string"===typeof t)p(n,t);else{var e=Object.keys(t)[0],r=t[e];Array.isArray(r)?function(t,e,n){var r=document.createElement("select");r.classList.add("ql-"+e),n.forEach((function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),r.appendChild(e)})),t.appendChild(r)}(n,e,r):p(n,e,r)}})),t.appendChild(n)}))}f.DEFAULTS={},f.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(e){null!=a.default.query(e,a.default.Scope.INLINE)&&t.quill.format(e,!1)}))}else this.quill.removeFormat(e,s.default.sources.USER)},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",s.default.sources.USER):t||"right"!==e||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",t,s.default.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0);if("+1"===t||"-1"===t){var i="+1"===t?1:-1;"rtl"===n.direction&&(i*=-1),this.quill.format("indent",r+i,s.default.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,s.default.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);"check"===t?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",t,s.default.sources.USER)}}},e.default=f,e.addControls=m},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(28),s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.label.innerHTML=n,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(t){t.classList.add("ql-primary")})),r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"buildItem",value:function(t){var n=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n);var r=this.label.querySelector(".ql-color-label"),i=t&&t.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=i:r.style.fill=i)}}]),e}(((r=a)&&r.__esModule?r:{default:r}).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(28),s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),(function(t){t.innerHTML=n[t.getAttribute("data-value")||""]})),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"selectItem",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n),t=t||this.defaultItem,this.label.innerHTML=t.innerHTML}}]),e}(((r=a)&&r.__esModule?r:{default:r}).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"})),this.hide()}return r(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect(),o=0;if(i.right>r.right&&(o=r.right-i.right,this.root.style.left=e+o+"px"),i.left<r.left&&(o=r.left-i.left,this.root.style.left=e+o+"px"),i.bottom>r.bottom){var a=i.bottom-i.top,s=t.bottom-t.top+a;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=f(n(3)),s=f(n(8)),l=n(43),c=f(l),u=f(n(27)),h=n(15),d=f(n(41));function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function g(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(t){function e(t,n){p(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=v);var r=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.container.classList.add("ql-snow"),r}return g(e,t),o(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),d.default),this.tooltip=new b(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(e,n){t.handlers.link.call(t,!n.format.link)}))}}]),e}(c.default);y.DEFAULTS=(0,a.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var b=function(t){function e(t,n){p(this,e);var r=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return g(e,t),o(e,[{key:"listen",value:function(){var t=this;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,s.default.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()})),this.quill.on(s.default.events.SELECTION_CHANGE,(function(e,n,i){if(null!=e){if(0===e.length&&i===s.default.sources.USER){var o=t.quill.scroll.descendant(u.default,e.index),a=r(o,2),l=a[0],c=a[1];if(null!=l){t.linkRange=new h.Range(e.index-c,l.length());var d=u.default.formats(l.domNode);return t.preview.textContent=d,t.preview.setAttribute("href",d),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}}))}},{key:"show",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}(l.BaseTooltip);b.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=I(n(29)),i=n(36),o=n(38),a=n(64),s=I(n(65)),l=I(n(66)),c=n(67),u=I(c),h=n(37),d=n(26),f=n(39),p=n(40),m=I(n(56)),g=I(n(68)),v=I(n(27)),y=I(n(69)),b=I(n(70)),_=I(n(71)),x=I(n(72)),w=I(n(73)),S=n(13),E=I(S),T=I(n(74)),M=I(n(75)),A=I(n(57)),C=I(n(41)),k=I(n(28)),O=I(n(59)),P=I(n(60)),R=I(n(61)),N=I(n(108)),L=I(n(62));function I(t){return t&&t.__esModule?t:{default:t}}r.default.register({"attributors/attribute/direction":o.DirectionAttribute,"attributors/class/align":i.AlignClass,"attributors/class/background":h.BackgroundClass,"attributors/class/color":d.ColorClass,"attributors/class/direction":o.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":p.SizeClass,"attributors/style/align":i.AlignStyle,"attributors/style/background":h.BackgroundStyle,"attributors/style/color":d.ColorStyle,"attributors/style/direction":o.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":p.SizeStyle},!0),r.default.register({"formats/align":i.AlignClass,"formats/direction":o.DirectionClass,"formats/indent":a.IndentClass,"formats/background":h.BackgroundStyle,"formats/color":d.ColorStyle,"formats/font":f.FontClass,"formats/size":p.SizeClass,"formats/blockquote":s.default,"formats/code-block":E.default,"formats/header":l.default,"formats/list":u.default,"formats/bold":m.default,"formats/code":S.Code,"formats/italic":g.default,"formats/link":v.default,"formats/script":y.default,"formats/strike":b.default,"formats/underline":_.default,"formats/image":x.default,"formats/video":w.default,"formats/list/item":c.ListItem,"modules/formula":T.default,"modules/syntax":M.default,"modules/toolbar":A.default,"themes/bubble":N.default,"themes/snow":L.default,"ui/icons":C.default,"ui/picker":k.default,"ui/icon-picker":P.default,"ui/color-picker":O.default,"ui/tooltip":R.default},!0),e.default=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(0),s=(r=a)&&r.__esModule?r:{default:r},l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"add",value:function(t,n){if("+1"===n||"-1"===n){var r=this.value(t)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(t),!0):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,n)}},{key:"canAdd",value:function(t,n){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,n)||o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,parseInt(n))}},{key:"value",value:function(t){return parseInt(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}(s.default.Attributor.Class),c=new l("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(4),o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=i)&&r.__esModule?r:{default:r}).default);o.blotName="blockquote",o.tagName="blockquote",e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(4),a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}(((r=o)&&r.__esModule?r:{default:r}).default);a.blotName="header",a.tagName=["H1","H2","H3","H4","H5","H6"],e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=l(n(0)),a=l(n(4)),s=l(n(25));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),r(e,[{key:"format",value:function(t,n){t!==f.blotName||n?i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n):this.replaceWith(o.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,n){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,n),this):(this.parent.unwrap(),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,n))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:i(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}(a.default);d.blotName="list-item",d.tagName="LI";var f=function(t){function e(t){c(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=function(e){if(e.target.parentNode===t){var r=n.statics.formats(t),i=o.default.find(e.target);"checked"===r?i.format("list","unchecked"):"unchecked"===r&&i.format("list","checked")}};return t.addEventListener("touchstart",r),t.addEventListener("mousedown",r),n}return h(e,t),r(e,null,[{key:"create",value:function(t){var n="ordered"===t?"OL":"UL",r=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);return"checked"!==t&&"unchecked"!==t||r.setAttribute("data-checked","checked"===t),r}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),r(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return t={},e=this.statics.blotName,n=this.statics.formats(this.domNode),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t;var t,e,n}},{key:"insertBefore",value:function(t,n){if(t instanceof d)i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n);else{var r=null==n?this.length():n.offset(this),o=this.split(r);o.parent.insertBefore(t,o)}}},{key:"optimize",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var n=o.default.create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n)}i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}]),e}(s.default);f.blotName="list",f.scope=o.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[d],e.ListItem=d,e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(56),o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=i)&&r.__esModule?r:{default:r}).default);o.blotName="italic",o.tagName=["EM","I"],e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(6),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}(((r=a)&&r.__esModule?r:{default:r}).default);s.blotName="script",s.tagName=["SUB","SUP"],e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(6),o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=i)&&r.__esModule?r:{default:r}).default);o.blotName="strike",o.tagName="S",e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(6),o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=i)&&r.__esModule?r:{default:r}).default);o.blotName="underline",o.tagName="U",e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(0),s=(r=a)&&r.__esModule?r:{default:r},l=n(27),c=["alt","height","width"],u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"format",value:function(t,n){c.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"===typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return c.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return(0,l.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(s.default.Embed);u.blotName="image",u.tagName="IMG",e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(4),s=n(27),l=(r=s)&&r.__esModule?r:{default:r},c=["height","width"],u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"format",value:function(t,n){c.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return c.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"sanitize",value:function(t){return l.default.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(a.BlockEmbed);u.blotName="video",u.className="ql-video",u.tagName="IFRAME",e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=l(n(35)),a=l(n(5)),s=l(n(9));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),r(e,null,[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"===typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}(o.default);d.blotName="formula",d.className="ql-formula",d.tagName="SPAN";var f=function(t){function e(){c(this,e);var t=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return t}return h(e,t),r(e,null,[{key:"register",value:function(){a.default.register(d,!0)}}]),e}(s.default);e.FormulaBlot=d,e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=l(n(0)),a=l(n(5)),s=l(n(9));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),r(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t)}},{key:"highlight",value:function(t){var e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}]),e}(l(n(13)).default);d.className="ql-syntax";var f=new o.default.Attributor.Class("token","hljs",{scope:o.default.Scope.INLINE}),p=function(t){function e(t,n){c(this,e);var r=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if("function"!==typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var i=null;return r.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(i),i=setTimeout((function(){r.highlight(),i=null}),r.options.interval)})),r.highlight(),r}return h(e,t),r(e,null,[{key:"register",value:function(){a.default.register(f,!0),a.default.register(d,!0)}}]),r(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(a.default.sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(d).forEach((function(e){e.highlight(t.options.highlight)})),this.quill.update(a.default.sources.SILENT),null!=e&&this.quill.setSelection(e,a.default.sources.SILENT)}}}]),e}(s.default);p.DEFAULTS={highlight:null==window.hljs?null:function(t){return window.hljs.highlightAuto(t).value},interval:1e3},e.CodeBlock=d,e.CodeToken=f,e.default=p},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var r=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=h(n(3)),a=h(n(8)),s=n(43),l=h(s),c=n(15),u=h(n(41));function h(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(t){function e(t,n){d(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=m);var r=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.container.classList.add("ql-bubble"),r}return p(e,t),i(e,[{key:"extendToolbar",value:function(t){this.tooltip=new v(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),u.default)}}]),e}(l.default);g.DEFAULTS=(0,o.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var v=function(t){function e(t,n){d(this,e);var r=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.on(a.default.events.EDITOR_CHANGE,(function(t,e,n,i){if(t===a.default.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&i===a.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var o=r.quill.getLines(e.index,e.length);if(1===o.length)r.position(r.quill.getBounds(e));else{var s=o[o.length-1],l=r.quill.getIndex(s),u=Math.min(s.length()-1,e.index+e.length-l),h=r.quill.getBounds(new c.Range(l,u));r.position(h)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()})),r}return p(e,t),i(e,[{key:"listen",value:function(){var t=this;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){t.root.classList.remove("ql-editing")})),this.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),i=this.root.querySelector(".ql-tooltip-arrow");if(i.style.marginLeft="",0===n)return n;i.style.marginLeft=-1*n-i.offsetWidth/2+"px"}}]),e}(s.BaseTooltip);v.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=v,e.default=g},function(t,e,n){t.exports=n(63)}]).default},t.exports=e()},4463:(t,e,n)=>{"use strict";var r=n(2791),i=n(5296);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(p,t)||!h.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function I(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=L&&t[L]||t["@@iterator"])?t:null}var D,j=Object.assign;function U(t){if(void 0===D)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);D=e&&e[1]||""}return"\n"+D+t}var F=!1;function z(t,e){if(!t||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?U(t):""}function B(t){switch(t.tag){case 5:return U(t.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return t=z(t.type,!1);case 11:return t=z(t.type.render,!1);case 1:return t=z(t.type,!0);default:return""}}function V(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case w:return"Portal";case T:return"Profiler";case E:return"StrictMode";case k:return"Suspense";case O:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case A:return(t.displayName||"Context")+".Consumer";case M:return(t._context.displayName||"Context")+".Provider";case C:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case P:return null!==(e=t.displayName||null)?e:V(t.type)||"Memo";case R:e=t._payload,t=t._init;try{return V(t(e))}catch(n){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(e);case 8:return e===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function q(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function W(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function G(t){t._valueTracker||(t._valueTracker=function(t){var e=W(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function X(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=W(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function K(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Y(t,e){var n=e.checked;return j({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function $(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=q(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Q(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function Z(t,e){Q(t,e);var n=q(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,q(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function J(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&K(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+q(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return j({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:q(n)}}function ot(t,e){var n=q(e.value),r=q(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,ht=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function mt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function gt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=mt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var vt=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(vt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=null;function xt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var wt=null,St=null,Et=null;function Tt(t){if(t=bi(t)){if("function"!==typeof wt)throw Error(o(280));var e=t.stateNode;e&&(e=xi(e),wt(t.stateNode,t.type,e))}}function Mt(t){St?Et?Et.push(t):Et=[t]:St=t}function At(){if(St){var t=St,e=Et;if(Et=St=null,Tt(t),e)for(t=0;t<e.length;t++)Tt(e[t])}}function Ct(t,e){return t(e)}function kt(){}var Ot=!1;function Pt(t,e,n){if(Ot)return t(e,n);Ot=!0;try{return Ct(t,e,n)}finally{Ot=!1,(null!==St||null!==Et)&&(kt(),At())}}function Rt(t,e){var n=t.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}var Nt=!1;if(u)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){Nt=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch(ut){Nt=!1}function It(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Dt=!1,jt=null,Ut=!1,Ft=null,zt={onError:function(t){Dt=!0,jt=t}};function Bt(t,e,n,r,i,o,a,s,l){Dt=!1,jt=null,It.apply(zt,arguments)}function Vt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function qt(t){if(Vt(t)!==t)throw Error(o(188))}function Wt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Vt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qt(i),t;if(a===r)return qt(i),e;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?Gt(t):null}function Gt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Gt(t);if(null!==e)return e;t=t.sibling}return null}var Xt=i.unstable_scheduleCallback,Kt=i.unstable_cancelCallback,Yt=i.unstable_shouldYield,$t=i.unstable_requestPaint,Qt=i.unstable_now,Zt=i.unstable_getCurrentPriorityLevel,Jt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,oe=null;var ae=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(se(t)/le|0)|0},se=Math.log,le=Math.LN2;var ce=64,ue=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=he(s):0!==(o&=a)&&(r=he(o))}else 0!==(a=n&~i)?r=he(a):0!==o&&(r=he(o));if(0===r)return 0;if(0!==e&&e!==r&&0===(e&i)&&((i=r&-r)>=(o=e&-e)||16===i&&0!==(4194240&o)))return e;if(0!==(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-ae(e)),r|=t[n],e&=~i;return r}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function me(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function ge(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ve(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=n}function ye(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ae(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function _e(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var xe,we,Se,Ee,Te,Me=!1,Ae=[],Ce=null,ke=null,Oe=null,Pe=new Map,Re=new Map,Ne=[],Le="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ie(t,e){switch(t){case"focusin":case"focusout":Ce=null;break;case"dragenter":case"dragleave":ke=null;break;case"mouseover":case"mouseout":Oe=null;break;case"pointerover":case"pointerout":Pe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Re.delete(e.pointerId)}}function De(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==e&&(null!==(e=bi(e))&&we(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function je(t){var e=yi(t.target);if(null!==e){var n=Vt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ht(n)))return t.blockedOn=e,void Te(t.priority,(function(){Se(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Ue(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=bi(n))&&we(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);_t=r,n.target.dispatchEvent(r),_t=null,e.shift()}return!0}function Fe(t,e,n){Ue(t)&&n.delete(e)}function ze(){Me=!1,null!==Ce&&Ue(Ce)&&(Ce=null),null!==ke&&Ue(ke)&&(ke=null),null!==Oe&&Ue(Oe)&&(Oe=null),Pe.forEach(Fe),Re.forEach(Fe)}function Be(t,e){t.blockedOn===e&&(t.blockedOn=null,Me||(Me=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ze)))}function Ve(t){function e(e){return Be(e,t)}if(0<Ae.length){Be(Ae[0],t);for(var n=1;n<Ae.length;n++){var r=Ae[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Ce&&Be(Ce,t),null!==ke&&Be(ke,t),null!==Oe&&Be(Oe,t),Pe.forEach(e),Re.forEach(e),n=0;n<Ne.length;n++)(r=Ne[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Ne.length&&null===(n=Ne[0]).blockedOn;)je(n),null===n.blockedOn&&Ne.shift()}var He=_.ReactCurrentBatchConfig,qe=!0;function We(t,e,n,r){var i=be,o=He.transition;He.transition=null;try{be=1,Xe(t,e,n,r)}finally{be=i,He.transition=o}}function Ge(t,e,n,r){var i=be,o=He.transition;He.transition=null;try{be=4,Xe(t,e,n,r)}finally{be=i,He.transition=o}}function Xe(t,e,n,r){if(qe){var i=Ye(t,e,n,r);if(null===i)qr(t,e,r,Ke,n),Ie(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Ce=De(Ce,t,e,n,r,i),!0;case"dragenter":return ke=De(ke,t,e,n,r,i),!0;case"mouseover":return Oe=De(Oe,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pe.set(o,De(Pe.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Re.set(o,De(Re.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(Ie(t,r),4&e&&-1<Le.indexOf(t)){for(;null!==i;){var o=bi(i);if(null!==o&&xe(o),null===(o=Ye(t,e,n,r))&&qr(t,e,r,Ke,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(t,e,r,null,n)}}var Ke=null;function Ye(t,e,n,r){if(Ke=null,null!==(t=yi(t=xt(r))))if(null===(e=Vt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ke=t,null}function $e(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zt()){case Jt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var Qe=null,Ze=null,Je=null;function tn(){if(Je)return Je;var t,e,n=Ze,r=n.length,i="value"in Qe?Qe.value:Qe.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Je=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=j({},cn,{view:0,detail:0}),dn=on(hn),fn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(an=t.screenX-ln.screenX,sn=t.screenY-ln.screenY):sn=an=0,ln=t),an)},movementY:function(t){return"movementY"in t?t.movementY:sn}}),pn=on(fn),mn=on(j({},fn,{dataTransfer:0})),gn=on(j({},hn,{relatedTarget:0})),vn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=on(yn),_n=on(j({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function Tn(){return En}var Mn=j({},hn,{key:function(t){if(t.key){var e=xn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?wn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),An=on(Mn),Cn=on(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=on(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),On=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Pn),Nn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Dn=u&&"TextEvent"in window&&!In,jn=u&&(!Ln||In&&8<In&&11>=In),Un=String.fromCharCode(32),Fn=!1;function zn(t,e){switch(t){case"keyup":return-1!==Nn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function Wn(t,e,n,r){Mt(r),0<(e=Gr(e,"onChange")).length&&(n=new un("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gn=null,Xn=null;function Kn(t){Ur(t,0)}function Yn(t){if(X(_i(t)))return t}function $n(t,e){if("change"===t)return e}var Qn=!1;if(u){var Zn;if(u){var Jn="oninput"in document;if(!Jn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Jn="function"===typeof tr.oninput}Zn=Jn}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function er(){Gn&&(Gn.detachEvent("onpropertychange",nr),Xn=Gn=null)}function nr(t){if("value"===t.propertyName&&Yn(Xn)){var e=[];Wn(e,Xn,t,xt(t)),Pt(Kn,e)}}function rr(t,e,n){"focusin"===t?(er(),Xn=n,(Gn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Yn(Xn)}function or(t,e){if("click"===t)return Yn(e)}function ar(t,e){if("input"===t||"change"===t)return Yn(e)}var sr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function lr(t,e){if(sr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function cr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ur(t,e){var n,r=cr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cr(r)}}function hr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function dr(){for(var t=window,e=K();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=K((t=e.contentWindow).document)}return e}function fr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pr(t){var e=dr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function _r(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gr)))}function xr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},Er={};function Tr(t){if(Sr[t])return Sr[t];if(!wr[t])return t;var e,n=wr[t];for(e in n)if(n.hasOwnProperty(e)&&e in Er)return Sr[t]=n[e];return t}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Mr=Tr("animationend"),Ar=Tr("animationiteration"),Cr=Tr("animationstart"),kr=Tr("transitionend"),Or=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(t,e){Or.set(t,e),l(e,[t])}for(var Nr=0;Nr<Pr.length;Nr++){var Lr=Pr[Nr];Rr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Rr(Mr,"onAnimationEnd"),Rr(Ar,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(kr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function jr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,a,s,l,c){if(Bt.apply(this,arguments),Dt){if(!Dt)throw Error(o(198));var u=jt;Dt=!1,jt=null,Ut||(Ut=!0,Ft=u)}}(r,e,void 0,t),t.currentTarget=null}function Ur(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break t;jr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break t;jr(i,s,c),o=l}}}if(Ut)throw t=Ft,Ut=!1,Ft=null,t}function Fr(t,e){var n=e[mi];void 0===n&&(n=e[mi]=new Set);var r=t+"__bubble";n.has(r)||(Hr(e,t,2,!1),n.add(r))}function zr(t,e,n){var r=0;e&&(r|=4),Hr(n,t,r,e)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(t){if(!t[Br]){t[Br]=!0,a.forEach((function(e){"selectionchange"!==e&&(Dr.has(e)||zr(e,!1,t),zr(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Br]||(e[Br]=!0,zr("selectionchange",!1,e))}}function Hr(t,e,n,r){switch($e(e)){case 1:var i=We;break;case 4:i=Ge;break;default:i=Xe}n=i.bind(null,e,n,t),i=void 0,!Nt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qr(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue t}s=s.parentNode}}r=r.return}Pt((function(){var r=o,i=xt(n),a=[];t:{var s=Or.get(t);if(void 0!==s){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=kn;break;case Mr:case Ar:case Cr:l=vn;break;case kr:l=On;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Rt(p,d))&&u.push(Wr(p,m,f)))),h)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===_t||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Vt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=Cn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?s:_i(l),f=null==c?s:_i(c),(s=new u(m,p+"leave",l,n,i)).target=h,s.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)t:{for(d=c,p=0,f=u=l;f;f=Xr(f))p++;for(f=0,m=d;m;m=Xr(m))f++;for(;0<p-f;)u=Xr(u),p--;for(;0<f-p;)d=Xr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break t;u=Xr(u),d=Xr(d)}u=null}else u=null;null!==l&&Kr(a,s,l,u,!1),null!==c&&null!==h&&Kr(a,h,c,u,!0)}if("select"===(l=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=$n;else if(qn(s))if(Qn)g=ar;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(t,r))?Wn(a,g,n,i):(v&&v(t,s,r),"focusout"===t&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&tt(s,"number",s.value)),v=r?_i(r):window,t){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":_r(a,n,i)}var y;if(Ln)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Vn?zn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=tn()):(Ze="value"in(Qe=i)?Qe.value:Qe.textContent,Vn=!0)),0<(v=Gr(r,b)).length&&(b=new _n(b,t,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Dn?function(t,e){switch(t){case"compositionend":return Bn(e);case"keypress":return 32!==e.which?null:(Fn=!0,Un);case"textInput":return(t=e.data)===Un&&Fn?null:t;default:return null}}(t,n):function(t,e){if(Vn)return"compositionend"===t||!Ln&&zn(t,e)?(t=tn(),Je=Ze=Qe=null,Vn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Ur(a,e)}))}function Wr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Rt(t,n))&&r.unshift(Wr(t,o,i)),null!=(o=Rt(t,e))&&r.push(Wr(t,o,i))),t=t.return}return r}function Xr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Kr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Rt(n,o))&&a.unshift(Wr(n,l,s)):i||null!=(l=Rt(n,o))&&a.push(Wr(n,l,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Qr(t){return("string"===typeof t?t:""+t).replace(Yr,"\n").replace($r,"")}function Zr(t,e,n){if(e=Qr(e),Qr(t)!==e&&n)throw Error(o(425))}function Jr(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(t){return oi.resolve(null).then(t).catch(si)}:ri;function si(t){setTimeout((function(){throw t}))}function li(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void Ve(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ve(e)}function ci(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ui(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(t){var e=t[di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[di]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ui(t);null!==t;){if(n=t[di])return n;t=ui(t)}return e}n=(t=n).parentNode}return null}function bi(t){return!(t=t[di]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function _i(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function xi(t){return t[fi]||null}var wi=[],Si=-1;function Ei(t){return{current:t}}function Ti(t){0>Si||(t.current=wi[Si],wi[Si]=null,Si--)}function Mi(t,e){Si++,wi[Si]=t.current,t.current=e}var Ai={},Ci=Ei(Ai),ki=Ei(!1),Oi=Ai;function Pi(t,e){var n=t.type.contextTypes;if(!n)return Ai;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ni(){Ti(ki),Ti(Ci)}function Li(t,e,n){if(Ci.current!==Ai)throw Error(o(168));Mi(Ci,e),Mi(ki,n)}function Ii(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,H(t)||"Unknown",i));return j({},n,r)}function Di(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ai,Oi=Ci.current,Mi(Ci,t),Mi(ki,ki.current),!0}function ji(t,e,n){var r=t.stateNode;if(!r)throw Error(o(169));n?(t=Ii(t,e,Oi),r.__reactInternalMemoizedMergedChildContext=t,Ti(ki),Ti(Ci),Mi(Ci,t)):Ti(ki),Mi(ki,n)}var Ui=null,Fi=!1,zi=!1;function Bi(t){null===Ui?Ui=[t]:Ui.push(t)}function Vi(){if(!zi&&null!==Ui){zi=!0;var t=0,e=be;try{var n=Ui;for(be=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(t+1)),Xt(Jt,Vi),i}finally{be=e,zi=!1}}return null}var Hi=[],qi=0,Wi=null,Gi=0,Xi=[],Ki=0,Yi=null,$i=1,Qi="";function Zi(t,e){Hi[qi++]=Gi,Hi[qi++]=Wi,Wi=t,Gi=e}function Ji(t,e,n){Xi[Ki++]=$i,Xi[Ki++]=Qi,Xi[Ki++]=Yi,Yi=t;var r=$i;t=Qi;var i=32-ae(r)-1;r&=~(1<<i),n+=1;var o=32-ae(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$i=1<<32-ae(e)+i|n<<i|r,Qi=o+t}else $i=1<<o|n<<i|r,Qi=t}function to(t){null!==t.return&&(Zi(t,1),Ji(t,1,0))}function eo(t){for(;t===Wi;)Wi=Hi[--qi],Hi[qi]=null,Gi=Hi[--qi],Hi[qi]=null;for(;t===Yi;)Yi=Xi[--Ki],Xi[Ki]=null,Qi=Xi[--Ki],Xi[Ki]=null,$i=Xi[--Ki],Xi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function ao(t,e){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function so(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,ro=ci(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,ro=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Yi?{id:$i,overflow:Qi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,ro=null,!0);default:return!1}}function lo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function co(t){if(io){var e=ro;if(e){var n=e;if(!so(t,e)){if(lo(t))throw Error(o(418));e=ci(n.nextSibling);var r=no;e&&so(t,e)?ao(r,n):(t.flags=-4097&t.flags|2,io=!1,no=t)}}else{if(lo(t))throw Error(o(418));t.flags=-4097&t.flags|2,io=!1,no=t}}}function uo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function ho(t){if(t!==no)return!1;if(!io)return uo(t),io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=ro)){if(lo(t))throw fo(),Error(o(418));for(;e;)ao(t,e),e=ci(e.nextSibling)}if(uo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ro=ci(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ro=null}}else ro=no?ci(t.stateNode.nextSibling):null;return!0}function fo(){for(var t=ro;t;)t=ci(t.nextSibling)}function po(){ro=no=null,io=!1}function mo(t){null===oo?oo=[t]:oo.push(t)}var go=_.ReactCurrentBatchConfig;function vo(t,e){if(t&&t.defaultProps){for(var n in e=j({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var yo=Ei(null),bo=null,_o=null,xo=null;function wo(){xo=_o=bo=null}function So(t){var e=yo.current;Ti(yo),t._currentValue=e}function Eo(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function To(t,e){bo=t,xo=_o=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(_s=!0),t.firstContext=null)}function Mo(t){var e=t._currentValue;if(xo!==t)if(t={context:t,memoizedValue:e,next:null},null===_o){if(null===bo)throw Error(o(308));_o=t,bo.dependencies={lanes:0,firstContext:t}}else _o=_o.next=t;return e}var Ao=null;function Co(t){null===Ao?Ao=[t]:Ao.push(t)}function ko(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,Co(e)):(n.next=i.next,i.next=n),e.interleaved=n,Oo(t,r)}function Oo(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Ro(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function No(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Io(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&kl)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Oo(t,n)}return null===(i=r.interleaved)?(e.next=e,Co(r)):(e.next=i.next,i.next=e),r.interleaved=e,Oo(t,n)}function Do(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ye(t,n)}}function jo(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Uo(t,e,n,r){var i=t.updateQueue;Po=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=t.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(a=0,u=c=l=null,s=o;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var p=t,m=s;switch(d=e,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break t;h=j({},h,d);break t;case 2:Po=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(e=i.shared.interleaved)){i=e;do{a|=i.lane,i=i.next}while(i!==e)}else null===o&&(i.shared.lanes=0);jl|=a,t.lanes=a,t.memoizedState=h}}function Fo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var zo=(new r.Component).refs;function Bo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:j({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var Vo={isMounted:function(t){return!!(t=t._reactInternals)&&Vt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ec(),i=nc(t),o=Lo(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Io(t,o,i))&&(rc(e,t,i,r),Do(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ec(),i=nc(t),o=Lo(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Io(t,o,i))&&(rc(e,t,i,r),Do(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ec(),r=nc(t),i=Lo(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Io(t,i,r))&&(rc(e,t,r,n),Do(e,t,r))}};function Ho(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function qo(t,e,n){var r=!1,i=Ai,o=e.contextType;return"object"===typeof o&&null!==o?o=Mo(o):(i=Ri(e)?Oi:Ci.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?Pi(t,i):Ai),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Vo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Wo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vo.enqueueReplaceState(e,e.state,null)}function Go(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=zo,Ro(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=Mo(o):(o=Ri(e)?Oi:Ci.current,i.context=Pi(t,o)),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(Bo(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Vo.enqueueReplaceState(i,i.state,null),Uo(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function Xo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,t));var i=r,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=i.refs;e===zo&&(e=i.refs={}),null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function Ko(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yo(t){return(0,t._init)(t._payload)}function $o(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Lc(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Uc(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){var o=n.type;return o===S?h(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&Yo(o)===e.type)?((r=i(e,n.props)).ref=Xo(t,e,n),r.return=t,r):((r=Ic(n.type,n.key,n.props,null,t.mode,r)).ref=Xo(t,e,n),r.return=t,r)}function u(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Fc(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Dc(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Uc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case x:return(n=Ic(e.type,e.key,e.props,null,t.mode,n)).ref=Xo(t,null,e),n.return=t,n;case w:return(e=Fc(e,t.mode,n)).return=t,e;case R:return d(t,(0,e._init)(e._payload),n)}if(et(e)||I(e))return(e=Dc(e,t.mode,n,null)).return=t,e;Ko(t,e)}return null}function f(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(t,e,n,r):null;case w:return n.key===i?u(t,e,n,r):null;case R:return f(t,e,(i=n._init)(n._payload),r)}if(et(n)||I(n))return null!==i?null:h(t,e,n,r,null);Ko(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case w:return u(e,t=t.get(null===r.key?n:r.key)||null,r,i);case R:return p(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||I(r))return h(e,t=t.get(n)||null,r,i,null);Ko(e,r)}return null}function m(i,o,s,l){for(var c=null,u=null,h=o,m=o=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,s[m],l);if(null===v){null===h&&(h=g);break}t&&h&&null===v.alternate&&e(i,h),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===s.length)return n(i,h),io&&Zi(i,m),c;if(null===h){for(;m<s.length;m++)null!==(h=d(i,s[m],l))&&(o=a(h,o,m),null===u?c=h:u.sibling=h,u=h);return io&&Zi(i,m),c}for(h=r(i,h);m<s.length;m++)null!==(g=p(h,i,m,s[m],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return t&&h.forEach((function(t){return e(i,t)})),io&&Zi(i,m),c}function g(i,s,l,c){var u=I(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}t&&m&&null===b.alternate&&e(i,m),s=a(b,s,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),io&&Zi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(s=a(y,s,g),null===h?u=y:h.sibling=y,h=y);return io&&Zi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(t&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===h?u=y:h.sibling=y,h=y);return t&&m.forEach((function(t){return e(i,t)})),io&&Zi(i,g),u}return function t(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:t:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Yo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Xo(r,u,a),o.return=r,r=o;break t}n(r,u);break}e(r,u),u=u.sibling}a.type===S?((o=Dc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Ic(a.type,a.key,a.props,null,r.mode,l)).ref=Xo(r,o,a),l.return=r,r=l)}return s(r);case w:t:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break t}n(r,o);break}e(r,o),o=o.sibling}(o=Fc(a,r.mode,l)).return=r,r=o}return s(r);case R:return t(r,o,(u=a._init)(a._payload),l)}if(et(a))return m(r,o,a,l);if(I(a))return g(r,o,a,l);Ko(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Uc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Qo=$o(!0),Zo=$o(!1),Jo={},ta=Ei(Jo),ea=Ei(Jo),na=Ei(Jo);function ra(t){if(t===Jo)throw Error(o(174));return t}function ia(t,e){switch(Mi(na,e),Mi(ea,t),Mi(ta,Jo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Ti(ta),Mi(ta,e)}function oa(){Ti(ta),Ti(ea),Ti(na)}function aa(t){ra(na.current);var e=ra(ta.current),n=lt(e,t.type);e!==n&&(Mi(ea,t),Mi(ta,n))}function sa(t){ea.current===t&&(Ti(ta),Ti(ea))}var la=Ei(0);function ca(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ua=[];function ha(){for(var t=0;t<ua.length;t++)ua[t]._workInProgressVersionPrimary=null;ua.length=0}var da=_.ReactCurrentDispatcher,fa=_.ReactCurrentBatchConfig,pa=0,ma=null,ga=null,va=null,ya=!1,ba=!1,_a=0,xa=0;function wa(){throw Error(o(321))}function Sa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function Ea(t,e,n,r,i,a){if(pa=a,ma=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,da.current=null===t||null===t.memoizedState?ss:ls,t=n(r,i),ba){a=0;do{if(ba=!1,_a=0,25<=a)throw Error(o(301));a+=1,va=ga=null,e.updateQueue=null,da.current=cs,t=n(r,i)}while(ba)}if(da.current=as,e=null!==ga&&null!==ga.next,pa=0,va=ga=ma=null,ya=!1,e)throw Error(o(300));return t}function Ta(){var t=0!==_a;return _a=0,t}function Ma(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ma.memoizedState=va=t:va=va.next=t,va}function Aa(){if(null===ga){var t=ma.alternate;t=null!==t?t.memoizedState:null}else t=ga.next;var e=null===va?ma.memoizedState:va.next;if(null!==e)va=e,ga=t;else{if(null===t)throw Error(o(310));t={memoizedState:(ga=t).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===va?ma.memoizedState=va=t:va=va.next=t}return va}function Ca(t,e){return"function"===typeof e?e(t):e}function ka(t){var e=Aa(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var h=u.lane;if((pa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,s=r):c=c.next=d,ma.lanes|=h,jl|=h}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,e.memoizedState)||(_s=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{a=i.lane,ma.lanes|=a,jl|=a,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Oa(t){var e=Aa(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=t(a,s.action),s=s.next}while(s!==i);sr(a,e.memoizedState)||(_s=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Pa(){}function Ra(t,e){var n=ma,r=Aa(),i=e(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,_s=!0),r=r.queue,qa(Ia.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Fa(9,La.bind(null,n,r,i,e),void 0,null),null===Ol)throw Error(o(349));0!==(30&pa)||Na(n,e,i)}return i}function Na(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=ma.updateQueue)?(e={lastEffect:null,stores:null},ma.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function La(t,e,n,r){e.value=n,e.getSnapshot=r,Da(e)&&ja(t)}function Ia(t,e,n){return n((function(){Da(e)&&ja(t)}))}function Da(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch(r){return!0}}function ja(t){var e=Oo(t,1);null!==e&&rc(e,t,1,-1)}function Ua(t){var e=Ma();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},e.queue=t,t=t.dispatch=ns.bind(null,ma,t),[e.memoizedState,t]}function Fa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=ma.updateQueue)?(e={lastEffect:null,stores:null},ma.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function za(){return Aa().memoizedState}function Ba(t,e,n,r){var i=Ma();ma.flags|=t,i.memoizedState=Fa(1|e,n,void 0,void 0===r?null:r)}function Va(t,e,n,r){var i=Aa();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=Fa(e,n,o,r))}ma.flags|=t,i.memoizedState=Fa(1|e,n,o,r)}function Ha(t,e){return Ba(8390656,8,t,e)}function qa(t,e){return Va(2048,8,t,e)}function Wa(t,e){return Va(4,2,t,e)}function Ga(t,e){return Va(4,4,t,e)}function Xa(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ka(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Va(4,4,Xa.bind(null,e,t),n)}function Ya(){}function $a(t,e){var n=Aa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Sa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Qa(t,e){var n=Aa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Sa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Za(t,e,n){return 0===(21&pa)?(t.baseState&&(t.baseState=!1,_s=!0),t.memoizedState=n):(sr(n,e)||(n=me(),ma.lanes|=n,jl|=n,t.baseState=!0),e)}function Ja(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var r=fa.transition;fa.transition={};try{t(!1),e()}finally{be=n,fa.transition=r}}function ts(){return Aa().memoizedState}function es(t,e,n){var r=nc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(t))is(e,n);else if(null!==(n=ko(t,e,n,r))){rc(n,t,r,ec()),os(n,e,r)}}function ns(t,e,n){var r=nc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(t))is(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=e.interleaved;return null===l?(i.next=i,Co(e)):(i.next=l.next,l.next=i),void(e.interleaved=i)}}catch(c){}null!==(n=ko(t,e,i,r))&&(rc(n,t,r,i=ec()),os(n,e,r))}}function rs(t){var e=t.alternate;return t===ma||null!==e&&e===ma}function is(t,e){ba=ya=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function os(t,e,n){if(0!==(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ye(t,n)}}var as={readContext:Mo,useCallback:wa,useContext:wa,useEffect:wa,useImperativeHandle:wa,useInsertionEffect:wa,useLayoutEffect:wa,useMemo:wa,useReducer:wa,useRef:wa,useState:wa,useDebugValue:wa,useDeferredValue:wa,useTransition:wa,useMutableSource:wa,useSyncExternalStore:wa,useId:wa,unstable_isNewReconciler:!1},ss={readContext:Mo,useCallback:function(t,e){return Ma().memoizedState=[t,void 0===e?null:e],t},useContext:Mo,useEffect:Ha,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ba(4194308,4,Xa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ba(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ba(4,2,t,e)},useMemo:function(t,e){var n=Ma();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ma();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=es.bind(null,ma,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Ma().memoizedState=t},useState:Ua,useDebugValue:Ya,useDeferredValue:function(t){return Ma().memoizedState=t},useTransition:function(){var t=Ua(!1),e=t[0];return t=Ja.bind(null,t[1]),Ma().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ma,i=Ma();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===Ol)throw Error(o(349));0!==(30&pa)||Na(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Ha(Ia.bind(null,r,a,t),[t]),r.flags|=2048,Fa(9,La.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Ma(),e=Ol.identifierPrefix;if(io){var n=Qi;e=":"+e+"R"+(n=($i&~(1<<32-ae($i)-1)).toString(32)+n),0<(n=_a++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=xa++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ls={readContext:Mo,useCallback:$a,useContext:Mo,useEffect:qa,useImperativeHandle:Ka,useInsertionEffect:Wa,useLayoutEffect:Ga,useMemo:Qa,useReducer:ka,useRef:za,useState:function(){return ka(Ca)},useDebugValue:Ya,useDeferredValue:function(t){return Za(Aa(),ga.memoizedState,t)},useTransition:function(){return[ka(Ca)[0],Aa().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Ra,useId:ts,unstable_isNewReconciler:!1},cs={readContext:Mo,useCallback:$a,useContext:Mo,useEffect:qa,useImperativeHandle:Ka,useInsertionEffect:Wa,useLayoutEffect:Ga,useMemo:Qa,useReducer:Oa,useRef:za,useState:function(){return Oa(Ca)},useDebugValue:Ya,useDeferredValue:function(t){var e=Aa();return null===ga?e.memoizedState=t:Za(e,ga.memoizedState,t)},useTransition:function(){return[Oa(Ca)[0],Aa().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Ra,useId:ts,unstable_isNewReconciler:!1};function us(t,e){try{var n="",r=e;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i,digest:null}}function hs(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function ds(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(t,e,n){(n=Lo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wl||(Wl=!0,Gl=r),ds(0,e)},n}function ms(t,e,n){(n=Lo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,e),"function"!==typeof r&&(null===Xl?Xl=new Set([this]):Xl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function gs(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new fs;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Mc.bind(null,t,e,n),e.then(t,t))}function vs(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ys(t,e,n,r,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Lo(-1,1)).tag=2,Io(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var bs=_.ReactCurrentOwner,_s=!1;function xs(t,e,n,r){e.child=null===t?Zo(e,null,n,r):Qo(e,t.child,n,r)}function ws(t,e,n,r,i){n=n.render;var o=e.ref;return To(e,i),r=Ea(t,e,n,r,o,i),n=Ta(),null===t||_s?(io&&n&&to(e),e.flags|=1,xs(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ws(t,e,i))}function Ss(t,e,n,r,i){if(null===t){var o=n.type;return"function"!==typeof o||Nc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Ic(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Es(t,e,o,r,i))}if(o=t.child,0===(t.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&t.ref===e.ref)return Ws(t,e,i)}return e.flags|=1,(t=Lc(o,r)).ref=e.ref,t.return=e,e.child=t}function Es(t,e,n,r,i){if(null!==t){var o=t.memoizedProps;if(lr(o,r)&&t.ref===e.ref){if(_s=!1,e.pendingProps=r=o,0===(t.lanes&i))return e.lanes=t.lanes,Ws(t,e,i);0!==(131072&t.flags)&&(_s=!0)}}return As(t,e,n,r,i)}function Ts(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mi(Ll,Nl),Nl|=n;else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Mi(Ll,Nl),Nl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Mi(Ll,Nl),Nl|=r}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,Mi(Ll,Nl),Nl|=r;return xs(t,e,i,n),e.child}function Ms(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function As(t,e,n,r,i){var o=Ri(n)?Oi:Ci.current;return o=Pi(e,o),To(e,i),n=Ea(t,e,n,r,o,i),r=Ta(),null===t||_s?(io&&r&&to(e),e.flags|=1,xs(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ws(t,e,i))}function Cs(t,e,n,r,i){if(Ri(n)){var o=!0;Di(e)}else o=!1;if(To(e,i),null===e.stateNode)qs(t,e),qo(e,n,r),Go(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Mo(c):c=Pi(e,c=Ri(n)?Oi:Ci.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Wo(e,a,r,c),Po=!1;var d=e.memoizedState;a.state=d,Uo(e,r,a,i),l=e.memoizedState,s!==r||d!==l||ki.current||Po?("function"===typeof u&&(Bo(e,n,u,r),l=e.memoizedState),(s=Po||Ho(e,n,s,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,No(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:vo(e.type,s),a.props=c,h=e.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Mo(l):l=Pi(e,l=Ri(n)?Oi:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||d!==l)&&Wo(e,a,r,l),Po=!1,d=e.memoizedState,a.state=d,Uo(e,r,a,i);var p=e.memoizedState;s!==h||d!==p||ki.current||Po?("function"===typeof f&&(Bo(e,n,f,r),p=e.memoizedState),(c=Po||Ho(e,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return ks(t,e,n,r,o,i)}function ks(t,e,n,r,i,o){Ms(t,e);var a=0!==(128&e.flags);if(!r&&!a)return i&&ji(e,n,!1),Ws(t,e,o);r=e.stateNode,bs.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Qo(e,t.child,null,o),e.child=Qo(e,null,s,o)):xs(t,e,s,o),e.memoizedState=r.state,i&&ji(e,n,!0),e.child}function Os(t){var e=t.stateNode;e.pendingContext?Li(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Li(0,e.context,!1),ia(t,e.containerInfo)}function Ps(t,e,n,r,i){return po(),mo(i),e.flags|=256,xs(t,e,n,r),e.child}var Rs,Ns,Ls,Is,Ds={dehydrated:null,treeContext:null,retryLane:0};function js(t){return{baseLanes:t,cachePool:null,transitions:null}}function Us(t,e,n){var r,i=e.pendingProps,a=la.current,s=!1,l=0!==(128&e.flags);if((r=l)||(r=(null===t||null!==t.memoizedState)&&0!==(2&a)),r?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),Mi(la,1&a),null===t)return co(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=i.children,t=i.fallback,s?(i=e.mode,s=e.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=jc(l,i,0,null),t=Dc(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=js(n),e.memoizedState=Ds,t):Fs(e,l));if(null!==(a=t.memoizedState)&&null!==(r=a.dehydrated))return function(t,e,n,r,i,a,s){if(n)return 256&e.flags?(e.flags&=-257,zs(t,e,s,r=hs(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=jc({mode:"visible",children:r.children},i,0,null),(a=Dc(a,i,s,null)).flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,0!==(1&e.mode)&&Qo(e,t.child,null,s),e.child.memoizedState=js(s),e.memoizedState=Ds,a);if(0===(1&e.mode))return zs(t,e,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zs(t,e,s,r=hs(a=Error(o(419)),r,void 0))}if(l=0!==(s&t.childLanes),_s||l){if(null!==(r=Ol)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Oo(t,i),rc(r,t,i,-1))}return gc(),zs(t,e,s,r=hs(Error(o(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Cc.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ro=ci(i.nextSibling),no=e,io=!0,oo=null,null!==t&&(Xi[Ki++]=$i,Xi[Ki++]=Qi,Xi[Ki++]=Yi,$i=t.id,Qi=t.overflow,Yi=e),e=Fs(e,r.children),e.flags|=4096,e)}(t,e,l,i,r,a,n);if(s){s=i.fallback,l=e.mode,r=(a=t.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&e.child!==a?((i=e.child).childLanes=0,i.pendingProps=c,e.deletions=null):(i=Lc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Lc(r,s):(s=Dc(s,l,n,null)).flags|=2,s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,l=null===(l=t.child.memoizedState)?js(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=Ds,i}return t=(s=t.child).sibling,i=Lc(s,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Fs(t,e){return(e=jc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function zs(t,e,n,r){return null!==r&&mo(r),Qo(e,t.child,null,n),(t=Fs(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Bs(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),Eo(t.return,e,n)}function Vs(t,e,n,r,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Hs(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(xs(t,e,r.children,n),0!==(2&(r=la.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Bs(t,n,e);else if(19===t.tag)Bs(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Mi(la,r),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===ca(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vs(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===ca(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vs(e,!0,n,null,o);break;case"together":Vs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qs(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ws(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),jl|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Lc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Lc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Gs(t,e){if(!io)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xs(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ks(t,e,n){var r=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(e),null;case 1:case 17:return Ri(e.type)&&Ni(),Xs(e),null;case 3:return r=e.stateNode,oa(),Ti(ki),Ti(Ci),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ns(t,e),Xs(e),null;case 5:sa(e);var i=ra(na.current);if(n=e.type,null!==t&&null!=e.stateNode)Ls(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(o(166));return Xs(e),null}if(t=ra(ta.current),ho(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[di]=e,r[fi]=a,t=0!==(1&e.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Ir.length;i++)Fr(Ir[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":it(r,a),Fr("invalid",r)}for(var l in yt(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,t),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,t),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":G(r),J(r,a,!0);break;case"textarea":G(r),at(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[di]=e,t[fi]=r,Rs(t,e,!1,!1),e.stateNode=t;t:{switch(l=bt(n,r),n){case"dialog":Fr("cancel",t),Fr("close",t),i=r;break;case"iframe":case"object":case"embed":Fr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ir.length;i++)Fr(Ir[i],t);i=r;break;case"source":Fr("error",t),i=r;break;case"img":case"image":case"link":Fr("error",t),Fr("load",t),i=r;break;case"details":Fr("toggle",t),i=r;break;case"input":$(t,r),i=Y(t,r),Fr("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),Fr("invalid",t)}for(a in yt(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?gt(t,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ht(t,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&dt(t,u):"number"===typeof u&&dt(t,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",t):null!=u&&b(t,a,u,l))}switch(n){case"input":G(t),J(t,r,!1);break;case"textarea":G(t),at(t);break;case"option":null!=r.value&&t.setAttribute("value",""+q(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?nt(t,!!r.multiple,a,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Xs(e),null;case 6:if(t&&null!=e.stateNode)Is(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ta.current),ho(e)){if(r=e.stateNode,n=e.memoizedProps,r[di]=e,(a=r.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:Zr(r.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&t.mode))}a&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=e,e.stateNode=r}return Xs(e),null;case 13:if(Ti(la),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&e.mode)&&0===(128&e.flags))fo(),po(),e.flags|=98560,a=!1;else if(a=ho(e),null!==r&&null!==r.dehydrated){if(null===t){if(!a)throw Error(o(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(o(317));a[di]=e}else po(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Xs(e),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&la.current)?0===Il&&(Il=3):gc())),null!==e.updateQueue&&(e.flags|=4),Xs(e),null);case 4:return oa(),Ns(t,e),null===t&&Vr(e.stateNode.containerInfo),Xs(e),null;case 10:return So(e.type._context),Xs(e),null;case 19:if(Ti(la),null===(a=e.memoizedState))return Xs(e),null;if(r=0!==(128&e.flags),null===(l=a.rendering))if(r)Gs(a,!1);else{if(0!==Il||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=ca(t))){for(e.flags|=128,Gs(a,!1),null!==(r=l.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Mi(la,1&la.current|2),e.child}t=t.sibling}null!==a.tail&&Qt()>Hl&&(e.flags|=128,r=!0,Gs(a,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=ca(l))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Gs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Xs(e),null}else 2*Qt()-a.renderingStartTime>Hl&&1073741824!==n&&(e.flags|=128,r=!0,Gs(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=a.last)?n.sibling=l:e.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Qt(),e.sibling=null,n=la.current,Mi(la,r?1&n|2:1&n),e):(Xs(e),null);case 22:case 23:return dc(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!==(1&e.mode)?0!==(1073741824&Nl)&&(Xs(e),6&e.subtreeFlags&&(e.flags|=8192)):Xs(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Ys(t,e){switch(eo(e),e.tag){case 1:return Ri(e.type)&&Ni(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return oa(),Ti(ki),Ti(Ci),ha(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return sa(e),null;case 13:if(Ti(la),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));po()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Ti(la),null;case 4:return oa(),null;case 10:return So(e.type._context),null;case 22:case 23:return dc(),null;default:return null}}Rs=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ns=function(){},Ls=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ra(ta.current);var o,a=null;switch(n){case"input":i=Y(t,i),r=Y(t,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=rt(t,i),r=rt(t,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(t.onclick=Jr)}for(u in yt(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}},Is=function(t,e,n,r){n!==r&&(e.flags|=4)};var $s=!1,Qs=!1,Zs="function"===typeof WeakSet?WeakSet:Set,Js=null;function tl(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(t,e,r)}else n.current=null}function el(t,e,n){try{n()}catch(r){Tc(t,e,r)}}var nl=!1;function rl(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(e,n,o)}i=i.next}while(i!==r)}}function il(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ol(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function al(t){var e=t.alternate;null!==e&&(t.alternate=null,al(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[di],delete e[fi],delete e[mi],delete e[gi],delete e[vi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sl(t){return 5===t.tag||3===t.tag||4===t.tag}function ll(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||sl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function cl(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Jr));else if(4!==r&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}function ul(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(ul(t,e,n),t=t.sibling;null!==t;)ul(t,e,n),t=t.sibling}var hl=null,dl=!1;function fl(t,e,n){for(n=n.child;null!==n;)pl(t,e,n),n=n.sibling}function pl(t,e,n){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ie,n)}catch(s){}switch(n.tag){case 5:Qs||tl(n,e);case 6:var r=hl,i=dl;hl=null,fl(t,e,n),dl=i,null!==(hl=r)&&(dl?(t=hl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(t=hl,n=n.stateNode,8===t.nodeType?li(t.parentNode,n):1===t.nodeType&&li(t,n),Ve(t)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(t,e,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,e,a),i=i.next}while(i!==r)}fl(t,e,n);break;case 1:if(!Qs&&(tl(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tc(n,e,s)}fl(t,e,n);break;case 21:fl(t,e,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,fl(t,e,n),Qs=r):fl(t,e,n);break;default:fl(t,e,n)}}function ml(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Zs),e.forEach((function(e){var r=kc.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function gl(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,l=s;t:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break t;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break t}l=l.return}if(null===hl)throw Error(o(160));pl(a,s,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Tc(i,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)vl(e,t),e=e.sibling}function vl(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gl(e,t),yl(t),4&r){try{rl(3,t,t.return),il(3,t)}catch(g){Tc(t,t.return,g)}try{rl(5,t,t.return)}catch(g){Tc(t,t.return,g)}}break;case 1:gl(e,t),yl(t),512&r&&null!==n&&tl(n,n.return);break;case 5:if(gl(e,t),yl(t),512&r&&null!==n&&tl(n,n.return),32&t.flags){var i=t.stateNode;try{dt(i,"")}catch(g){Tc(t,t.return,g)}}if(4&r&&null!=(i=t.stateNode)){var a=t.memoizedProps,s=null!==n?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(i,a),bt(l,s);var u=bt(l,a);for(s=0;s<c.length;s+=2){var h=c[s],d=c[s+1];"style"===h?gt(i,d):"dangerouslySetInnerHTML"===h?ht(i,d):"children"===h?dt(i,d):b(i,h,d,u)}switch(l){case"input":Z(i,a);break;case"textarea":ot(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?nt(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?nt(i,!!a.multiple,a.defaultValue,!0):nt(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Tc(t,t.return,g)}}break;case 6:if(gl(e,t),yl(t),4&r){if(null===t.stateNode)throw Error(o(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){Tc(t,t.return,g)}}break;case 3:if(gl(e,t),yl(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ve(e.containerInfo)}catch(g){Tc(t,t.return,g)}break;case 4:default:gl(e,t),yl(t);break;case 13:gl(e,t),yl(t),8192&(i=t.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Qt())),4&r&&ml(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Qs=(u=Qs)||h,gl(e,t),Qs=u):gl(e,t),yl(t),8192&r){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(Js=t,h=t.child;null!==h;){for(d=Js=h;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:tl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Tc(r,n,g)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==p?(p.return=f,Js=p):wl(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=mt("display",s))}catch(g){Tc(t,t.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Tc(t,t.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(e,t),yl(t),4&r&&ml(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(sl(n)){var r=n;break t}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(dt(i,""),r.flags&=-33),ul(t,ll(t),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(t,ll(t),a);break;default:throw Error(o(161))}}catch(s){Tc(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function bl(t,e,n){Js=t,_l(t,e,n)}function _l(t,e,n){for(var r=0!==(1&t.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$s;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=$s;var c=Qs;if($s=a,(Qs=l)&&!c)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?Sl(i):null!==l?(l.return=a,Js=l):Sl(i);for(;null!==o;)Js=o,_l(o,e,n),o=o.sibling;Js=i,$s=s,Qs=c}xl(t)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):xl(t)}}function xl(t){for(;null!==Js;){var e=Js;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Qs||il(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Fo(e,a,r);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Fo(e,s,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ve(d)}}}break;default:throw Error(o(163))}Qs||512&e.flags&&ol(e)}catch(f){Tc(e,e.return,f)}}if(e===t){Js=null;break}if(null!==(n=e.sibling)){n.return=e.return,Js=n;break}Js=e.return}}function wl(t){for(;null!==Js;){var e=Js;if(e===t){Js=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Js=n;break}Js=e.return}}function Sl(t){for(;null!==Js;){var e=Js;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{il(4,e)}catch(l){Tc(e,n,l)}break;case 1:var r=e.stateNode;if("function"===typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(l){Tc(e,i,l)}}var o=e.return;try{ol(e)}catch(l){Tc(e,o,l)}break;case 5:var a=e.return;try{ol(e)}catch(l){Tc(e,a,l)}}}catch(l){Tc(e,e.return,l)}if(e===t){Js=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Js=s;break}Js=e.return}}var El,Tl=Math.ceil,Ml=_.ReactCurrentDispatcher,Al=_.ReactCurrentOwner,Cl=_.ReactCurrentBatchConfig,kl=0,Ol=null,Pl=null,Rl=0,Nl=0,Ll=Ei(0),Il=0,Dl=null,jl=0,Ul=0,Fl=0,zl=null,Bl=null,Vl=0,Hl=1/0,ql=null,Wl=!1,Gl=null,Xl=null,Kl=!1,Yl=null,$l=0,Ql=0,Zl=null,Jl=-1,tc=0;function ec(){return 0!==(6&kl)?Qt():-1!==Jl?Jl:Jl=Qt()}function nc(t){return 0===(1&t.mode)?1:0!==(2&kl)&&0!==Rl?Rl&-Rl:null!==go.transition?(0===tc&&(tc=me()),tc):0!==(t=be)?t:t=void 0===(t=window.event)?16:$e(t.type)}function rc(t,e,n,r){if(50<Ql)throw Ql=0,Zl=null,Error(o(185));ve(t,n,r),0!==(2&kl)&&t===Ol||(t===Ol&&(0===(2&kl)&&(Ul|=n),4===Il&&lc(t,Rl)),ic(t,r),1===n&&0===kl&&0===(1&e.mode)&&(Hl=Qt()+500,Fi&&Vi()))}function ic(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ae(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=fe(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var r=de(t,t===Ol?Rl:0);if(0===r)null!==n&&Kt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Kt(n),1===e)0===t.tag?function(t){Fi=!0,Bi(t)}(cc.bind(null,t)):Bi(cc.bind(null,t)),ai((function(){0===(6&kl)&&Vi()})),n=null;else{switch(_e(r)){case 1:n=Jt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=Oc(n,oc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oc(t,e){if(Jl=-1,tc=0,0!==(6&kl))throw Error(o(327));var n=t.callbackNode;if(Sc()&&t.callbackNode!==n)return null;var r=de(t,t===Ol?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&t.expiredLanes)||e)e=vc(t,r);else{e=r;var i=kl;kl|=2;var a=mc();for(Ol===t&&Rl===e||(ql=null,Hl=Qt()+500,fc(t,e));;)try{bc();break}catch(l){pc(t,l)}wo(),Ml.current=a,kl=i,null!==Pl?e=0:(Ol=null,Rl=0,e=Il)}if(0!==e){if(2===e&&(0!==(i=pe(t))&&(r=i,e=ac(t,i))),1===e)throw n=Dl,fc(t,0),lc(t,r),ic(t,Qt()),n;if(6===e)lc(t,r);else{if(i=t.current.alternate,0===(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=vc(t,r))&&(0!==(a=pe(t))&&(r=a,e=ac(t,a))),1===e))throw n=Dl,fc(t,0),lc(t,r),ic(t,Qt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(o(345));case 2:case 5:wc(t,Bl,ql);break;case 3:if(lc(t,r),(130023424&r)===r&&10<(e=Vl+500-Qt())){if(0!==de(t,0))break;if(((i=t.suspendedLanes)&r)!==r){ec(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(wc.bind(null,t,Bl,ql),e);break}wc(t,Bl,ql);break;case 4:if(lc(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ae(r);a=1<<s,(s=e[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Qt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){t.timeoutHandle=ri(wc.bind(null,t,Bl,ql),r);break}wc(t,Bl,ql);break;default:throw Error(o(329))}}}return ic(t,Qt()),t.callbackNode===n?oc.bind(null,t):null}function ac(t,e){var n=zl;return t.current.memoizedState.isDehydrated&&(fc(t,e).flags|=256),2!==(t=vc(t,e))&&(e=Bl,Bl=n,null!==e&&sc(e)),t}function sc(t){null===Bl?Bl=t:Bl.push.apply(Bl,t)}function lc(t,e){for(e&=~Fl,e&=~Ul,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ae(e),r=1<<n;t[n]=-1,e&=~r}}function cc(t){if(0!==(6&kl))throw Error(o(327));Sc();var e=de(t,0);if(0===(1&e))return ic(t,Qt()),null;var n=vc(t,e);if(0!==t.tag&&2===n){var r=pe(t);0!==r&&(e=r,n=ac(t,r))}if(1===n)throw n=Dl,fc(t,0),lc(t,e),ic(t,Qt()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wc(t,Bl,ql),ic(t,Qt()),null}function uc(t,e){var n=kl;kl|=1;try{return t(e)}finally{0===(kl=n)&&(Hl=Qt()+500,Fi&&Vi())}}function hc(t){null!==Yl&&0===Yl.tag&&0===(6&kl)&&Sc();var e=kl;kl|=1;var n=Cl.transition,r=be;try{if(Cl.transition=null,be=1,t)return t()}finally{be=r,Cl.transition=n,0===(6&(kl=e))&&Vi()}}function dc(){Nl=Ll.current,Ti(Ll)}function fc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(eo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:oa(),Ti(ki),Ti(Ci),ha();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ti(la);break;case 10:So(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ol=t,Pl=t=Lc(t.current,null),Rl=Nl=e,Il=0,Dl=null,Fl=Ul=jl=0,Bl=zl=null,null!==Ao){for(e=0;e<Ao.length;e++)if(null!==(r=(n=Ao[e]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Ao=null}return t}function pc(t,e){for(;;){var n=Pl;try{if(wo(),da.current=as,ya){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,va=ga=ma=null,ba=!1,_a=0,Al.current=null,null===n||null===n.return){Il=1,Dl=e,Pl=null;break}t:{var a=t,s=n.return,l=n,c=e;if(e=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,e),1&p.mode&&gs(a,u,e),c=u;var m=(e=p).updateQueue;if(null===m){var g=new Set;g.add(c),e.updateQueue=g}else m.add(c);break t}if(0===(1&e)){gs(a,u,e),gc();break t}c=Error(o(426))}else if(io&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,e),mo(us(c,l));break t}}a=c=us(c,l),4!==Il&&(Il=2),null===zl?zl=[a]:zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,jo(a,ps(0,c,e));break t;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Xl||!Xl.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e,jo(a,ms(a,l,e));break t}}a=a.return}while(null!==a)}xc(n)}catch(_){e=_,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function mc(){var t=Ml.current;return Ml.current=as,null===t?as:t}function gc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Ol||0===(268435455&jl)&&0===(268435455&Ul)||lc(Ol,Rl)}function vc(t,e){var n=kl;kl|=2;var r=mc();for(Ol===t&&Rl===e||(ql=null,fc(t,e));;)try{yc();break}catch(i){pc(t,i)}if(wo(),kl=n,Ml.current=r,null!==Pl)throw Error(o(261));return Ol=null,Rl=0,Il}function yc(){for(;null!==Pl;)_c(Pl)}function bc(){for(;null!==Pl&&!Yt();)_c(Pl)}function _c(t){var e=El(t.alternate,t,Nl);t.memoizedProps=t.pendingProps,null===e?xc(t):Pl=e,Al.current=null}function xc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Ks(n,e,Nl)))return void(Pl=n)}else{if(null!==(n=Ys(n,e)))return n.flags&=32767,void(Pl=n);if(null===t)return Il=6,void(Pl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Pl=e);Pl=e=t}while(null!==e);0===Il&&(Il=5)}function wc(t,e,n){var r=be,i=Cl.transition;try{Cl.transition=null,be=1,function(t,e,n,r){do{Sc()}while(null!==Yl);if(0!==(6&kl))throw Error(o(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ae(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}(t,a),t===Ol&&(Pl=Ol=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Oc(ee,(function(){return Sc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var s=be;be=1;var l=kl;kl|=4,Al.current=null,function(t,e){if(ti=qe,fr(t=dr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break t}var s=0,l=-1,c=-1,u=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++u===i&&(l=s),f===a&&++h===r&&(c=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},qe=!1,Js=e;null!==Js;)if(t=(e=Js).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Js=t;else for(;null!==Js;){e=Js;try{var m=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:vo(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(x){Tc(e,e.return,x)}if(null!==(t=e.sibling)){t.return=e.return,Js=t;break}Js=e.return}m=nl,nl=!1}(t,n),vl(n,t),pr(ei),qe=!!ti,ei=ti=null,t.current=n,bl(n,t,i),$t(),kl=l,be=s,Cl.transition=a}else t.current=n;if(Kl&&(Kl=!1,Yl=t,$l=i),a=t.pendingLanes,0===a&&(Xl=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),ic(t,Qt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,t=Gl,Gl=null,t;0!==(1&$l)&&0!==t.tag&&Sc(),a=t.pendingLanes,0!==(1&a)?t===Zl?Ql++:(Ql=0,Zl=t):Ql=0,Vi()}(t,e,n,r)}finally{Cl.transition=i,be=r}return null}function Sc(){if(null!==Yl){var t=_e($l),e=Cl.transition,n=be;try{if(Cl.transition=null,be=16>t?16:t,null===Yl)var r=!1;else{if(t=Yl,Yl=null,$l=0,0!==(6&kl))throw Error(o(331));var i=kl;for(kl|=4,Js=t.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var h=Js;switch(h.tag){case 0:case 11:case 15:rl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Js=d;else for(;null!==Js;){var f=(h=Js).sibling,p=h.return;if(al(h),h===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else t:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break t}Js=a.return}}var b=t.current;for(Js=b;null!==Js;){var _=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Js=_;else t:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(w){Tc(l,l.return,w)}if(l===s){Js=null;break t}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break t}Js=l.return}}if(kl=i,Vi(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ie,t)}catch(w){}r=!0}return r}finally{be=n,Cl.transition=e}}return!1}function Ec(t,e,n){t=Io(t,e=ps(0,e=us(n,e),1),1),e=ec(),null!==t&&(ve(t,1,e),ic(t,e))}function Tc(t,e,n){if(3===t.tag)Ec(t,t,n);else for(;null!==e;){if(3===e.tag){Ec(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xl||!Xl.has(r))){e=Io(e,t=ms(e,t=us(n,t),1),1),t=ec(),null!==e&&(ve(e,1,t),ic(e,t));break}}e=e.return}}function Mc(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=ec(),t.pingedLanes|=t.suspendedLanes&n,Ol===t&&(Rl&n)===n&&(4===Il||3===Il&&(130023424&Rl)===Rl&&500>Qt()-Vl?fc(t,0):Fl|=n),ic(t,e)}function Ac(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=ec();null!==(t=Oo(t,e))&&(ve(t,e,n),ic(t,n))}function Cc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Ac(t,n)}function kc(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(e),Ac(t,n)}function Oc(t,e){return Xt(t,e)}function Pc(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(t,e,n,r){return new Pc(t,e,n,r)}function Nc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Lc(t,e){var n=t.alternate;return null===n?((n=Rc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ic(t,e,n,r,i,a){var s=2;if(r=t,"function"===typeof t)Nc(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case S:return Dc(n.children,i,a,e);case E:s=8,i|=8;break;case T:return(t=Rc(12,n,e,2|i)).elementType=T,t.lanes=a,t;case k:return(t=Rc(13,n,e,i)).elementType=k,t.lanes=a,t;case O:return(t=Rc(19,n,e,i)).elementType=O,t.lanes=a,t;case N:return jc(n,i,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case M:s=10;break t;case A:s=9;break t;case C:s=11;break t;case P:s=14;break t;case R:s=16,r=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Rc(s,n,e,i)).elementType=t,e.type=r,e.lanes=a,e}function Dc(t,e,n,r){return(t=Rc(7,t,r,e)).lanes=n,t}function jc(t,e,n,r){return(t=Rc(22,t,r,e)).elementType=N,t.lanes=n,t.stateNode={isHidden:!1},t}function Uc(t,e,n){return(t=Rc(6,t,null,e)).lanes=n,t}function Fc(t,e,n){return(e=Rc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zc(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ge(0),this.expirationTimes=ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ge(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(t,e,n,r,i,o,a,s,l){return t=new zc(t,e,n,s,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Rc(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),t}function Vc(t){if(!t)return Ai;t:{if(Vt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ri(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(Ri(n))return Ii(t,n,e)}return e}function Hc(t,e,n,r,i,o,a,s,l){return(t=Bc(n,r,!0,t,0,o,0,s,l)).context=Vc(null),n=t.current,(o=Lo(r=ec(),i=nc(n))).callback=void 0!==e&&null!==e?e:null,Io(n,o,i),t.current.lanes=i,ve(t,i,r),ic(t,r),t}function qc(t,e,n,r){var i=e.current,o=ec(),a=nc(i);return n=Vc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Lo(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=Io(i,e,a))&&(rc(t,i,a,o),Do(t,i,a)),a}function Wc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Gc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Xc(t,e){Gc(t,e),(t=t.alternate)&&Gc(t,e)}El=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||ki.current)_s=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return _s=!1,function(t,e,n){switch(e.tag){case 3:Os(e),po();break;case 5:aa(e);break;case 1:Ri(e.type)&&Di(e);break;case 4:ia(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Mi(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(Mi(la,1&la.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Us(t,e,n):(Mi(la,1&la.current),null!==(t=Ws(t,e,n))?t.sibling:null);Mi(la,1&la.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(128&t.flags)){if(r)return Hs(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mi(la,la.current),r)break;return null;case 22:case 23:return e.lanes=0,Ts(t,e,n)}return Ws(t,e,n)}(t,e,n);_s=0!==(131072&t.flags)}else _s=!1,io&&0!==(1048576&e.flags)&&Ji(e,Gi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qs(t,e),t=e.pendingProps;var i=Pi(e,Ci.current);To(e,n),i=Ea(null,e,r,t,i,n);var a=Ta();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ri(r)?(a=!0,Di(e)):a=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ro(e),i.updater=Vo,e.stateNode=i,i._reactInternals=e,Go(e,r,t,n),e=ks(null,e,r,!0,a,n)):(e.tag=0,io&&a&&to(e),xs(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(qs(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"===typeof t)return Nc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===C)return 11;if(t===P)return 14}return 2}(r),t=vo(r,t),i){case 0:e=As(null,e,r,t,n);break t;case 1:e=Cs(null,e,r,t,n);break t;case 11:e=ws(null,e,r,t,n);break t;case 14:e=Ss(null,e,r,vo(r.type,t),n);break t}throw Error(o(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,As(t,e,r,i=e.elementType===r?i:vo(r,i),n);case 1:return r=e.type,i=e.pendingProps,Cs(t,e,r,i=e.elementType===r?i:vo(r,i),n);case 3:t:{if(Os(e),null===t)throw Error(o(387));r=e.pendingProps,i=(a=e.memoizedState).element,No(t,e),Uo(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Ps(t,e,r,n,i=us(Error(o(423)),e));break t}if(r!==i){e=Ps(t,e,r,n,i=us(Error(o(424)),e));break t}for(ro=ci(e.stateNode.containerInfo.firstChild),no=e,io=!0,oo=null,n=Zo(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){e=Ws(t,e,n);break t}xs(t,e,r,n)}e=e.child}return e;case 5:return aa(e),null===t&&co(e),r=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(e.flags|=32),Ms(t,e),xs(t,e,s,n),e.child;case 6:return null===t&&co(e),null;case 13:return Us(t,e,n);case 4:return ia(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Qo(e,null,r,n):xs(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,ws(t,e,r,i=e.elementType===r?i:vo(r,i),n);case 7:return xs(t,e,e.pendingProps,n),e.child;case 8:case 12:return xs(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Mi(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!ki.current){e=Ws(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Lo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Eo(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Eo(s,n,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,To(e,n),r=r(i=Mo(i)),e.flags|=1,xs(t,e,r,n),e.child;case 14:return i=vo(r=e.type,e.pendingProps),Ss(t,e,r,i=vo(r.type,i),n);case 15:return Es(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vo(r,i),qs(t,e),e.tag=1,Ri(r)?(t=!0,Di(e)):t=!1,To(e,n),qo(e,r,i),Go(e,r,i,n),ks(null,e,r,!0,t,n);case 19:return Hs(t,e,n);case 22:return Ts(t,e,n)}throw Error(o(156,e.tag))};var Kc="function"===typeof reportError?reportError:function(t){console.error(t)};function Yc(t){this._internalRoot=t}function $c(t){this._internalRoot=t}function Qc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Zc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Jc(){}function tu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var t=Wc(a);s.call(t)}}qc(e,a,t,i)}else a=function(t,e,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var t=Wc(a);o.call(t)}}var a=Hc(e,r,t,0,null,!1,0,"",Jc);return t._reactRootContainer=a,t[pi]=a.current,Vr(8===t.nodeType?t.parentNode:t),hc(),a}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof r){var s=r;r=function(){var t=Wc(l);s.call(t)}}var l=Bc(t,0,!1,null,0,!1,0,"",Jc);return t._reactRootContainer=l,t[pi]=l.current,Vr(8===t.nodeType?t.parentNode:t),hc((function(){qc(e,l,n,r)})),l}(n,e,t,i,r);return Wc(a)}$c.prototype.render=Yc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));qc(t,e,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;hc((function(){qc(null,t,null,null)})),e[pi]=null}},$c.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ee();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ne.length&&0!==e&&e<Ne[n].priority;n++);Ne.splice(n,0,t),0===n&&je(t)}},xe=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ye(e,1|n),ic(e,Qt()),0===(6&kl)&&(Hl=Qt()+500,Vi()))}break;case 13:hc((function(){var e=Oo(t,1);if(null!==e){var n=ec();rc(e,t,1,n)}})),Xc(t,1)}},we=function(t){if(13===t.tag){var e=Oo(t,134217728);if(null!==e)rc(e,t,134217728,ec());Xc(t,134217728)}},Se=function(t){if(13===t.tag){var e=nc(t),n=Oo(t,e);if(null!==n)rc(n,t,e,ec());Xc(t,e)}},Ee=function(){return be},Te=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},wt=function(t,e,n){switch(e){case"input":if(Z(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xi(r);if(!i)throw Error(o(90));X(r),Z(r,i)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Ct=uc,kt=hc;var eu={usingClientEntryPoint:!1,Events:[bi,_i,xi,Mt,At,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Wt(t))?null:t.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{ie=iu.inject(ru),oe=iu}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(e))throw Error(o(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Qc(t))throw Error(o(299));var n=!1,r="",i=Kc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Bc(t,1,!1,null,0,n,0,r,i),t[pi]=e.current,Vr(8===t.nodeType?t.parentNode:t),new Yc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=Wt(e))?null:t.stateNode},e.flushSync=function(t){return hc(t)},e.hydrate=function(t,e,n){if(!Zc(e))throw Error(o(200));return tu(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Qc(t))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=Hc(e,null,t,1,null!=n?n:null,i,0,a,s),t[pi]=e.current,Vr(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $c(e)},e.render=function(t,e,n){if(!Zc(e))throw Error(o(200));return tu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Zc(t))throw Error(o(40));return!!t._reactRootContainer&&(hc((function(){tu(null,null,t,!1,(function(){t._reactRootContainer=null,t[pi]=null}))})),!0)},e.unstable_batchedUpdates=uc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zc(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return tu(t,e,n,!1,r)},e.version="18.2.0-next-9e3b772b8-20220608"},1250:(t,e,n)=>{"use strict";var r=n(4164);e.createRoot=r.createRoot,e.hydrateRoot=r.hydrateRoot},4164:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(4463)},77:t=>{var e="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var s,l,c,u;if(Array.isArray(t)){if((s=t.length)!=a.length)return!1;for(l=s;0!==l--;)if(!o(t[l],a[l]))return!1;return!0}if(n&&t instanceof Map&&a instanceof Map){if(t.size!==a.size)return!1;for(u=t.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=t.entries();!(l=u.next()).done;)if(!o(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&t instanceof Set&&a instanceof Set){if(t.size!==a.size)return!1;for(u=t.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(a)){if((s=t.length)!=a.length)return!1;for(l=s;0!==l--;)if(t[l]!==a[l])return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf&&"function"===typeof t.valueOf&&"function"===typeof a.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString&&"function"===typeof t.toString&&"function"===typeof a.toString)return t.toString()===a.toString();if((s=(c=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(e&&t instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!t.$$typeof)&&!o(t[c[l]],a[c[l]]))return!1;return!0}return t!==t&&a!==a}t.exports=function(t,e){try{return o(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},1372:(t,e)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function x(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case u:case h:case o:case s:case a:case f:return t;default:switch(t=t&&t.$$typeof){case c:case d:case g:case m:case l:return t;default:return e}}case i:return e}}}function w(t){return x(t)===h}e.AsyncMode=u,e.ConcurrentMode=h,e.ContextConsumer=c,e.ContextProvider=l,e.Element=r,e.ForwardRef=d,e.Fragment=o,e.Lazy=g,e.Memo=m,e.Portal=i,e.Profiler=s,e.StrictMode=a,e.Suspense=f,e.isAsyncMode=function(t){return w(t)||x(t)===u},e.isConcurrentMode=w,e.isContextConsumer=function(t){return x(t)===c},e.isContextProvider=function(t){return x(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return x(t)===d},e.isFragment=function(t){return x(t)===o},e.isLazy=function(t){return x(t)===g},e.isMemo=function(t){return x(t)===m},e.isPortal=function(t){return x(t)===i},e.isProfiler=function(t){return x(t)===s},e.isStrictMode=function(t){return x(t)===a},e.isSuspense=function(t){return x(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===h||t===s||t===a||t===f||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===m||t.$$typeof===l||t.$$typeof===c||t.$$typeof===d||t.$$typeof===y||t.$$typeof===b||t.$$typeof===_||t.$$typeof===v)},e.typeOf=x},7441:(t,e,n)=>{"use strict";t.exports=n(1372)},6770:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},s=a(n(2791)),l=a(n(4164)),c=a(n(8111)),u=a(n(6921)),h=function(t){function e(e){var n=t.call(this,e)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(t,e,r,i){var o,a,s,l;"text-change"===t?null===(a=(o=n).onEditorChangeText)||void 0===a||a.call(o,n.editor.root.innerHTML,e,i,n.unprivilegedEditor):"selection-change"===t&&(null===(l=(s=n).onEditorChangeSelection)||void 0===l||l.call(s,e,i,n.unprivilegedEditor))};var r=n.isControlled()?e.value:e.defaultValue;return n.value=null!==r&&void 0!==r?r:"",n}return r(e,t),e.prototype.validateProps=function(t){var e;if(s.default.Children.count(t.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(s.default.Children.count(t.children)&&"textarea"===(null===(e=s.default.Children.only(t.children))||void 0===e?void 0:e.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&t.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(t,e){var n,r=this;if(this.validateProps(t),!this.editor||this.state.generation!==e.generation)return!0;if("value"in t){var i=this.getEditorContents(),a=null!==(n=t.value)&&void 0!==n?n:"";this.isEqualValue(a,i)||this.setEditorContents(this.editor,a)}return t.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,t.readOnly),o(this.cleanProps,this.dirtyProps).some((function(e){return!c.default(t[e],r.props[e])}))},e.prototype.shouldComponentRegenerate=function(t){var e=this;return this.dirtyProps.some((function(n){return!c.default(t[n],e.props[n])}))},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(t,e){var n=this;if(this.editor&&this.shouldComponentRegenerate(t)){var r=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==e.generation){var o=this.regenerationSnapshot,a=(r=o.delta,o.selection);delete this.regenerationSnapshot,this.instantiateEditor();var s=this.editor;s.setContents(r),d((function(){return n.setEditorSelection(s,a)}))}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(t,e){var n=new u.default(t,e);return null!=e.tabIndex&&this.setEditorTabIndex(n,e.tabIndex),this.hookEditor(n),n},e.prototype.hookEditor=function(t){this.unprivilegedEditor=this.makeUnprivilegedEditor(t),t.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(t){t.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(t){return t&&t.ops},e.prototype.isEqualValue=function(t,e){return this.isDelta(t)&&this.isDelta(e)?c.default(t.ops,e.ops):c.default(t,e)},e.prototype.setEditorContents=function(t,e){var n=this;this.value=e;var r=this.getEditorSelection();"string"===typeof e?t.setContents(t.clipboard.convert(e)):t.setContents(e),d((function(){return n.setEditorSelection(t,r)}))},e.prototype.setEditorSelection=function(t,e){if(this.selection=e,e){var n=t.getLength();e.index=Math.max(0,Math.min(e.index,n-1)),e.length=Math.max(0,Math.min(e.length,n-1-e.index)),t.setSelection(e)}},e.prototype.setEditorTabIndex=function(t,e){var n,r;(null===(r=null===(n=t)||void 0===n?void 0:n.scroll)||void 0===r?void 0:r.domNode)&&(t.scroll.domNode.tabIndex=e)},e.prototype.setEditorReadOnly=function(t,e){e?t.disable():t.enable()},e.prototype.makeUnprivilegedEditor=function(t){var e=t;return{getHTML:function(){return e.root.innerHTML},getLength:e.getLength.bind(e),getText:e.getText.bind(e),getContents:e.getContents.bind(e),getSelection:e.getSelection.bind(e),getBounds:e.getBounds.bind(e)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var t=l.default.findDOMNode(this.editingArea);if(!t)throw new Error("Cannot find element for editing area");if(3===t.nodeType)throw new Error("Editing area cannot be a text node");return t},e.prototype.renderEditingArea=function(){var t=this,e=this.props,n=e.children,r=e.preserveWhitespace,o={key:this.state.generation,ref:function(e){t.editingArea=e}};return s.default.Children.count(n)?s.default.cloneElement(s.default.Children.only(n),o):r?s.default.createElement("pre",i({},o)):s.default.createElement("div",i({},o))},e.prototype.render=function(){var t;return s.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(t=this.props.className,null!==t&&void 0!==t?t:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(t,e,n,r){var i,o;if(this.editor){var a=this.isDelta(this.value)?r.getContents():r.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=e,this.value=a,null===(o=(i=this.props).onChange)||void 0===o||o.call(i,t,e,n,r))}},e.prototype.onEditorChangeSelection=function(t,e,n){var r,i,o,a,s,l;if(this.editor){var u=this.getEditorSelection(),h=!u&&t,d=u&&!t;c.default(t,u)||(this.selection=t,null===(i=(r=this.props).onChangeSelection)||void 0===i||i.call(r,t,e,n),h?null===(a=(o=this.props).onFocus)||void 0===a||a.call(o,t,e,n):d&&(null===(l=(s=this.props).onBlur)||void 0===l||l.call(s,u,e,n)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=u.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(s.default.Component);function d(t){Promise.resolve().then(t)}t.exports=h},6374:(t,e,n)=>{"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)a.call(e,r)&&!l.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:u,props:o,_owner:s.current}}e.Fragment=o,e.jsx=c,e.jsxs=c},9117:(t,e)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}function y(){}function b(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var _=b.prototype=new y;_.constructor=b,m(_,v.prototype),_.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(t,e,r){var i,o={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)w.call(e,i)&&!E.hasOwnProperty(i)&&(o[i]=e[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:t,key:a,ref:s,props:o,_owner:S.current}}function M(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var A=/\/+/g;function C(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function k(t,e,i,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=t),t=""===o?"."+C(l,0):o,x(a)?(i="",null!=t&&(i=t.replace(A,"$&/")+"/"),k(a,e,i,"",(function(t){return t}))):null!=a&&(M(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+t)),e.push(a)),1;if(l=0,o=""===o?".":o+":",x(t))for(var c=0;c<t.length;c++){var u=o+C(s=t[c],c);l+=k(s,e,i,u,a)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=k(s=s.value,e,i,u=o+C(s,c++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function O(t,e,n){if(null==t)return t;var r=[],i=0;return k(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function P(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var R={current:null},N={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:N,ReactCurrentOwner:S};e.Children={map:O,forEach:function(t,e,n){O(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return O(t,(function(){e++})),e},toArray:function(t){return O(t,(function(t){return t}))||[]},only:function(t){if(!M(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=i,e.Profiler=a,e.PureComponent=b,e.StrictMode=o,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=m({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=S.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)w.call(e,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:t.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=T,e.createFactory=function(t){var e=T.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=M,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:P}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=N.transition;N.transition={};try{t()}finally{N.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return R.current.useCallback(t,e)},e.useContext=function(t){return R.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return R.current.useDeferredValue(t)},e.useEffect=function(t,e){return R.current.useEffect(t,e)},e.useId=function(){return R.current.useId()},e.useImperativeHandle=function(t,e,n){return R.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return R.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return R.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return R.current.useMemo(t,e)},e.useReducer=function(t,e,n){return R.current.useReducer(t,e,n)},e.useRef=function(t){return R.current.useRef(t)},e.useState=function(t){return R.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return R.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return R.current.useTransition()},e.version="18.2.0"},2791:(t,e,n)=>{"use strict";t.exports=n(9117)},184:(t,e,n)=>{"use strict";t.exports=n(6374)},6813:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<o(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=t[s],c=s+1,u=t[c];if(0>o(l,n))c<i&&0>o(u,l)?(t[r]=u,t[c]=n,r=c):(t[r]=l,t[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break t;t[r]=u,t[c]=n,r=c}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(t){for(var e=r(u);null!==e;){if(null===e.callback)i(u);else{if(!(e.startTime<=t))break;i(u),e.sortIndex=e.expirationTime,n(c,e)}e=r(u)}}function x(t){if(g=!1,_(t),!m)if(null!==r(c))m=!0,N(w);else{var e=r(u);null!==e&&L(x,e.startTime-t)}}function w(t,n){m=!1,g&&(g=!1,y(M),M=-1),p=!0;var o=f;try{for(_(n),d=r(c);null!==d&&(!(d.expirationTime>n)||t&&!k());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&i(c),_(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&L(x,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,T=null,M=-1,A=5,C=-1;function k(){return!(e.unstable_now()-C<A)}function O(){if(null!==T){var t=e.unstable_now();C=t;var n=!0;try{n=T(!0,t)}finally{n?S():(E=!1,T=null)}}else E=!1}if("function"===typeof b)S=function(){b(O)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=O,S=function(){R.postMessage(null)}}else S=function(){v(O,0)};function N(t){T=t,E||(E=!0,S())}function L(t,n){M=v((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,N(w))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,n(u,t),null===r(c)&&t===r(u)&&(g?(y(M),M=-1):g=!0,L(x,o-a))):(t.sortIndex=s,n(c,t),m||p||(m=!0,N(w))),t},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},5296:(t,e,n)=>{"use strict";t.exports=n(6813)}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};t=t||[null,e({}),e([]),e(e)];for(var s=2&i&&r;"object"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((t=>a[t]=()=>r[t]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,r)=>(n.f[r](t,e),e)),[])),n.u=t=>"static/js/"+t+".777cbd01.chunk.js",n.miniCssF=t=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="multi-modal-mediator-for-interlocutory:";n.l=(r,i,o,a)=>{if(t[r])t[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==e+o){s=h;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+o),s.src=r),t[r]=[i];var d=(e,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=t[r];if(delete t[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((t=>t(n))),e)return e(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n.p="/ming-mind-web/",(()=>{var t={179:0};n.f.j=(e,r)=>{var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=t[e]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(e),s=new Error;n.l(a,(r=>{if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+e,e)}};var e=(e,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((e=>0!==t[e]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(e&&e(r);c<a.length;c++)o=a[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackChunkmulti_modal_mediator_for_interlocutory=self.webpackChunkmulti_modal_mediator_for_interlocutory||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>ix,hasStandardBrowserEnv:()=>ox,hasStandardBrowserWebWorkerEnv:()=>sx});var e={};n.r(e),n.d(e,{scaleBand:()=>x5,scaleDiverging:()=>C4,scaleDivergingLog:()=>k4,scaleDivergingPow:()=>P4,scaleDivergingSqrt:()=>R4,scaleDivergingSymlog:()=>O4,scaleIdentity:()=>E5,scaleImplicit:()=>bU,scaleLinear:()=>DS,scaleLog:()=>N5,scaleOrdinal:()=>_U,scalePoint:()=>S5,scalePow:()=>V5,scaleQuantile:()=>Z5,scaleQuantize:()=>J5,scaleRadial:()=>W5,scaleSequential:()=>x4,scaleSequentialLog:()=>w4,scaleSequentialPow:()=>E4,scaleSequentialQuantile:()=>M4,scaleSequentialSqrt:()=>T4,scaleSequentialSymlog:()=>S4,scaleSqrt:()=>H5,scaleSymlog:()=>j5,scaleThreshold:()=>t3,scaleTime:()=>v4,scaleUtc:()=>y4,tickFormat:()=>LS});var r={};n.r(r),n.d(r,{easeBack:()=>Get,easeBackIn:()=>qet,easeBackInOut:()=>Get,easeBackOut:()=>Wet,easeBounce:()=>Bet,easeBounceIn:()=>zet,easeBounceInOut:()=>Vet,easeBounceOut:()=>Bet,easeCircle:()=>ket,easeCircleIn:()=>Aet,easeCircleInOut:()=>ket,easeCircleOut:()=>Cet,easeCubic:()=>fet,easeCubicIn:()=>het,easeCubicInOut:()=>fet,easeCubicOut:()=>det,easeElastic:()=>Yet,easeElasticIn:()=>Ket,easeElasticInOut:()=>$et,easeElasticOut:()=>Yet,easeExp:()=>Met,easeExpIn:()=>Eet,easeExpInOut:()=>Met,easeExpOut:()=>Tet,easeLinear:()=>aet,easePoly:()=>get,easePolyIn:()=>pet,easePolyInOut:()=>get,easePolyOut:()=>met,easeQuad:()=>uet,easeQuadIn:()=>set,easeQuadInOut:()=>uet,easeQuadOut:()=>cet,easeSin:()=>xet,easeSinIn:()=>bet,easeSinInOut:()=>xet,easeSinOut:()=>_et});var i={};n.r(i),n.d(i,{circle:()=>tot,cross:()=>aot,diamond:()=>not,minus:()=>sot,plus:()=>oot,square:()=>eot,star:()=>lot,triangleDown:()=>rot,triangleUp:()=>iot});var o={};n.r(o),n.d(o,{arc:()=>uat,area:()=>yat,areaRadial:()=>Aat,curveBasis:()=>vst,curveBasisClosed:()=>bst,curveBasisOpen:()=>xst,curveBumpX:()=>Pat,curveBumpY:()=>Rat,curveBundle:()=>Sst,curveCardinal:()=>Mst,curveCardinalClosed:()=>Cst,curveCardinalOpen:()=>Ost,curveCatmullRom:()=>Nst,curveCatmullRomClosed:()=>Ist,curveCatmullRomOpen:()=>jst,curveLinear:()=>pat,curveLinearClosed:()=>Fst,curveMonotoneX:()=>Xst,curveMonotoneY:()=>Kst,curveNatural:()=>Qst,curveStep:()=>Jst,curveStepAfter:()=>elt,curveStepBefore:()=>tlt,line:()=>vat,lineRadial:()=>Mat,link:()=>Dat,linkHorizontal:()=>jat,linkRadial:()=>Fat,linkVertical:()=>Uat,pie:()=>xat,pointRadial:()=>Cat,radialArea:()=>Aat,radialLine:()=>Mat,stack:()=>alt,stackOffsetDiverging:()=>llt,stackOffsetExpand:()=>slt,stackOffsetNone:()=>nlt,stackOffsetSilhouette:()=>clt,stackOffsetWiggle:()=>ult,stackOrderAppearance:()=>hlt,stackOrderAscending:()=>flt,stackOrderDescending:()=>mlt,stackOrderInsideOut:()=>glt,stackOrderNone:()=>rlt,stackOrderReverse:()=>vlt,symbol:()=>fst,symbolAsterisk:()=>Bat,symbolCircle:()=>Vat,symbolCross:()=>Hat,symbolDiamond:()=>Gat,symbolDiamond2:()=>Xat,symbolPlus:()=>Kat,symbolSquare:()=>Yat,symbolSquare2:()=>$at,symbolStar:()=>tst,symbolTimes:()=>ust,symbolTriangle:()=>nst,symbolTriangle2:()=>ist,symbolWye:()=>cst,symbolX:()=>ust,symbols:()=>hst,symbolsFill:()=>hst,symbolsStroke:()=>dst});var a=n(2791),s=n.t(a,2),l=n(1250);function c(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var u=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(r){0}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}(),h=Math.abs,d=String.fromCharCode,f=Object.assign;function p(t){return t.trim()}function m(t,e,n){return t.replace(e,n)}function g(t,e){return t.indexOf(e)}function v(t,e){return 0|t.charCodeAt(e)}function y(t,e,n){return t.slice(e,n)}function b(t){return t.length}function _(t){return t.length}function x(t,e){return e.push(t),t}var w=1,S=1,E=0,T=0,M=0,A="";function C(t,e,n,r,i,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:w,column:S,length:a,return:""}}function k(t,e){return f(C("",null,null,"",null,null,0),t,{length:-t.length},e)}function O(){return M=T>0?v(A,--T):0,S--,10===M&&(S=1,w--),M}function P(){return M=T<E?v(A,T++):0,S++,10===M&&(S=1,w++),M}function R(){return v(A,T)}function N(){return T}function L(t,e){return y(A,t,e)}function I(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function D(t){return w=S=1,E=b(A=t),T=0,[]}function j(t){return A="",t}function U(t){return p(L(T-1,B(91===t?t+2:40===t?t+1:t)))}function F(t){for(;(M=R())&&M<33;)P();return I(t)>2||I(M)>3?"":" "}function z(t,e){for(;--e&&P()&&!(M<48||M>102||M>57&&M<65||M>70&&M<97););return L(t,N()+(e<6&&32==R()&&32==P()))}function B(t){for(;P();)switch(M){case t:return T;case 34:case 39:34!==t&&39!==t&&B(M);break;case 40:41===t&&B(t);break;case 92:P()}return T}function V(t,e){for(;P()&&t+M!==57&&(t+M!==84||47!==R()););return"/*"+L(e,T-1)+"*"+d(47===t?t:P())}function H(t){for(;!I(R());)P();return L(t,T)}var q="-ms-",W="-moz-",G="-webkit-",X="comm",K="rule",Y="decl",$="@keyframes";function Q(t,e){for(var n="",r=_(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Z(t,e,n,r){switch(t.type){case"@layer":if(t.children.length)break;case"@import":case Y:return t.return=t.return||t.value;case X:return"";case $:return t.return=t.value+"{"+Q(t.children,r)+"}";case K:t.value=t.props.join(",")}return b(n=Q(t.children,r))?t.return=t.value+"{"+n+"}":""}function J(t){return j(tt("",null,null,null,[""],t=D(t),0,[0],t))}function tt(t,e,n,r,i,o,a,s,l){for(var c=0,u=0,h=a,f=0,p=0,y=0,_=1,w=1,S=1,E=0,T="",M=i,A=o,C=r,k=T;w;)switch(y=E,E=P()){case 40:if(108!=y&&58==v(k,h-1)){-1!=g(k+=m(U(E),"&","&\f"),"&\f")&&(S=-1);break}case 34:case 39:case 91:k+=U(E);break;case 9:case 10:case 13:case 32:k+=F(y);break;case 92:k+=z(N()-1,7);continue;case 47:switch(R()){case 42:case 47:x(nt(V(P(),N()),e,n),l);break;default:k+="/"}break;case 123*_:s[c++]=b(k)*S;case 125*_:case 59:case 0:switch(E){case 0:case 125:w=0;case 59+u:-1==S&&(k=m(k,/\f/g,"")),p>0&&b(k)-h&&x(p>32?rt(k+";",r,n,h-1):rt(m(k," ","")+";",r,n,h-2),l);break;case 59:k+=";";default:if(x(C=et(k,e,n,c,u,i,s,T,M=[],A=[],h),o),123===E)if(0===u)tt(k,e,C,C,M,o,h,s,A);else switch(99===f&&110===v(k,3)?100:f){case 100:case 108:case 109:case 115:tt(t,C,C,r&&x(et(t,C,C,0,0,i,s,T,i,M=[],h),A),i,A,h,s,r?M:A);break;default:tt(k,C,C,C,[""],A,0,s,A)}}c=u=p=0,_=S=1,T=k="",h=a;break;case 58:h=1+b(k),p=y;default:if(_<1)if(123==E)--_;else if(125==E&&0==_++&&125==O())continue;switch(k+=d(E),E*_){case 38:S=u>0?1:(k+="\f",-1);break;case 44:s[c++]=(b(k)-1)*S,S=1;break;case 64:45===R()&&(k+=U(P())),f=R(),u=h=b(T=k+=H(N())),E++;break;case 45:45===y&&2==b(k)&&(_=0)}}return o}function et(t,e,n,r,i,o,a,s,l,c,u){for(var d=i-1,f=0===i?o:[""],g=_(f),v=0,b=0,x=0;v<r;++v)for(var w=0,S=y(t,d+1,d=h(b=a[v])),E=t;w<g;++w)(E=p(b>0?f[w]+" "+S:m(S,/&\f/g,f[w])))&&(l[x++]=E);return C(t,e,n,0===i?K:s,l,c,u)}function nt(t,e,n){return C(t,e,n,X,d(M),y(t,2,-2),0)}function rt(t,e,n,r){return C(t,e,n,Y,y(t,0,r),y(t,r+1,-1),r)}var it=function(t,e,n){for(var r=0,i=0;r=i,i=R(),38===r&&12===i&&(e[n]=1),!I(i);)P();return L(t,T)},ot=function(t,e){return j(function(t,e){var n=-1,r=44;do{switch(I(r)){case 0:38===r&&12===R()&&(e[n]=1),t[n]+=it(T-1,e,n);break;case 2:t[n]+=U(r);break;case 4:if(44===r){t[++n]=58===R()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=d(r)}}while(r=P());return t}(D(t),e))},at=new WeakMap,st=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||at.get(n))&&!r){at.set(t,!0);for(var i=[],o=ot(e,i),a=n.props,s=0,l=0;s<o.length;s++)for(var c=0;c<a.length;c++,l++)t.props[l]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},lt=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function ct(t,e){switch(function(t,e){return 45^v(t,0)?(((e<<2^v(t,0))<<2^v(t,1))<<2^v(t,2))<<2^v(t,3):0}(t,e)){case 5103:return G+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return G+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return G+t+W+t+q+t+t;case 6828:case 4268:return G+t+q+t+t;case 6165:return G+t+q+"flex-"+t+t;case 5187:return G+t+m(t,/(\w+).+(:[^]+)/,G+"box-$1$2"+q+"flex-$1$2")+t;case 5443:return G+t+q+"flex-item-"+m(t,/flex-|-self/,"")+t;case 4675:return G+t+q+"flex-line-pack"+m(t,/align-content|flex-|-self/,"")+t;case 5548:return G+t+q+m(t,"shrink","negative")+t;case 5292:return G+t+q+m(t,"basis","preferred-size")+t;case 6060:return G+"box-"+m(t,"-grow","")+G+t+q+m(t,"grow","positive")+t;case 4554:return G+m(t,/([^-])(transform)/g,"$1"+G+"$2")+t;case 6187:return m(m(m(t,/(zoom-|grab)/,G+"$1"),/(image-set)/,G+"$1"),t,"")+t;case 5495:case 3959:return m(t,/(image-set\([^]*)/,G+"$1$`$1");case 4968:return m(m(t,/(.+:)(flex-)?(.*)/,G+"box-pack:$3"+q+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+G+t+t;case 4095:case 3583:case 4068:case 2532:return m(t,/(.+)-inline(.+)/,G+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(b(t)-1-e>6)switch(v(t,e+1)){case 109:if(45!==v(t,e+4))break;case 102:return m(t,/(.+:)(.+)-([^]+)/,"$1"+G+"$2-$3$1"+W+(108==v(t,e+3)?"$3":"$2-$3"))+t;case 115:return~g(t,"stretch")?ct(m(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==v(t,e+1))break;case 6444:switch(v(t,b(t)-3-(~g(t,"!important")&&10))){case 107:return m(t,":",":"+G)+t;case 101:return m(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+G+(45===v(t,14)?"inline-":"")+"box$3$1"+G+"$2$3$1"+q+"$2box$3")+t}break;case 5936:switch(v(t,e+11)){case 114:return G+t+q+m(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return G+t+q+m(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return G+t+q+m(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return G+t+q+t+t}return t}var ut=[function(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Y:t.return=ct(t.value,t.length);break;case $:return Q([k(t,{value:m(t.value,"@","@"+G)})],r);case K:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Q([k(t,{props:[m(e,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Q([k(t,{props:[m(e,/:(plac\w+)/,":"+G+"input-$1")]}),k(t,{props:[m(e,/:(plac\w+)/,":-moz-$1")]}),k(t,{props:[m(e,/:(plac\w+)/,q+"input-$1")]})],r)}return""}))}}],ht=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var r=t.stylisPlugins||ut;var i,o,a={},s=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)a[e[n]]=!0;s.push(t)}));var l,c,h=[Z,(c=function(t){l.insert(t)},function(t){t.root||(t=t.return)&&c(t)})],d=function(t){var e=_(t);return function(n,r,i,o){for(var a="",s=0;s<e;s++)a+=t[s](n,r,i,o)||"";return a}}([st,lt].concat(r,h));o=function(t,e,n,r){l=n,function(t){Q(J(t),d)}(t?t+"{"+e.styles+"}":e.styles),r&&(f.inserted[e.name]=!0)};var f={key:e,sheet:new u({key:e,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:o};return f.sheet.hydrate(s),f};function dt(){return dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dt.apply(this,arguments)}var ft=function(t){var e=new WeakMap;return function(n){if(e.has(n))return e.get(n);var r=t(n);return e.set(n,r),r}};var pt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function mt(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}var gt=/[A-Z]|^ms/g,vt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,yt=function(t){return 45===t.charCodeAt(1)},bt=function(t){return null!=t&&"boolean"!==typeof t},_t=mt((function(t){return yt(t)?t:t.replace(gt,"-$&").toLowerCase()})),xt=function(t,e){switch(t){case"animation":case"animationName":if("string"===typeof e)return e.replace(vt,(function(t,e,n){return St={name:e,styles:n,next:St},e}))}return 1===pt[t]||yt(t)||"number"!==typeof e||0===e?e:e+"px"};function wt(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return St={name:n.name,styles:n.styles,next:St},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)St={name:r.name,styles:r.styles,next:St},r=r.next;return n.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=wt(t,e,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=e&&void 0!==e[a]?r+=o+"{"+e[a]+"}":bt(a)&&(r+=_t(o)+":"+xt(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=e&&void 0!==e[a[0]]){var s=wt(t,e,a);switch(o){case"animation":case"animationName":r+=_t(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)bt(a[l])&&(r+=_t(o)+":"+xt(o,a[l])+";")}return r}(t,e,n);case"function":if(void 0!==t){var i=St,o=n(t);return St=i,wt(t,e,o)}}if(null==e)return n;var a=e[n];return void 0!==a?a:n}var St,Et=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Tt=function(t,e,n){if(1===t.length&&"object"===typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,i="";St=void 0;var o=t[0];null==o||void 0===o.raw?(r=!1,i+=wt(n,e,o)):i+=o[0];for(var a=1;a<t.length;a++)i+=wt(n,e,t[a]),r&&(i+=o[a]);Et.lastIndex=0;for(var s,l="";null!==(s=Et.exec(i));)l+="-"+s[1];var c=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:St}},Mt=!!s.useInsertionEffect&&s.useInsertionEffect,At=Mt||function(t){return t()},Ct=Mt||a.useLayoutEffect,kt=a.createContext("undefined"!==typeof HTMLElement?ht({key:"css"}):null);kt.Provider;var Ot=function(t){return(0,a.forwardRef)((function(e,n){var r=(0,a.useContext)(kt);return t(e,r,n)}))};var Pt=a.createContext({});var Rt=ft((function(t){return ft((function(e){return function(t,e){return"function"===typeof e?e(t):dt({},t,e)}(t,e)}))})),Nt=function(t){var e=a.useContext(Pt);return t.theme!==e&&(e=Rt(e)(t.theme)),a.createElement(Pt.Provider,{value:e},t.children)};var Lt=function(t,e,n){var r=t.key+"-"+e.name;!1===n&&void 0===t.registered[r]&&(t.registered[r]=e.styles)},It=function(t,e,n){Lt(t,e,n);var r=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var i=e;do{t.insert(e===i?"."+r:"",i,t.sheet,!0),i=i.next}while(void 0!==i)}},Dt=(n(2110),Ot((function(t,e){var n=t.styles,r=Tt([n],void 0,a.useContext(Pt)),i=a.useRef();return Ct((function(){var t=e.key+"-global",n=new e.sheet.constructor({key:t,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,a=document.querySelector('style[data-emotion="'+t+" "+r.name+'"]');return e.sheet.tags.length&&(n.before=e.sheet.tags[0]),null!==a&&(o=!0,a.setAttribute("data-emotion",t),n.hydrate([a])),i.current=[n,o],function(){n.flush()}}),[e]),Ct((function(){var t=i.current,n=t[0];if(t[1])t[1]=!1;else{if(void 0!==r.next&&It(e,r.next,!0),n.tags.length){var o=n.tags[n.tags.length-1].nextElementSibling;n.before=o,n.flush()}e.insert("",r,n,!1)}}),[e,r.name]),null})));function jt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Tt(e)}var Ut=function(){var t=jt.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Ft,zt,Bt=n(184),Vt=String.raw,Ht=Vt(Ft||(Ft=c(["\n  :root,\n  :host {\n    --chakra-vh: 100vh;\n  }\n\n  @supports (height: -webkit-fill-available) {\n    :root,\n    :host {\n      --chakra-vh: -webkit-fill-available;\n    }\n  }\n\n  @supports (height: -moz-fill-available) {\n    :root,\n    :host {\n      --chakra-vh: -moz-fill-available;\n    }\n  }\n\n  @supports (height: 100dvh) {\n    :root,\n    :host {\n      --chakra-vh: 100dvh;\n    }\n  }\n"]))),qt=()=>(0,Bt.jsx)(Dt,{styles:Ht}),Wt=t=>{let{scope:e=""}=t;return(0,Bt.jsx)(Dt,{styles:Vt(zt||(zt=c(['\n      html {\n        line-height: 1.5;\n        -webkit-text-size-adjust: 100%;\n        font-family: system-ui, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;\n        -moz-osx-font-smoothing: grayscale;\n        touch-action: manipulation;\n      }\n\n      body {\n        position: relative;\n        min-height: 100%;\n        margin: 0;\n        font-feature-settings: "kern";\n      }\n\n      '," :where(*, *::before, *::after) {\n        border-width: 0;\n        border-style: solid;\n        box-sizing: border-box;\n        word-wrap: break-word;\n      }\n\n      main {\n        display: block;\n      }\n\n      "," hr {\n        border-top-width: 1px;\n        box-sizing: content-box;\n        height: 0;\n        overflow: visible;\n      }\n\n      "," :where(pre, code, kbd,samp) {\n        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;\n        font-size: 1em;\n      }\n\n      "," a {\n        background-color: transparent;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      "," abbr[title] {\n        border-bottom: none;\n        text-decoration: underline;\n        -webkit-text-decoration: underline dotted;\n        text-decoration: underline dotted;\n      }\n\n      "," :where(b, strong) {\n        font-weight: bold;\n      }\n\n      "," small {\n        font-size: 80%;\n      }\n\n      "," :where(sub,sup) {\n        font-size: 75%;\n        line-height: 0;\n        position: relative;\n        vertical-align: baseline;\n      }\n\n      "," sub {\n        bottom: -0.25em;\n      }\n\n      "," sup {\n        top: -0.5em;\n      }\n\n      "," img {\n        border-style: none;\n      }\n\n      "," :where(button, input, optgroup, select, textarea) {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n        margin: 0;\n      }\n\n      "," :where(button, input) {\n        overflow: visible;\n      }\n\n      "," :where(button, select) {\n        text-transform: none;\n      }\n\n      ",' :where(\n          button::-moz-focus-inner,\n          [type="button"]::-moz-focus-inner,\n          [type="reset"]::-moz-focus-inner,\n          [type="submit"]::-moz-focus-inner\n        ) {\n        border-style: none;\n        padding: 0;\n      }\n\n      '," fieldset {\n        padding: 0.35em 0.75em 0.625em;\n      }\n\n      "," legend {\n        box-sizing: border-box;\n        color: inherit;\n        display: table;\n        max-width: 100%;\n        padding: 0;\n        white-space: normal;\n      }\n\n      "," progress {\n        vertical-align: baseline;\n      }\n\n      "," textarea {\n        overflow: auto;\n      }\n\n      ",' :where([type="checkbox"], [type="radio"]) {\n        box-sizing: border-box;\n        padding: 0;\n      }\n\n      ',' input[type="number"]::-webkit-inner-spin-button,\n      ',' input[type="number"]::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n      }\n\n      ',' input[type="number"] {\n        -moz-appearance: textfield;\n      }\n\n      ',' input[type="search"] {\n        -webkit-appearance: textfield;\n        outline-offset: -2px;\n      }\n\n      ',' input[type="search"]::-webkit-search-decoration {\n        -webkit-appearance: none !important;\n      }\n\n      '," ::-webkit-file-upload-button {\n        -webkit-appearance: button;\n        font: inherit;\n      }\n\n      "," details {\n        display: block;\n      }\n\n      "," summary {\n        display: list-item;\n      }\n\n      template {\n        display: none;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      "," :where(\n          blockquote,\n          dl,\n          dd,\n          h1,\n          h2,\n          h3,\n          h4,\n          h5,\n          h6,\n          hr,\n          figure,\n          p,\n          pre\n        ) {\n        margin: 0;\n      }\n\n      "," button {\n        background: transparent;\n        padding: 0;\n      }\n\n      "," fieldset {\n        margin: 0;\n        padding: 0;\n      }\n\n      "," :where(ol, ul) {\n        margin: 0;\n        padding: 0;\n      }\n\n      "," textarea {\n        resize: vertical;\n      }\n\n      ",' :where(button, [role="button"]) {\n        cursor: pointer;\n      }\n\n      '," button::-moz-focus-inner {\n        border: 0 !important;\n      }\n\n      "," table {\n        border-collapse: collapse;\n      }\n\n      "," :where(h1, h2, h3, h4, h5, h6) {\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      "," :where(button, input, optgroup, select, textarea) {\n        padding: 0;\n        line-height: inherit;\n        color: inherit;\n      }\n\n      "," :where(img, svg, video, canvas, audio, iframe, embed, object) {\n        display: block;\n      }\n\n      "," :where(img, video) {\n        max-width: 100%;\n        height: auto;\n      }\n\n      [data-js-focus-visible]\n        :focus:not([data-focus-visible-added]):not(\n          [data-focus-visible-disabled]\n        ) {\n        outline: none;\n        box-shadow: none;\n      }\n\n      "," select::-ms-expand {\n        display: none;\n      }\n\n      ","\n    "])),e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,Ht)})};function Gt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:o,defaultValue:s}=t,l=(0,a.createContext)(s);return l.displayName=e,[l.Provider,function t(){var e;const s=(0,a.useContext)(l);if(!s&&n){const n=new Error(null!=o?o:(c=i,"".concat(r," returned `undefined`. Seems you forgot to wrap component within ").concat(c)));throw n.name="ContextError",null==(e=Error.captureStackTrace)||e.call(Error,n,t),n}var c;return s},l]}var[Xt,Kt]=Gt({strict:!1,name:"PortalManagerContext"});function Yt(t){const{children:e,zIndex:n}=t;return(0,Bt.jsx)(Xt,{value:{zIndex:n},children:e})}Yt.displayName="PortalManager";var $t=(0,a.createContext)({});function Qt(){const t=(0,a.useContext)($t);if(void 0===t)throw new Error("useColorMode must be used within a ColorModeProvider");return t}function Zt(t,e){const{colorMode:n}=Qt();return"dark"===n?e:t}$t.displayName="ColorModeContext";var Jt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(Boolean).join(" ")};function te(t){const e=typeof t;return null!=t&&("object"===e||"function"===e)&&!Array.isArray(t)}function ee(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ne(t)?t(...n):t}var ne=t=>"function"===typeof t,re=t=>t?"":void 0;function ie(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){e.some((e=>(null==e||e(t),null==t?void 0:t.defaultPrevented)))}}var oe=n(6198),ae=t=>"string"===typeof t?t.replace(/!(important)?$/,"").trim():t,se=(t,e)=>n=>{const r=String(e),i=(t=>/!(important)?$/.test(t))(r),o=ae(r),a=t?"".concat(t,".").concat(o):o;let s=te(n.__cssMap)&&a in n.__cssMap?n.__cssMap[a].varRef:e;return s=ae(s),i?"".concat(s," !important"):s};function le(t){const{scale:e,transform:n,compose:r}=t;return(t,i)=>{var o;const a=se(e,t)(i);let s=null!=(o=null==n?void 0:n(a,i))?o:a;return r&&(s=r(s,i)),s}}var ce=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>e.reduce(((t,e)=>e(t)),t)};function ue(t,e){return n=>{const r={property:n,scale:t};return r.transform=le({scale:t,transform:e}),r}}var he=t=>{let{rtl:e,ltr:n}=t;return t=>"rtl"===t.direction?e:n};var de=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];var fe={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},pe={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};var me={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},ge={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},ve=new Set(Object.values(ge)),ye=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),be=t=>t.trim();var _e=t=>"string"===typeof t&&t.includes("(")&&t.includes(")");var xe=t=>e=>"".concat(t,"(").concat(e,")"),we={filter:t=>"auto"!==t?t:fe,backdropFilter:t=>"auto"!==t?t:pe,ring:t=>function(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}(we.px(t)),bgClip:t=>"text"===t?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t},transform:t=>"auto"===t?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...de].join(" "):"auto-gpu"===t?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...de].join(" "):t,vh:t=>"$100vh"===t?"var(--chakra-vh)":t,px(t){if(null==t)return t;const{unitless:e}=(t=>{const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}})(t);return e||"number"===typeof t?"".concat(t,"px"):t},fraction:t=>"number"!==typeof t||t>1?t:"".concat(100*t,"%"),float:(t,e)=>"rtl"===e.direction?{left:"right",right:"left"}[t]:t,degree(t){if(function(t){return/^var\(--.+\)$/.test(t)}(t)||null==t)return t;const e="string"===typeof t&&!t.endsWith("deg");return"number"===typeof t||e?"".concat(t,"deg"):t},gradient:(t,e)=>function(t,e){if(null==t||ye.has(t))return t;if(!_e(t)&&!ye.has(t))return"url('".concat(t,"')");const n=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),r=null==n?void 0:n[1],i=null==n?void 0:n[2];if(!r||!i)return t;const o=r.includes("-gradient")?r:"".concat(r,"-gradient"),[a,...s]=i.split(",").map(be).filter(Boolean);if(0===(null==s?void 0:s.length))return t;const l=a in ge?ge[a]:a;s.unshift(l);const c=s.map((t=>{if(ve.has(t))return t;const n=t.indexOf(" "),[r,i]=-1!==n?[t.substr(0,n),t.substr(n+1)]:[t],o=_e(i)?i:i&&i.split(" "),a="colors.".concat(r),s=a in e.__cssMap?e.__cssMap[a].varRef:r;return o?[s,...Array.isArray(o)?o:[o]].join(" "):s}));return"".concat(o,"(").concat(c.join(", "),")")}(t,null!=e?e:{}),blur:xe("blur"),opacity:xe("opacity"),brightness:xe("brightness"),contrast:xe("contrast"),dropShadow:xe("drop-shadow"),grayscale:xe("grayscale"),hueRotate:t=>xe("hue-rotate")(we.degree(t)),invert:xe("invert"),saturate:xe("saturate"),sepia:xe("sepia"),bgImage(t){if(null==t)return t;return _e(t)||ye.has(t)?t:"url(".concat(t,")")},outline(t){const e="0"===String(t)||"none"===String(t);return null!==t&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){var e;const{space:n,divide:r}=null!=(e=me[t])?e:{},i={flexDirection:t};return n&&(i[n]=1),r&&(i[r]=1),i}},Se={borderWidths:ue("borderWidths"),borderStyles:ue("borderStyles"),colors:ue("colors"),borders:ue("borders"),gradients:ue("gradients",we.gradient),radii:ue("radii",we.px),space:ue("space",ce(we.vh,we.px)),spaceT:ue("space",ce(we.vh,we.px)),degreeT:t=>({property:t,transform:we.degree}),prop:(t,e,n)=>({property:t,scale:e,...e&&{transform:le({scale:e,transform:n})}}),propT:(t,e)=>({property:t,transform:e}),sizes:ue("sizes",ce(we.vh,we.px)),sizesT:ue("sizes",ce(we.vh,we.fraction)),shadows:ue("shadows"),logical:function(t){const{property:e,scale:n,transform:r}=t;return{scale:n,property:he(e),transform:n?le({scale:n,compose:r}):r}},blur:ue("blur",we.blur)},Ee={background:Se.colors("background"),backgroundColor:Se.colors("backgroundColor"),backgroundImage:Se.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:we.bgClip},bgSize:Se.prop("backgroundSize"),bgPosition:Se.prop("backgroundPosition"),bg:Se.colors("background"),bgColor:Se.colors("backgroundColor"),bgPos:Se.prop("backgroundPosition"),bgRepeat:Se.prop("backgroundRepeat"),bgAttachment:Se.prop("backgroundAttachment"),bgGradient:Se.gradients("backgroundImage"),bgClip:{transform:we.bgClip}};Object.assign(Ee,{bgImage:Ee.backgroundImage,bgImg:Ee.backgroundImage});var Te={border:Se.borders("border"),borderWidth:Se.borderWidths("borderWidth"),borderStyle:Se.borderStyles("borderStyle"),borderColor:Se.colors("borderColor"),borderRadius:Se.radii("borderRadius"),borderTop:Se.borders("borderTop"),borderBlockStart:Se.borders("borderBlockStart"),borderTopLeftRadius:Se.radii("borderTopLeftRadius"),borderStartStartRadius:Se.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:Se.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:Se.radii("borderTopRightRadius"),borderStartEndRadius:Se.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:Se.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:Se.borders("borderRight"),borderInlineEnd:Se.borders("borderInlineEnd"),borderBottom:Se.borders("borderBottom"),borderBlockEnd:Se.borders("borderBlockEnd"),borderBottomLeftRadius:Se.radii("borderBottomLeftRadius"),borderBottomRightRadius:Se.radii("borderBottomRightRadius"),borderLeft:Se.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:Se.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:Se.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:Se.borders(["borderLeft","borderRight"]),borderInline:Se.borders("borderInline"),borderY:Se.borders(["borderTop","borderBottom"]),borderBlock:Se.borders("borderBlock"),borderTopWidth:Se.borderWidths("borderTopWidth"),borderBlockStartWidth:Se.borderWidths("borderBlockStartWidth"),borderTopColor:Se.colors("borderTopColor"),borderBlockStartColor:Se.colors("borderBlockStartColor"),borderTopStyle:Se.borderStyles("borderTopStyle"),borderBlockStartStyle:Se.borderStyles("borderBlockStartStyle"),borderBottomWidth:Se.borderWidths("borderBottomWidth"),borderBlockEndWidth:Se.borderWidths("borderBlockEndWidth"),borderBottomColor:Se.colors("borderBottomColor"),borderBlockEndColor:Se.colors("borderBlockEndColor"),borderBottomStyle:Se.borderStyles("borderBottomStyle"),borderBlockEndStyle:Se.borderStyles("borderBlockEndStyle"),borderLeftWidth:Se.borderWidths("borderLeftWidth"),borderInlineStartWidth:Se.borderWidths("borderInlineStartWidth"),borderLeftColor:Se.colors("borderLeftColor"),borderInlineStartColor:Se.colors("borderInlineStartColor"),borderLeftStyle:Se.borderStyles("borderLeftStyle"),borderInlineStartStyle:Se.borderStyles("borderInlineStartStyle"),borderRightWidth:Se.borderWidths("borderRightWidth"),borderInlineEndWidth:Se.borderWidths("borderInlineEndWidth"),borderRightColor:Se.colors("borderRightColor"),borderInlineEndColor:Se.colors("borderInlineEndColor"),borderRightStyle:Se.borderStyles("borderRightStyle"),borderInlineEndStyle:Se.borderStyles("borderInlineEndStyle"),borderTopRadius:Se.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:Se.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:Se.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:Se.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Te,{rounded:Te.borderRadius,roundedTop:Te.borderTopRadius,roundedTopLeft:Te.borderTopLeftRadius,roundedTopRight:Te.borderTopRightRadius,roundedTopStart:Te.borderStartStartRadius,roundedTopEnd:Te.borderStartEndRadius,roundedBottom:Te.borderBottomRadius,roundedBottomLeft:Te.borderBottomLeftRadius,roundedBottomRight:Te.borderBottomRightRadius,roundedBottomStart:Te.borderEndStartRadius,roundedBottomEnd:Te.borderEndEndRadius,roundedLeft:Te.borderLeftRadius,roundedRight:Te.borderRightRadius,roundedStart:Te.borderInlineStartRadius,roundedEnd:Te.borderInlineEndRadius,borderStart:Te.borderInlineStart,borderEnd:Te.borderInlineEnd,borderTopStartRadius:Te.borderStartStartRadius,borderTopEndRadius:Te.borderStartEndRadius,borderBottomStartRadius:Te.borderEndStartRadius,borderBottomEndRadius:Te.borderEndEndRadius,borderStartRadius:Te.borderInlineStartRadius,borderEndRadius:Te.borderInlineEndRadius,borderStartWidth:Te.borderInlineStartWidth,borderEndWidth:Te.borderInlineEndWidth,borderStartColor:Te.borderInlineStartColor,borderEndColor:Te.borderInlineEndColor,borderStartStyle:Te.borderInlineStartStyle,borderEndStyle:Te.borderInlineEndStyle});var Me={color:Se.colors("color"),textColor:Se.colors("color"),fill:Se.colors("fill"),stroke:Se.colors("stroke")},Ae={boxShadow:Se.shadows("boxShadow"),mixBlendMode:!0,blendMode:Se.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:Se.prop("backgroundBlendMode"),opacity:!0};Object.assign(Ae,{shadow:Ae.boxShadow});var Ce={filter:{transform:we.filter},blur:Se.blur("--chakra-blur"),brightness:Se.propT("--chakra-brightness",we.brightness),contrast:Se.propT("--chakra-contrast",we.contrast),hueRotate:Se.propT("--chakra-hue-rotate",we.hueRotate),invert:Se.propT("--chakra-invert",we.invert),saturate:Se.propT("--chakra-saturate",we.saturate),dropShadow:Se.propT("--chakra-drop-shadow",we.dropShadow),backdropFilter:{transform:we.backdropFilter},backdropBlur:Se.blur("--chakra-backdrop-blur"),backdropBrightness:Se.propT("--chakra-backdrop-brightness",we.brightness),backdropContrast:Se.propT("--chakra-backdrop-contrast",we.contrast),backdropHueRotate:Se.propT("--chakra-backdrop-hue-rotate",we.hueRotate),backdropInvert:Se.propT("--chakra-backdrop-invert",we.invert),backdropSaturate:Se.propT("--chakra-backdrop-saturate",we.saturate)},ke={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:we.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:Se.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:Se.space("gap"),rowGap:Se.space("rowGap"),columnGap:Se.space("columnGap")};Object.assign(ke,{flexDir:ke.flexDirection});var Oe={gridGap:Se.space("gridGap"),gridColumnGap:Se.space("gridColumnGap"),gridRowGap:Se.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},Pe={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:we.outline},outlineOffset:!0,outlineColor:Se.colors("outlineColor")},Re={width:Se.sizesT("width"),inlineSize:Se.sizesT("inlineSize"),height:Se.sizes("height"),blockSize:Se.sizes("blockSize"),boxSize:Se.sizes(["width","height"]),minWidth:Se.sizes("minWidth"),minInlineSize:Se.sizes("minInlineSize"),minHeight:Se.sizes("minHeight"),minBlockSize:Se.sizes("minBlockSize"),maxWidth:Se.sizes("maxWidth"),maxInlineSize:Se.sizes("maxInlineSize"),maxHeight:Se.sizes("maxHeight"),maxBlockSize:Se.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;const o=null!=(i=null==(r=null==(n=e.__breakpoints)?void 0:n.get(t))?void 0:r.minW)?i:t;return{["@media screen and (min-width: ".concat(o,")")]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;const o=null!=(i=null==(r=null==(n=e.__breakpoints)?void 0:n.get(t))?void 0:r._minW)?i:t;return{["@media screen and (max-width: ".concat(o,")")]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:Se.propT("float",we.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Re,{w:Re.width,h:Re.height,minW:Re.minWidth,maxW:Re.maxWidth,minH:Re.minHeight,maxH:Re.maxHeight,overscroll:Re.overscrollBehavior,overscrollX:Re.overscrollBehaviorX,overscrollY:Re.overscrollBehaviorY});var Ne={listStyleType:!0,listStylePosition:!0,listStylePos:Se.prop("listStylePosition"),listStyleImage:!0,listStyleImg:Se.prop("listStyleImage")};var Le=(t=>{const e=new WeakMap;return(n,r,i,o)=>{if("undefined"===typeof n)return t(n,r,i);e.has(n)||e.set(n,new Map);const a=e.get(n);if(a.has(r))return a.get(r);const s=t(n,r,i,o);return a.set(r,s),s}})((function(t,e,n,r){const i="string"===typeof e?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return void 0===t?n:t})),Ie={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},De={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},je=(t,e,n)=>{const r={},i=Le(t,e,{});for(const o in i){o in n&&null!=n[o]||(r[o]=i[o])}return r},Ue={srOnly:{transform:t=>!0===t?Ie:"focusable"===t?De:{}},layerStyle:{processResult:!0,transform:(t,e,n)=>je(e,"layerStyles.".concat(t),n)},textStyle:{processResult:!0,transform:(t,e,n)=>je(e,"textStyles.".concat(t),n)},apply:{processResult:!0,transform:(t,e,n)=>je(e,t,n)}},Fe={position:!0,pos:Se.prop("position"),zIndex:Se.prop("zIndex","zIndices"),inset:Se.spaceT("inset"),insetX:Se.spaceT(["left","right"]),insetInline:Se.spaceT("insetInline"),insetY:Se.spaceT(["top","bottom"]),insetBlock:Se.spaceT("insetBlock"),top:Se.spaceT("top"),insetBlockStart:Se.spaceT("insetBlockStart"),bottom:Se.spaceT("bottom"),insetBlockEnd:Se.spaceT("insetBlockEnd"),left:Se.spaceT("left"),insetInlineStart:Se.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:Se.spaceT("right"),insetInlineEnd:Se.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Fe,{insetStart:Fe.insetInlineStart,insetEnd:Fe.insetInlineEnd});var ze={ring:{transform:we.ring},ringColor:Se.colors("--chakra-ring-color"),ringOffset:Se.prop("--chakra-ring-offset-width"),ringOffsetColor:Se.colors("--chakra-ring-offset-color"),ringInset:Se.prop("--chakra-ring-inset")},Be={margin:Se.spaceT("margin"),marginTop:Se.spaceT("marginTop"),marginBlockStart:Se.spaceT("marginBlockStart"),marginRight:Se.spaceT("marginRight"),marginInlineEnd:Se.spaceT("marginInlineEnd"),marginBottom:Se.spaceT("marginBottom"),marginBlockEnd:Se.spaceT("marginBlockEnd"),marginLeft:Se.spaceT("marginLeft"),marginInlineStart:Se.spaceT("marginInlineStart"),marginX:Se.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:Se.spaceT("marginInline"),marginY:Se.spaceT(["marginTop","marginBottom"]),marginBlock:Se.spaceT("marginBlock"),padding:Se.space("padding"),paddingTop:Se.space("paddingTop"),paddingBlockStart:Se.space("paddingBlockStart"),paddingRight:Se.space("paddingRight"),paddingBottom:Se.space("paddingBottom"),paddingBlockEnd:Se.space("paddingBlockEnd"),paddingLeft:Se.space("paddingLeft"),paddingInlineStart:Se.space("paddingInlineStart"),paddingInlineEnd:Se.space("paddingInlineEnd"),paddingX:Se.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:Se.space("paddingInline"),paddingY:Se.space(["paddingTop","paddingBottom"]),paddingBlock:Se.space("paddingBlock")};Object.assign(Be,{m:Be.margin,mt:Be.marginTop,mr:Be.marginRight,me:Be.marginInlineEnd,marginEnd:Be.marginInlineEnd,mb:Be.marginBottom,ml:Be.marginLeft,ms:Be.marginInlineStart,marginStart:Be.marginInlineStart,mx:Be.marginX,my:Be.marginY,p:Be.padding,pt:Be.paddingTop,py:Be.paddingY,px:Be.paddingX,pb:Be.paddingBottom,pl:Be.paddingLeft,ps:Be.paddingInlineStart,paddingStart:Be.paddingInlineStart,pr:Be.paddingRight,pe:Be.paddingInlineEnd,paddingEnd:Be.paddingInlineEnd});var Ve={textDecorationColor:Se.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:Se.shadows("textShadow")},He={clipPath:!0,transform:Se.propT("transform",we.transform),transformOrigin:!0,translateX:Se.spaceT("--chakra-translate-x"),translateY:Se.spaceT("--chakra-translate-y"),skewX:Se.degreeT("--chakra-skew-x"),skewY:Se.degreeT("--chakra-skew-y"),scaleX:Se.prop("--chakra-scale-x"),scaleY:Se.prop("--chakra-scale-y"),scale:Se.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:Se.degreeT("--chakra-rotate")},qe={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:Se.prop("transitionDuration","transition.duration"),transitionProperty:Se.prop("transitionProperty","transition.property"),transitionTimingFunction:Se.prop("transitionTimingFunction","transition.easing")},We={fontFamily:Se.prop("fontFamily","fonts"),fontSize:Se.prop("fontSize","fontSizes",we.px),fontWeight:Se.prop("fontWeight","fontWeights"),lineHeight:Se.prop("lineHeight","lineHeights"),letterSpacing:Se.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(!0===t)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},Ge={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:Se.spaceT("scrollMargin"),scrollMarginTop:Se.spaceT("scrollMarginTop"),scrollMarginBottom:Se.spaceT("scrollMarginBottom"),scrollMarginLeft:Se.spaceT("scrollMarginLeft"),scrollMarginRight:Se.spaceT("scrollMarginRight"),scrollMarginX:Se.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:Se.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:Se.spaceT("scrollPadding"),scrollPaddingTop:Se.spaceT("scrollPaddingTop"),scrollPaddingBottom:Se.spaceT("scrollPaddingBottom"),scrollPaddingLeft:Se.spaceT("scrollPaddingLeft"),scrollPaddingRight:Se.spaceT("scrollPaddingRight"),scrollPaddingX:Se.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:Se.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function Xe(t){return te(t)&&t.reference?t.reference:String(t)}var Ke=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.map(Xe).join(" ".concat(t," ")).replace(/calc/g,"")},Ye=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc(".concat(Ke("+",...e),")")},$e=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc(".concat(Ke("-",...e),")")},Qe=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc(".concat(Ke("*",...e),")")},Ze=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc(".concat(Ke("/",...e),")")},Je=t=>{const e=Xe(t);return null==e||Number.isNaN(parseFloat(e))?Qe(e,-1):String(e).startsWith("-")?String(e).slice(1):"-".concat(e)},tn=Object.assign((t=>({add:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return tn(Ye(t,...n))},subtract:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return tn($e(t,...n))},multiply:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return tn(Qe(t,...n))},divide:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return tn(Ze(t,...n))},negate:()=>tn(Je(t)),toString:()=>t.toString()})),{add:Ye,subtract:$e,multiply:Qe,divide:Ze,negate:Je});function en(t){const e=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.replace(/\s+/g,e)}(t.toString());return function(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}(function(t){if(t.includes("\\."))return t;const e=!Number.isInteger(parseFloat(t.toString()));return e?t.replace(".","\\."):t}(e))}function nn(t,e){return"var(".concat(t).concat(e?", ".concat(e):"",")")}function rn(t){return en("--".concat(function(t){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t].filter(Boolean).join("-")}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")))}function on(t,e,n){const r=rn(t,n);return{variable:r,reference:nn(r,e)}}function an(t){const e=null==t?0:t.length;return e?t[e-1]:void 0}function sn(t){if(null==t)return t;const{unitless:e}=function(t){const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}(t);return e||"number"===typeof t?"".concat(t,"px"):t}var ln=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,cn=t=>Object.fromEntries(Object.entries(t).sort(ln));function un(t){const e=cn(t);return Object.assign(Object.values(e),e)}function hn(t){var e;if(!t)return t;t=null!=(e=sn(t))?e:t;return"number"===typeof t?"".concat(t+-.02):t.replace(/(\d+\.?\d*)/u,(t=>"".concat(parseFloat(t)+-.02)))}function dn(t,e){const n=["@media screen"];return t&&n.push("and","(min-width: ".concat(sn(t),")")),e&&n.push("and","(max-width: ".concat(sn(e),")")),n.join(" ")}function fn(t){var e;if(!t)return null;t.base=null!=(e=t.base)?e:"0px";const n=un(t),r=Object.entries(t).sort(ln).map(((t,e,n)=>{let[r,i]=t;var o;let[,a]=null!=(o=n[e+1])?o:[];return a=parseFloat(a)>0?hn(a):void 0,{_minW:hn(i),breakpoint:r,minW:i,maxW:a,maxWQuery:dn(null,a),minWQuery:dn(i),minMaxQuery:dn(i,a)}})),i=function(t){const e=Object.keys(cn(t));return new Set(e)}(t),o=Array.from(i.values());return{keys:i,normalized:n,isResponsive(t){const e=Object.keys(t);return e.length>0&&e.every((t=>i.has(t)))},asObject:cn(t),asArray:un(t),details:r,get:t=>r.find((e=>e.breakpoint===t)),media:[null,...n.map((t=>dn(t))).slice(1)],toArrayValue(t){if(!te(t))throw new Error("toArrayValue: value must be an object");const e=o.map((e=>{var n;return null!=(n=t[e])?n:null}));for(;null===an(e);)e.pop();return e},toObjectValue(t){if(!Array.isArray(t))throw new Error("toObjectValue: value must be an array");return t.reduce(((t,e,n)=>{const r=o[n];return null!=r&&null!=e&&(t[r]=e),t}),{})}}}var pn=(t,e)=>"".concat(t,":hover ").concat(e,", ").concat(t,"[data-hover] ").concat(e),mn=(t,e)=>"".concat(t,":focus ").concat(e,", ").concat(t,"[data-focus] ").concat(e),gn=(t,e)=>"".concat(t,":focus-visible ").concat(e),vn=(t,e)=>"".concat(t,":focus-within ").concat(e),yn=(t,e)=>"".concat(t,":active ").concat(e,", ").concat(t,"[data-active] ").concat(e),bn=(t,e)=>"".concat(t,":disabled ").concat(e,", ").concat(t,"[data-disabled] ").concat(e),_n=(t,e)=>"".concat(t,":invalid ").concat(e,", ").concat(t,"[data-invalid] ").concat(e),xn=(t,e)=>"".concat(t,":checked ").concat(e,", ").concat(t,"[data-checked] ").concat(e),wn=(t,e)=>"".concat(t,":placeholder-shown ").concat(e),Sn=t=>Tn((e=>t(e,"&")),"[role=group]","[data-group]",".group"),En=t=>Tn((e=>t(e,"~ &")),"[data-peer]",".peer"),Tn=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.map(t).join(", ")},Mn={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:Sn(pn),_peerHover:En(pn),_groupFocus:Sn(mn),_peerFocus:En(mn),_groupFocusVisible:Sn(gn),_peerFocusVisible:En(gn),_groupActive:Sn(yn),_peerActive:En(yn),_groupDisabled:Sn(bn),_peerDisabled:En(bn),_groupInvalid:Sn(_n),_peerInvalid:En(_n),_groupChecked:Sn(xn),_peerChecked:En(xn),_groupFocusWithin:Sn(vn),_peerFocusWithin:En(vn),_peerPlaceholderShown:En(wn),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},An=Object.keys(Mn);function Cn(t,e){return on(String(t).replace(/\./g,"-"),void 0,e)}function kn(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{stop:r,getKey:i}=n;return function t(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var a;if(function(t){return"object"===typeof t&&null!=t&&!Array.isArray(t)}(n)||Array.isArray(n)){const s={};for(const[l,c]of Object.entries(n)){const u=null!=(a=null==i?void 0:i(l))?a:l,h=[...o,u];if(null==r?void 0:r(n,h))return e(n,o);s[u]=t(c,h)}return s}return e(n,o)}(t)}var On=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];var Pn=t=>An.includes(t)||"default"===t;function Rn(t){var e;const n=function(t){const{__cssMap:e,__cssVars:n,__breakpoints:r,...i}=t;return i}(t),r=function(t){return function(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}(t,On)}(n),i=function(t){return t.semanticTokens}(n),o=function(t){let{tokens:e,semanticTokens:n}=t;const r={};return kn(e,((t,e)=>{null!=t&&(r[e.join(".")]={isSemantic:!1,value:t})})),kn(n,((t,e)=>{null!=t&&(r[e.join(".")]={isSemantic:!0,value:t})}),{stop:t=>Object.keys(t).every(Pn)}),r}({tokens:r,semanticTokens:i}),a=null==(e=n.config)?void 0:e.cssVarPrefix,{cssMap:s,cssVars:l}=function(t,e){let n={};const r={};for(const[i,o]of Object.entries(t)){const{isSemantic:a,value:s}=o,{variable:l,reference:c}=Cn(i,null==e?void 0:e.cssVarPrefix);if(!a){if(i.startsWith("space")){const t=i.split("."),[e,...n]=t,o="".concat(e,".-").concat(n.join(".")),a=tn.negate(s),u=tn.negate(c);r[o]={value:a,var:l,varRef:u}}n[l]=s,r[i]={value:s,var:l,varRef:c};continue}const u=n=>{const r=[String(i).split(".")[0],n].join(".");if(!t[r])return n;const{reference:o}=Cn(r,null==e?void 0:e.cssVarPrefix);return o},h=te(s)?s:{default:s};n=oe(n,Object.entries(h).reduce(((t,e)=>{let[n,r]=e;var i,o;if(!r)return t;const a=u("".concat(r));return"default"===n?(t[l]=a,t):(t[null!=(o=null==(i=Mn)?void 0:i[n])?o:n]={[l]:a},t)}),{})),r[i]={value:c,var:l,varRef:c}}return{cssVars:n,cssMap:r}}(o,{cssVarPrefix:a});return Object.assign(n,{__cssVars:{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0",...l},__cssMap:s,__breakpoints:fn(n.breakpoints)}),n}var Nn=oe({},Ee,Te,Me,ke,Re,Ce,ze,Pe,Oe,Ue,Fe,Ae,Be,Ge,We,Ve,He,Ne,qe),Ln=Object.assign({},Be,Re,ke,Oe,Fe),In=(Object.keys(Ln),[...Object.keys(Nn),...An]),Dn={...Nn,...Mn},jn=t=>t in Dn;var Un=(t,e)=>t.startsWith("--")&&"string"===typeof e&&!function(t){return/^var\(--.+\)$/.test(t)}(e),Fn=(t,e)=>{var n,r;if(null==e)return e;const i=e=>{var n,r;return null==(r=null==(n=t.__cssMap)?void 0:n[e])?void 0:r.varRef},o=t=>{var e;return null!=(e=i(t))?e:t},[a,s]=function(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const o=t[i];"("===o?(r=!0,n+=o):")"===o?(r=!1,n+=o):","!==o||r?n+=o:(e.push(n),n="")}return n=n.trim(),n&&e.push(n),e}(e);return e=null!=(r=null!=(n=i(a))?n:o(s))?r:o(e)};function zn(t){const{configs:e={},pseudos:n={},theme:r}=t,i=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var a,s,l;const c=ee(t,r),u=(t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:n,toArrayValue:r,media:i}=e.__breakpoints,o={};for(const a in t){let s=ee(t[a],e);if(null==s)continue;if(s=te(s)&&n(s)?r(s):s,!Array.isArray(s)){o[a]=s;continue}const l=s.slice(0,i.length).length;for(let t=0;t<l;t+=1){const e=null==i?void 0:i[t];e?(o[e]=o[e]||{},null!=s[t]&&(o[e][a]=s[t])):o[a]=s[t]}}return o})(c)(r);let h={};for(let d in u){let t=ee(u[d],r);d in n&&(d=n[d]),Un(d,t)&&(t=Fn(r,t));let f=e[d];if(!0===f&&(f={property:d}),te(t)){h[d]=null!=(a=h[d])?a:{},h[d]=oe({},h[d],i(t,!0));continue}let p=null!=(l=null==(s=null==f?void 0:f.transform)?void 0:s.call(f,t,r,c))?l:t;p=(null==f?void 0:f.processResult)?i(p,!0):p;const m=ee(null==f?void 0:f.property,r);if(!o&&(null==f?void 0:f.static)){const t=ee(f.static,r);h=oe({},h,t)}if(m&&Array.isArray(m))for(const e of m)h[e]=p;else m?"&"===m&&te(p)?h=oe({},h,p):h[m]=p:te(p)?h=oe({},h,p):h[d]=p}return h};return i}var Bn=t=>e=>zn({theme:e,pseudos:Mn,configs:Nn})(t);function Vn(t){return{definePartsStyle:t=>t,defineMultiStyleConfig:e=>({parts:t,...e})}}function Hn(t,e){for(let n=e+1;n<t.length;n++)if(null!=t[n])return n;return-1}function qn(t){const e=t.__breakpoints;return function(t,n,r,i){var o,a;if(!e)return;const s={},l=function(t,e){return Array.isArray(t)?t:te(t)?e(t):null!=t?[t]:void 0}(r,e.toArrayValue);if(!l)return s;const c=l.length,u=1===c,h=!!t.parts;for(let d=0;d<c;d++){const r=e.details[d],c=e.details[Hn(l,d)],f=dn(r.minW,null==c?void 0:c._minW),p=ee(null==(o=t[n])?void 0:o[l[d]],i);p&&(h?null==(a=t.parts)||a.forEach((t=>{oe(s,{[t]:u?p[t]:{[f]:p[t]}})})):h?s[f]=p:u?oe(s,p):s[f]=p)}return s}}function Wn(t){return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}(t,["styleConfig","size","variant","colorScheme"])}var Gn=(t=>{const e=new WeakMap;return(n,r,i,o)=>{if("undefined"===typeof n)return t(n,r,i);e.has(n)||e.set(n,new Map);const a=e.get(n);if(a.has(r))return a.get(r);const s=t(n,r,i,o);return a.set(r,s),s}})((function(t,e,n,r){const i="string"===typeof e?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return void 0===t?n:t}));function Xn(t,e){const n={};return Object.keys(t).forEach((r=>{const i=t[r];e(i,r,t)&&(n[r]=i)})),n}var Kn=t=>Xn(t,(t=>null!==t&&void 0!==t));function Yn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(t){return"function"===typeof t}(t)?t(...n):t}function $n(t){const{cssVarsRoot:e,theme:n,children:r}=t,i=(0,a.useMemo)((()=>Rn(n)),[n]);return(0,Bt.jsxs)(Nt,{theme:i,children:[(0,Bt.jsx)(Qn,{root:e}),r]})}function Qn(t){let{root:e=":host, :root"}=t;const n=[e,"[data-theme]"].join(",");return(0,Bt.jsx)(Dt,{styles:t=>({[n]:t.__cssVars})})}var[Zn,Jn]=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{strict:e=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=t,i=(0,a.createContext)(void 0);return i.displayName=r,[i.Provider,function t(){var r;const o=(0,a.useContext)(i);if(!o&&e){const e=new Error(n);throw e.name="ContextError",null==(r=Error.captureStackTrace)||r.call(Error,e,t),e}return o},i]}({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function tr(){const{colorMode:t}=Qt();return(0,Bt.jsx)(Dt,{styles:e=>{const n=Yn(Gn(e,"styles.global"),{theme:e,colorMode:t});if(!n)return;return Bn(n)(e)}})}var er={light:"chakra-ui-light",dark:"chakra-ui-dark"};var nr="chakra-ui-color-mode";var rr,ir=(rr=nr,{ssr:!1,type:"localStorage",get(t){if(!(null==globalThis?void 0:globalThis.document))return t;let e;try{e=localStorage.getItem(rr)||t}catch(n){}return e||t},set(t){try{localStorage.setItem(rr,t)}catch(e){}}});function or(t,e){const n=t.match(new RegExp("(^| )".concat(e,"=([^;]+)")));return null==n?void 0:n[2]}function ar(t,e){return{ssr:!!e,type:"cookie",get:n=>e?or(e,t):(null==globalThis?void 0:globalThis.document)&&or(document.cookie,t)||n,set(e){document.cookie="".concat(t,"=").concat(e,"; max-age=31536000; path=/")}}}ar(nr);var sr=Boolean(null==globalThis?void 0:globalThis.document)?a.useLayoutEffect:a.useEffect,lr=()=>{};function cr(t,e){return"cookie"===t.type&&t.ssr?t.get(e):e}function ur(t){const{value:e,children:n,options:{useSystemColorMode:r,initialColorMode:i,disableTransitionOnChange:o}={},colorModeManager:s=ir}=t,l="dark"===i?"dark":"light",[c,u]=(0,a.useState)((()=>cr(s,l))),[h,d]=(0,a.useState)((()=>cr(s))),{getSystemTheme:f,setClassName:p,setDataset:m,addListener:g}=(0,a.useMemo)((()=>function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{preventTransition:e=!0}=t,n={setDataset:t=>{const r=e?n.preventTransition():void 0;document.documentElement.dataset.theme=t,document.documentElement.style.colorScheme=t,null==r||r()},setClassName(t){document.body.classList.add(t?er.dark:er.light),document.body.classList.remove(t?er.light:er.dark)},query:()=>window.matchMedia("(prefers-color-scheme: dark)"),getSystemTheme(t){var e;return(null!=(e=n.query().matches)?e:"dark"===t)?"dark":"light"},addListener(t){const e=n.query(),r=e=>{t(e.matches?"dark":"light")};return"function"===typeof e.addListener?e.addListener(r):e.addEventListener("change",r),()=>{"function"===typeof e.removeListener?e.removeListener(r):e.removeEventListener("change",r)}},preventTransition(){const t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),requestAnimationFrame((()=>{requestAnimationFrame((()=>{document.head.removeChild(t)}))}))}}};return n}({preventTransition:o})),[o]),v="system"!==i||c?c:h,y=(0,a.useCallback)((t=>{const e="system"===t?f():t;u(e),p("dark"===e),m(e),s.set(e)}),[s,f,p,m]);sr((()=>{"system"===i&&d(f())}),[]),(0,a.useEffect)((()=>{const t=s.get();y(t||("system"!==i?l:"system"))}),[s,l,i,y]);const b=(0,a.useCallback)((()=>{y("dark"===v?"light":"dark")}),[v,y]);(0,a.useEffect)((()=>{if(r)return g(y)}),[r,g,y]);const _=(0,a.useMemo)((()=>({colorMode:null!=e?e:v,toggleColorMode:e?lr:b,setColorMode:e?lr:y,forced:void 0!==e})),[v,b,y,e]);return(0,Bt.jsx)($t.Provider,{value:_,children:n})}ur.displayName="ColorModeProvider";var hr=(0,a.createContext)({getDocument:()=>document,getWindow:()=>window});function dr(t){const{children:e,environment:n,disabled:r}=t,i=(0,a.useRef)(null),o=(0,a.useMemo)((()=>n||{getDocument:()=>{var t,e;return null!=(e=null==(t=i.current)?void 0:t.ownerDocument)?e:document},getWindow:()=>{var t,e;return null!=(e=null==(t=i.current)?void 0:t.ownerDocument.defaultView)?e:window}}),[n]),s=!r||!n;return(0,Bt.jsxs)(hr.Provider,{value:o,children:[e,s&&(0,Bt.jsx)("span",{id:"__chakra_env",hidden:!0,ref:i})]})}hr.displayName="EnvironmentContext",dr.displayName="EnvironmentProvider";var fr=t=>{const{children:e,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:o=!0,theme:a={},environment:s,cssVarsRoot:l,disableEnvironment:c,disableGlobalStyle:u}=t,h=(0,Bt.jsx)(dr,{environment:s,disabled:c,children:e});return(0,Bt.jsx)($n,{theme:a,cssVarsRoot:l,children:(0,Bt.jsxs)(ur,{colorModeManager:n,options:a.config,children:[o?(0,Bt.jsx)(Wt,{scope:i}):(0,Bt.jsx)(qt,{}),!u&&(0,Bt.jsx)(tr,{}),r?(0,Bt.jsx)(Yt,{zIndex:r,children:h}):h]})})},pr={property:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},easing:{"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},duration:{"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"}},mr={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},gr={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},vr={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},yr={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},br={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},_r={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},xr={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},wr={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},Sr={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},Er={...Sr,max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch",container:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}},Tr={breakpoints:vr,zIndices:mr,radii:br,blur:xr,colors:yr,...wr,sizes:Er,shadows:_r,space:Sr,borders:gr,transition:pr},{defineMultiStyleConfig:Mr,definePartsStyle:Ar}=Vn(["stepper","step","title","description","indicator","separator","icon","number"]),Cr=on("stepper-indicator-size"),kr=on("stepper-icon-size"),Or=on("stepper-title-font-size"),Pr=on("stepper-description-font-size"),Rr=on("stepper-accent-color"),Nr=Ar((t=>{let{colorScheme:e}=t;return{stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[Rr.variable]:"colors.".concat(e,".500"),_dark:{[Rr.variable]:"colors.".concat(e,".200")}},title:{fontSize:Or.reference,fontWeight:"medium"},description:{fontSize:Pr.reference,color:"chakra-subtle-text"},number:{fontSize:Or.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:kr.reference,height:kr.reference},indicator:{flexShrink:0,borderRadius:"full",width:Cr.reference,height:Cr.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:Rr.reference},"&[data-status=complete]":{bg:Rr.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:Rr.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:"calc(100% - ".concat(Cr.reference," - 8px)"),top:"calc(".concat(Cr.reference," + 4px)"),insetStart:"calc(".concat(Cr.reference," / 2 - 1px)")}}}})),Lr=Mr({baseStyle:Nr,sizes:{xs:Ar({stepper:{[Cr.variable]:"sizes.4",[kr.variable]:"sizes.3",[Or.variable]:"fontSizes.xs",[Pr.variable]:"fontSizes.xs"}}),sm:Ar({stepper:{[Cr.variable]:"sizes.6",[kr.variable]:"sizes.4",[Or.variable]:"fontSizes.sm",[Pr.variable]:"fontSizes.xs"}}),md:Ar({stepper:{[Cr.variable]:"sizes.8",[kr.variable]:"sizes.5",[Or.variable]:"fontSizes.md",[Pr.variable]:"fontSizes.sm"}}),lg:Ar({stepper:{[Cr.variable]:"sizes.10",[kr.variable]:"sizes.6",[Or.variable]:"fontSizes.lg",[Pr.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function Ir(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;function r(e){const n=(["container","root"].includes(null!=e?e:"")?[t]:[t,e]).filter(Boolean).join("__"),r="chakra-".concat(n);return{className:r,selector:".".concat(r),toString:()=>e}}return{parts:function(){!function(){if(n)throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?");n=!0}();for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];for(const t of o)e[t]=r(t);return Ir(t,e)},toPart:r,extend:function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];for(const t of i)t in e||(e[t]=r(t));return Ir(t,e)},selectors:function(){const t=Object.fromEntries(Object.entries(e).map((t=>{let[e,n]=t;return[e,n.selector]})));return t},classnames:function(){const t=Object.fromEntries(Object.entries(e).map((t=>{let[e,n]=t;return[e,n.className]})));return t},get keys(){return Object.keys(e)},__type:{}}}var Dr=Ir("accordion").parts("root","container","button","panel").extend("icon"),jr=Ir("alert").parts("title","description","container").extend("icon","spinner"),Ur=Ir("avatar").parts("label","badge","container").extend("excessLabel","group"),Fr=Ir("breadcrumb").parts("link","item","container").extend("separator"),zr=(Ir("button").parts(),Ir("checkbox").parts("control","icon","container").extend("label")),Br=(Ir("progress").parts("track","filledTrack").extend("label"),Ir("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer")),Vr=Ir("editable").parts("preview","input","textarea"),Hr=Ir("form").parts("container","requiredIndicator","helperText"),qr=Ir("formError").parts("text","icon"),Wr=Ir("input").parts("addon","field","element","group"),Gr=Ir("list").parts("container","item","icon"),Xr=Ir("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),Kr=Ir("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),Yr=Ir("numberinput").parts("root","field","stepperGroup","stepper"),$r=(Ir("pininput").parts("field"),Ir("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton")),Qr=Ir("progress").parts("label","filledTrack","track"),Zr=Ir("radio").parts("container","control","label"),Jr=Ir("select").parts("field","icon"),ti=Ir("slider").parts("container","track","thumb","filledTrack","mark"),ei=Ir("stat").parts("container","label","helpText","number","icon"),ni=Ir("switch").parts("container","track","thumb","label"),ri=Ir("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),ii=Ir("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),oi=Ir("tag").parts("container","label","closeButton"),ai=Ir("card").parts("container","header","body","footer");Ir("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function si(t){const e=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.replace(/\s+/g,e)}(t.toString());return e.includes("\\.")?t:function(t){return!Number.isInteger(parseFloat(t.toString()))}(t)?e.replace(".","\\."):t}function li(t,e){return"var(".concat(si(t)).concat(e?", ".concat(e):"",")")}function ci(t){return"--".concat(function(t){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",si(t)].filter(Boolean).join("-")}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:""))}function ui(t,e){const n=ci(t,null==e?void 0:e.prefix);return{variable:n,reference:li(n,hi(null==e?void 0:e.fallback))}}function hi(t){return"string"===typeof t?t:null==t?void 0:t.reference}function di(t){return te(t)&&t.reference?t.reference:String(t)}var fi=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.map(di).join(" ".concat(t," ")).replace(/calc/g,"")},pi=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc(".concat(fi("+",...e),")")},mi=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc(".concat(fi("-",...e),")")},gi=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc(".concat(fi("*",...e),")")},vi=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc(".concat(fi("/",...e),")")},yi=t=>{const e=di(t);return null==e||Number.isNaN(parseFloat(e))?gi(e,-1):String(e).startsWith("-")?String(e).slice(1):"-".concat(e)},bi=Object.assign((t=>({add:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return bi(pi(t,...n))},subtract:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return bi(mi(t,...n))},multiply:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return bi(gi(t,...n))},divide:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return bi(vi(t,...n))},negate:()=>bi(yi(t)),toString:()=>t.toString()})),{add:pi,subtract:mi,multiply:gi,divide:vi,negate:yi}),{defineMultiStyleConfig:_i,definePartsStyle:xi}=Vn(ni.keys),wi=ui("switch-track-width"),Si=ui("switch-track-height"),Ei=ui("switch-track-diff"),Ti=bi.subtract(wi,Si),Mi=ui("switch-thumb-x"),Ai=ui("switch-bg"),Ci=t=>{const{colorScheme:e}=t;return{borderRadius:"full",p:"0.5",width:[wi.reference],height:[Si.reference],transitionProperty:"common",transitionDuration:"fast",[Ai.variable]:"colors.gray.300",_dark:{[Ai.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Ai.variable]:"colors.".concat(e,".500"),_dark:{[Ai.variable]:"colors.".concat(e,".200")}},bg:Ai.reference}},ki={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Si.reference],height:[Si.reference],_checked:{transform:"translateX(".concat(Mi.reference,")")}},Oi=_i({baseStyle:xi((t=>({container:{[Ei.variable]:Ti,[Mi.variable]:Ei.reference,_rtl:{[Mi.variable]:bi(Ei).negate().toString()}},track:Ci(t),thumb:ki}))),sizes:{sm:xi({container:{[wi.variable]:"1.375rem",[Si.variable]:"sizes.3"}}),md:xi({container:{[wi.variable]:"1.875rem",[Si.variable]:"sizes.4"}}),lg:xi({container:{[wi.variable]:"2.875rem",[Si.variable]:"sizes.6"}})},defaultProps:{size:"md",colorScheme:"blue"}});function Pi(t,e){return n=>"dark"===n.colorMode?e:t}function Ri(t){const{orientation:e,vertical:n,horizontal:r}=t;return e?"vertical"===e?n:r:{}}var{defineMultiStyleConfig:Ni,definePartsStyle:Li}=Vn(ri.keys),Ii=Li({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),Di={"&[data-is-numeric=true]":{textAlign:"end"}},ji=Li((t=>{const{colorScheme:e}=t;return{th:{color:Pi("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Pi("".concat(e,".100"),"".concat(e,".700"))(t),...Di},td:{borderBottom:"1px",borderColor:Pi("".concat(e,".100"),"".concat(e,".700"))(t),...Di},caption:{color:Pi("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),Ui=Li((t=>{const{colorScheme:e}=t;return{th:{color:Pi("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Pi("".concat(e,".100"),"".concat(e,".700"))(t),...Di},td:{borderBottom:"1px",borderColor:Pi("".concat(e,".100"),"".concat(e,".700"))(t),...Di},caption:{color:Pi("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Pi("".concat(e,".100"),"".concat(e,".700"))(t)},td:{background:Pi("".concat(e,".100"),"".concat(e,".700"))(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),Fi=Ni({baseStyle:Ii,variants:{simple:ji,striped:Ui,unstyled:{}},sizes:{sm:Li({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:Li({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:Li({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}});function zi(t,e,n){return Math.min(Math.max(t,n),e)}class Bi extends Error{constructor(t){super('Failed to parse color: "'.concat(t,'"'))}}var Vi=Bi;function Hi(t){if("string"!==typeof t)throw new Vi(t);if("transparent"===t.trim().toLowerCase())return[0,0,0,0];let e=t.trim();e=Qi.test(t)?function(t){const e=t.toLowerCase().trim(),n=Wi[function(t){let e=5381,n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return(e>>>0)%2341}(e)];if(!n)throw new Vi(t);return"#".concat(n)}(t):t;const n=Xi.exec(e);if(n){const t=Array.from(n).slice(1);return[...t.slice(0,3).map((t=>parseInt(Gi(t,2),16))),parseInt(Gi(t[3]||"f",2),16)/255]}const r=Ki.exec(e);if(r){const t=Array.from(r).slice(1);return[...t.slice(0,3).map((t=>parseInt(t,16))),parseInt(t[3]||"ff",16)/255]}const i=Yi.exec(e);if(i){const t=Array.from(i).slice(1);return[...t.slice(0,3).map((t=>parseInt(t,10))),parseFloat(t[3]||"1")]}const o=$i.exec(e);if(o){const[e,n,r,i]=Array.from(o).slice(1).map(parseFloat);if(zi(0,100,n)!==n)throw new Vi(t);if(zi(0,100,r)!==r)throw new Vi(t);return[...Ji(e,n,r),Number.isNaN(i)?1:i]}throw new Vi(t)}const qi=t=>parseInt(t.replace(/_/g,""),36),Wi="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce(((t,e)=>{const n=qi(e.substring(0,3)),r=qi(e.substring(3)).toString(16);let i="";for(let o=0;o<6-r.length;o++)i+="0";return t[n]="".concat(i).concat(r),t}),{});const Gi=(t,e)=>Array.from(Array(e)).map((()=>t)).join(""),Xi=new RegExp("^#".concat(Gi("([a-f0-9])",3),"([a-f0-9])?$"),"i"),Ki=new RegExp("^#".concat(Gi("([a-f0-9]{2})",3),"([a-f0-9]{2})?$"),"i"),Yi=new RegExp("^rgba?\\(\\s*(\\d+)\\s*".concat(Gi(",\\s*(\\d+)\\s*",2),"(?:,\\s*([\\d.]+))?\\s*\\)$"),"i"),$i=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,Qi=/^[a-z]+$/i,Zi=t=>Math.round(255*t),Ji=(t,e,n)=>{let r=n/100;if(0===e)return[r,r,r].map(Zi);const i=(t%360+360)%360/60,o=(1-Math.abs(2*r-1))*(e/100),a=o*(1-Math.abs(i%2-1));let s=0,l=0,c=0;i>=0&&i<1?(s=o,l=a):i>=1&&i<2?(s=a,l=o):i>=2&&i<3?(l=o,c=a):i>=3&&i<4?(l=a,c=o):i>=4&&i<5?(s=a,c=o):i>=5&&i<6&&(s=o,c=a);const u=r-o/2;return[s+u,l+u,c+u].map(Zi)};function to(t,e,n,r){return"rgba(".concat(zi(0,255,t).toFixed(),", ").concat(zi(0,255,e).toFixed(),", ").concat(zi(0,255,n).toFixed(),", ").concat(parseFloat(zi(0,1,r).toFixed(3)),")")}function eo(t,e){const[n,r,i,o]=Hi(t);return to(n,r,i,o-e)}var no=(t,e,n)=>{const r=function(t,e,n,r,i){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:i;return t===i?n:t}(t,"colors.".concat(e),e);try{return function(t){const[e,n,r,i]=Hi(t);let o=t=>{const e=zi(0,255,t).toString(16);return 1===e.length?"0".concat(e):e};"#".concat(o(e)).concat(o(n)).concat(o(r)).concat(i<1?o(Math.round(255*i)):"")}(r),r}catch{return null!=n?n:"#000000"}},ro=t=>e=>{const n=(t=>{const[e,n,r]=Hi(t);return(299*e+587*n+114*r)/1e3})(no(e,t));return n<128?"dark":"light"},io=(t,e)=>n=>eo(no(n,t),1-e);function oo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1rem",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(255, 255, 255, 0.15)";return{backgroundImage:"linear-gradient(\n    45deg,\n    ".concat(e," 25%,\n    transparent 25%,\n    transparent 50%,\n    ").concat(e," 50%,\n    ").concat(e," 75%,\n    transparent 75%,\n    transparent\n  )"),backgroundSize:"".concat(t," ").concat(t)}}function ao(t){const e="#".concat(Math.floor(16777215*Math.random()).toString(16).padEnd(6,"0"));return t&&(n=t,0!==Object.keys(n).length)?t.string&&t.colors?function(t,e){let n=0;if(0===t.length)return e[0];for(let r=0;r<t.length;r+=1)n=t.charCodeAt(r)+((n<<5)-n),n&=n;return n=(n%e.length+e.length)%e.length,e[n]}(t.string,t.colors):t.string&&!t.colors?function(t){let e=0;if(0===t.length)return e.toString();for(let r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e),e&=e;let n="#";for(let r=0;r<3;r+=1){n+="00".concat((e>>8*r&255).toString(16)).substr(-2)}return n}(t.string):t.colors&&!t.string?function(t){return t[Math.floor(Math.random()*t.length)]}(t.colors):e:e;var n}var so=on("tabs-color"),lo=on("tabs-bg"),co=on("tabs-border-color"),{defineMultiStyleConfig:uo,definePartsStyle:ho}=Vn(ii.keys),fo=t=>{const{orientation:e}=t;return{display:"vertical"===e?"flex":"block"}},po=t=>{const{isFitted:e}=t;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},mo=t=>{const{align:e="start",orientation:n}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:"vertical"===n?"column":"row"}},go={p:4},vo=ho((t=>({root:fo(t),tab:po(t),tablist:mo(t),tabpanel:go}))),yo={sm:ho({tab:{py:1,px:4,fontSize:"sm"}}),md:ho({tab:{fontSize:"md",py:2,px:4}}),lg:ho({tab:{fontSize:"lg",py:3,px:4}})},bo=ho((t=>{const{colorScheme:e,orientation:n}=t,r="vertical"===n,i=r?"borderStart":"borderBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[r?"marginStart":"marginBottom"]:"-2px",_selected:{[so.variable]:"colors.".concat(e,".600"),_dark:{[so.variable]:"colors.".concat(e,".300")},borderColor:"currentColor"},_active:{[lo.variable]:"colors.gray.200",_dark:{[lo.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:so.reference,bg:lo.reference}}})),_o=ho((t=>{const{colorScheme:e}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[co.variable]:"transparent",_selected:{[so.variable]:"colors.".concat(e,".600"),[co.variable]:"colors.white",_dark:{[so.variable]:"colors.".concat(e,".300"),[co.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:co.reference},color:so.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),xo=ho((t=>{const{colorScheme:e}=t;return{tab:{border:"1px solid",borderColor:"inherit",[lo.variable]:"colors.gray.50",_dark:{[lo.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[lo.variable]:"colors.white",[so.variable]:"colors.".concat(e,".600"),_dark:{[lo.variable]:"colors.gray.800",[so.variable]:"colors.".concat(e,".300")},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:so.reference,bg:lo.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),wo=ho((t=>{const{colorScheme:e,theme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:no(n,"".concat(e,".700")),bg:no(n,"".concat(e,".100"))}}}})),So=ho((t=>{const{colorScheme:e}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[so.variable]:"colors.gray.600",_dark:{[so.variable]:"inherit"},_selected:{[so.variable]:"colors.white",[lo.variable]:"colors.".concat(e,".600"),_dark:{[so.variable]:"colors.gray.800",[lo.variable]:"colors.".concat(e,".300")}},color:so.reference,bg:lo.reference}}})),Eo=uo({baseStyle:vo,sizes:yo,variants:{line:bo,enclosed:_o,"enclosed-colored":xo,"soft-rounded":wo,"solid-rounded":So,unstyled:ho({})},defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),To=function(t,e){const n={};for(const r of e)if(Array.isArray(r)){const[e,i]=r;n[e]=on("".concat(t,"-").concat(e),i)}else n[r]=on("".concat(t,"-").concat(r));return n}("badge",["bg","color","shadow"]),Mo=t=>{const{colorScheme:e,theme:n}=t,r=io("".concat(e,".500"),.6)(n);return{[To.bg.variable]:"colors.".concat(e,".500"),[To.color.variable]:"colors.white",_dark:{[To.bg.variable]:r,[To.color.variable]:"colors.whiteAlpha.800"}}},Ao=t=>{const{colorScheme:e,theme:n}=t,r=io("".concat(e,".200"),.16)(n);return{[To.bg.variable]:"colors.".concat(e,".100"),[To.color.variable]:"colors.".concat(e,".800"),_dark:{[To.bg.variable]:r,[To.color.variable]:"colors.".concat(e,".200")}}},Co=t=>{const{colorScheme:e,theme:n}=t,r=io("".concat(e,".200"),.8)(n);return{[To.color.variable]:"colors.".concat(e,".500"),_dark:{[To.color.variable]:r},[To.shadow.variable]:"inset 0 0 0px 1px ".concat(To.color.reference)}},ko={baseStyle:{px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:To.bg.reference,color:To.color.reference,boxShadow:To.shadow.reference},variants:{solid:Mo,subtle:Ao,outline:Co},defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:Oo,definePartsStyle:Po}=Vn(oi.keys),Ro=on("tag-bg"),No=on("tag-color"),Lo=on("tag-shadow"),Io=on("tag-min-height"),Do=on("tag-min-width"),jo=on("tag-font-size"),Uo=on("tag-padding-inline"),Fo=Po({container:{fontWeight:"medium",lineHeight:1.2,outline:0,[No.variable]:To.color.reference,[Ro.variable]:To.bg.reference,[Lo.variable]:To.shadow.reference,color:No.reference,bg:Ro.reference,boxShadow:Lo.reference,borderRadius:"md",minH:Io.reference,minW:Do.reference,fontSize:jo.reference,px:Uo.reference,_focusVisible:{[Lo.variable]:"shadows.outline"}},label:{lineHeight:1.2,overflow:"visible"},closeButton:{fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}}}),zo={sm:Po({container:{[Io.variable]:"sizes.5",[Do.variable]:"sizes.5",[jo.variable]:"fontSizes.xs",[Uo.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Po({container:{[Io.variable]:"sizes.6",[Do.variable]:"sizes.6",[jo.variable]:"fontSizes.sm",[Uo.variable]:"space.2"}}),lg:Po({container:{[Io.variable]:"sizes.8",[Do.variable]:"sizes.8",[jo.variable]:"fontSizes.md",[Uo.variable]:"space.3"}})},Bo={subtle:Po((t=>{var e;return{container:null==(e=ko.variants)?void 0:e.subtle(t)}})),solid:Po((t=>{var e;return{container:null==(e=ko.variants)?void 0:e.solid(t)}})),outline:Po((t=>{var e;return{container:null==(e=ko.variants)?void 0:e.outline(t)}}))},Vo=Oo({variants:Bo,baseStyle:Fo,sizes:zo,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:Ho,defineMultiStyleConfig:qo}=Vn(Wr.keys),Wo=on("input-height"),Go=on("input-font-size"),Xo=on("input-padding"),Ko=on("input-border-radius"),Yo=Ho({addon:{height:Wo.reference,fontSize:Go.reference,px:Xo.reference,borderRadius:Ko.reference},field:{width:"100%",height:Wo.reference,fontSize:Go.reference,px:Xo.reference,borderRadius:Ko.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),$o={lg:{[Go.variable]:"fontSizes.lg",[Xo.variable]:"space.4",[Ko.variable]:"radii.md",[Wo.variable]:"sizes.12"},md:{[Go.variable]:"fontSizes.md",[Xo.variable]:"space.4",[Ko.variable]:"radii.md",[Wo.variable]:"sizes.10"},sm:{[Go.variable]:"fontSizes.sm",[Xo.variable]:"space.3",[Ko.variable]:"radii.sm",[Wo.variable]:"sizes.8"},xs:{[Go.variable]:"fontSizes.xs",[Xo.variable]:"space.2",[Ko.variable]:"radii.sm",[Wo.variable]:"sizes.6"}},Qo={lg:Ho({field:$o.lg,group:$o.lg}),md:Ho({field:$o.md,group:$o.md}),sm:Ho({field:$o.sm,group:$o.sm}),xs:Ho({field:$o.xs,group:$o.xs})};function Zo(t){const{focusBorderColor:e,errorBorderColor:n}=t;return{focusBorderColor:e||Pi("blue.500","blue.300")(t),errorBorderColor:n||Pi("red.500","red.300")(t)}}var Jo,ta,ea,na,ra,ia,oa,aa,sa,la,ca,ua=Ho((t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Zo(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Pi("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:no(e,r),boxShadow:"0 0 0 1px ".concat(no(e,r))},_focusVisible:{zIndex:1,borderColor:no(e,n),boxShadow:"0 0 0 1px ".concat(no(e,n))}},addon:{border:"1px solid",borderColor:Pi("inherit","whiteAlpha.50")(t),bg:Pi("gray.100","whiteAlpha.300")(t)}}})),ha=Ho((t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Zo(t);return{field:{border:"2px solid",borderColor:"transparent",bg:Pi("gray.100","whiteAlpha.50")(t),_hover:{bg:Pi("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:no(e,r)},_focusVisible:{bg:"transparent",borderColor:no(e,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:Pi("gray.100","whiteAlpha.50")(t)}}})),da=Ho((t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Zo(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:no(e,r),boxShadow:"0px 1px 0px 0px ".concat(no(e,r))},_focusVisible:{borderColor:no(e,n),boxShadow:"0px 1px 0px 0px ".concat(no(e,n))}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}})),fa=qo({baseStyle:Yo,sizes:Qo,variants:{outline:ua,filled:ha,flushed:da,unstyled:Ho({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}})},defaultProps:{size:"md",variant:"outline"}}),pa={...null==(Jo=fa.baseStyle)?void 0:Jo.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},ma={outline:t=>{var e,n;return null!=(n=null==(e=fa.variants)?void 0:e.outline(t).field)?n:{}},flushed:t=>{var e,n;return null!=(n=null==(e=fa.variants)?void 0:e.flushed(t).field)?n:{}},filled:t=>{var e,n;return null!=(n=null==(e=fa.variants)?void 0:e.filled(t).field)?n:{}},unstyled:null!=(ea=null==(ta=fa.variants)?void 0:ta.unstyled.field)?ea:{}},ga={baseStyle:pa,sizes:{xs:null!=(ra=null==(na=fa.sizes)?void 0:na.xs.field)?ra:{},sm:null!=(oa=null==(ia=fa.sizes)?void 0:ia.sm.field)?oa:{},md:null!=(sa=null==(aa=fa.sizes)?void 0:aa.md.field)?sa:{},lg:null!=(ca=null==(la=fa.sizes)?void 0:la.lg.field)?ca:{}},variants:ma,defaultProps:{size:"md",variant:"outline"}},va=ui("tooltip-bg"),ya=ui("tooltip-fg"),ba=ui("popper-arrow-bg"),_a={baseStyle:{bg:va.reference,color:ya.reference,[va.variable]:"colors.gray.700",[ya.variable]:"colors.whiteAlpha.900",_dark:{[va.variable]:"colors.gray.300",[ya.variable]:"colors.gray.900"},[ba.variable]:va.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"}},{defineMultiStyleConfig:xa,definePartsStyle:wa}=Vn(Qr.keys),Sa=t=>{const{colorScheme:e,theme:n,isIndeterminate:r,hasStripe:i}=t,o=Pi(oo(),oo("1rem","rgba(0,0,0,0.1)"))(t),a=Pi("".concat(e,".500"),"".concat(e,".200"))(t),s="linear-gradient(\n    to right,\n    transparent 0%,\n    ".concat(no(n,a)," 50%,\n    transparent 100%\n  )");return{...!r&&i&&o,...r?{bgImage:s}:{bgColor:a}}},Ea={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},Ta=t=>({bg:Pi("gray.100","whiteAlpha.300")(t)}),Ma=t=>({transitionProperty:"common",transitionDuration:"slow",...Sa(t)}),Aa=wa((t=>({label:Ea,filledTrack:Ma(t),track:Ta(t)}))),Ca=xa({sizes:{xs:wa({track:{h:"1"}}),sm:wa({track:{h:"2"}}),md:wa({track:{h:"3"}}),lg:wa({track:{h:"4"}})},baseStyle:Aa,defaultProps:{size:"md",colorScheme:"blue"}});function ka(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return(t=>"function"===typeof t)(t)?t(...n):t}var Oa,Pa,Ra,Na,La,Ia,Da,ja,Ua,{definePartsStyle:Fa,defineMultiStyleConfig:za}=Vn(zr.keys),Ba=on("checkbox-size"),Va=t=>{const{colorScheme:e}=t;return{w:Ba.reference,h:Ba.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Pi("".concat(e,".500"),"".concat(e,".200"))(t),borderColor:Pi("".concat(e,".500"),"".concat(e,".200"))(t),color:Pi("white","gray.900")(t),_hover:{bg:Pi("".concat(e,".600"),"".concat(e,".300"))(t),borderColor:Pi("".concat(e,".600"),"".concat(e,".300"))(t)},_disabled:{borderColor:Pi("gray.200","transparent")(t),bg:Pi("gray.200","whiteAlpha.300")(t),color:Pi("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:Pi("".concat(e,".500"),"".concat(e,".200"))(t),borderColor:Pi("".concat(e,".500"),"".concat(e,".200"))(t),color:Pi("white","gray.900")(t)},_disabled:{bg:Pi("gray.100","whiteAlpha.100")(t),borderColor:Pi("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Pi("red.500","red.300")(t)}}},Ha={_disabled:{cursor:"not-allowed"}},qa={userSelect:"none",_disabled:{opacity:.4}},Wa={transitionProperty:"transform",transitionDuration:"normal"},Ga=za({baseStyle:Fa((t=>({icon:Wa,container:Ha,control:ka(Va,t),label:qa}))),sizes:{sm:Fa({control:{[Ba.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:Fa({control:{[Ba.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:Fa({control:{[Ba.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:Xa,definePartsStyle:Ka}=Vn(Zr.keys),Ya=t=>{var e;const n=null==(e=ka(Ga.baseStyle,t))?void 0:e.control;return{...n,borderRadius:"full",_checked:{...null==n?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},$a=Ka((t=>{var e,n,r,i;return{label:null==(n=(e=Ga).baseStyle)?void 0:n.call(e,t).label,container:null==(i=(r=Ga).baseStyle)?void 0:i.call(r,t).container,control:Ya(t)}})),Qa=Xa({baseStyle:$a,sizes:{md:Ka({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:Ka({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:Ka({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:Za,definePartsStyle:Ja}=Vn(Jr.keys),ts=on("select-bg"),es={paddingInlineEnd:"8"},ns=Za({baseStyle:Ja({field:{...null==(Oa=fa.baseStyle)?void 0:Oa.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:ts.reference,[ts.variable]:"colors.white",_dark:{[ts.variable]:"colors.gray.700"},"> option, > optgroup":{bg:ts.reference}},icon:{width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}}}),sizes:{lg:{...null==(Pa=fa.sizes)?void 0:Pa.lg,field:{...null==(Ra=fa.sizes)?void 0:Ra.lg.field,...es}},md:{...null==(Na=fa.sizes)?void 0:Na.md,field:{...null==(La=fa.sizes)?void 0:La.md.field,...es}},sm:{...null==(Ia=fa.sizes)?void 0:Ia.sm,field:{...null==(Da=fa.sizes)?void 0:Da.sm.field,...es}},xs:{...null==(ja=fa.sizes)?void 0:ja.xs,field:{...null==(Ua=fa.sizes)?void 0:Ua.xs.field,...es},icon:{insetEnd:"1"}}},variants:fa.variants,defaultProps:fa.defaultProps}),rs=on("skeleton-start-color"),is=on("skeleton-end-color"),os={baseStyle:{[rs.variable]:"colors.gray.100",[is.variable]:"colors.gray.400",_dark:{[rs.variable]:"colors.gray.800",[is.variable]:"colors.gray.600"},background:rs.reference,borderColor:is.reference,opacity:.7,borderRadius:"sm"}},as=on("skip-link-bg"),ss={baseStyle:{borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[as.variable]:"colors.white",_dark:{[as.variable]:"colors.gray.700"},bg:as.reference}}},{defineMultiStyleConfig:ls,definePartsStyle:cs}=Vn(ti.keys),us=on("slider-thumb-size"),hs=on("slider-track-size"),ds=on("slider-bg"),fs=t=>{const{orientation:e}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...Ri({orientation:e,vertical:{h:"100%"},horizontal:{w:"100%"}})}},ps=t=>({...Ri({orientation:t.orientation,horizontal:{h:hs.reference},vertical:{w:hs.reference}}),overflow:"hidden",borderRadius:"sm",[ds.variable]:"colors.gray.200",_dark:{[ds.variable]:"colors.whiteAlpha.200"},_disabled:{[ds.variable]:"colors.gray.300",_dark:{[ds.variable]:"colors.whiteAlpha.300"}},bg:ds.reference}),ms=t=>{const{orientation:e}=t;return{...Ri({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:us.reference,h:us.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},gs=t=>{const{colorScheme:e}=t;return{width:"inherit",height:"inherit",[ds.variable]:"colors.".concat(e,".500"),_dark:{[ds.variable]:"colors.".concat(e,".200")},bg:ds.reference}},vs=ls({baseStyle:cs((t=>({container:fs(t),track:ps(t),thumb:ms(t),filledTrack:gs(t)}))),sizes:{lg:cs({container:{[us.variable]:"sizes.4",[hs.variable]:"sizes.1"}}),md:cs({container:{[us.variable]:"sizes.3.5",[hs.variable]:"sizes.1"}}),sm:cs({container:{[us.variable]:"sizes.2.5",[hs.variable]:"sizes.0.5"}})},defaultProps:{size:"md",colorScheme:"blue"}}),ys=ui("spinner-size"),bs={baseStyle:{width:[ys.reference],height:[ys.reference]},sizes:{xs:{[ys.variable]:"sizes.3"},sm:{[ys.variable]:"sizes.4"},md:{[ys.variable]:"sizes.6"},lg:{[ys.variable]:"sizes.8"},xl:{[ys.variable]:"sizes.12"}},defaultProps:{size:"md"}},{defineMultiStyleConfig:_s,definePartsStyle:xs}=Vn(ei.keys),ws=_s({baseStyle:xs({container:{},label:{fontWeight:"medium"},helpText:{opacity:.8,marginBottom:"2"},number:{verticalAlign:"baseline",fontWeight:"semibold"},icon:{marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"}}),sizes:{md:xs({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},defaultProps:{size:"md"}}),Ss=on("kbd-bg"),Es={baseStyle:{[Ss.variable]:"colors.gray.100",_dark:{[Ss.variable]:"colors.whiteAlpha.100"},bg:Ss.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"}},Ts={baseStyle:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}}},{defineMultiStyleConfig:Ms,definePartsStyle:As}=Vn(Gr.keys),Cs=Ms({baseStyle:As({icon:{marginEnd:"2",display:"inline",verticalAlign:"text-bottom"}})}),{defineMultiStyleConfig:ks,definePartsStyle:Os}=Vn(Xr.keys),Ps=on("menu-bg"),Rs=on("menu-shadow"),Ns=ks({baseStyle:Os({button:{transitionProperty:"common",transitionDuration:"normal"},list:{[Ps.variable]:"#fff",[Rs.variable]:"shadows.sm",_dark:{[Ps.variable]:"colors.gray.700",[Rs.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:Ps.reference,boxShadow:Rs.reference},item:{py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Ps.variable]:"colors.gray.100",_dark:{[Ps.variable]:"colors.whiteAlpha.100"}},_active:{[Ps.variable]:"colors.gray.200",_dark:{[Ps.variable]:"colors.whiteAlpha.200"}},_expanded:{[Ps.variable]:"colors.gray.100",_dark:{[Ps.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Ps.reference},groupTitle:{mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},icon:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},command:{opacity:.6},divider:{border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6}})}),{defineMultiStyleConfig:Ls,definePartsStyle:Is}=Vn(Kr.keys),Ds=on("modal-bg"),js=on("modal-shadow"),Us={bg:"blackAlpha.600",zIndex:"modal"},Fs=t=>{const{isCentered:e,scrollBehavior:n}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:"inside"===n?"hidden":"auto",overscrollBehaviorY:"none"}},zs=t=>{const{isCentered:e,scrollBehavior:n}=t;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:"inside"===n?"calc(100% - 7.5rem)":void 0,[Ds.variable]:"colors.white",[js.variable]:"shadows.lg",_dark:{[Ds.variable]:"colors.gray.700",[js.variable]:"shadows.dark-lg"},bg:Ds.reference,boxShadow:js.reference}},Bs={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Vs={position:"absolute",top:"2",insetEnd:"3"},Hs=t=>{const{scrollBehavior:e}=t;return{px:"6",py:"2",flex:"1",overflow:"inside"===e?"auto":void 0}},qs={px:"6",py:"4"};function Ws(t){return Is("full"===t?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}var Gs=Ls({baseStyle:Is((t=>({overlay:Us,dialogContainer:ka(Fs,t),dialog:ka(zs,t),header:Bs,closeButton:Vs,body:ka(Hs,t),footer:qs}))),sizes:{xs:Ws("xs"),sm:Ws("sm"),md:Ws("md"),lg:Ws("lg"),xl:Ws("xl"),"2xl":Ws("2xl"),"3xl":Ws("3xl"),"4xl":Ws("4xl"),"5xl":Ws("5xl"),"6xl":Ws("6xl"),full:Ws("full")},defaultProps:{size:"md"}}),{defineMultiStyleConfig:Xs,definePartsStyle:Ks}=Vn(Yr.keys),Ys=ui("number-input-stepper-width"),$s=ui("number-input-input-padding"),Qs=bi(Ys).add("0.5rem").toString(),Zs=ui("number-input-bg"),Js=ui("number-input-color"),tl=ui("number-input-border-color"),el={[Ys.variable]:"sizes.6",[$s.variable]:Qs},nl=t=>{var e,n;return null!=(n=null==(e=ka(fa.baseStyle,t))?void 0:e.field)?n:{}},rl={width:Ys.reference},il={borderStart:"1px solid",borderStartColor:tl.reference,color:Js.reference,bg:Zs.reference,[Js.variable]:"colors.chakra-body-text",[tl.variable]:"colors.chakra-border-color",_dark:{[Js.variable]:"colors.whiteAlpha.800",[tl.variable]:"colors.whiteAlpha.300"},_active:{[Zs.variable]:"colors.gray.200",_dark:{[Zs.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},ol=Ks((t=>{var e;return{root:el,field:null!=(e=ka(nl,t))?e:{},stepperGroup:rl,stepper:il}}));function al(t){var e,n,r;const i=null==(e=fa.sizes)?void 0:e[t],o={lg:"md",md:"md",sm:"sm",xs:"sm"},a=null!=(r=null==(n=i.field)?void 0:n.fontSize)?r:"md",s=wr.fontSizes[a];return Ks({field:{...i.field,paddingInlineEnd:$s.reference,verticalAlign:"top"},stepper:{fontSize:bi(s).multiply(.75).toString(),_first:{borderTopEndRadius:o[t]},_last:{borderBottomEndRadius:o[t],mt:"-1px",borderTopWidth:1}}})}var sl,ll,cl,ul=Xs({baseStyle:ol,sizes:{xs:al("xs"),sm:al("sm"),md:al("md"),lg:al("lg")},variants:fa.variants,defaultProps:fa.defaultProps}),hl={...null==(sl=fa.baseStyle)?void 0:sl.field,textAlign:"center"},dl={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},fl={outline:t=>{var e,n,r;return null!=(r=null==(n=ka(null==(e=fa.variants)?void 0:e.outline,t))?void 0:n.field)?r:{}},flushed:t=>{var e,n,r;return null!=(r=null==(n=ka(null==(e=fa.variants)?void 0:e.flushed,t))?void 0:n.field)?r:{}},filled:t=>{var e,n,r;return null!=(r=null==(n=ka(null==(e=fa.variants)?void 0:e.filled,t))?void 0:n.field)?r:{}},unstyled:null!=(cl=null==(ll=fa.variants)?void 0:ll.unstyled.field)?cl:{}},pl={baseStyle:hl,sizes:dl,variants:fl,defaultProps:fa.defaultProps},{defineMultiStyleConfig:ml,definePartsStyle:gl}=Vn($r.keys),vl=ui("popper-bg"),yl=ui("popper-arrow-bg"),bl=ui("popper-arrow-shadow-color"),_l=ml({baseStyle:gl({popper:{zIndex:10},content:{[vl.variable]:"colors.white",bg:vl.reference,[yl.variable]:vl.reference,[bl.variable]:"colors.gray.200",_dark:{[vl.variable]:"colors.gray.700",[bl.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},header:{px:3,py:2,borderBottomWidth:"1px"},body:{px:3,py:2},footer:{px:3,py:2,borderTopWidth:"1px"},closeButton:{position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2}})}),{definePartsStyle:xl,defineMultiStyleConfig:wl}=Vn(Br.keys),Sl=on("drawer-bg"),El=on("drawer-box-shadow");function Tl(t){return xl("full"===t?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}var Ml={bg:"blackAlpha.600",zIndex:"modal"},Al={display:"flex",zIndex:"modal",justifyContent:"center"},Cl=t=>{const{isFullHeight:e}=t;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[Sl.variable]:"colors.white",[El.variable]:"shadows.lg",_dark:{[Sl.variable]:"colors.gray.700",[El.variable]:"shadows.dark-lg"},bg:Sl.reference,boxShadow:El.reference}},kl={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Ol={position:"absolute",top:"2",insetEnd:"3"},Pl={px:"6",py:"2",flex:"1",overflow:"auto"},Rl={px:"6",py:"4"},Nl=wl({baseStyle:xl((t=>({overlay:Ml,dialogContainer:Al,dialog:ka(Cl,t),header:kl,closeButton:Ol,body:Pl,footer:Rl}))),sizes:{xs:Tl("xs"),sm:Tl("md"),md:Tl("lg"),lg:Tl("2xl"),xl:Tl("4xl"),full:Tl("full")},defaultProps:{size:"xs"}}),{definePartsStyle:Ll,defineMultiStyleConfig:Il}=Vn(Vr.keys),Dl=Il({baseStyle:Ll({preview:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},input:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},textarea:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}}})}),{definePartsStyle:jl,defineMultiStyleConfig:Ul}=Vn(Hr.keys),Fl=on("form-control-color"),zl=Ul({baseStyle:jl({container:{width:"100%",position:"relative"},requiredIndicator:{marginStart:"1",[Fl.variable]:"colors.red.500",_dark:{[Fl.variable]:"colors.red.300"},color:Fl.reference},helperText:{mt:"2",[Fl.variable]:"colors.gray.600",_dark:{[Fl.variable]:"colors.whiteAlpha.600"},color:Fl.reference,lineHeight:"normal",fontSize:"sm"}})}),{definePartsStyle:Bl,defineMultiStyleConfig:Vl}=Vn(qr.keys),Hl=on("form-error-color"),ql=Vl({baseStyle:Bl({text:{[Hl.variable]:"colors.red.500",_dark:{[Hl.variable]:"colors.red.300"},color:Hl.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},icon:{marginEnd:"0.5em",[Hl.variable]:"colors.red.500",_dark:{[Hl.variable]:"colors.red.300"},color:Hl.reference}})}),Wl={baseStyle:{fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}}},Gl={baseStyle:{fontFamily:"heading",fontWeight:"bold"},sizes:{"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},defaultProps:{size:"xl"}},{defineMultiStyleConfig:Xl,definePartsStyle:Kl}=Vn(Fr.keys),Yl=on("breadcrumb-link-decor"),$l=Xl({baseStyle:Kl({link:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:Yl.reference,[Yl.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[Yl.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}}})}),Ql=t=>{const{colorScheme:e,theme:n}=t;if("gray"===e)return{color:Pi("gray.800","whiteAlpha.900")(t),_hover:{bg:Pi("gray.100","whiteAlpha.200")(t)},_active:{bg:Pi("gray.200","whiteAlpha.300")(t)}};const r=io("".concat(e,".200"),.12)(n),i=io("".concat(e,".200"),.24)(n);return{color:Pi("".concat(e,".600"),"".concat(e,".200"))(t),bg:"transparent",_hover:{bg:Pi("".concat(e,".50"),r)(t)},_active:{bg:Pi("".concat(e,".100"),i)(t)}}},Zl=t=>{const{colorScheme:e}=t,n=Pi("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:"gray"===e?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...ka(Ql,t)}},Jl={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},tc=t=>{var e;const{colorScheme:n}=t;if("gray"===n){const e=Pi("gray.100","whiteAlpha.200")(t);return{bg:e,color:Pi("gray.800","whiteAlpha.900")(t),_hover:{bg:Pi("gray.200","whiteAlpha.300")(t),_disabled:{bg:e}},_active:{bg:Pi("gray.300","whiteAlpha.400")(t)}}}const{bg:r="".concat(n,".500"),color:i="white",hoverBg:o="".concat(n,".600"),activeBg:a="".concat(n,".700")}=null!=(e=Jl[n])?e:{},s=Pi(r,"".concat(n,".200"))(t);return{bg:s,color:Pi(i,"gray.800")(t),_hover:{bg:Pi(o,"".concat(n,".300"))(t),_disabled:{bg:s}},_active:{bg:Pi(a,"".concat(n,".400"))(t)}}},ec=t=>{const{colorScheme:e}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Pi("".concat(e,".500"),"".concat(e,".200"))(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Pi("".concat(e,".700"),"".concat(e,".500"))(t)}}},nc={baseStyle:{lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variants:{ghost:Ql,outline:Zl,solid:tc,link:ec,unstyled:{bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"}},sizes:{lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:rc,defineMultiStyleConfig:ic}=Vn(ai.keys),oc=on("card-bg"),ac=on("card-padding"),sc=on("card-shadow"),lc=on("card-radius"),cc=on("card-border-width","0"),uc=on("card-border-color"),hc=rc({container:{[oc.variable]:"colors.chakra-body-bg",backgroundColor:oc.reference,boxShadow:sc.reference,borderRadius:lc.reference,color:"chakra-body-text",borderWidth:cc.reference,borderColor:uc.reference},body:{padding:ac.reference,flex:"1 1 0%"},header:{padding:ac.reference},footer:{padding:ac.reference}}),dc={sm:rc({container:{[lc.variable]:"radii.base",[ac.variable]:"space.3"}}),md:rc({container:{[lc.variable]:"radii.md",[ac.variable]:"space.5"}}),lg:rc({container:{[lc.variable]:"radii.xl",[ac.variable]:"space.7"}})},fc=ic({baseStyle:hc,variants:{elevated:rc({container:{[sc.variable]:"shadows.base",_dark:{[oc.variable]:"colors.gray.700"}}}),outline:rc({container:{[cc.variable]:"1px",[uc.variable]:"colors.chakra-border-color"}}),filled:rc({container:{[oc.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[ac.variable]:0},header:{[ac.variable]:0},footer:{[ac.variable]:0}}},sizes:dc,defaultProps:{variant:"elevated",size:"md"}}),pc=ui("close-button-size"),mc=ui("close-button-bg"),gc={baseStyle:{w:[pc.reference],h:[pc.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[mc.variable]:"colors.blackAlpha.100",_dark:{[mc.variable]:"colors.whiteAlpha.100"}},_active:{[mc.variable]:"colors.blackAlpha.200",_dark:{[mc.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:mc.reference},sizes:{lg:{[pc.variable]:"sizes.10",fontSize:"md"},md:{[pc.variable]:"sizes.8",fontSize:"xs"},sm:{[pc.variable]:"sizes.6",fontSize:"2xs"}},defaultProps:{size:"md"}},{variants:vc,defaultProps:yc}=ko,bc={baseStyle:{fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:To.bg.reference,color:To.color.reference,boxShadow:To.shadow.reference},variants:vc,defaultProps:yc},_c={baseStyle:{w:"100%",mx:"auto",maxW:"prose",px:"4"}},xc={baseStyle:{opacity:.6,borderColor:"inherit"},variants:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"}},defaultProps:{variant:"solid"}},{definePartsStyle:wc,defineMultiStyleConfig:Sc}=Vn(Dr.keys),Ec=Sc({baseStyle:wc({container:{borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},button:{transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},panel:{pt:"2",px:"4",pb:"5"},icon:{fontSize:"1.25em"}})}),{definePartsStyle:Tc,defineMultiStyleConfig:Mc}=Vn(jr.keys),Ac=on("alert-fg"),Cc=on("alert-bg"),kc=Tc({container:{bg:Cc.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Ac.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Ac.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function Oc(t){const{theme:e,colorScheme:n}=t,r=io("".concat(n,".200"),.16)(e);return{light:"colors.".concat(n,".100"),dark:r}}var Pc=Tc((t=>{const{colorScheme:e}=t,n=Oc(t);return{container:{[Ac.variable]:"colors.".concat(e,".600"),[Cc.variable]:n.light,_dark:{[Ac.variable]:"colors.".concat(e,".200"),[Cc.variable]:n.dark}}}})),Rc=Tc((t=>{const{colorScheme:e}=t,n=Oc(t);return{container:{[Ac.variable]:"colors.".concat(e,".600"),[Cc.variable]:n.light,_dark:{[Ac.variable]:"colors.".concat(e,".200"),[Cc.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:Ac.reference}}})),Nc=Tc((t=>{const{colorScheme:e}=t,n=Oc(t);return{container:{[Ac.variable]:"colors.".concat(e,".600"),[Cc.variable]:n.light,_dark:{[Ac.variable]:"colors.".concat(e,".200"),[Cc.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:Ac.reference}}})),Lc=Tc((t=>{const{colorScheme:e}=t;return{container:{[Ac.variable]:"colors.white",[Cc.variable]:"colors.".concat(e,".600"),_dark:{[Ac.variable]:"colors.gray.900",[Cc.variable]:"colors.".concat(e,".200")},color:Ac.reference}}})),Ic=Mc({baseStyle:kc,variants:{subtle:Pc,"left-accent":Rc,"top-accent":Nc,solid:Lc},defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:Dc,defineMultiStyleConfig:jc}=Vn(Ur.keys),Uc=on("avatar-border-color"),Fc=on("avatar-bg"),zc=on("avatar-font-size"),Bc=on("avatar-size"),Vc={borderRadius:"full",border:"0.2em solid",borderColor:Uc.reference,[Uc.variable]:"white",_dark:{[Uc.variable]:"colors.gray.800"}},Hc={bg:Fc.reference,fontSize:zc.reference,width:Bc.reference,height:Bc.reference,lineHeight:"1",[Fc.variable]:"colors.gray.200",_dark:{[Fc.variable]:"colors.whiteAlpha.400"}},qc=t=>{const{name:e,theme:n}=t,r=e?ao({string:e}):"colors.gray.400",i=(t=>e=>"dark"===ro(t)(e))(r)(n);let o="white";return i||(o="gray.800"),{bg:Fc.reference,fontSize:zc.reference,color:o,borderColor:Uc.reference,verticalAlign:"top",width:Bc.reference,height:Bc.reference,"&:not([data-loaded])":{[Fc.variable]:r},[Uc.variable]:"colors.white",_dark:{[Uc.variable]:"colors.gray.800"}}},Wc={fontSize:zc.reference,lineHeight:"1"};function Gc(t){const e="100%"!==t?Er[t]:void 0;return Dc({container:{[Bc.variable]:null!=e?e:t,[zc.variable]:"calc(".concat(null!=e?e:t," / 2.5)")},excessLabel:{[Bc.variable]:null!=e?e:t,[zc.variable]:"calc(".concat(null!=e?e:t," / 2.5)")}})}var Xc={Accordion:Ec,Alert:Ic,Avatar:jc({baseStyle:Dc((t=>({badge:ka(Vc,t),excessLabel:ka(Hc,t),container:ka(qc,t),label:Wc}))),sizes:{"2xs":Gc(4),xs:Gc(6),sm:Gc(8),md:Gc(12),lg:Gc(16),xl:Gc(24),"2xl":Gc(32),full:Gc("100%")},defaultProps:{size:"md"}}),Badge:ko,Breadcrumb:$l,Button:nc,Checkbox:Ga,CloseButton:gc,Code:bc,Container:_c,Divider:xc,Drawer:Nl,Editable:Dl,Form:zl,FormError:ql,FormLabel:Wl,Heading:Gl,Input:fa,Kbd:Es,Link:Ts,List:Cs,Menu:Ns,Modal:Gs,NumberInput:ul,PinInput:pl,Popover:_l,Progress:Ca,Radio:Qa,Select:ns,Skeleton:os,SkipLink:ss,Slider:vs,Spinner:bs,Stat:ws,Switch:Oi,Table:Fi,Tabs:Eo,Tag:Vo,Textarea:ga,Tooltip:_a,Card:fc,Stepper:Lr},Kc={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},Yc={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},$c={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},Qc={semanticTokens:Kc,direction:"ltr",...Tr,components:Xc,styles:Yc,config:$c},Zc={semanticTokens:Kc,direction:"ltr",components:{},...Tr,styles:Yc,config:$c},Jc=(t,e)=>t.find((t=>t.id===e));function tu(t,e){const n=eu(t,e);return{position:n,index:n?t[n].findIndex((t=>t.id===e)):-1}}function eu(t,e){for(const[n,r]of Object.entries(t))if(Jc(r,e))return n}function nu(t){return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:"top"===t||"bottom"===t?"0 auto":void 0,top:t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,bottom:t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,right:t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",left:t.includes("right")?void 0:"env(safe-area-inset-left, 0px)"}}function ru(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=(0,a.useRef)(t);return(0,a.useEffect)((()=>{n.current=t})),(0,a.useCallback)((function(){for(var t,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return null==(t=n.current)?void 0:t.call(n,...r)}),e)}function iu(t,e){const n=(0,a.useRef)(!1),r=(0,a.useRef)(!1);(0,a.useEffect)((()=>{if(n.current&&r.current)return t();r.current=!0}),e),(0,a.useEffect)((()=>(n.current=!0,()=>{n.current=!1})),[])}const ou=(0,a.createContext)(null);function au(){const t=(0,a.useContext)(ou);if(null===t)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=(0,a.useId)();(0,a.useEffect)((()=>r(i)),[]);return!e&&n?[!1,()=>n&&n(i)]:[!0]}function su(){return null===(t=(0,a.useContext)(ou))||t.isPresent;var t}const lu=(0,a.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),cu=(0,a.createContext)({}),uu="undefined"!==typeof document,hu=uu?a.useLayoutEffect:a.useEffect,du=(0,a.createContext)({strict:!1});function fu(t){return"object"===typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function pu(t){return"string"===typeof t||Array.isArray(t)}function mu(t){return"object"===typeof t&&"function"===typeof t.start}const gu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vu=["initial",...gu];function yu(t){return mu(t.animate)||vu.some((e=>pu(t[e])))}function bu(t){return Boolean(yu(t)||t.variants)}function _u(t){const{initial:e,animate:n}=function(t,e){if(yu(t)){const{initial:e,animate:n}=t;return{initial:!1===e||pu(e)?e:void 0,animate:pu(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,a.useContext)(cu));return(0,a.useMemo)((()=>({initial:e,animate:n})),[xu(e),xu(n)])}function xu(t){return Array.isArray(t)?t.join(" "):t}const wu={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Su={};for(const n in wu)Su[n]={isEnabled:t=>wu[n].some((e=>!!t[e]))};const Eu=(0,a.createContext)({}),Tu=(0,a.createContext)({}),Mu=Symbol.for("motionComponentSymbol");function Au(t){let{preloadedFeatures:e,createVisualElement:n,useRender:r,useVisualState:i,Component:o}=t;e&&function(t){for(const e in t)Su[e]={...Su[e],...t[e]}}(e);const s=(0,a.forwardRef)((function(t,s){let l;const c={...(0,a.useContext)(lu),...t,layoutId:Cu(t)},{isStatic:u}=c,h=_u(t),d=i(t,u);if(!u&&uu){h.visualElement=function(t,e,n,r){const{visualElement:i}=(0,a.useContext)(cu),o=(0,a.useContext)(du),s=(0,a.useContext)(ou),l=(0,a.useContext)(lu).reducedMotion,c=(0,a.useRef)();r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:l}));const u=c.current;(0,a.useInsertionEffect)((()=>{u&&u.update(n,s)}));const h=(0,a.useRef)(Boolean(window.HandoffAppearAnimations));return hu((()=>{u&&(u.render(),h.current&&u.animationState&&u.animationState.animateChanges())})),(0,a.useEffect)((()=>{u&&(u.updateFeatures(),!h.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,h.current=!1)})),u}(o,d,c,n);const t=(0,a.useContext)(Tu),r=(0,a.useContext)(du).strict;h.visualElement&&(l=h.visualElement.loadFeatures(c,r,e,t))}return a.createElement(cu.Provider,{value:h},l&&h.visualElement?a.createElement(l,{visualElement:h.visualElement,...c}):null,r(o,t,function(t,e,n){return(0,a.useCallback)((r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&("function"===typeof n?n(r):fu(n)&&(n.current=r))}),[e])}(d,h.visualElement,s),d,u,h.visualElement))}));return s[Mu]=o,s}function Cu(t){let{layoutId:e}=t;const n=(0,a.useContext)(Eu).id;return n&&void 0!==e?n+"-"+e:e}function ku(t){function e(e){return Au(t(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return e;const n=new Map;return new Proxy(e,{get:(t,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const Ou=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pu(t){return"string"===typeof t&&!t.includes("-")&&!!(Ou.indexOf(t)>-1||/[A-Z]/.test(t))}const Ru={};const Nu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Lu=new Set(Nu);function Iu(t,e){let{layout:n,layoutId:r}=e;return Lu.has(t)||t.startsWith("origin")||(n||void 0!==r)&&(!!Ru[t]||"opacity"===t)}const Du=t=>Boolean(t&&t.getVelocity),ju={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Uu=Nu.length;const Fu=t=>e=>"string"===typeof e&&e.startsWith(t),zu=Fu("--"),Bu=Fu("var(--"),Vu=(t,e)=>e&&"number"===typeof t?e.transform(t):t,Hu=(t,e,n)=>Math.min(Math.max(n,t),e),qu={test:t=>"number"===typeof t,parse:parseFloat,transform:t=>t},Wu={...qu,transform:t=>Hu(0,1,t)},Gu={...qu,default:1},Xu=t=>Math.round(1e5*t)/1e5,Ku=/(-)?([\d]*\.?[\d])+/g,Yu=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,$u=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Qu(t){return"string"===typeof t}const Zu=t=>({test:e=>Qu(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>"".concat(e).concat(t)}),Ju=Zu("deg"),th=Zu("%"),eh=Zu("px"),nh=Zu("vh"),rh=Zu("vw"),ih={...th,parse:t=>th.parse(t)/100,transform:t=>th.transform(100*t)},oh={...qu,transform:Math.round},ah={borderWidth:eh,borderTopWidth:eh,borderRightWidth:eh,borderBottomWidth:eh,borderLeftWidth:eh,borderRadius:eh,radius:eh,borderTopLeftRadius:eh,borderTopRightRadius:eh,borderBottomRightRadius:eh,borderBottomLeftRadius:eh,width:eh,maxWidth:eh,height:eh,maxHeight:eh,size:eh,top:eh,right:eh,bottom:eh,left:eh,padding:eh,paddingTop:eh,paddingRight:eh,paddingBottom:eh,paddingLeft:eh,margin:eh,marginTop:eh,marginRight:eh,marginBottom:eh,marginLeft:eh,rotate:Ju,rotateX:Ju,rotateY:Ju,rotateZ:Ju,scale:Gu,scaleX:Gu,scaleY:Gu,scaleZ:Gu,skew:Ju,skewX:Ju,skewY:Ju,distance:eh,translateX:eh,translateY:eh,translateZ:eh,x:eh,y:eh,z:eh,perspective:eh,transformPerspective:eh,opacity:Wu,originX:ih,originY:ih,originZ:eh,zIndex:oh,fillOpacity:Wu,strokeOpacity:Wu,numOctaves:oh};function sh(t,e,n,r){const{style:i,vars:o,transform:a,transformOrigin:s}=t;let l=!1,c=!1,u=!0;for(const h in e){const t=e[h];if(zu(h)){o[h]=t;continue}const n=ah[h],r=Vu(t,n);if(Lu.has(h)){if(l=!0,a[h]=r,!u)continue;t!==(n.default||0)&&(u=!1)}else h.startsWith("origin")?(c=!0,s[h]=r):i[h]=r}if(e.transform||(l||r?i.transform=function(t,e,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:o=!0}=e,a="";for(let s=0;s<Uu;s++){const e=Nu[s];if(void 0!==t[e]){const n=ju[e]||e;a+="".concat(n,"(").concat(t[e],") ")}}return i&&!t.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(t,n?"":a):o&&n&&(a="none"),a}(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:t="50%",originY:e="50%",originZ:n=0}=s;i.transformOrigin="".concat(t," ").concat(e," ").concat(n)}}const lh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ch(t,e,n){for(const r in e)Du(e[r])||Iu(r,n)||(t[r]=e[r])}function uh(t,e,n){const r={};return ch(r,t.style||{},t),Object.assign(r,function(t,e,n){let{transformTemplate:r}=t;return(0,a.useMemo)((()=>{const t=lh();return sh(t,e,{enableHardwareAcceleration:!n},r),Object.assign({},t.vars,t.style)}),[e])}(t,e,n)),t.transformValues?t.transformValues(r):r}function hh(t,e,n){const r={},i=uh(t,e,n);return t.drag&&!1!==t.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===t.drag?"none":"pan-".concat("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const dh=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function fh(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||dh.has(t)}let ph=t=>!fh(t);try{(mh=require("@emotion/is-prop-valid").default)&&(ph=t=>t.startsWith("on")?!fh(t):mh(t))}catch(Jo){}var mh;function gh(t,e,n){return"string"===typeof t?t:eh.transform(e+n*t)}const vh={offset:"stroke-dashoffset",array:"stroke-dasharray"},yh={offset:"strokeDashoffset",array:"strokeDasharray"};function bh(t,e,n,r,i){let{attrX:o,attrY:a,attrScale:s,originX:l,originY:c,pathLength:u,pathSpacing:h=1,pathOffset:d=0,...f}=e;if(sh(t,f,n,i),r)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:g}=t;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(void 0!==l||void 0!==c||m.transform)&&(m.transformOrigin=function(t,e,n){const r=gh(e,t.x,t.width),i=gh(n,t.y,t.height);return"".concat(r," ").concat(i)}(g,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==o&&(p.x=o),void 0!==a&&(p.y=a),void 0!==s&&(p.scale=s),void 0!==u&&function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];t.pathLength=1;const o=i?vh:yh;t[o.offset]=eh.transform(-r);const a=eh.transform(e),s=eh.transform(n);t[o.array]="".concat(a," ").concat(s)}(p,u,h,d,!1)}const _h=()=>({...lh(),attrs:{}}),xh=t=>"string"===typeof t&&"svg"===t.toLowerCase();function wh(t,e,n,r){const i=(0,a.useMemo)((()=>{const n=_h();return bh(n,e,{enableHardwareAcceleration:!1},xh(r),t.transformTemplate),{...n.attrs,style:{...n.style}}}),[e]);if(t.style){const e={};ch(e,t.style,t),i.style={...e,...i.style}}return i}function Sh(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(e,n,r,i,o)=>{let{latestValues:s}=i;const l=(Pu(e)?wh:hh)(n,s,o,e),c=function(t,e,n){const r={};for(const i in t)"values"===i&&"object"===typeof t.values||(ph(i)||!0===n&&fh(i)||!e&&!fh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}(n,"string"===typeof e,t),u={...c,...l,ref:r},{children:h}=n,d=(0,a.useMemo)((()=>Du(h)?h.get():h),[h]);return(0,a.createElement)(e,{...u,children:d})}}const Eh=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Th(t,e,n,r){let{style:i,vars:o}=e;Object.assign(t.style,i,r&&r.getProjectionStyles(n));for(const a in o)t.style.setProperty(a,o[a])}const Mh=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ah(t,e,n,r){Th(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Mh.has(i)?i:Eh(i),e.attrs[i])}function Ch(t,e){const{style:n}=t,r={};for(const i in n)(Du(n[i])||e.style&&Du(e.style[i])||Iu(i,t))&&(r[i]=n[i]);return r}function kh(t,e){const n=Ch(t,e);for(const r in t)if(Du(t[r])||Du(e[r])){n[-1!==Nu.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=t[r]}return n}function Oh(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof e&&(e=e(void 0!==n?n:t.custom,r,i)),"string"===typeof e&&(e=t.variants&&t.variants[e]),"function"===typeof e&&(e=e(void 0!==n?n:t.custom,r,i)),e}function Ph(t){const e=(0,a.useRef)(null);return null===e.current&&(e.current=t()),e.current}const Rh=t=>Array.isArray(t),Nh=t=>Boolean(t&&"object"===typeof t&&t.mix&&t.toValue),Lh=t=>Rh(t)?t[t.length-1]||0:t;function Ih(t){const e=Du(t)?t.get():t;return Nh(e)?e.toValue():e}const Dh=t=>(e,n)=>{const r=(0,a.useContext)(cu),i=(0,a.useContext)(ou),o=()=>function(t,e,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:o,onMount:a}=t;const s={latestValues:jh(e,n,r,i),renderState:o()};return a&&(s.mount=t=>a(e,t,s)),s}(t,e,r,i);return n?o():Ph(o)};function jh(t,e,n,r){const i={},o=r(t,{});for(const d in o)i[d]=Ih(o[d]);let{initial:a,animate:s}=t;const l=yu(t),c=bu(t);e&&c&&!l&&!1!==t.inherit&&(void 0===a&&(a=e.initial),void 0===s&&(s=e.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const h=u?s:a;if(h&&"boolean"!==typeof h&&!mu(h)){(Array.isArray(h)?h:[h]).forEach((e=>{const n=Oh(t,e);if(!n)return;const{transitionEnd:r,transition:o,...a}=n;for(const t in a){let e=a[t];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(i[t]=e)}for(const t in r)i[t]=r[t]}))}return i}const Uh=t=>t;class Fh{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const e=this.order.indexOf(t);-1!==e&&(this.order.splice(e,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}const zh=["prepare","read","update","preRender","render","postRender"];const{schedule:Bh,cancel:Vh,state:Hh,steps:qh}=function(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=zh.reduce(((t,e)=>(t[e]=function(t){let e=new Fh,n=new Fh,r=0,i=!1,o=!1;const a=new WeakSet,s={schedule:function(t){const o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=o?e:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(t),s.add(t)&&o&&i&&(r=e.order.length),t},cancel:t=>{n.remove(t),a.delete(t)},process:l=>{if(i)o=!0;else{if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let n=0;n<r;n++){const r=e.order[n];r(l),a.has(r)&&(s.schedule(r),t())}i=!1,o&&(o=!1,s.process(l))}}};return s}((()=>n=!0)),t)),{}),a=t=>o[t].process(i),s=()=>{const o=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,zh.forEach(a),i.isProcessing=!1,n&&e&&(r=!1,t(s))},l=zh.reduce(((e,a)=>{const l=o[a];return e[a]=function(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||t(s)),l.schedule(e,o,a)},e}),{});return{schedule:l,cancel:t=>zh.forEach((e=>o[e].cancel(t))),state:i,steps:o}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Uh,!0),Wh={useVisualState:Dh({scrapeMotionValuesFromProps:kh,createRenderState:_h,onMount:(t,e,n)=>{let{renderState:r,latestValues:i}=n;Bh.read((()=>{try{r.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){r.dimensions={x:0,y:0,width:0,height:0}}})),Bh.render((()=>{bh(r,i,{enableHardwareAcceleration:!1},xh(e.tagName),t.transformTemplate),Ah(e,r)}))}})},Gh={useVisualState:Dh({scrapeMotionValuesFromProps:Ch,createRenderState:lh})};function Xh(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Kh=t=>"mouse"===t.pointerType?"number"!==typeof t.button||t.button<=0:!1!==t.isPrimary;function Yh(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const $h=t=>e=>Kh(e)&&t(e,Yh(e));function Qh(t,e,n,r){return Xh(t,e,$h(n),r)}const Zh=(t,e)=>n=>e(t(n)),Jh=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(Zh)};function td(t){let e=null;return()=>{const n=()=>{e=null};return null===e&&(e=t,n)}}const ed=td("dragHorizontal"),nd=td("dragVertical");function rd(t){let e=!1;if("y"===t)e=nd();else if("x"===t)e=ed();else{const t=ed(),n=nd();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function id(){const t=rd(!0);return!t||(t(),!1)}class od{constructor(t){this.isMounted=!1,this.node=t}update(){}}function ad(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End");return Qh(t.current,n,((n,i)=>{if("touch"===n.type||id())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[r]&&Bh.update((()=>o[r](n,i)))}),{passive:!t.getProps()[r]})}const sd=(t,e)=>!!e&&(t===e||sd(t,e.parentElement));function ld(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Yh(n))}const cd=new WeakMap,ud=new WeakMap,hd=t=>{const e=cd.get(t.target);e&&e(t)},dd=t=>{t.forEach(hd)};function fd(t,e,n){const r=function(t){let{root:e,...n}=t;const r=e||document;ud.has(r)||ud.set(r,{});const i=ud.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(dd,{root:e,...n})),i[o]}(e);return cd.set(t,n),r.observe(t),()=>{cd.delete(t),r.unobserve(t)}}const pd={some:0,all:1};const md={inView:{Feature:class extends od{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r="some",once:i}=t,o={root:e?e.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:pd[r]};return fd(this.node.current,o,(t=>{const{isIntersecting:e}=t;if(this.isInView===e)return;if(this.isInView=e,i&&!e&&this.hasEnteredView)return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=e?n:r;o&&o(t)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:t,prevProps:e}=this.node,n=["amount","margin","root"].some(function(t){let{viewport:e={}}=t,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=>e[t]!==n[t]}(t,e));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends od{constructor(){super(...arguments),this.removeStartListeners=Uh,this.removeEndListeners=Uh,this.removeAccessibleListeners=Uh,this.startPointerPress=(t,e)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),r=Qh(window,"pointerup",((t,e)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r}=this.node.getProps();Bh.update((()=>{sd(this.node.current,t.target)?n&&n(t,e):r&&r(t,e)}))}),{passive:!(n.onTap||n.onPointerUp)}),i=Qh(window,"pointercancel",((t,e)=>this.cancelPress(t,e)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Jh(r,i),this.startPress(t,e)},this.startAccessiblePress=()=>{const t=Xh(this.node.current,"keydown",(t=>{if("Enter"!==t.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Xh(this.node.current,"keyup",(t=>{"Enter"===t.key&&this.checkPressEnd()&&ld("up",((t,e)=>{const{onTap:n}=this.node.getProps();n&&Bh.update((()=>n(t,e)))}))})),ld("down",((t,e)=>{this.startPress(t,e)}))})),e=Xh(this.node.current,"blur",(()=>{this.isPressing&&ld("cancel",((t,e)=>this.cancelPress(t,e)))}));this.removeAccessibleListeners=Jh(t,e)}}startPress(t,e){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Bh.update((()=>n(t,e)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!id()}cancelPress(t,e){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Bh.update((()=>n(t,e)))}mount(){const t=this.node.getProps(),e=Qh(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Xh(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Jh(e,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends od{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jh(Xh(this.node.current,"focus",(()=>this.onFocus())),Xh(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends od{mount(){this.unmount=Jh(ad(this.node,!0),ad(this.node,!1))}unmount(){}}}};function gd(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function vd(t,e,n){const r=t.getProps();return Oh(r,e,void 0!==n?n:r.custom,function(t){const e={};return t.values.forEach(((t,n)=>e[n]=t.get())),e}(t),function(t){const e={};return t.values.forEach(((t,n)=>e[n]=t.getVelocity())),e}(t))}const yd="data-"+Eh("framerAppearId");let bd=Uh,_d=Uh;const xd=t=>1e3*t,wd=t=>t/1e3,Sd=!1,Ed=t=>Array.isArray(t)&&"number"===typeof t[0];function Td(t){return Boolean(!t||"string"===typeof t&&Ad[t]||Ed(t)||Array.isArray(t)&&t.every(Td))}const Md=t=>{let[e,n,r,i]=t;return"cubic-bezier(".concat(e,", ").concat(n,", ").concat(r,", ").concat(i,")")},Ad={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Md([0,.65,.55,1]),circOut:Md([.55,0,1,.45]),backIn:Md([.31,.01,.66,-.59]),backOut:Md([.33,1.53,.69,.99])};function Cd(t){if(t)return Ed(t)?Md(t):Array.isArray(t)?t.map(Cd):Ad[t]}const kd=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Od=1e-7,Pd=12;function Rd(t,e,n,r){if(t===e&&n===r)return Uh;const i=e=>function(t,e,n,r,i){let o,a,s=0;do{a=e+(n-e)/2,o=kd(a,r,i)-t,o>0?n=a:e=a}while(Math.abs(o)>Od&&++s<Pd);return a}(e,0,1,t,n);return t=>0===t||1===t?t:kd(i(t),e,r)}const Nd=Rd(.42,0,1,1),Ld=Rd(0,0,.58,1),Id=Rd(.42,0,.58,1),Dd=t=>Array.isArray(t)&&"number"!==typeof t[0],jd=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ud=t=>e=>1-t(1-e),Fd=t=>1-Math.sin(Math.acos(t)),zd=Ud(Fd),Bd=jd(zd),Vd=Rd(.33,1.53,.69,.99),Hd=Ud(Vd),qd=jd(Hd),Wd={linear:Uh,easeIn:Nd,easeInOut:Id,easeOut:Ld,circIn:Fd,circInOut:Bd,circOut:zd,backIn:Hd,backInOut:qd,backOut:Vd,anticipate:t=>(t*=2)<1?.5*Hd(t):.5*(2-Math.pow(2,-10*(t-1)))},Gd=t=>{if(Array.isArray(t)){_d(4===t.length,"Cubic bezier arrays must contain four numerical values.");const[e,n,r,i]=t;return Rd(e,n,r,i)}return"string"===typeof t?(_d(void 0!==Wd[t],"Invalid easing type '".concat(t,"'")),Wd[t]):t},Xd=(t,e)=>n=>Boolean(Qu(n)&&$u.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Kd=(t,e,n)=>r=>{if(!Qu(r))return r;const[i,o,a,s]=r.match(Ku);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},Yd={...qu,transform:t=>Math.round((t=>Hu(0,255,t))(t))},$d={test:Xd("rgb","red"),parse:Kd("red","green","blue"),transform:t=>{let{red:e,green:n,blue:r,alpha:i=1}=t;return"rgba("+Yd.transform(e)+", "+Yd.transform(n)+", "+Yd.transform(r)+", "+Xu(Wu.transform(i))+")"}};const Qd={test:Xd("#"),parse:function(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:$d.transform},Zd={test:Xd("hsl","hue"),parse:Kd("hue","saturation","lightness"),transform:t=>{let{hue:e,saturation:n,lightness:r,alpha:i=1}=t;return"hsla("+Math.round(e)+", "+th.transform(Xu(n))+", "+th.transform(Xu(r))+", "+Xu(Wu.transform(i))+")"}},Jd={test:t=>$d.test(t)||Qd.test(t)||Zd.test(t),parse:t=>$d.test(t)?$d.parse(t):Zd.test(t)?Zd.parse(t):Qd.parse(t),transform:t=>Qu(t)?t:t.hasOwnProperty("red")?$d.transform(t):Zd.transform(t)},tf=(t,e,n)=>-n*t+n*e+t;function ef(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}const nf=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},rf=[Qd,$d,Zd];function of(t){const e=(t=>rf.find((e=>e.test(t))))(t);_d(Boolean(e),"'".concat(t,"' is not an animatable color. Use the equivalent color code instead."));let n=e.parse(t);return e===Zd&&(n=function(t){let{hue:e,saturation:n,lightness:r,alpha:i}=t;e/=360,n/=100,r/=100;let o=0,a=0,s=0;if(n){const t=r<.5?r*(1+n):r+n-r*n,i=2*r-t;o=ef(i,t,e+1/3),a=ef(i,t,e),s=ef(i,t,e-1/3)}else o=a=s=r;return{red:Math.round(255*o),green:Math.round(255*a),blue:Math.round(255*s),alpha:i}}(n)),n}const af=(t,e)=>{const n=of(t),r=of(e),i={...n};return t=>(i.red=nf(n.red,r.red,t),i.green=nf(n.green,r.green,t),i.blue=nf(n.blue,r.blue,t),i.alpha=tf(n.alpha,r.alpha,t),$d.transform(i))};const sf={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:Uh},lf={regex:Yu,countKey:"Colors",token:"${c}",parse:Jd.parse},cf={regex:Ku,countKey:"Numbers",token:"${n}",parse:qu.parse};function uf(t,e){let{regex:n,countKey:r,token:i,parse:o}=e;const a=t.tokenised.match(n);a&&(t["num"+r]=a.length,t.tokenised=t.tokenised.replace(n,i),t.values.push(...a.map(o)))}function hf(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&uf(n,sf),uf(n,lf),uf(n,cf),n}function df(t){return hf(t).values}function ff(t){const{values:e,numColors:n,numVars:r,tokenised:i}=hf(t),o=e.length;return t=>{let e=i;for(let i=0;i<o;i++)e=i<r?e.replace(sf.token,t[i]):i<r+n?e.replace(lf.token,Jd.transform(t[i])):e.replace(cf.token,Xu(t[i]));return e}}const pf=t=>"number"===typeof t?0:t;const mf={test:function(t){var e,n;return isNaN(t)&&Qu(t)&&((null===(e=t.match(Ku))||void 0===e?void 0:e.length)||0)+((null===(n=t.match(Yu))||void 0===n?void 0:n.length)||0)>0},parse:df,createTransformer:ff,getAnimatableNone:function(t){const e=df(t);return ff(t)(e.map(pf))}},gf=(t,e)=>n=>"".concat(n>0?e:t);function vf(t,e){return"number"===typeof t?n=>tf(t,e,n):Jd.test(t)?af(t,e):t.startsWith("var(")?gf(t,e):_f(t,e)}const yf=(t,e)=>{const n=[...t],r=n.length,i=t.map(((t,n)=>vf(t,e[n])));return t=>{for(let e=0;e<r;e++)n[e]=i[e](t);return n}},bf=(t,e)=>{const n={...t,...e},r={};for(const i in n)void 0!==t[i]&&void 0!==e[i]&&(r[i]=vf(t[i],e[i]));return t=>{for(const e in r)n[e]=r[e](t);return n}},_f=(t,e)=>{const n=mf.createTransformer(e),r=hf(t),i=hf(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Jh(yf(r.values,i.values),n):(bd(!0,"Complex values '".concat(t,"' and '").concat(e,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),gf(t,e))},xf=(t,e,n)=>{const r=e-t;return 0===r?1:(n-t)/r},wf=(t,e)=>n=>tf(t,e,n);function Sf(t,e,n){const r=[],i=n||function(t){return"number"===typeof t?wf:"string"===typeof t?Jd.test(t)?af:_f:Array.isArray(t)?yf:"object"===typeof t?bf:wf}(t[0]),o=t.length-1;for(let a=0;a<o;a++){let n=i(t[a],t[a+1]);if(e){const t=Array.isArray(e)?e[a]||Uh:e;n=Jh(t,n)}r.push(n)}return r}function Ef(t,e){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=t.length;if(_d(o===e.length,"Both input and output ranges must be the same length"),1===o)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Sf(e,r,i),s=a.length,l=e=>{let n=0;if(s>1)for(;n<t.length-2&&!(e<t[n+1]);n++);const r=xf(t[n],t[n+1],e);return a[n](r)};return n?e=>l(Hu(t[0],t[o-1],e)):l}function Tf(t){const e=[0];return function(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=xf(0,e,r);t.push(tf(n,1,i))}}(e,t.length-1),e}function Mf(t,e){return t.map((()=>e||Id)).splice(0,t.length-1)}function Af(t){let{duration:e=300,keyframes:n,times:r,ease:i="easeInOut"}=t;const o=Dd(i)?i.map(Gd):Gd(i),a={done:!1,value:n[0]},s=function(t,e){return t.map((t=>t*e))}(r&&r.length===n.length?r:Tf(n),e),l=Ef(s,n,{ease:Array.isArray(o)?o:Mf(n,o)});return{calculatedDuration:e,next:t=>(a.value=l(t),a.done=t>=e,a)}}function Cf(t,e){return e?t*(1e3/e):0}const kf=5;function Of(t,e,n){const r=Math.max(e-kf,0);return Cf(n-t(r),e-r)}const Pf=.001,Rf=.01,Nf=10,Lf=.05,If=1;function Df(t){let e,n,{duration:r=800,bounce:i=.25,velocity:o=0,mass:a=1}=t;bd(r<=xd(Nf),"Spring duration must be 10 seconds or less");let s=1-i;s=Hu(Lf,If,s),r=Hu(Rf,Nf,wd(r)),s<1?(e=t=>{const e=t*s,n=e*r,i=e-o,a=Uf(t,s),l=Math.exp(-n);return Pf-i/a*l},n=t=>{const n=t*s*r,i=n*o+o,a=Math.pow(s,2)*Math.pow(t,2)*r,l=Math.exp(-n),c=Uf(Math.pow(t,2),s);return(-e(t)+Pf>0?-1:1)*((i-a)*l)/c}):(e=t=>Math.exp(-t*r)*((t-o)*r+1)-Pf,n=t=>Math.exp(-t*r)*(r*r*(o-t)));const l=function(t,e,n){let r=n;for(let i=1;i<jf;i++)r-=t(r)/e(r);return r}(e,n,5/r);if(r=xd(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const t=Math.pow(l,2)*a;return{stiffness:t,damping:2*s*Math.sqrt(a*t),duration:r}}}const jf=12;function Uf(t,e){return t*Math.sqrt(1-e*e)}const Ff=["duration","bounce"],zf=["stiffness","damping","mass"];function Bf(t,e){return e.some((e=>void 0!==t[e]))}function Vf(t){let{keyframes:e,restDelta:n,restSpeed:r,...i}=t;const o=e[0],a=e[e.length-1],s={done:!1,value:o},{stiffness:l,damping:c,mass:u,velocity:h,duration:d,isResolvedFromDuration:f}=function(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Bf(t,zf)&&Bf(t,Ff)){const n=Df(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}(i),p=h?-wd(h):0,m=c/(2*Math.sqrt(l*u)),g=a-o,v=wd(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(r||(r=y?.01:2),n||(n=y?.005:.5),m<1){const t=Uf(v,m);b=e=>{const n=Math.exp(-m*v*e);return a-n*((p+m*v*g)/t*Math.sin(t*e)+g*Math.cos(t*e))}}else if(1===m)b=t=>a-Math.exp(-v*t)*(g+(p+v*g)*t);else{const t=v*Math.sqrt(m*m-1);b=e=>{const n=Math.exp(-m*v*e),r=Math.min(t*e,300);return a-n*((p+m*v*g)*Math.sinh(r)+t*g*Math.cosh(r))/t}}return{calculatedDuration:f&&d||null,next:t=>{const e=b(t);if(f)s.done=t>=d;else{let i=p;0!==t&&(i=m<1?Of(b,t,e):0);const o=Math.abs(i)<=r,l=Math.abs(a-e)<=n;s.done=o&&l}return s.value=s.done?a:e,s}}}function Hf(t){let{keyframes:e,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:c,restDelta:u=.5,restSpeed:h}=t;const d=e[0],f={done:!1,value:d},p=t=>void 0===l?c:void 0===c||Math.abs(l-t)<Math.abs(c-t)?l:c;let m=r*n;const g=d+m,v=void 0===s?g:s(g);v!==g&&(m=v-d);const y=t=>-m*Math.exp(-t/i),b=t=>v+y(t),_=t=>{const e=y(t),n=b(t);f.done=Math.abs(e)<=u,f.value=f.done?v:n};let x,w;const S=t=>{(t=>void 0!==l&&t<l||void 0!==c&&t>c)(f.value)&&(x=t,w=Vf({keyframes:[f.value,p(f.value)],velocity:Of(b,t,f.value),damping:o,stiffness:a,restDelta:u,restSpeed:h}))};return S(0),{calculatedDuration:null,next:t=>{let e=!1;return w||void 0!==x||(e=!0,_(t),S(t)),void 0!==x&&t>x?w.next(t-x):(!e&&_(t),f)}}}const qf=t=>{const e=e=>{let{timestamp:n}=e;return t(n)};return{start:()=>Bh.update(e,!0),stop:()=>Vh(e),now:()=>Hh.isProcessing?Hh.timestamp:performance.now()}},Wf=2e4;function Gf(t){let e=0;let n=t.next(e);for(;!n.done&&e<Wf;)e+=50,n=t.next(e);return e>=Wf?1/0:e}const Xf={decay:Hf,inertia:Hf,tween:Af,keyframes:Af,spring:Vf};function Kf(t){let e,n,{autoplay:r=!0,delay:i=0,driver:o=qf,keyframes:a,type:s="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:h,onStop:d,onComplete:f,onUpdate:p,...m}=t,g=1,v=!1;const y=()=>{n=new Promise((t=>{e=t}))};let b;y();const _=Xf[s]||Af;let x;_!==Af&&"number"!==typeof a[0]&&(x=Ef([0,100],a,{clamp:!1}),a=[0,100]);const w=_({...m,keyframes:a});let S;"mirror"===u&&(S=_({...m,keyframes:[...a].reverse(),velocity:-(m.velocity||0)}));let E="idle",T=null,M=null,A=null;null===w.calculatedDuration&&l&&(w.calculatedDuration=Gf(w));const{calculatedDuration:C}=w;let k=1/0,O=1/0;null!==C&&(k=C+c,O=k*(l+1)-c);let P=0;const R=t=>{if(null===M)return;g>0&&(M=Math.min(M,t)),g<0&&(M=Math.min(t-O/g,M)),P=null!==T?T:Math.round(t-M)*g;const e=P-i*(g>=0?1:-1),n=g>=0?e<0:e>O;P=Math.max(e,0),"finished"===E&&null===T&&(P=O);let r=P,o=w;if(l){const t=P/k;let e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,e=Math.min(e,l+1);const i=Boolean(e%2);i&&("reverse"===u?(n=1-n,c&&(n-=c/k)):"mirror"===u&&(o=S));let a=Hu(0,1,n);P>O&&(a="reverse"===u&&i?1:0),r=a*k}const s=n?{done:!1,value:a[0]}:o.next(r);x&&(s.value=x(s.value));let{done:h}=s;n||null===C||(h=g>=0?P>=O:P<=0);const d=null===T&&("finished"===E||"running"===E&&h);return p&&p(s.value),d&&I(),s},N=()=>{b&&b.stop(),b=void 0},L=()=>{E="idle",N(),e(),y(),M=A=null},I=()=>{E="finished",f&&f(),N(),e()},D=()=>{if(v)return;b||(b=o(R));const t=b.now();h&&h(),null!==T?M=t-T:M&&"finished"!==E||(M=t),"finished"===E&&y(),A=M,T=null,E="running",b.start()};r&&D();const j={then:(t,e)=>n.then(t,e),get time(){return wd(P)},set time(t){t=xd(t),P=t,null===T&&b&&0!==g?M=b.now()-t/g:T=t},get duration(){const t=null===w.calculatedDuration?Gf(w):w.calculatedDuration;return wd(t)},get speed(){return g},set speed(t){t!==g&&b&&(g=t,j.time=wd(P))},get state(){return E},play:D,pause:()=>{E="paused",T=P},stop:()=>{v=!0,"idle"!==E&&(E="idle",d&&d(),L())},cancel:()=>{null!==A&&R(A),L()},complete:()=>{E="finished"},sample:t=>(M=0,R(t))};return j}const Yf=function(t){let e;return()=>(void 0===e&&(e=t()),e)}((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),$f=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function Qf(t,e,n){let{onUpdate:r,onComplete:i,...o}=n;if(!(Yf()&&$f.has(e)&&!o.repeatDelay&&"mirror"!==o.repeatType&&0!==o.damping&&"inertia"!==o.type))return!1;let a,s,l=!1;const c=()=>{s=new Promise((t=>{a=t}))};c();let{keyframes:u,duration:h=300,ease:d,times:f}=o;if(((t,e)=>"spring"===e.type||"backgroundColor"===t||!Td(e.ease))(e,o)){const t=Kf({...o,repeat:0,delay:0});let e={done:!1,value:u[0]};const n=[];let r=0;for(;!e.done&&r<2e4;)e=t.sample(r),n.push(e.value),r+=10;f=void 0,u=n,h=r-10,d="linear"}const p=function(t,e,n){let{delay:r=0,duration:i,repeat:o=0,repeatType:a="loop",ease:s,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[e]:n};l&&(c.offset=l);const u=Cd(s);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:"reverse"===a?"alternate":"normal"})}(t.owner.current,e,u,{...o,duration:h,ease:d,times:f});o.syncStart&&(p.startTime=Hh.isProcessing?Hh.timestamp:document.timeline?document.timeline.currentTime:performance.now());const m=()=>p.cancel(),g=()=>{Bh.update(m),a(),c()};p.onfinish=()=>{t.set(function(t,e){let{repeat:n,repeatType:r="loop"}=e;return t[n&&"loop"!==r&&n%2===1?0:t.length-1]}(u,o)),i&&i(),g()};return{then:(t,e)=>s.then(t,e),attachTimeline:t=>(p.timeline=t,p.onfinish=null,Uh),get time(){return wd(p.currentTime||0)},set time(t){p.currentTime=xd(t)},get speed(){return p.playbackRate},set speed(t){p.playbackRate=t},get duration(){return wd(h)},play:()=>{l||(p.play(),Vh(m))},pause:()=>p.pause(),stop:()=>{if(l=!0,"idle"===p.playState)return;const{currentTime:e}=p;if(e){const n=Kf({...o,autoplay:!1});t.setWithVelocity(n.sample(e-10).value,n.sample(e).value,10)}g()},complete:()=>p.finish(),cancel:g}}const Zf={type:"spring",stiffness:500,damping:25,restSpeed:10},Jf={type:"keyframes",duration:.8},tp={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ep=(t,e)=>{let{keyframes:n}=e;return n.length>2?Jf:Lu.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Zf:tp},np=(t,e)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!mf.test(e)&&"0"!==e||e.startsWith("url("))),rp=new Set(["brightness","contrast","saturate","opacity"]);function ip(t){const[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[r]=n.match(Ku)||[];if(!r)return t;const i=n.replace(r,"");let o=rp.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const op=/([a-z-]*)\(.*?\)/g,ap={...mf,getAnimatableNone:t=>{const e=t.match(op);return e?e.map(ip).join(" "):t}},sp={...ah,color:Jd,backgroundColor:Jd,outlineColor:Jd,fill:Jd,stroke:Jd,borderColor:Jd,borderTopColor:Jd,borderRightColor:Jd,borderBottomColor:Jd,borderLeftColor:Jd,filter:ap,WebkitFilter:ap},lp=t=>sp[t];function cp(t,e){let n=lp(t);return n!==ap&&(n=mf),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const up=t=>/^0[^.\s]+$/.test(t);function hp(t){return"number"===typeof t?0===t:null!==t?"none"===t||"0"===t||up(t):void 0}function dp(t,e){return t[e]||t.default||t}const fp=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const o=dp(r,t)||{},a=o.delay||r.delay||0;let{elapsed:s=0}=r;s-=xd(a);const l=function(t,e,n,r){const i=np(e,n);let o;o=Array.isArray(n)?[...n]:[null,n];const a=void 0!==r.from?r.from:t.get();let s;const l=[];for(let c=0;c<o.length;c++)null===o[c]&&(o[c]=0===c?a:o[c-1]),hp(o[c])&&l.push(c),"string"===typeof o[c]&&"none"!==o[c]&&"0"!==o[c]&&(s=o[c]);if(i&&l.length&&s)for(let c=0;c<l.length;c++)o[l[c]]=cp(e,s);return o}(e,t,n,o),c=l[0],u=l[l.length-1],h=np(t,c),d=np(t,u);bd(h===d,"You are trying to animate ".concat(t,' from "').concat(c,'" to "').concat(u,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(u," via the `style` property."));let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-s,onUpdate:t=>{e.set(t),o.onUpdate&&o.onUpdate(t)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(function(t){let{when:e,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:s,repeatDelay:l,from:c,elapsed:u,...h}=t;return!!Object.keys(h).length}(o)||(f={...f,...ep(t,f)}),f.duration&&(f.duration=xd(f.duration)),f.repeatDelay&&(f.repeatDelay=xd(f.repeatDelay)),!h||!d||Sd||!1===o.type)return function(t){let{keyframes:e,delay:n,onUpdate:r,onComplete:i}=t;const o=()=>(r&&r(e[e.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Uh,pause:Uh,stop:Uh,then:t=>(t(),Promise.resolve()),cancel:Uh,complete:Uh});return n?Kf({keyframes:[0,1],duration:0,delay:n,onComplete:o}):o()}(Sd?{...f,delay:0}:f);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const n=Qf(e,t,f);if(n)return n}return Kf(f)}};function pp(t){return Boolean(Du(t)&&t.add)}const mp=t=>/^\-?\d*\.?\d+$/.test(t);function gp(t,e){-1===t.indexOf(e)&&t.push(e)}function vp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class yp{constructor(){this.subscriptions=[]}add(t){return gp(this.subscriptions,t),()=>vp(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bp={current:void 0};class _p{constructor(t){var e=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="10.16.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.prev=e.current,e.current=t;const{delta:r,timestamp:i}=Hh;e.lastUpdated!==i&&(e.timeDelta=r,e.lastUpdated=i,Bh.postRender(e.scheduleVelocityCheck)),e.prev!==e.current&&e.events.change&&e.events.change.notify(e.current),e.events.velocityChange&&e.events.velocityChange.notify(e.getVelocity()),n&&e.events.renderRequest&&e.events.renderRequest.notify(e.current)},this.scheduleVelocityCheck=()=>Bh.postRender(this.velocityCheck),this.velocityCheck=t=>{let{timestamp:e}=t;e!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(t=>!isNaN(parseFloat(t)))(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new yp);const n=this.events[t].add(e);return"change"===t?()=>{n(),Bh.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,n){this.set(e),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return bp.current&&bp.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Cf(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise((e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xp(t,e){return new _p(t,e)}const wp=t=>e=>e.test(t),Sp=[qu,eh,th,Ju,rh,nh,{test:t=>"auto"===t,parse:t=>t}],Ep=t=>Sp.find(wp(t)),Tp=[...Sp,Jd,mf],Mp=t=>Tp.find(wp(t));function Ap(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xp(n))}function Cp(t,e){const n=vd(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const a in o){Ap(t,a,Lh(o[a]))}}function kp(t,e){if(!e)return;return(e[t]||e.default||e).from}function Op(t,e){let{protectedKeys:n,needsAnimating:r}=t;const i=n.hasOwnProperty(e)&&!0!==r[e];return r[e]=!1,i}function Pp(t,e){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:o=t.getDefaultTransition(),transitionEnd:a,...s}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in s){const e=t.getValue(h),r=s[h];if(!e||void 0===r||u&&Op(u,h))continue;const i={delay:n,elapsed:0,...o};if(window.HandoffAppearAnimations&&!e.hasAnimated){const n=t.getProps()[yd];n&&(i.elapsed=window.HandoffAppearAnimations(n,h,e,Bh),i.syncStart=!0)}e.start(fp(h,e,r,t.shouldReduceMotion&&Lu.has(h)?{type:!1}:i));const a=e.animation;pp(l)&&(l.add(h),a.then((()=>l.remove(h)))),c.push(a)}return a&&Promise.all(c).then((()=>{a&&Cp(t,a)})),c}function Rp(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=vd(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(Pp(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:o=0,staggerChildren:a,staggerDirection:s}=i;return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const a=[],s=(t.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(t.variantChildren).sort(Np).forEach(((t,r)=>{t.notify("AnimationStart",e),a.push(Rp(t,e,{...o,delay:n+l(r)}).then((()=>t.notify("AnimationComplete",e))))})),Promise.all(a)}(t,e,o+r,a,s,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[t,e]="beforeChildren"===s?[o,a]:[a,o];return t().then((()=>e()))}return Promise.all([o(),a(n.delay)])}function Np(t,e){return t.sortNodePosition(e)}const Lp=[...gu].reverse(),Ip=gu.length;function Dp(t){return e=>Promise.all(e.map((e=>{let{animation:n,options:r}=e;return function(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.notify("AnimationStart",e),Array.isArray(e)){const i=e.map((e=>Rp(t,e,r)));n=Promise.all(i)}else if("string"===typeof e)n=Rp(t,e,r);else{const i="function"===typeof e?vd(t,e,r.custom):e;n=Promise.all(Pp(t,i,r))}return n.then((()=>t.notify("AnimationComplete",e)))}(t,n,r)})))}function jp(t){let e=Dp(t);const n={animate:Fp(!0),whileInView:Fp(),whileHover:Fp(),whileTap:Fp(),whileDrag:Fp(),whileFocus:Fp(),exit:Fp()};let r=!0;const i=(e,n)=>{const r=vd(t,n);if(r){const{transition:t,transitionEnd:n,...i}=r;e={...e,...i,...n}}return e};function o(o,a){const s=t.getProps(),l=t.getVariantContext(!0)||{},c=[],u=new Set;let h={},d=1/0;for(let e=0;e<Ip;e++){const f=Lp[e],p=n[f],m=void 0!==s[f]?s[f]:l[f],g=pu(m),v=f===a?p.isActive:null;!1===v&&(d=e);let y=m===l[f]&&m!==s[f]&&g;if(y&&r&&t.manuallyAnimateOnMount&&(y=!1),p.protectedKeys={...h},!p.isActive&&null===v||!m&&!p.prevProp||mu(m)||"boolean"===typeof m)continue;const b=Up(p.prevProp,m);let _=b||f===a&&p.isActive&&!y&&g||e>d&&g;const x=Array.isArray(m)?m:[m];let w=x.reduce(i,{});!1===v&&(w={});const{prevResolvedValues:S={}}=p,E={...S,...w},T=t=>{_=!0,u.delete(t),p.needsAnimating[t]=!0};for(const t in E){const e=w[t],n=S[t];h.hasOwnProperty(t)||(e!==n?Rh(e)&&Rh(n)?!gd(e,n)||b?T(t):p.protectedKeys[t]=!0:void 0!==e?T(t):u.add(t):void 0!==e&&u.has(t)?T(t):p.protectedKeys[t]=!0)}p.prevProp=m,p.prevResolvedValues=w,p.isActive&&(h={...h,...w}),r&&t.blockInitialAnimation&&(_=!1),_&&!y&&c.push(...x.map((t=>({animation:t,options:{type:f,...o}}))))}if(u.size){const e={};u.forEach((n=>{const r=t.getBaseTarget(n);void 0!==r&&(e[n]=r)})),c.push({animation:e})}let f=Boolean(c.length);return r&&!1===s.initial&&!t.manuallyAnimateOnMount&&(f=!1),r=!1,f?e(c):Promise.resolve()}return{animateChanges:o,setActive:function(e,r,i){var a;if(n[e].isActive===r)return Promise.resolve();null===(a=t.variantChildren)||void 0===a||a.forEach((t=>{var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,r)})),n[e].isActive=r;const s=o(i,e);for(const t in n)n[t].protectedKeys={};return s},setAnimateFunction:function(n){e=n(t)},getState:()=>n}}function Up(t,e){return"string"===typeof e?e!==t:!!Array.isArray(e)&&!gd(e,t)}function Fp(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let zp=0;const Bp={animation:{Feature:class extends od{constructor(t){super(t),t.animationState||(t.animationState=jp(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),mu(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends od{constructor(){super(...arguments),this.id=zp++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});e&&!t&&i.then((()=>e(this.id)))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}}},Vp=(t,e)=>Math.abs(t-e);class Hp{constructor(t,e){let{transformPagePoint:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=Gp(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=function(t,e){const n=Vp(t.x,e.x),r=Vp(t.y,e.y);return Math.sqrt(n**2+r**2)}(t.offset,{x:0,y:0})>=3;if(!e&&!n)return;const{point:r}=t,{timestamp:i}=Hh;this.history.push({...r,timestamp:i});const{onStart:o,onMove:a}=this.handlers;e||(o&&o(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=qp(e,this.transformPagePoint),Bh.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{if(this.end(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const{onEnd:n,onSessionEnd:r}=this.handlers,i=Gp("pointercancel"===t.type?this.lastMoveEventInfo:qp(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,i),r&&r(t,i)},!Kh(t))return;this.handlers=e,this.transformPagePoint=n;const r=qp(Yh(t),this.transformPagePoint),{point:i}=r,{timestamp:o}=Hh;this.history=[{...i,timestamp:o}];const{onSessionStart:a}=e;a&&a(t,Gp(r,this.history)),this.removeListeners=Jh(Qh(window,"pointermove",this.handlePointerMove),Qh(window,"pointerup",this.handlePointerUp),Qh(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Vh(this.updatePoint)}}function qp(t,e){return e?{point:e(t.point)}:t}function Wp(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Gp(t,e){let{point:n}=t;return{point:n,delta:Wp(n,Kp(e)),offset:Wp(n,Xp(e)),velocity:Yp(e,.1)}}function Xp(t){return t[0]}function Kp(t){return t[t.length-1]}function Yp(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Kp(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>xd(e)));)n--;if(!r)return{x:0,y:0};const o=wd(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function $p(t){return t.max-t.min}function Qp(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(t-e)<=n}function Zp(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;t.origin=r,t.originPoint=tf(e.min,e.max,t.origin),t.scale=$p(n)/$p(e),(Qp(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=tf(n.min,n.max,t.origin)-t.originPoint,(Qp(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Jp(t,e,n,r){Zp(t.x,e.x,n.x,r?r.originX:void 0),Zp(t.y,e.y,n.y,r?r.originY:void 0)}function tm(t,e,n){t.min=n.min+e.min,t.max=t.min+$p(e)}function em(t,e,n){t.min=e.min-n.min,t.max=t.min+$p(e)}function nm(t,e,n){em(t.x,e.x,n.x),em(t.y,e.y,n.y)}function rm(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function im(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}const om=.35;function am(t,e,n){return{min:sm(t,e),max:sm(t,n)}}function sm(t,e){return"number"===typeof t?t:t[e]||0}const lm=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),cm=()=>({x:{min:0,max:0},y:{min:0,max:0}});function um(t){return[t("x"),t("y")]}function hm(t){let{top:e,left:n,right:r,bottom:i}=t;return{x:{min:n,max:r},y:{min:e,max:i}}}function dm(t){return void 0===t||1===t}function fm(t){let{scale:e,scaleX:n,scaleY:r}=t;return!dm(e)||!dm(n)||!dm(r)}function pm(t){return fm(t)||mm(t)||t.z||t.rotate||t.rotateX||t.rotateY}function mm(t){return gm(t.x)||gm(t.y)}function gm(t){return t&&"0%"!==t}function vm(t,e,n){return n+e*(t-n)}function ym(t,e,n,r,i){return void 0!==i&&(t=vm(t,i,r)),vm(t,n,r)+e}function bm(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;t.min=ym(t.min,e,n,r,i),t.max=ym(t.max,e,n,r,i)}function _m(t,e){let{x:n,y:r}=e;bm(t.x,n.translate,n.scale,n.originPoint),bm(t.y,r.translate,r.scale,r.originPoint)}function xm(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function wm(t,e){t.min=t.min+e,t.max=t.max+e}function Sm(t,e,n){let[r,i,o]=n;const a=void 0!==e[o]?e[o]:.5,s=tf(t.min,t.max,a);bm(t,e[r],e[i],s,e.scale)}const Em=["x","scaleX","originX"],Tm=["y","scaleY","originY"];function Mm(t,e){Sm(t.x,e,Em),Sm(t.y,e,Tm)}function Am(t,e){return hm(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),e))}const Cm=new WeakMap;class km{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=cm(),this.visualElement=t}start(t){let{snapToCursor:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;this.panSession=new Hp(t,{onSessionStart:t=>{this.stopAnimation(),e&&this.snapToCursor(Yh(t,"page").point)},onStart:(t,e)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=rd(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),um((t=>{let e=this.getAxisMotionValue(t).get()||0;if(th.test(e)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[t];if(r){e=$p(r)*(parseFloat(e)/100)}}}this.originPoint[t]=e})),i&&Bh.update((()=>i(t,e)),!1,!0);const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(t,e)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=e;if(r&&null===this.currentDirection)return this.currentDirection=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",e.point,a),this.updateAxis("y",e.point,a),this.visualElement.render(),o&&o(t,e)},onSessionEnd:(t,e)=>this.stop(t,e)},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,e){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=e;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Bh.update((()=>i(t,e)))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:r}=this.getProps();if(!n||!Om(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=function(t,e,n){let{min:r,max:i}=e;return void 0!==r&&t<r?t=n?tf(r,t,n.min):Math.max(t,r):void 0!==i&&t>i&&(t=n?tf(i,t,n.max):Math.min(t,i)),t}(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),{layout:n}=this.visualElement.projection||{},r=this.constraints;t&&fu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(t,e){let{top:n,left:r,bottom:i,right:o}=e;return{x:rm(t.x,r,o),y:rm(t.y,n,i)}}(n.layoutBox,t),this.elastic=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:om;return!1===t?t=0:!0===t&&(t=om),{x:am(t,"left","right"),y:am(t,"top","bottom")}}(e),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&um((t=>{this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(n.layoutBox[t],this.constraints[t]))}))}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!fu(t))return!1;const n=t.current;_d(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(t,e,n){const r=Am(t,n),{scroll:i}=e;return i&&(wm(r.x,i.offset.x),wm(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(t,e){return{x:im(t.x,e.x),y:im(t.y,e.y)}}(r.layout.layoutBox,i);if(e){const t=e(function(t){let{x:e,y:n}=t;return{top:n.min,right:e.max,bottom:n.max,left:e.min}}(o));this.hasMutatedConstraints=!!t,t&&(o=hm(t))}return o}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},l=um((a=>{if(!Om(a,e,this.currentDirection))return;let l=s&&s[a]||{};o&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h={type:"inertia",velocity:n?t[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,h)}));return Promise.all(l).then(a)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return n.start(fp(t,n,0,e))}stopAnimation(){um((t=>this.getAxisMotionValue(t).stop()))}getAxisMotionValue(t){const e="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),r=n[e];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){um((e=>{const{drag:n}=this.getProps();if(!Om(e,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(e);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[e];i.set(t[e]-tf(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!fu(e)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};um((t=>{const e=this.getAxisMotionValue(t);if(e){const n=e.get();r[t]=function(t,e){let n=.5;const r=$p(t),i=$p(e);return i>r?n=xf(e.min,e.max-r,t.min):r>i&&(n=xf(t.min,t.max-i,e.min)),Hu(0,1,n)}({min:n,max:n},this.constraints[t])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),um((e=>{if(!Om(e,t,null))return;const n=this.getAxisMotionValue(e),{min:i,max:o}=this.constraints[e];n.set(tf(i,o,r[e]))}))}addListeners(){if(!this.visualElement.current)return;Cm.set(this.visualElement,this);const t=Qh(this.visualElement.current,"pointerdown",(t=>{const{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)})),e=()=>{const{dragConstraints:t}=this.getProps();fu(t)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",e);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),e();const i=Xh(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(t=>{let{delta:e,hasLayoutChanged:n}=t;this.isDragging&&n&&(um((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{i(),t(),r(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=om,dragMomentum:a=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Om(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}const Pm=t=>(e,n)=>{t&&Bh.update((()=>t(e,n)))};const Rm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Nm(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Lm={correct:(t,e)=>{if(!e.target)return t;if("string"===typeof t){if(!eh.test(t))return t;t=parseFloat(t)}const n=Nm(t,e.target.x),r=Nm(t,e.target.y);return"".concat(n,"% ").concat(r,"%")}},Im={correct:(t,e)=>{let{treeScale:n,projectionDelta:r}=e;const i=t,o=mf.parse(t);if(o.length>5)return i;const a=mf.createTransformer(t),s="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;o[0+s]/=l,o[1+s]/=c;const u=tf(l,c,.5);return"number"===typeof o[2+s]&&(o[2+s]/=u),"number"===typeof o[3+s]&&(o[3+s]/=u),a(o)}};class Dm extends a.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=t;var o;o=Um,Object.assign(Ru,o),i&&(e.group&&e.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Rm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o?(o.isPresent=i,r||t.layoutDependency!==e||void 0===e?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Bh.postRender((()=>{const t=o.getStack();t&&t.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask((()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jm(t){const[e,n]=au(),r=(0,a.useContext)(Eu);return a.createElement(Dm,{...t,layoutGroup:r,switchLayoutGroup:(0,a.useContext)(Tu),isPresent:e,safeToRemove:n})}const Um={borderRadius:{...Lm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lm,borderTopRightRadius:Lm,borderBottomLeftRadius:Lm,borderBottomRightRadius:Lm,boxShadow:Im},Fm=["TopLeft","TopRight","BottomLeft","BottomRight"],zm=Fm.length,Bm=t=>"string"===typeof t?parseFloat(t):t,Vm=t=>"number"===typeof t||eh.test(t);function Hm(t,e){return void 0!==t[e]?t[e]:t.borderRadius}const qm=Gm(0,.5,zd),Wm=Gm(.5,.95,Uh);function Gm(t,e,n){return r=>r<t?0:r>e?1:n(xf(t,e,r))}function Xm(t,e){t.min=e.min,t.max=e.max}function Km(t,e){Xm(t.x,e.x),Xm(t.y,e.y)}function Ym(t,e,n,r,i){return t=vm(t-=e,1/n,r),void 0!==i&&(t=vm(t,1/i,r)),t}function $m(t,e,n,r,i){let[o,a,s]=n;!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:t;th.test(e)&&(e=parseFloat(e),e=tf(a.min,a.max,e/100)-a.min);if("number"!==typeof e)return;let s=tf(o.min,o.max,r);t===o&&(s-=e),t.min=Ym(t.min,e,n,s,i),t.max=Ym(t.max,e,n,s,i)}(t,e[o],e[a],e[s],e.scale,r,i)}const Qm=["x","scaleX","originX"],Zm=["y","scaleY","originY"];function Jm(t,e,n,r){$m(t.x,e,Qm,n?n.x:void 0,r?r.x:void 0),$m(t.y,e,Zm,n?n.y:void 0,r?r.y:void 0)}function tg(t){return 0===t.translate&&1===t.scale}function eg(t){return tg(t.x)&&tg(t.y)}function ng(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function rg(t){return $p(t.x)/$p(t.y)}class ig{constructor(){this.members=[]}add(t){gp(this.members,t),t.scheduleRender()}remove(t){if(vp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const e=this.members.findIndex((e=>t===e));if(0===e)return!1;let n;for(let r=e;r>=0;r--){const t=this.members[r];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((t=>{t.instance&&t.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function og(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r="translate3d(".concat(i,"px, ").concat(o,"px, 0) ")),1===e.x&&1===e.y||(r+="scale(".concat(1/e.x,", ").concat(1/e.y,") ")),n){const{rotate:t,rotateX:e,rotateY:i}=n;t&&(r+="rotate(".concat(t,"deg) ")),e&&(r+="rotateX(".concat(e,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) "))}const a=t.x.scale*e.x,s=t.y.scale*e.y;return 1===a&&1===s||(r+="scale(".concat(a,", ").concat(s,")")),r||"none"}const ag=(t,e)=>t.depth-e.depth;class sg{constructor(){this.children=[],this.isDirty=!1}add(t){gp(this.children,t),this.isDirty=!0}remove(t){vp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ag),this.isDirty=!1,this.children.forEach(t)}}const lg=["","X","Y","Z"];let cg=0;const ug={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function hg(t){let{attachResizeListener:e,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=t;return class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=cg++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{ug.totalNodes=ug.resolvedTargetDeltas=ug.recalculatedProjection=0,this.nodes.forEach(pg),this.nodes.forEach(xg),this.nodes.forEach(wg),this.nodes.forEach(mg),function(t){window.MotionDebug&&window.MotionDebug.record(t)}(ug)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=e?e.root||e:this,this.path=e?[...e.path,e]:[],this.parent=e,this.depth=e?e.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new sg)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new yp),this.eventHandlers.get(t).add(e)}notifyListeners(t){const e=this.eventHandlers.get(t);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e&&e.notify(...r)}hasListeners(t){return this.eventHandlers.has(t)}mount(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=t)instanceof SVGElement&&"svg"!==r.tagName,this.instance=t;const{layoutId:i,layout:o,visualElement:a}=this.options;if(a&&!a.current&&a.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||i)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(t,e){const n=performance.now(),r=i=>{let{timestamp:o}=i;const a=o-n;a>=e&&(Vh(r),t(a-e))};return Bh.read(r,!0),()=>Vh(r)}(r,250),Rm.hasAnimatedSinceResize&&(Rm.hasAnimatedSinceResize=!1,this.nodes.forEach(_g))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||o)&&this.addEventListener("didUpdate",(t=>{let{delta:e,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=t;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||a.getDefaultTransition()||Cg,{onLayoutAnimationStart:s,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!ng(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);const t={...dp(o,"layout"),onPlay:s,onComplete:l};(a.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else n||_g(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Sg),this.animationId++)}getTransformTemplate(){const{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const t=this.path[i];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:e,layout:n}=this.options;if(void 0===e&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(vg);this.isUpdating||this.nodes.forEach(yg),this.isUpdating=!1,this.nodes.forEach(bg),this.nodes.forEach(dg),this.nodes.forEach(fg),this.clearAllSnapshots();const t=performance.now();Hh.delta=Hu(0,1e3/60,t-Hh.timestamp),Hh.timestamp=t,Hh.isProcessing=!0,qh.update.process(Hh),qh.preRender.process(Hh),qh.render.process(Hh),Hh.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(gg),this.sharedNodes.forEach(Eg)}scheduleUpdateProjection(){Bh.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Bh.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=cm(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",e=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e&&(this.scroll={animationId:this.root.animationId,phase:t,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!o)return;const t=this.isLayoutDirty||this.shouldResetTransform,e=this.projectionDelta&&!eg(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;t&&(e||pm(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=this.measurePageBox();let n=this.removeElementScroll(e);var r;return t&&(n=this.removeTransform(n)),Pg((r=n).x),Pg(r.y),{animationId:this.root.animationId,measuredBox:e,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:t}=this.options;if(!t)return cm();const e=t.measureViewportBox(),{scroll:n}=this.root;return n&&(wm(e.x,n.offset.x),wm(e.y,n.offset.y)),e}removeElementScroll(t){const e=cm();Km(e,t);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:o}=r;if(r!==this.root&&i&&o.layoutScroll){if(i.isRoot){Km(e,t);const{scroll:n}=this.root;n&&(wm(e.x,-n.offset.x),wm(e.y,-n.offset.y))}wm(e.x,i.offset.x),wm(e.y,i.offset.y)}}return e}applyTransform(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=cm();Km(n,t);for(let r=0;r<this.path.length;r++){const t=this.path[r];!e&&t.options.layoutScroll&&t.scroll&&t!==t.root&&Mm(n,{x:-t.scroll.offset.x,y:-t.scroll.offset.y}),pm(t.latestValues)&&Mm(n,t.latestValues)}return pm(this.latestValues)&&Mm(n,this.latestValues),n}removeTransform(t){const e=cm();Km(e,t);for(let n=0;n<this.path.length;n++){const t=this.path[n];if(!t.instance)continue;if(!pm(t.latestValues))continue;fm(t.latestValues)&&t.updateSnapshot();const r=cm();Km(r,t.measurePageBox()),Jm(e,t.latestValues,t.snapshot?t.snapshot.layoutBox:void 0,r)}return pm(this.latestValues)&&Jm(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hh.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=Hh.timestamp,!this.targetDelta&&!this.relativeTarget){const t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cm(),this.relativeTargetOrigin=cm(),nm(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),Km(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,s,l;if(this.target||(this.target=cm(),this.targetWithTransforms=cm()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,s=this.relativeTarget,l=this.relativeParent.target,tm(a.x,s.x,l.x),tm(a.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Km(this.target,this.layout.layoutBox),_m(this.target,this.targetDelta)):Km(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const t=this.getClosestProjectingParent();t&&Boolean(t.resumingFrom)===Boolean(this.resumingFrom)&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cm(),this.relativeTargetOrigin=cm(),nm(this.relativeTargetOrigin,this.target,t.target),Km(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ug.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!fm(this.parent.latestValues)&&!mm(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;const e=this.getLead(),n=Boolean(this.resumingFrom)||this!==e;let r=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Hh.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;Km(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,s=this.treeScale.y;!function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let o,a;e.x=e.y=1;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const i=o.instance;i&&i.style&&"contents"===i.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Mm(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,_m(t,a)),r&&pm(o.latestValues)&&Mm(t,o.latestValues))}e.x=xm(e.x),e.y=xm(e.y)}(this.layoutCorrected,this.treeScale,this.path,n),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox);const{target:l}=e;if(!l)return void(this.projectionTransform&&(this.projectionDelta=lm(),this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta=lm(),this.projectionDeltaWithTransform=lm());const c=this.projectionTransform;Jp(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=og(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===a&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),ug.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),t){const t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},o=lm();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;const a=cm(),s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(Ag));let h;this.animationProgress=0,this.mixTargetDelta=e=>{const n=e/1e3;Tg(o.x,t.x,n),Tg(o.y,t.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nm(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(t,e,n,r){Mg(t.x,e.x,n.x,r),Mg(t.y,e.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),h&&function(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h=cm()),Km(h,this.relativeTarget)),s&&(this.animationValues=i,function(t,e,n,r,i,o){i?(t.opacity=tf(0,void 0!==n.opacity?n.opacity:1,qm(r)),t.opacityExit=tf(void 0!==e.opacity?e.opacity:1,0,Wm(r))):o&&(t.opacity=tf(void 0!==e.opacity?e.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<zm;a++){const i="border".concat(Fm[a],"Radius");let o=Hm(e,i),s=Hm(n,i);void 0===o&&void 0===s||(o||(o=0),s||(s=0),0===o||0===s||Vm(o)===Vm(s)?(t[i]=Math.max(tf(Bm(o),Bm(s),r),0),(th.test(s)||th.test(o))&&(t[i]+="%")):t[i]=s)}(e.rotate||n.rotate)&&(t.rotate=tf(e.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bh.update((()=>{Rm.hasAnimatedSinceResize=!0,this.currentAnimation=function(t,e,n){const r=Du(t)?t:xp(t);return r.start(fp("",r,e,n)),r.animation}(0,1e3,{...t,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:e,target:n,layout:r,latestValues:i}=t;if(e&&n&&r){if(this!==t&&this.layout&&r&&Rg(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||cm();const e=$p(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;const r=$p(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+r}Km(e,n),Mm(e,i),Jp(this.projectionDeltaWithTransform,this.layoutCorrected,e,i)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new ig);this.sharedNodes.get(t).add(e);const n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){var t;const{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;const{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote(){let{needsReset:t,transition:e,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetRotation(){const{visualElement:t}=this.options;if(!t)return;let e=!1;const{latestValues:n}=t;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(e=!0),!e)return;const r={};for(let i=0;i<lg.length;i++){const e="rotate"+lg[i];n[e]&&(r[e]=n[e],t.setStaticValue(e,0))}t.render();for(const i in r)t.setStaticValue(i,r[i]);t.scheduleRender()}getProjectionStyles(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var e,n;const r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";const i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Ih(t.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Ih(t.pointerEvents)||""),this.hasProjected&&!pm(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1),e}const a=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=og(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:s,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*s.origin,"% ").concat(100*l.origin,"% 0"),o.animationValues?r.opacity=o===this?null!==(n=null!==(e=a.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=o===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in Ru){if(void 0===a[c])continue;const{correct:t,applyTo:e}=Ru[c],n="none"===r.transform?a[c]:t(a[c],o);if(e){const t=e.length;for(let i=0;i<t;i++)r[e[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=o===this?Ih(t.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()})),this.root.nodes.forEach(vg),this.root.sharedNodes.clear()}}}function dg(t){t.updateLayout()}function fg(t){var e;const n=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;"size"===i?um((t=>{const r=o?n.measuredBox[t]:n.layoutBox[t],i=$p(r);r.min=e[t].min,r.max=r.min+i})):Rg(i,n.layoutBox,e)&&um((r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],a=$p(e[r]);i.max=i.min+a,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[r].max=t.relativeTarget[r].min+a)}));const a=lm();Jp(a,e,n.layoutBox);const s=lm();o?Jp(s,t.applyTransform(r,!0),n.measuredBox):Jp(s,e,n.layoutBox);const l=!eg(a);let c=!1;if(!t.resumeFrom){const r=t.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const a=cm();nm(a,n.layoutBox,i.layoutBox);const s=cm();nm(s,e,o.layoutBox),ng(a,s)||(c=!0),r.options.layoutRoot&&(t.relativeTarget=s,t.relativeTargetOrigin=a,t.relativeParent=r)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:n,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function pg(t){ug.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function mg(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function gg(t){t.clearSnapshot()}function vg(t){t.clearMeasurements()}function yg(t){t.isLayoutDirty=!1}function bg(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _g(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function xg(t){t.resolveTargetDelta()}function wg(t){t.calcProjection()}function Sg(t){t.resetRotation()}function Eg(t){t.removeLeadSnapshot()}function Tg(t,e,n){t.translate=tf(e.translate,0,n),t.scale=tf(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Mg(t,e,n,r){t.min=tf(e.min,n.min,r),t.max=tf(e.max,n.max,r)}function Ag(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const Cg={duration:.45,ease:[.4,0,.1,1]},kg=t=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(t),Og=kg("applewebkit/")&&!kg("chrome/")?Math.round:Uh;function Pg(t){t.min=Og(t.min),t.max=Og(t.max)}function Rg(t,e,n){return"position"===t||"preserve-aspect"===t&&!Qp(rg(e),rg(n),.2)}const Ng=hg({attachResizeListener:(t,e)=>Xh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lg={current:void 0},Ig=hg({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Lg.current){const t=new Ng({});t.mount(window),t.setOptions({layoutScroll:!0}),Lg.current=t}return Lg.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),Dg={pan:{Feature:class extends od{constructor(){super(...arguments),this.removePointerDownListener=Uh}onPointerDown(t){this.session=new Hp(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Pm(t),onStart:Pm(e),onMove:n,onEnd:(t,e)=>{delete this.session,r&&Bh.update((()=>r(t,e)))}}}mount(){this.removePointerDownListener=Qh(this.node.current,"pointerdown",(t=>this.onPointerDown(t)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends od{constructor(t){super(t),this.removeGroupControls=Uh,this.removeListeners=Uh,this.controls=new km(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Uh}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Ig,MeasureLayout:jm}},jg=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;const Ug=4;function Fg(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;_d(n<=Ug,'Max CSS variable fallback depth detected in property "'.concat(t,'". This may indicate a circular fallback dependency.'));const[r,i]=function(t){const e=jg.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const t=o.trim();return mp(t)?parseFloat(t):t}return Bu(i)?Fg(i,e,n+1):i}const zg=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Bg=t=>zg.has(t),Vg=t=>t===qu||t===eh,Hg=(t,e)=>parseFloat(t.split(", ")[e]),qg=(t,e)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/);if(o)return Hg(o[1],e);{const e=i.match(/^matrix\((.+)\)$/);return e?Hg(e[1],t):0}},Wg=new Set(["x","y","z"]),Gg=Nu.filter((t=>!Wg.has(t)));const Xg={width:(t,e)=>{let{x:n}=t,{paddingLeft:r="0",paddingRight:i="0"}=e;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(t,e)=>{let{y:n}=t,{paddingTop:r="0",paddingBottom:i="0"}=e;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(t,e)=>{let{top:n}=e;return parseFloat(n)},left:(t,e)=>{let{left:n}=e;return parseFloat(n)},bottom:(t,e)=>{let{y:n}=t,{top:r}=e;return parseFloat(r)+(n.max-n.min)},right:(t,e)=>{let{x:n}=t,{left:r}=e;return parseFloat(r)+(n.max-n.min)},x:qg(4,13),y:qg(5,14)};Xg.translateX=Xg.x,Xg.translateY=Xg.y;const Kg=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e={...e},r={...r};const i=Object.keys(e).filter(Bg);let o=[],a=!1;const s=[];if(i.forEach((i=>{const l=t.getValue(i);if(!t.hasValue(i))return;let c=n[i],u=Ep(c);const h=e[i];let d;if(Rh(h)){const t=h.length,e=null===h[0]?1:0;c=h[e],u=Ep(c);for(let n=e;n<t&&null!==h[n];n++)d?_d(Ep(h[n])===d,"All keyframes must be of the same type"):(d=Ep(h[n]),_d(d===u||Vg(u)&&Vg(d),"Keyframes must be of the same dimension as the current value"))}else d=Ep(h);if(u!==d)if(Vg(u)&&Vg(d)){const t=l.get();"string"===typeof t&&l.set(parseFloat(t)),"string"===typeof h?e[i]=parseFloat(h):Array.isArray(h)&&d===eh&&(e[i]=h.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===d||void 0===d?void 0:d.transform)&&(0===c||0===h)?0===c?l.set(d.transform(c)):e[i]=u.transform(h):(a||(o=function(t){const e=[];return Gg.forEach((n=>{const r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),e.length&&t.render(),e}(t),a=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:e[i],l.jump(h))})),s.length){const n=s.indexOf("height")>=0?window.pageYOffset:null,i=((t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:a}=o,s={};"none"===a&&e.setStaticValue("display",t.display||"block"),n.forEach((t=>{s[t]=Xg[t](r,o)})),e.render();const l=e.measureViewportBox();return n.forEach((n=>{const r=e.getValue(n);r&&r.jump(s[n]),t[n]=Xg[n](l,o)})),t})(e,t,s);return o.length&&o.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),t.render(),uu&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:e,transitionEnd:r}};function Yg(t,e,n,r){return(t=>Object.keys(t).some(Bg))(e)?Kg(t,e,n,r):{target:e,transitionEnd:r}}const $g=(t,e,n,r)=>{const i=function(t,e,n){let{...r}=e;const i=t.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n={...n}),t.values.forEach((t=>{const e=t.get();if(!Bu(e))return;const n=Fg(e,i);n&&t.set(n)}));for(const o in r){const t=r[o];if(!Bu(t))continue;const e=Fg(t,i);e&&(r[o]=e,n||(n={}),void 0===n[o]&&(n[o]=t))}return{target:r,transitionEnd:n}}(t,e,r);return Yg(t,e=i.target,n,r=i.transitionEnd)},Qg={current:null},Zg={current:!1};const Jg=new WeakMap,tv=Object.keys(Su),ev=tv.length,nv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],rv=vu.length;class iv{constructor(t){let{parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o}=t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Bh.render(this.render,!1,!0);const{latestValues:s,renderState:l}=o;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=yu(n),this.isVariantNode=bu(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const h in u){const t=u[h];void 0!==s[h]&&Du(t)&&(t.set(s[h],!1),pp(c)&&c.add(h))}}scrapeMotionValuesFromProps(t,e){return{}}mount(t){this.current=t,Jg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((t,e)=>this.bindToMotionValue(e,t))),Zg.current||function(){if(Zg.current=!0,uu)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qg.current=t.matches;t.addListener(e),e()}else Qg.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Qg.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Jg.delete(this.current),this.projection&&this.projection.unmount(),Vh(this.notifyUpdate),Vh(this.render),this.valueSubscriptions.forEach((t=>t())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,e){const n=Lu.has(t),r=e.on("change",(e=>{this.latestValues[t]=e,this.props.onUpdate&&Bh.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=e.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,(()=>{r(),i()}))}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}loadFeatures(t,e,n,r){let i,o,{children:a,...s}=t;for(let l=0;l<ev;l++){const t=tv[l],{isEnabled:e,Feature:n,ProjectionNode:r,MeasureLayout:a}=Su[t];r&&(i=r),e(s)&&(!this.features[t]&&n&&(this.features[t]=new n(this)),a&&(o=a))}if(!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:t,layout:e,drag:n,dragConstraints:o,layoutScroll:a,layoutRoot:l}=s;this.projection.setOptions({layoutId:t,layout:e,alwaysMeasureLayout:Boolean(n)||o&&fu(o),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof e?e:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:l})}return o}updateFeatures(){for(const t in this.features){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):cm()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}makeTargetAnimatable(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(t,this.props,e)}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<nv.length;n++){const e=nv[n];this.propEventSubscriptions[e]&&(this.propEventSubscriptions[e](),delete this.propEventSubscriptions[e]);const r=t["on"+e];r&&(this.propEventSubscriptions[e]=this.on(e,r))}this.prevMotionValues=function(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],a=n[i];if(Du(o))t.addValue(i,o),pp(r)&&r.add(i);else if(Du(a))t.addValue(i,xp(o,{owner:t})),pp(r)&&r.remove(i);else if(a!==o)if(t.hasValue(i)){const e=t.getValue(i);!e.hasAnimated&&e.set(o)}else{const e=t.getStaticValue(i);t.addValue(i,xp(void 0!==e?e:o,{owner:t}))}}for(const i in n)void 0===e[i]&&t.removeValue(i);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const t=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(t.initial=this.props.initial),t}const t={};for(let e=0;e<rv;e++){const n=vu[e],r=this.props[n];(pu(r)||!1===r)&&(t[n]=r)}return t}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){e!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,e)),this.values.set(t,e),this.latestValues[t]=e.get()}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=xp(e,{owner:this}),this.addValue(t,n)),n}readValue(t){var e;return void 0===this.latestValues[t]&&this.current?null!==(e=this.getBaseTargetFromProps(this.props,t))&&void 0!==e?e:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t]}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(e=Oh(this.props,n))||void 0===e?void 0:e[t]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,t);return void 0===i||Du(i)?void 0!==this.initialValues[t]&&void 0===r?void 0:this.baseTarget[t]:i}on(t,e){return this.events[t]||(this.events[t]=new yp),this.events[t].add(e)}notify(t){if(this.events[t]){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.events[t].notify(...n)}}}class ov extends iv{sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,e){let{vars:n,style:r}=e;delete n[t],delete r[t]}makeTargetAnimatableFromInstance(t,e,n){let{transition:r,transitionEnd:i,...o}=t,{transformValues:a}=e,s=function(t,e,n){const r={};for(const i in t){const t=kp(i,e);if(void 0!==t)r[i]=t;else{const t=n.getValue(i);t&&(r[i]=t.get())}}return r}(o,r||{},this);if(a&&(i&&(i=a(i)),o&&(o=a(o)),s&&(s=a(s))),n){!function(t,e,n){var r,i;const o=Object.keys(e).filter((e=>!t.hasValue(e))),a=o.length;if(a)for(let s=0;s<a;s++){const a=o[s],l=e[a];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[a])&&void 0!==r?r:t.readValue(a))&&void 0!==i?i:e[a]),void 0!==c&&null!==c&&("string"===typeof c&&(mp(c)||up(c))?c=parseFloat(c):!Mp(c)&&mf.test(l)&&(c=cp(a,l)),t.addValue(a,xp(c,{owner:t})),void 0===n[a]&&(n[a]=c),null!==c&&t.setBaseTarget(a,c))}}(this,o,s);const t=$g(this,o,s,i);i=t.transitionEnd,o=t.target}return{transition:r,transitionEnd:i,...o}}}class av extends ov{readValueFromInstance(t,e){if(Lu.has(e)){const t=lp(e);return t&&t.default||0}{const r=(n=t,window.getComputedStyle(n)),i=(zu(e)?r.getPropertyValue(e):r[e])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(t,e){let{transformPagePoint:n}=e;return Am(t,n)}build(t,e,n,r){sh(t,e,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,e){return Ch(t,e)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Du(t)&&(this.childSubscription=t.on("change",(t=>{this.current&&(this.current.textContent="".concat(t))})))}renderInstance(t,e,n,r){Th(t,e,n,r)}}class sv extends ov{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Lu.has(e)){const t=lp(e);return t&&t.default||0}return e=Mh.has(e)?e:Eh(e),t.getAttribute(e)}measureInstanceViewportBox(){return cm()}scrapeMotionValuesFromProps(t,e){return kh(t,e)}build(t,e,n,r){bh(t,e,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,e,n,r){Ah(t,e,0,r)}mount(t){this.isSVGTag=xh(t.tagName),super.mount(t)}}const lv=(t,e)=>Pu(t)?new sv(e,{enableHardwareAcceleration:!1}):new av(e,{enableHardwareAcceleration:!0}),cv={...Bp,...md,...Dg,...{layout:{ProjectionNode:Ig,MeasureLayout:jm}}},uv=ku(((t,e)=>function(t,e,n,r){let{forwardMotionProps:i=!1}=e;return{...Pu(t)?Wh:Gh,preloadedFeatures:n,useRender:Sh(i),createVisualElement:r,Component:t}}(t,e,cv,lv)));var hv=new Set([...In,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),dv=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function fv(t){return dv.has(t)||!hv.has(t)}var pv,mv=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,gv=mt((function(t){return mv.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),vv=function(t){return"theme"!==t},yv=function(t){return"string"===typeof t&&t.charCodeAt(0)>96?gv:vv},bv=function(t,e,n){var r;if(e){var i=e.shouldForwardProp;r=t.__emotion_forwardProp&&i?function(e){return t.__emotion_forwardProp(e)&&i(e)}:i}return"function"!==typeof r&&n&&(r=t.__emotion_forwardProp),r},_v=function(t){var e=t.cache,n=t.serialized,r=t.isStringTag;return Lt(e,n,r),At((function(){return It(e,n,r)})),null},xv=function t(e,n){var r,i,o=e.__emotion_real===e,s=o&&e.__emotion_base||e;void 0!==n&&(r=n.label,i=n.target);var l=bv(e,n,o),c=l||yv(s),u=!c("as");return function(){var h=arguments,d=o&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var f=h.length,p=1;p<f;p++)d.push(h[p],h[0][p])}var m=Ot((function(t,e,n){var r=u&&t.as||s,o="",h=[],f=t;if(null==t.theme){for(var p in f={},t)f[p]=t[p];f.theme=a.useContext(Pt)}"string"===typeof t.className?o=function(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):r+=n+" "})),r}(e.registered,h,t.className):null!=t.className&&(o=t.className+" ");var m=Tt(d.concat(h),e.registered,f);o+=e.key+"-"+m.name,void 0!==i&&(o+=" "+i);var g=u&&void 0===l?yv(r):c,v={};for(var y in t)u&&"as"===y||g(y)&&(v[y]=t[y]);return v.className=o,v.ref=n,a.createElement(a.Fragment,null,a.createElement(_v,{cache:e,serialized:m,isStringTag:"string"===typeof r}),a.createElement(r,v))}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=d,m.__emotion_forwardProp=l,Object.defineProperty(m,"toString",{value:function(){return"."+i}}),m.withComponent=function(e,r){return t(e,dt({},n,r,{shouldForwardProp:bv(m,r,!0)})).apply(void 0,d)},m}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){xv[t]=xv(t)}));var wv=null!=(pv=xv.default)?pv:xv,Sv=t=>{let{baseStyle:e}=t;return t=>{const{theme:n,css:r,__css:i,sx:o,...a}=t,s=Xn(a,((t,e)=>jn(e))),l=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");const e={...t};for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const o of r)if(null!=o)for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&(t in e&&delete e[t],e[t]=o[t]);return e}({},i,Yn(e,t),Kn(s),o),c=Bn(l)(t.theme);return r?[c,r]:c}};function Ev(t,e){const{baseStyle:n,...r}=null!=e?e:{};r.shouldForwardProp||(r.shouldForwardProp=fv);const i=Sv({baseStyle:n}),o=wv(t,r)(i);return a.forwardRef((function(t,e){const{colorMode:n,forced:r}=Qt();return a.createElement(o,{ref:e,"data-theme":r?n:void 0,...t})}))}var Tv=function(){const t=new Map;return new Proxy(Ev,{apply:(t,e,n)=>Ev(...n),get:(e,n)=>(t.has(n)||t.set(n,Ev(n)),t.get(n))})}(),Mv={initial:t=>{const{position:e}=t,n=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return"bottom"===e&&(r=1),{opacity:0,[n]:24*r}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},Av=(0,a.memo)((t=>{const{id:e,message:n,onCloseComplete:r,onRequestRemove:i,requestClose:o=!1,position:s="bottom",duration:l=5e3,containerStyle:c,motionVariants:u=Mv,toastSpacing:h="0.5rem"}=t,[d,f]=(0,a.useState)(l),p=su();iu((()=>{p||null==r||r()}),[p]),iu((()=>{f(l)}),[l]);const m=()=>{p&&i()};(0,a.useEffect)((()=>{p&&o&&i()}),[p,o,i]),function(t,e){const n=ru(t);(0,a.useEffect)((()=>{if(null==e)return;let t=null;return t=window.setTimeout((()=>{n()}),e),()=>{t&&window.clearTimeout(t)}}),[e,n])}(m,d);const g=(0,a.useMemo)((()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:h,...c})),[c,h]),v=(0,a.useMemo)((()=>function(t){let e="center";return t.includes("right")&&(e="flex-end"),t.includes("left")&&(e="flex-start"),{display:"flex",flexDirection:"column",alignItems:e}}(s)),[s]);return(0,Bt.jsx)(uv.div,{layout:!0,className:"chakra-toast",variants:u,initial:"initial",animate:"animate",exit:"exit",onHoverStart:()=>f(null),onHoverEnd:()=>f(l),custom:{position:s},style:v,children:(0,Bt.jsx)(Tv.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:g,children:ee(n,{id:e,onClose:m})})})}));function Cv(t){return(0,a.forwardRef)(t)}function kv(){const t=(0,a.useContext)(Pt);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}Av.displayName="ToastComponent";var Ov=n(77),Pv=n.n(Ov);function Rv(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const{styleConfig:r,...i}=e,{theme:o,colorMode:s}={...Qt(),theme:kv()},l=t?Gn(o,"components.".concat(t)):void 0,c=r||l,u=oe({theme:o,colorMode:s},null!=(n=null==c?void 0:c.defaultProps)?n:{},Kn(function(t,e){const n={};return Object.keys(t).forEach((r=>{e.includes(r)||(n[r]=t[r])})),n}(i,["children"]))),h=(0,a.useRef)({});if(c){const t=function(t){return e=>{var n;const{variant:r,size:i,theme:o}=e,a=qn(o);return oe({},ee(null!=(n=t.baseStyle)?n:{},e),a(t,"sizes",i,e),a(t,"variants",r,e))}}(c),e=t(u);Ov(h.current,e)||(h.current=e)}return h.current}function Nv(t){return Rv(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function Lv(t){return Rv(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}var Iv={path:(0,Bt.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.5",children:[(0,Bt.jsx)("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),(0,Bt.jsx)("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),(0,Bt.jsx)("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Dv=Cv(((t,e)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:o=!1,children:a,className:s,__css:l,...c}=t,u={ref:e,focusable:o,className:Jt("chakra-icon",s),__css:{w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...Nv("Icon",t)}},h=null!=r?r:Iv.viewBox;if(n&&"string"!==typeof n)return(0,Bt.jsx)(Tv.svg,{as:n,...u,...c});const d=null!=a?a:Iv.path;return(0,Bt.jsx)(Tv.svg,{verticalAlign:"middle",viewBox:h,...u,...c,children:d})}));Dv.displayName="Icon";function jv(t){return(0,Bt.jsx)(Dv,{viewBox:"0 0 24 24",...t,children:(0,Bt.jsx)("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var Uv=Ut({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Fv=Cv(((t,e)=>{const n=Nv("Spinner",t),{label:r="Loading...",thickness:i="2px",speed:o="0.45s",emptyColor:a="transparent",className:s,...l}=Wn(t),c=Jt("chakra-spinner",s),u={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:a,borderLeftColor:a,animation:"".concat(Uv," ").concat(o," linear infinite"),...n};return(0,Bt.jsx)(Tv.div,{ref:e,__css:u,className:c,...l,children:r&&(0,Bt.jsx)(Tv.span,{srOnly:!0,children:r})})}));Fv.displayName="Spinner";var[zv,Bv]=Gt({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[Vv,Hv]=Gt({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),qv={info:{icon:function(t){return(0,Bt.jsx)(Dv,{viewBox:"0 0 24 24",...t,children:(0,Bt.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})},colorScheme:"blue"},warning:{icon:jv,colorScheme:"orange"},success:{icon:function(t){return(0,Bt.jsx)(Dv,{viewBox:"0 0 24 24",...t,children:(0,Bt.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})},colorScheme:"green"},error:{icon:jv,colorScheme:"red"},loading:{icon:Fv,colorScheme:"blue"}};var Wv=Cv((function(t,e){var n;const{status:r="info",addRole:i=!0,...o}=Wn(t),a=null!=(n=t.colorScheme)?n:function(t){return qv[t].colorScheme}(r),s=Lv("Alert",{...t,colorScheme:a}),l={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...s.container};return(0,Bt.jsx)(zv,{value:{status:r},children:(0,Bt.jsx)(Vv,{value:s,children:(0,Bt.jsx)(Tv.div,{"data-status":r,role:i?"alert":void 0,ref:e,...o,className:Jt("chakra-alert",t.className),__css:l})})})}));function Gv(t){const{status:e}=Bv(),n=function(t){return qv[t].icon}(e),r=Hv(),i="loading"===e?r.spinner:r.icon;return(0,Bt.jsx)(Tv.span,{display:"inherit","data-status":e,...t,className:Jt("chakra-alert__icon",t.className),__css:i,children:t.children||(0,Bt.jsx)(n,{h:"100%",w:"100%"})})}Wv.displayName="Alert",Gv.displayName="AlertIcon";var Xv=Cv((function(t,e){const n=Hv(),{status:r}=Bv();return(0,Bt.jsx)(Tv.div,{ref:e,"data-status":r,...t,className:Jt("chakra-alert__title",t.className),__css:n.title})}));Xv.displayName="AlertTitle";var Kv=Cv((function(t,e){const n=Hv(),{status:r}=Bv(),i={display:"inline",...n.description};return(0,Bt.jsx)(Tv.div,{ref:e,"data-status":r,...t,className:Jt("chakra-alert__desc",t.className),__css:i})}));function Yv(t){return(0,Bt.jsx)(Dv,{focusable:"false","aria-hidden":!0,...t,children:(0,Bt.jsx)("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}Kv.displayName="AlertDescription";var $v=Cv((function(t,e){const n=Nv("CloseButton",t),{children:r,isDisabled:i,__css:o,...a}=Wn(t);return(0,Bt.jsx)(Tv.button,{type:"button","aria-label":"Close",ref:e,disabled:i,__css:{outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,...n,...o},...a,children:r||(0,Bt.jsx)(Yv,{width:"1em",height:"1em"})})}));$v.displayName="CloseButton";var Qv=function(t){let e=t;const n=new Set,r=t=>{e=t(e),n.forEach((t=>t()))};return{getState:()=>e,subscribe:e=>(n.add(e),()=>{r((()=>t)),n.delete(e)}),removeToast:(t,e)=>{r((n=>({...n,[e]:n[e].filter((e=>e.id!=t))})))},notify:(t,e)=>{const n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;Zv+=1;const i=null!=(n=e.id)?n:Zv,o=null!=(r=e.position)?r:"bottom";return{id:i,message:t,position:o,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>Qv.removeToast(String(i),o),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}(t,e),{position:i,id:o}=n;return r((t=>{var e,r;const o=i.includes("top")?[n,...null!=(e=t[i])?e:[]]:[...null!=(r=t[i])?r:[],n];return{...t,[i]:o}})),o},update:(t,e)=>{t&&r((n=>{const r={...n},{position:i,index:o}=tu(r,t);return i&&-1!==o&&(r[i][o]={...r[i][o],...e,message:ty(e)}),r}))},closeAll:function(){let{positions:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r((e=>(null!=t?t:["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce(((t,n)=>(t[n]=e[n].map((t=>({...t,requestClose:!0}))),t)),{...e})))},close:t=>{r((e=>{const n=eu(e,t);return n?{...e,[n]:e[n].map((e=>e.id==t?{...e,requestClose:!0}:e))}:e}))},isActive:t=>Boolean(tu(Qv.getState(),t).position)}}({top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]});var Zv=0;var Jv=t=>{const{status:e,variant:n="solid",id:r,title:i,isClosable:o,onClose:a,description:s,colorScheme:l,icon:c}=t,u=r?{root:"toast-".concat(r),title:"toast-".concat(r,"-title"),description:"toast-".concat(r,"-description")}:void 0;return(0,Bt.jsxs)(Wv,{addRole:!1,status:e,variant:n,id:null==u?void 0:u.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[(0,Bt.jsx)(Gv,{children:c}),(0,Bt.jsxs)(Tv.div,{flex:"1",maxWidth:"100%",children:[i&&(0,Bt.jsx)(Xv,{id:null==u?void 0:u.title,children:i}),s&&(0,Bt.jsx)(Kv,{id:null==u?void 0:u.description,display:"block",children:s})]}),o&&(0,Bt.jsx)($v,{size:"sm",onClick:a,position:"absolute",insetEnd:1,top:1})]})};function ty(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{render:e,toastComponent:n=Jv}=t;return r=>"function"===typeof e?e({...r,...t}):(0,Bt.jsx)(n,{...r,...t})}function ey(){const t=(0,a.useRef)(!1);return hu((()=>(t.current=!0,()=>{t.current=!1})),[]),t}class ny extends a.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const t=this.props.sizeRef.current;t.height=e.offsetHeight||0,t.width=e.offsetWidth||0,t.top=e.offsetTop,t.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ry(t){let{children:e,isPresent:n}=t;const r=(0,a.useId)(),i=(0,a.useRef)(null),o=(0,a.useRef)({width:0,height:0,top:0,left:0});return(0,a.useInsertionEffect)((()=>{const{width:t,height:e,top:a,left:s}=o.current;if(n||!i.current||!t||!e)return;i.current.dataset.motionPopId=r;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(t,"px !important;\n            height: ").concat(e,"px !important;\n            top: ").concat(a,"px !important;\n            left: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}}),[n]),a.createElement(ny,{isPresent:n,childRef:i,sizeRef:o},a.cloneElement(e,{ref:i}))}const iy=t=>{let{children:e,initial:n,isPresent:r,onExitComplete:i,custom:o,presenceAffectsLayout:s,mode:l}=t;const c=Ph(oy),u=(0,a.useId)(),h=(0,a.useMemo)((()=>({id:u,initial:n,isPresent:r,custom:o,onExitComplete:t=>{c.set(t,!0);for(const e of c.values())if(!e)return;i&&i()},register:t=>(c.set(t,!1),()=>c.delete(t))})),s?void 0:[r]);return(0,a.useMemo)((()=>{c.forEach(((t,e)=>c.set(e,!1)))}),[r]),a.useEffect((()=>{!r&&!c.size&&i&&i()}),[r]),"popLayout"===l&&(e=a.createElement(ry,{isPresent:r},e)),a.createElement(ou.Provider,{value:h},e)};function oy(){return new Map}const ay=t=>t.key||"";const sy=t=>{let{children:e,custom:n,initial:r=!0,onExitComplete:i,exitBeforeEnter:o,presenceAffectsLayout:s=!0,mode:l="sync"}=t;_d(!o,"Replace exitBeforeEnter with mode='wait'");const c=(0,a.useContext)(Eu).forceRender||function(){const t=ey(),[e,n]=(0,a.useState)(0),r=(0,a.useCallback)((()=>{t.current&&n(e+1)}),[e]);return[(0,a.useCallback)((()=>Bh.postRender(r)),[r]),e]}()[0],u=ey(),h=function(t){const e=[];return a.Children.forEach(t,(t=>{(0,a.isValidElement)(t)&&e.push(t)})),e}(e);let d=h;const f=(0,a.useRef)(new Map).current,p=(0,a.useRef)(d),m=(0,a.useRef)(new Map).current,g=(0,a.useRef)(!0);var v;if(hu((()=>{g.current=!1,function(t,e){t.forEach((t=>{const n=ay(t);e.set(n,t)}))}(h,m),p.current=d})),v=()=>{g.current=!0,m.clear(),f.clear()},(0,a.useEffect)((()=>()=>v()),[]),g.current)return a.createElement(a.Fragment,null,d.map((t=>a.createElement(iy,{key:ay(t),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:s,mode:l},t))));d=[...d];const y=p.current.map(ay),b=h.map(ay),_=y.length;for(let a=0;a<_;a++){const t=y[a];-1!==b.indexOf(t)||f.has(t)||f.set(t,void 0)}return"wait"===l&&f.size&&(d=[]),f.forEach(((t,e)=>{if(-1!==b.indexOf(e))return;const r=m.get(e);if(!r)return;const o=y.indexOf(e);let g=t;if(!g){const t=()=>{f.delete(e);const t=Array.from(m.keys()).filter((t=>!b.includes(t)));if(t.forEach((t=>m.delete(t))),p.current=h.filter((n=>{const r=ay(n);return r===e||t.includes(r)})),!f.size){if(!1===u.current)return;c(),i&&i()}};g=a.createElement(iy,{key:ay(r),isPresent:!1,onExitComplete:t,custom:n,presenceAffectsLayout:s,mode:l},r),f.set(e,g)}d.splice(o,0,g)})),d=d.map((t=>{const e=t.key;return f.has(e)?t:a.createElement(iy,{key:ay(t),isPresent:!0,presenceAffectsLayout:s,mode:l},t)})),a.createElement(a.Fragment,null,f.size?d:d.map((t=>(0,a.cloneElement)(t))))};var ly=n(4164),cy=n.t(ly,2),[uy,hy]=Gt({strict:!1,name:"PortalContext"}),dy="chakra-portal",fy=t=>(0,Bt.jsx)("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),py=t=>{const{appendToParentPortal:e,children:n}=t,[r,i]=(0,a.useState)(null),o=(0,a.useRef)(null),[,s]=(0,a.useState)({});(0,a.useEffect)((()=>s({})),[]);const l=hy(),c=Kt();sr((()=>{if(!r)return;const t=r.ownerDocument,n=e&&null!=l?l:t.body;if(!n)return;o.current=t.createElement("div"),o.current.className=dy,n.appendChild(o.current),s({});const i=o.current;return()=>{n.contains(i)&&n.removeChild(i)}}),[r]);const u=(null==c?void 0:c.zIndex)?(0,Bt.jsx)(fy,{zIndex:null==c?void 0:c.zIndex,children:n}):n;return o.current?(0,ly.createPortal)((0,Bt.jsx)(uy,{value:o.current,children:u}),o.current):(0,Bt.jsx)("span",{ref:t=>{t&&i(t)}})},my=t=>{const{children:e,containerRef:n,appendToParentPortal:r}=t,i=n.current,o=null!=i?i:"undefined"!==typeof window?document.body:void 0,s=(0,a.useMemo)((()=>{const t=null==i?void 0:i.ownerDocument.createElement("div");return t&&(t.className=dy),t}),[i]),[,l]=(0,a.useState)({});return sr((()=>l({})),[]),sr((()=>{if(s&&o)return o.appendChild(s),()=>{o.removeChild(s)}}),[s,o]),o&&s?(0,ly.createPortal)((0,Bt.jsx)(uy,{value:r?s:null,children:e}),s):null};function gy(t){const e={appendToParentPortal:!0,...t},{containerRef:n,...r}=e;return n?(0,Bt.jsx)(my,{containerRef:n,...r}):(0,Bt.jsx)(py,{...r})}gy.className=dy,gy.selector=".chakra-portal",gy.displayName="Portal";var[vy,yy]=Gt({name:"ToastOptionsContext",strict:!1}),by=t=>{const e=(0,a.useSyncExternalStore)(Qv.subscribe,Qv.getState,Qv.getState),{motionVariants:n,component:r=Av,portalProps:i}=t,o=Object.keys(e).map((t=>{const i=e[t];return(0,Bt.jsx)("div",{role:"region","aria-live":"polite","aria-label":"Notifications-".concat(t),id:"chakra-toast-manager-".concat(t),style:nu(t),children:(0,Bt.jsx)(sy,{initial:!1,children:i.map((t=>(0,Bt.jsx)(r,{motionVariants:n,...t},t.id)))})},t)}));return(0,Bt.jsx)(gy,{...i,children:o})},_y=t=>function(e){let{children:n,theme:r=t,toastOptions:i,...o}=e;return(0,Bt.jsxs)(fr,{theme:r,...o,children:[(0,Bt.jsx)(vy,{value:null==i?void 0:i.defaultOptions,children:n}),(0,Bt.jsx)(by,{...i})]})},xy=_y(Qc),wy=(_y(Zc),["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"]);function Sy(t){return"function"===typeof t}var Ey=t=>function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];let i=[...n],o=n[n.length-1];return function(t){return!!te(t)&&wy.every((e=>Object.prototype.hasOwnProperty.call(t,e)))}(o)&&i.length>1?i=i.slice(0,i.length-1):o=t,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>e.reduce(((t,e)=>e(t)),t)}(...i.map((t=>e=>Sy(t)?t(e):function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return oe({},...e,My)}(e,t))))(o)},Ty=Ey(Qc);Ey(Zc);function My(t,e,n,r){if((Sy(t)||Sy(e))&&Object.prototype.hasOwnProperty.call(r,n))return function(){const n=Sy(t)?t(...arguments):t,r=Sy(e)?e(...arguments):e;return oe({},n,r,My)}}var Ay,Cy=new Set(["dark","light","system"]);function ky(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initialColorMode:e="light",type:n="localStorage",storageKey:r="chakra-ui-color-mode"}=t,i=function(t){let e=t;return Cy.has(e)||(e="light"),e}(e),o="cookie"===n,a='(function(){try{var a=function(o){var l="(prefers-color-scheme: dark)",v=window.matchMedia(l).matches?"dark":"light",e=o==="system"?v:o,d=document.documentElement,m=document.body,i="chakra-ui-light",n="chakra-ui-dark",s=e==="dark";return m.classList.add(s?n:i),m.classList.remove(s?i:n),d.style.colorScheme=e,d.dataset.theme=e,e},u=a,h="'.concat(i,'",r="').concat(r,'",t=document.cookie.match(new RegExp("(^| )".concat(r,"=([^;]+)"))),c=t?t[2]:null;c?a(c):document.cookie="".concat(r,"=").concat(a(h),"; max-age=31536000; path=/")}catch(a){}})();\n  '),s='(function(){try{var a=function(c){var v="(prefers-color-scheme: dark)",h=window.matchMedia(v).matches?"dark":"light",r=c==="system"?h:c,o=document.documentElement,s=document.body,l="chakra-ui-light",d="chakra-ui-dark",i=r==="dark";return s.classList.add(i?d:l),s.classList.remove(i?l:d),o.style.colorScheme=r,o.dataset.theme=r,r},n=a,m="'.concat(i,'",e="').concat(r,'",t=localStorage.getItem(e);t?a(t):localStorage.setItem(e,a(m))}catch(a){}})();\n  ');return"!".concat(o?a:s).trim()}function Oy(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{nonce:e}=t;return(0,Bt.jsx)("script",{id:"chakra-script",nonce:e,dangerouslySetInnerHTML:{__html:ky(t)}})}function Py(){return Py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Py.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(Ay||(Ay={}));const Ry="popstate";function Ny(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function Ly(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function Iy(t,e){return{usr:t.state,key:t.key,idx:e}}function Dy(t,e,n,r){return void 0===n&&(n=null),Py({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?Uy(e):e,{state:n,key:e&&e.key||r||Math.random().toString(36).substr(2,8)})}function jy(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function Uy(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Fy(t,e,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Ay.Pop,l=null,c=u();function u(){return(a.state||{idx:null}).idx}function h(){s=Ay.Pop;let t=u(),e=null==t?null:t-c;c=t,l&&l({action:s,location:f.location,delta:e})}function d(t){let e="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof t?t:jy(t);return Ny(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==c&&(c=0,a.replaceState(Py({},a.state,{idx:c}),""));let f={get action(){return s},get location(){return t(i,a)},listen(t){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ry,h),l=t,()=>{i.removeEventListener(Ry,h),l=null}},createHref:t=>e(i,t),createURL:d,encodeLocation(t){let e=d(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){s=Ay.Push;let r=Dy(f.location,t,e);n&&n(r,t),c=u()+1;let h=Iy(r,c),d=f.createHref(r);try{a.pushState(h,"",d)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(d)}o&&l&&l({action:s,location:f.location,delta:1})},replace:function(t,e){s=Ay.Replace;let r=Dy(f.location,t,e);n&&n(r,t),c=u();let i=Iy(r,c),h=f.createHref(r);a.replaceState(i,"",h),o&&l&&l({action:s,location:f.location,delta:0})},go:t=>a.go(t)};return f}var zy;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(zy||(zy={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function By(t,e,n){void 0===n&&(n="/");let r=eb(("string"===typeof e?Uy(e):e).pathname||"/",n);if(null==r)return null;let i=Vy(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a)o=Zy(i[a],tb(r));return o}function Vy(t,e,n,r){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(t,i,o)=>{let a={relativePath:void 0===o?t.path||"":o,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};a.relativePath.startsWith("/")&&(Ny(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=ob([r,a.relativePath]),l=n.concat(a);t.children&&t.children.length>0&&(Ny(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),Vy(t.children,e,l,s)),(null!=t.path||t.index)&&e.push({path:s,score:Qy(s,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let r of Hy(t.path))i(t,e,r);else i(t,e)})),e}function Hy(t){let e=t.split("/");if(0===e.length)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=Hy(r.join("/")),s=[];return s.push(...a.map((t=>""===t?o:[o,t].join("/")))),i&&s.push(...a),s.map((e=>t.startsWith("/")&&""===e?"/":e))}const qy=/^:\w+$/,Wy=3,Gy=2,Xy=1,Ky=10,Yy=-2,$y=t=>"*"===t;function Qy(t,e){let n=t.split("/"),r=n.length;return n.some($y)&&(r+=Yy),e&&(r+=Gy),n.filter((t=>!$y(t))).reduce(((t,e)=>t+(qy.test(e)?Wy:""===e?Xy:Ky)),r)}function Zy(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let a=0;a<n.length;++a){let t=n[a],s=a===n.length-1,l="/"===i?e:e.slice(i.length)||"/",c=Jy({path:t.relativePath,caseSensitive:t.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=t.route;o.push({params:r,pathname:ob([i,c.pathname]),pathnameBase:ab(ob([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=ob([i,c.pathnameBase]))}return o}function Jy(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);Ly("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((t,e,n)=>(r.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(r.push({paramName:"*"}),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,e?void 0:"i");return[o,r]}(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce(((t,e,n)=>{let{paramName:r,isOptional:i}=e;if("*"===r){let t=s[n]||"";a=o.slice(0,o.length-t.length).replace(/(.)\/+$/,"$1")}const l=s[n];return t[r]=i&&!l?void 0:function(t,e){try{return decodeURIComponent(t)}catch(n){return Ly(!1,'The value for the URL param "'+e+'" will not be decoded because the string "'+t+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),t}}(l||"",r),t}),{});return{params:l,pathname:o,pathnameBase:a,pattern:t}}function tb(t){try{return decodeURI(t)}catch(e){return Ly(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function eb(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&"/"!==r?null:t.slice(n)||"/"}function nb(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function rb(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function ib(t,e,n,r){let i;void 0===r&&(r=!1),"string"===typeof t?i=Uy(t):(i=Py({},t),Ny(!i.pathname||!i.pathname.includes("?"),nb("?","pathname","search",i)),Ny(!i.pathname||!i.pathname.includes("#"),nb("#","pathname","hash",i)),Ny(!i.search||!i.search.includes("#"),nb("#","search","hash",i)));let o,a=""===t||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else if(r){let t=e[e.length-1].replace(/^\//,"").split("/");if(s.startsWith("..")){let e=s.split("/");for(;".."===e[0];)e.shift(),t.pop();i.pathname=e.join("/")}o="/"+t.join("/")}else{let t=e.length-1;if(s.startsWith("..")){let e=s.split("/");for(;".."===e[0];)e.shift(),t-=1;i.pathname=e.join("/")}o=t>=0?e[t]:"/"}let l=function(t,e){void 0===e&&(e="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof t?Uy(t):t,o=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:o,search:sb(r),hash:lb(i)}}(i,o),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const ob=t=>t.join("/").replace(/\/\/+/g,"/"),ab=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sb=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",lb=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;function cb(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const ub=["post","put","patch","delete"],hb=(new Set(ub),["get",...ub]);new Set(hb),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},db.apply(this,arguments)}const fb=a.createContext(null);const pb=a.createContext(null);const mb=a.createContext(null);const gb=a.createContext(null);const vb=a.createContext({outlet:null,matches:[],isDataRoute:!1});const yb=a.createContext(null);function bb(){return null!=a.useContext(gb)}function _b(){return bb()||Ny(!1),a.useContext(gb).location}function xb(t){a.useContext(mb).static||a.useLayoutEffect(t)}function wb(){let{isDataRoute:t}=a.useContext(vb);return t?function(){let{router:t}=Pb(kb.UseNavigateStable),e=Nb(Ob.UseNavigateStable),n=a.useRef(!1);xb((()=>{n.current=!0}));let r=a.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?t.navigate(r):t.navigate(r,db({fromRouteId:e},i)))}),[t,e]);return r}():function(){bb()||Ny(!1);let t=a.useContext(fb),{basename:e,navigator:n}=a.useContext(mb),{matches:r}=a.useContext(vb),{pathname:i}=_b(),o=JSON.stringify(rb(r).map((t=>t.pathnameBase))),s=a.useRef(!1);xb((()=>{s.current=!0}));let l=a.useCallback((function(r,a){if(void 0===a&&(a={}),!s.current)return;if("number"===typeof r)return void n.go(r);let l=ib(r,JSON.parse(o),i,"path"===a.relative);null==t&&"/"!==e&&(l.pathname="/"===l.pathname?e:ob([e,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)}),[e,n,o,i,t]);return l}()}function Sb(t,e,n){bb()||Ny(!1);let{navigator:r}=a.useContext(mb),{matches:i}=a.useContext(vb),o=i[i.length-1],s=o?o.params:{},l=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let c,u=_b();if(e){var h;let t="string"===typeof e?Uy(e):e;"/"===l||(null==(h=t.pathname)?void 0:h.startsWith(l))||Ny(!1),c=t}else c=u;let d=c.pathname||"/",f=By(t,{pathname:"/"===l?d:d.slice(l.length)||"/"});let p=Cb(f&&f.map((t=>Object.assign({},t,{params:Object.assign({},s,t.params),pathname:ob([l,r.encodeLocation?r.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?l:ob([l,r.encodeLocation?r.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),i,n);return e&&p?a.createElement(gb.Provider,{value:{location:db({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ay.Pop}},p):p}function Eb(){let t=function(){var t;let e=a.useContext(yb),n=Rb(Ob.UseRouteError),r=Nb(Ob.UseRouteError);if(e)return e;return null==(t=n.errors)?void 0:t[r]}(),e=cb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},e),n?a.createElement("pre",{style:i},n):null,null)}const Tb=a.createElement(Eb,null);class Mb extends a.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error?a.createElement(vb.Provider,{value:this.props.routeContext},a.createElement(yb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ab(t){let{routeContext:e,match:n,children:r}=t,i=a.useContext(fb);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(vb.Provider,{value:e},r)}function Cb(t,e,n){var r;if(void 0===e&&(e=[]),void 0===n&&(n=null),null==t){var i;if(null==(i=n)||!i.errors)return null;t=n.matches}let o=t,s=null==(r=n)?void 0:r.errors;if(null!=s){let t=o.findIndex((t=>t.route.id&&(null==s?void 0:s[t.route.id])));t>=0||Ny(!1),o=o.slice(0,Math.min(o.length,t+1))}return o.reduceRight(((t,r,i)=>{let l=r.route.id?null==s?void 0:s[r.route.id]:null,c=null;n&&(c=r.route.errorElement||Tb);let u=e.concat(o.slice(0,i+1)),h=()=>{let e;return e=l?c:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:t,a.createElement(Ab,{match:r,routeContext:{outlet:t,matches:u,isDataRoute:null!=n},children:e})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?a.createElement(Mb,{location:n.location,revalidation:n.revalidation,component:c,error:l,children:h(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):h()}),null)}var kb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kb||{}),Ob=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ob||{});function Pb(t){let e=a.useContext(fb);return e||Ny(!1),e}function Rb(t){let e=a.useContext(pb);return e||Ny(!1),e}function Nb(t){let e=function(t){let e=a.useContext(vb);return e||Ny(!1),e}(),n=e.matches[e.matches.length-1];return n.route.id||Ny(!1),n.route.id}s.startTransition;function Lb(t){Ny(!1)}function Ib(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ay.Pop,navigator:o,static:s=!1}=t;bb()&&Ny(!1);let l=e.replace(/^\/*/,"/"),c=a.useMemo((()=>({basename:l,navigator:o,static:s})),[l,o,s]);"string"===typeof r&&(r=Uy(r));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,m=a.useMemo((()=>{let t=eb(u,l);return null==t?null:{location:{pathname:t,search:h,hash:d,state:f,key:p},navigationType:i}}),[l,u,h,d,f,p,i]);return null==m?null:a.createElement(mb.Provider,{value:c},a.createElement(gb.Provider,{children:n,value:m}))}function Db(t){let{children:e,location:n}=t;return Sb(jb(e),n)}new Promise((()=>{}));a.Component;function jb(t,e){void 0===e&&(e=[]);let n=[];return a.Children.forEach(t,((t,r)=>{if(!a.isValidElement(t))return;let i=[...e,r];if(t.type===a.Fragment)return void n.push.apply(n,jb(t.props.children,i));t.type!==Lb&&Ny(!1),t.props.index&&t.props.children&&Ny(!1);let o={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=jb(t.props.children,i)),n.push(o)})),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);new Map;const Ub=s.startTransition;cy.flushSync;function Fb(t){let{basename:e,children:n,future:r,window:i}=t,o=a.useRef();null==o.current&&(o.current=function(t){return void 0===t&&(t={}),Fy((function(t,e){let{pathname:n,search:r,hash:i}=t.location;return Dy("",{pathname:n,search:r,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:jy(e)}),null,t)}({window:i,v5Compat:!0}));let s=o.current,[l,c]=a.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},h=a.useCallback((t=>{u&&Ub?Ub((()=>c(t))):c(t)}),[c,u]);return a.useLayoutEffect((()=>s.listen(h)),[s,h]),a.createElement(Ib,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:s})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var zb,Bb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(zb||(zb={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(Bb||(Bb={}));var Vb=Tv("div");Vb.displayName="Box";var Hb=Cv((function(t,e){const{size:n,centerContent:r=!0,...i}=t,o=r?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return(0,Bt.jsx)(Vb,{ref:e,boxSize:n,__css:{...o,flexShrink:0,flexGrow:0},...i})}));Hb.displayName="Square";var qb=Cv((function(t,e){const{size:n,...r}=t;return(0,Bt.jsx)(Hb,{size:n,ref:e,borderRadius:"9999px",...r})}));qb.displayName="Circle";var Wb=t=>(0,Bt.jsx)(Tv.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});Wb.displayName="StackItem";Object.freeze(["base","sm","md","lg","xl","2xl"]);var Gb=Cv(((t,e)=>{const{isInline:n,direction:r,align:i,justify:o,spacing:s="0.5rem",wrap:l,children:c,divider:u,className:h,shouldWrapChildren:d,...f}=t,p=n?"row":null!=r?r:"column",m=(0,a.useMemo)((()=>function(t){const{spacing:e,direction:n}=t,r={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":(i=n,o=t=>r[t],Array.isArray(i)?i.map((t=>null===t?null:o(t))):te(i)?Object.keys(i).reduce(((t,e)=>(t[e]=o(i[e]),t)),{}):null!=i?o(i):null)};var i,o}({spacing:s,direction:p})),[s,p]),g=!!u,v=!d&&!g,y=(0,a.useMemo)((()=>{const t=function(t){return a.Children.toArray(t).filter((t=>(0,a.isValidElement)(t)))}(c);return v?t:t.map(((e,n)=>{const r="undefined"!==typeof e.key?e.key:n,i=n+1===t.length,o=d?(0,Bt.jsx)(Wb,{children:e},r):e;if(!g)return o;const s=(0,a.cloneElement)(u,{__css:m}),l=i?null:s;return(0,Bt.jsxs)(a.Fragment,{children:[o,l]},r)}))}),[u,m,g,v,d,c]),b=Jt("chakra-stack",h);return(0,Bt.jsx)(Tv.div,{ref:e,display:"flex",alignItems:i,justifyContent:o,flexDirection:p,flexWrap:l,gap:g?void 0:s,className:b,...f,children:y})}));Gb.displayName="Stack";var Xb=Cv(((t,e)=>(0,Bt.jsx)(Gb,{align:"center",...t,direction:"column",ref:e})));Xb.displayName="VStack";var Kb=Cv(((t,e)=>(0,Bt.jsx)(Gb,{align:"center",...t,direction:"row",ref:e})));Kb.displayName="HStack";var[Yb,$b]=Gt({strict:!1,name:"ButtonGroupContext"});function Qb(t){const{children:e,className:n,...r}=t,i=(0,a.isValidElement)(e)?(0,a.cloneElement)(e,{"aria-hidden":!0,focusable:!1}):e,o=Jt("chakra-button__icon",n);return(0,Bt.jsx)(Tv.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:o,children:i})}function Zb(t){const{label:e,placement:n,spacing:r="0.5rem",children:i=(0,Bt.jsx)(Fv,{color:"currentColor",width:"1em",height:"1em"}),className:o,__css:s,...l}=t,c=Jt("chakra-button__spinner",o),u="start"===n?"marginEnd":"marginStart",h=(0,a.useMemo)((()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[u]:e?r:0,fontSize:"1em",lineHeight:"normal",...s})),[s,e,u,r]);return(0,Bt.jsx)(Tv.div,{className:c,...l,__css:h,children:i})}function Jb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>{e.forEach((e=>{!function(t,e){if(null!=t)if("function"!==typeof t)try{t.current=e}catch(n){throw new Error("Cannot assign value '".concat(e,"' to ref '").concat(t,"'"))}else t(e)}(e,t)}))}}function t_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,a.useMemo)((()=>Jb(...e)),e)}Qb.displayName="ButtonIcon",Zb.displayName="ButtonSpinner";var e_=Cv(((t,e)=>{const n=$b(),r=Nv("Button",{...n,...t}),{isDisabled:i=(null==n?void 0:n.isDisabled),isLoading:o,isActive:s,children:l,leftIcon:c,rightIcon:u,loadingText:h,iconSpacing:d="0.5rem",type:f,spinner:p,spinnerPlacement:m="start",className:g,as:v,...y}=Wn(t),b=(0,a.useMemo)((()=>{const t={...null==r?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:t}}}),[r,n]),{ref:_,type:x}=function(t){const[e,n]=(0,a.useState)(!t),r=(0,a.useCallback)((t=>{t&&n("BUTTON"===t.tagName)}),[]);return{ref:r,type:e?"button":void 0}}(v),w={rightIcon:u,leftIcon:c,iconSpacing:d,children:l};return(0,Bt.jsxs)(Tv.button,{ref:t_(e,_),as:v,type:null!=f?f:x,"data-active":re(s),"data-loading":re(o),__css:b,className:Jt("chakra-button",g),...y,disabled:i||o,children:[o&&"start"===m&&(0,Bt.jsx)(Zb,{className:"chakra-button__spinner--start",label:h,placement:"start",spacing:d,children:p}),o?h||(0,Bt.jsx)(Tv.span,{opacity:0,children:(0,Bt.jsx)(n_,{...w})}):(0,Bt.jsx)(n_,{...w}),o&&"end"===m&&(0,Bt.jsx)(Zb,{className:"chakra-button__spinner--end",label:h,placement:"end",spacing:d,children:p})]})}));function n_(t){const{leftIcon:e,rightIcon:n,children:r,iconSpacing:i}=t;return(0,Bt.jsxs)(Bt.Fragment,{children:[e&&(0,Bt.jsx)(Qb,{marginEnd:i,children:e}),r,n&&(0,Bt.jsx)(Qb,{marginStart:i,children:n})]})}e_.displayName="Button";var r_=n(6770),i_=n.n(r_);function o_(t,e){return function(){return t.apply(e,arguments)}}const{toString:a_}=Object.prototype,{getPrototypeOf:s_}=Object,l_=(c_=Object.create(null),t=>{const e=a_.call(t);return c_[e]||(c_[e]=e.slice(8,-1).toLowerCase())});var c_;const u_=t=>(t=t.toLowerCase(),e=>l_(e)===t),h_=t=>e=>typeof e===t,{isArray:d_}=Array,f_=h_("undefined");const p_=u_("ArrayBuffer");const m_=h_("string"),g_=h_("function"),v_=h_("number"),y_=t=>null!==t&&"object"===typeof t,b_=t=>{if("object"!==l_(t))return!1;const e=s_(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},__=u_("Date"),x_=u_("File"),w_=u_("Blob"),S_=u_("FileList"),E_=u_("URLSearchParams");function T_(t,e){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),d_(t))for(n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else{const r=i?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(n=0;n<o;n++)a=r[n],e.call(null,t[a],a,t)}}function M_(t,e){e=e.toLowerCase();const n=Object.keys(t);let r,i=n.length;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const A_="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,C_=t=>!f_(t)&&t!==A_;const k_=(O_="undefined"!==typeof Uint8Array&&s_(Uint8Array),t=>O_&&t instanceof O_);var O_;const P_=u_("HTMLFormElement"),R_=(t=>{let{hasOwnProperty:e}=t;return(t,n)=>e.call(t,n)})(Object.prototype),N_=u_("RegExp"),L_=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};T_(n,((n,i)=>{let o;!1!==(o=e(n,i,t))&&(r[i]=o||n)})),Object.defineProperties(t,r)},I_="abcdefghijklmnopqrstuvwxyz",D_="0123456789",j_={DIGIT:D_,ALPHA:I_,ALPHA_DIGIT:I_+I_.toUpperCase()+D_};const U_=u_("AsyncFunction"),F_={isArray:d_,isArrayBuffer:p_,isBuffer:function(t){return null!==t&&!f_(t)&&null!==t.constructor&&!f_(t.constructor)&&g_(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||g_(t.append)&&("formdata"===(e=l_(t))||"object"===e&&g_(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&p_(t.buffer),e},isString:m_,isNumber:v_,isBoolean:t=>!0===t||!1===t,isObject:y_,isPlainObject:b_,isUndefined:f_,isDate:__,isFile:x_,isBlob:w_,isRegExp:N_,isFunction:g_,isStream:t=>y_(t)&&g_(t.pipe),isURLSearchParams:E_,isTypedArray:k_,isFileList:S_,forEach:T_,merge:function t(){const{caseless:e}=C_(this)&&this||{},n={},r=(r,i)=>{const o=e&&M_(n,i)||i;b_(n[o])&&b_(r)?n[o]=t(n[o],r):b_(r)?n[o]=t({},r):d_(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&T_(arguments[i],r);return n},extend:function(t,e,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return T_(e,((e,r)=>{n&&g_(e)?t[r]=o_(e,n):t[r]=e}),{allOwnKeys:r}),t},trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,r)=>{let i,o,a;const s={};if(e=e||{},null==t)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],r&&!r(a,t,e)||s[a]||(e[a]=t[a],s[a]=!0);t=!1!==n&&s_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:l_,kindOfTest:u_,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},toArray:t=>{if(!t)return null;if(d_(t))return t;let e=t.length;if(!v_(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=n.next())&&!r.done;){const n=r.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const r=[];for(;null!==(n=t.exec(e));)r.push(n);return r},isHTMLForm:P_,hasOwnProperty:R_,hasOwnProp:R_,reduceDescriptors:L_,freezeMethods:t=>{L_(t,((e,n)=>{if(g_(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];g_(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},r=t=>{t.forEach((t=>{n[t]=!0}))};return d_(t)?r(t):r(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:M_,global:A_,isContextDefined:C_,ALPHABET:j_,generateString:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j_.ALPHA_DIGIT,n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n},isSpecCompliantForm:function(t){return!!(t&&g_(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,r)=>{if(y_(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[r]=t;const i=d_(t)?[]:{};return T_(t,((t,e)=>{const o=n(t,r+1);!f_(o)&&(i[e]=o)})),e[r]=void 0,i}}return t};return n(t,0)},isAsyncFn:U_,isThenable:t=>t&&(y_(t)||g_(t))&&g_(t.then)&&g_(t.catch)};function z_(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}F_.inherits(z_,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F_.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const B_=z_.prototype,V_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{V_[t]={value:t}})),Object.defineProperties(z_,V_),Object.defineProperty(B_,"isAxiosError",{value:!0}),z_.from=(t,e,n,r,i,o)=>{const a=Object.create(B_);return F_.toFlatObject(t,a,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),z_.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};const H_=z_;function q_(t){return F_.isPlainObject(t)||F_.isArray(t)}function W_(t){return F_.endsWith(t,"[]")?t.slice(0,-2):t}function G_(t,e,n){return t?t.concat(e).map((function(t,e){return t=W_(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const X_=F_.toFlatObject(F_,{},null,(function(t){return/^is[A-Z]/.test(t)}));const K_=function(t,e,n){if(!F_.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const r=(n=F_.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!F_.isUndefined(e[t])}))).metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&F_.isSpecCompliantForm(e);if(!F_.isFunction(i))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(F_.isDate(t))return t.toISOString();if(!s&&F_.isBlob(t))throw new H_("Blob is not supported. Use a Buffer instead.");return F_.isArrayBuffer(t)||F_.isTypedArray(t)?s&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,n,i){let s=t;if(t&&!i&&"object"===typeof t)if(F_.endsWith(n,"{}"))n=r?n:n.slice(0,-2),t=JSON.stringify(t);else if(F_.isArray(t)&&function(t){return F_.isArray(t)&&!t.some(q_)}(t)||(F_.isFileList(t)||F_.endsWith(n,"[]"))&&(s=F_.toArray(t)))return n=W_(n),s.forEach((function(t,r){!F_.isUndefined(t)&&null!==t&&e.append(!0===a?G_([n],r,o):null===a?n:n+"[]",l(t))})),!1;return!!q_(t)||(e.append(G_(i,n,o),l(t)),!1)}const u=[],h=Object.assign(X_,{defaultVisitor:c,convertValue:l,isVisitable:q_});if(!F_.isObject(t))throw new TypeError("data must be an object");return function t(n,r){if(!F_.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),F_.forEach(n,(function(n,o){!0===(!(F_.isUndefined(n)||null===n)&&i.call(e,n,F_.isString(o)?o.trim():o,r,h))&&t(n,r?r.concat(o):[o])})),u.pop()}}(t),e};function Y_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function $_(t,e){this._pairs=[],t&&K_(t,this,e)}const Q_=$_.prototype;Q_.append=function(t,e){this._pairs.push([t,e])},Q_.toString=function(t){const e=t?function(e){return t.call(this,e,Y_)}:Y_;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const Z_=$_;function J_(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tx(t,e,n){if(!e)return t;const r=n&&n.encode||J_,i=n&&n.serialize;let o;if(o=i?i(e,n):F_.isURLSearchParams(e)?e.toString():new Z_(e,n).toString(r),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}const ex=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){F_.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},nx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rx={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Z_,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ix="undefined"!==typeof window&&"undefined"!==typeof document,ox=(ax="undefined"!==typeof navigator&&navigator.product,ix&&["ReactNative","NativeScript","NS"].indexOf(ax)<0);var ax;const sx="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,lx={...t,...rx};const cx=function(t){function e(t,n,r,i){let o=t[i++];const a=Number.isFinite(+o),s=i>=t.length;if(o=!o&&F_.isArray(r)?r.length:o,s)return F_.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&F_.isObject(r[o])||(r[o]=[]);return e(t,n,r[o],i)&&F_.isArray(r[o])&&(r[o]=function(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}(r[o])),!a}if(F_.isFormData(t)&&F_.isFunction(t.entries)){const n={};return F_.forEachEntry(t,((t,r)=>{e(function(t){return F_.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),r,n,0)})),n}return null};const ux={transitional:nx,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,i=F_.isObject(t);i&&F_.isHTMLForm(t)&&(t=new FormData(t));if(F_.isFormData(t))return r&&r?JSON.stringify(cx(t)):t;if(F_.isArrayBuffer(t)||F_.isBuffer(t)||F_.isStream(t)||F_.isFile(t)||F_.isBlob(t))return t;if(F_.isArrayBufferView(t))return t.buffer;if(F_.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return K_(t,new lx.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return lx.isNode&&F_.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((o=F_.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return K_(o?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||r?(e.setContentType("application/json",!1),function(t,e,n){if(F_.isString(t))try{return(e||JSON.parse)(t),F_.trim(t)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||ux.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(t&&F_.isString(t)&&(n&&!this.responseType||r)){const n=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(i){if(n){if("SyntaxError"===i.name)throw H_.from(i,H_.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lx.classes.FormData,Blob:lx.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F_.forEach(["delete","get","head","post","put","patch"],(t=>{ux.headers[t]={}}));const hx=ux,dx=F_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fx=Symbol("internals");function px(t){return t&&String(t).trim().toLowerCase()}function mx(t){return!1===t||null==t?t:F_.isArray(t)?t.map(mx):String(t)}function gx(t,e,n,r,i){return F_.isFunction(r)?r.call(this,e,n):(i&&(e=n),F_.isString(e)?F_.isString(r)?-1!==e.indexOf(r):F_.isRegExp(r)?r.test(e):void 0:void 0)}class vx{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function i(t,e,n){const i=px(e);if(!i)throw new Error("header name must be a non-empty string");const o=F_.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||e]=mx(t))}const o=(t,e)=>F_.forEach(t,((t,n)=>i(t,n,e)));return F_.isPlainObject(t)||t instanceof this.constructor?o(t,e):F_.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?o((t=>{const e={};let n,r,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),n=t.substring(0,i).trim().toLowerCase(),r=t.substring(i+1).trim(),!n||e[n]&&dx[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)})),e})(t),e):null!=t&&i(e,t,n),this}get(t,e){if(t=px(t)){const n=F_.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}(t);if(F_.isFunction(e))return e.call(this,t,n);if(F_.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=px(t)){const n=F_.findKey(this,t);return!(!n||void 0===this[n]||e&&!gx(0,this[n],n,e))}return!1}delete(t,e){const n=this;let r=!1;function i(t){if(t=px(t)){const i=F_.findKey(n,t);!i||e&&!gx(0,n[i],i,e)||(delete n[i],r=!0)}}return F_.isArray(t)?t.forEach(i):i(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;for(;n--;){const i=e[n];t&&!gx(0,this[i],i,t,!0)||(delete this[i],r=!0)}return r}normalize(t){const e=this,n={};return F_.forEach(this,((r,i)=>{const o=F_.findKey(n,i);if(o)return e[o]=mx(r),void delete e[i];const a=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete e[i],e[a]=mx(r),n[a]=!0})),this}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.constructor.concat(this,...e)}toJSON(t){const e=Object.create(null);return F_.forEach(this,((n,r)=>{null!=n&&!1!==n&&(e[r]=t&&F_.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((t=>{let[e,n]=t;return e+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t){const e=new this(t);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((t=>e.set(t))),e}static accessor(t){const e=(this[fx]=this[fx]={accessors:{}}).accessors,n=this.prototype;function r(t){const r=px(t);e[r]||(!function(t,e){const n=F_.toCamelCase(" "+e);["get","set","has"].forEach((r=>{Object.defineProperty(t,r+n,{value:function(t,n,i){return this[r].call(this,e,t,n,i)},configurable:!0})}))}(n,t),e[r]=!0)}return F_.isArray(t)?t.forEach(r):r(t),this}}vx.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),F_.reduceDescriptors(vx.prototype,((t,e)=>{let{value:n}=t,r=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(t){this[r]=t}}})),F_.freezeMethods(vx);const yx=vx;function bx(t,e){const n=this||hx,r=e||n,i=yx.from(r.headers);let o=r.data;return F_.forEach(t,(function(t){o=t.call(n,o,i.normalize(),e?e.status:void 0)})),i.normalize(),o}function _x(t){return!(!t||!t.__CANCEL__)}function xx(t,e,n){H_.call(this,null==t?"canceled":t,H_.ERR_CANCELED,e,n),this.name="CanceledError"}F_.inherits(xx,H_,{__CANCEL__:!0});const wx=xx;const Sx=lx.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const a=[t+"="+encodeURIComponent(e)];F_.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),F_.isString(r)&&a.push("path="+r),F_.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ex(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const Tx=lx.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function r(n){let r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=r(window.location.href),function(t){const e=F_.isString(t)?r(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0};const Mx=function(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i,o=0,a=0;return e=void 0!==e?e:1e3,function(s){const l=Date.now(),c=r[a];i||(i=l),n[o]=s,r[o]=l;let u=a,h=0;for(;u!==o;)h+=n[u++],u%=t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),l-i<e)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};function Ax(t,e){let n=0;const r=Mx(50,250);return i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,s=o-n,l=r(s);n=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const Cx="undefined"!==typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){let r=t.data;const i=yx.from(t.headers).normalize();let o,a,{responseType:s,withXSRFToken:l}=t;function c(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener("abort",o)}if(F_.isFormData(r))if(lx.hasStandardBrowserEnv||lx.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(a=i.getContentType())){const[t,...e]=a?a.split(";").map((t=>t.trim())).filter(Boolean):[];i.setContentType([t||"multipart/form-data",...e].join("; "))}let u=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(e+":"+n))}const h=Ex(t.baseURL,t.url);function d(){if(!u)return;const r=yx.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new H_("Request failed with status code "+n.status,[H_.ERR_BAD_REQUEST,H_.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),c()}),(function(t){n(t),c()}),{data:s&&"text"!==s&&"json"!==s?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:t,request:u}),u=null}if(u.open(t.method.toUpperCase(),tx(h,t.params,t.paramsSerializer),!0),u.timeout=t.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(d)},u.onabort=function(){u&&(n(new H_("Request aborted",H_.ECONNABORTED,t,u)),u=null)},u.onerror=function(){n(new H_("Network Error",H_.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const r=t.transitional||nx;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new H_(e,r.clarifyTimeoutError?H_.ETIMEDOUT:H_.ECONNABORTED,t,u)),u=null},lx.hasStandardBrowserEnv&&(l&&F_.isFunction(l)&&(l=l(t)),l||!1!==l&&Tx(h))){const e=t.xsrfHeaderName&&t.xsrfCookieName&&Sx.read(t.xsrfCookieName);e&&i.set(t.xsrfHeaderName,e)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&F_.forEach(i.toJSON(),(function(t,e){u.setRequestHeader(e,t)})),F_.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),s&&"json"!==s&&(u.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&u.addEventListener("progress",Ax(t.onDownloadProgress,!0)),"function"===typeof t.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",Ax(t.onUploadProgress)),(t.cancelToken||t.signal)&&(o=e=>{u&&(n(!e||e.type?new wx(null,t,u):e),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener("abort",o)));const f=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(h);f&&-1===lx.protocols.indexOf(f)?n(new H_("Unsupported protocol "+f+":",H_.ERR_BAD_REQUEST,t)):u.send(r||null)}))},kx={http:null,xhr:Cx};F_.forEach(kx,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(n){}Object.defineProperty(t,"adapterName",{value:e})}}));const Ox=t=>"- ".concat(t),Px=t=>F_.isFunction(t)||null===t||!1===t,Rx=t=>{t=F_.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){let e;if(n=t[o],r=n,!Px(n)&&(r=kx[(e=String(n)).toLowerCase()],void 0===r))throw new H_("Unknown adapter '".concat(e,"'"));if(r)break;i[e||"#"+o]=r}if(!r){const t=Object.entries(i).map((t=>{let[e,n]=t;return"adapter ".concat(e," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=e?t.length>1?"since :\n"+t.map(Ox).join("\n"):" "+Ox(t[0]):"as no adapter specified";throw new H_("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Nx(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new wx(null,t)}function Lx(t){Nx(t),t.headers=yx.from(t.headers),t.data=bx.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return Rx(t.adapter||hx.adapter)(t).then((function(e){return Nx(t),e.data=bx.call(t,t.transformResponse,e),e.headers=yx.from(e.headers),e}),(function(e){return _x(e)||(Nx(t),e&&e.response&&(e.response.data=bx.call(t,t.transformResponse,e.response),e.response.headers=yx.from(e.response.headers))),Promise.reject(e)}))}const Ix=t=>t instanceof yx?t.toJSON():t;function Dx(t,e){e=e||{};const n={};function r(t,e,n){return F_.isPlainObject(t)&&F_.isPlainObject(e)?F_.merge.call({caseless:n},t,e):F_.isPlainObject(e)?F_.merge({},e):F_.isArray(e)?e.slice():e}function i(t,e,n){return F_.isUndefined(e)?F_.isUndefined(t)?void 0:r(void 0,t,n):r(t,e,n)}function o(t,e){if(!F_.isUndefined(e))return r(void 0,e)}function a(t,e){return F_.isUndefined(e)?F_.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function s(n,i,o){return o in e?r(n,i):o in t?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(t,e)=>i(Ix(t),Ix(e),!0)};return F_.forEach(Object.keys(Object.assign({},t,e)),(function(r){const o=l[r]||i,a=o(t[r],e[r],r);F_.isUndefined(a)&&o!==s||(n[r]=a)})),n}const jx="1.6.2",Ux={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Ux[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const Fx={};Ux.transitional=function(t,e,n){function r(t,e){return"[Axios v1.6.2] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,i,o)=>{if(!1===t)throw new H_(r(i," has been removed"+(e?" in "+e:"")),H_.ERR_DEPRECATED);return e&&!Fx[i]&&(Fx[i]=!0,console.warn(r(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,o)}};const zx={assertOptions:function(t,e,n){if("object"!==typeof t)throw new H_("options must be an object",H_.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],a=e[o];if(a){const e=t[o],n=void 0===e||a(e,o,t);if(!0!==n)throw new H_("option "+o+" must be "+n,H_.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new H_("Unknown option "+o,H_.ERR_BAD_OPTION)}},validators:Ux},Bx=zx.validators;class Vx{constructor(t){this.defaults=t,this.interceptors={request:new ex,response:new ex}}request(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{},e=Dx(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:i}=e;void 0!==n&&zx.assertOptions(n,{silentJSONParsing:Bx.transitional(Bx.boolean),forcedJSONParsing:Bx.transitional(Bx.boolean),clarifyTimeoutError:Bx.transitional(Bx.boolean)},!1),null!=r&&(F_.isFunction(r)?e.paramsSerializer={serialize:r}:zx.assertOptions(r,{encode:Bx.function,serialize:Bx.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=i&&F_.merge(i.common,i[e.method]);i&&F_.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete i[t]})),e.headers=yx.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(s=s&&t.synchronous,a.unshift(t.fulfilled,t.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let u,h=0;if(!s){const t=[Lx.bind(this),void 0];for(t.unshift.apply(t,a),t.push.apply(t,l),u=t.length,c=Promise.resolve(e);h<u;)c=c.then(t[h++],t[h++]);return c}u=a.length;let d=e;for(h=0;h<u;){const t=a[h++],e=a[h++];try{d=t(d)}catch(f){e.call(this,f);break}}try{c=Lx.call(this,d)}catch(f){return Promise.reject(f)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(t){return tx(Ex((t=Dx(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}F_.forEach(["delete","get","head","options"],(function(t){Vx.prototype[t]=function(e,n){return this.request(Dx(n||{},{method:t,url:e,data:(n||{}).data}))}})),F_.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(Dx(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Vx.prototype[t]=e(),Vx.prototype[t+"Form"]=e(!0)}));const Hx=Vx;class qx{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const r=new Promise((t=>{n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t,r,i){n.reason||(n.reason=new wx(t,r,i),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;const e=new qx((function(e){t=e}));return{token:e,cancel:t}}}const Wx=qx;const Gx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gx).forEach((t=>{let[e,n]=t;Gx[n]=e}));const Xx=Gx;const Kx=function t(e){const n=new Hx(e),r=o_(Hx.prototype.request,n);return F_.extend(r,Hx.prototype,n,{allOwnKeys:!0}),F_.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return t(Dx(e,n))},r}(hx);Kx.Axios=Hx,Kx.CanceledError=wx,Kx.CancelToken=Wx,Kx.isCancel=_x,Kx.VERSION=jx,Kx.toFormData=K_,Kx.AxiosError=H_,Kx.Cancel=Kx.CanceledError,Kx.all=function(t){return Promise.all(t)},Kx.spread=function(t){return function(e){return t.apply(null,e)}},Kx.isAxiosError=function(t){return F_.isObject(t)&&!0===t.isAxiosError},Kx.mergeConfig=Dx,Kx.AxiosHeaders=yx,Kx.formToJSON=t=>cx(F_.isHTMLForm(t)?new FormData(t):t),Kx.getAdapter=Rx,Kx.HttpStatusCode=Xx,Kx.default=Kx;const Yx=Kx,$x=Math.sqrt(50),Qx=Math.sqrt(10),Zx=Math.sqrt(2);function Jx(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=$x?10:o>=Qx?5:o>=Zx?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?Jx(t,e,2*n):[s,l,c]}function tw(t,e,n){if(!((n=+n)>0))return[];if((t=+t)===(e=+e))return[t];const r=e<t,[i,o,a]=r?Jx(e,t,n):Jx(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function ew(t,e,n){return Jx(t=+t,e=+e,n=+n)[2]}function nw(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?ew(e,t,n):ew(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function rw(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iw(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ow(t){let e,n,r;function i(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=rw,n=(e,n)=>rw(t(e),n),r=(e,n)=>t(e)-n):(e=t===rw||t===iw?t:aw,n=t,r=t),{left:i,center:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(t,e,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length)-1);return o>n&&r(t[o-1],e)>-r(t[o],e)?o-1:o},right:function(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function aw(){return 0}function sw(t){return null===t?NaN:+t}const lw=ow(rw),cw=lw.right,uw=(lw.left,ow(sw).center,cw);function hw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function dw(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function fw(){}var pw=.7,mw=1/pw,gw="\\s*([+-]?\\d+)\\s*",vw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bw=/^#([0-9a-f]{3,8})$/,_w=new RegExp("^rgb\\(".concat(gw,",").concat(gw,",").concat(gw,"\\)$")),xw=new RegExp("^rgb\\(".concat(yw,",").concat(yw,",").concat(yw,"\\)$")),ww=new RegExp("^rgba\\(".concat(gw,",").concat(gw,",").concat(gw,",").concat(vw,"\\)$")),Sw=new RegExp("^rgba\\(".concat(yw,",").concat(yw,",").concat(yw,",").concat(vw,"\\)$")),Ew=new RegExp("^hsl\\(".concat(vw,",").concat(yw,",").concat(yw,"\\)$")),Tw=new RegExp("^hsla\\(".concat(vw,",").concat(yw,",").concat(yw,",").concat(vw,"\\)$")),Mw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Aw(){return this.rgb().formatHex()}function Cw(){return this.rgb().formatRgb()}function kw(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=bw.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ow(e):3===n?new Nw(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Pw(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Pw(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=_w.exec(t))?new Nw(e[1],e[2],e[3],1):(e=xw.exec(t))?new Nw(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ww.exec(t))?Pw(e[1],e[2],e[3],e[4]):(e=Sw.exec(t))?Pw(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ew.exec(t))?Fw(e[1],e[2]/100,e[3]/100,1):(e=Tw.exec(t))?Fw(e[1],e[2]/100,e[3]/100,e[4]):Mw.hasOwnProperty(t)?Ow(Mw[t]):"transparent"===t?new Nw(NaN,NaN,NaN,0):null}function Ow(t){return new Nw(t>>16&255,t>>8&255,255&t,1)}function Pw(t,e,n,r){return r<=0&&(t=e=n=NaN),new Nw(t,e,n,r)}function Rw(t,e,n,r){return 1===arguments.length?((i=t)instanceof fw||(i=kw(i)),i?new Nw((i=i.rgb()).r,i.g,i.b,i.opacity):new Nw):new Nw(t,e,n,null==r?1:r);var i}function Nw(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Lw(){return"#".concat(Uw(this.r)).concat(Uw(this.g)).concat(Uw(this.b))}function Iw(){const t=Dw(this.opacity);return"".concat(1===t?"rgb(":"rgba(").concat(jw(this.r),", ").concat(jw(this.g),", ").concat(jw(this.b)).concat(1===t?")":", ".concat(t,")"))}function Dw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function jw(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Uw(t){return((t=jw(t))<16?"0":"")+t.toString(16)}function Fw(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bw(t,e,n,r)}function zw(t){if(t instanceof Bw)return new Bw(t.h,t.s,t.l,t.opacity);if(t instanceof fw||(t=kw(t)),!t)return new Bw;if(t instanceof Bw)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Bw(a,s,l,t.opacity)}function Bw(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Vw(t){return(t=(t||0)%360)<0?t+360:t}function Hw(t){return Math.max(0,Math.min(1,t||0))}function qw(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ww(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}hw(fw,kw,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Aw,formatHex:Aw,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return zw(this).formatHsl()},formatRgb:Cw,toString:Cw}),hw(Nw,Rw,dw(fw,{brighter(t){return t=null==t?mw:Math.pow(mw,t),new Nw(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?pw:Math.pow(pw,t),new Nw(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Nw(jw(this.r),jw(this.g),jw(this.b),Dw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Lw,formatHex:Lw,formatHex8:function(){return"#".concat(Uw(this.r)).concat(Uw(this.g)).concat(Uw(this.b)).concat(Uw(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Iw,toString:Iw})),hw(Bw,(function(t,e,n,r){return 1===arguments.length?zw(t):new Bw(t,e,n,null==r?1:r)}),dw(fw,{brighter(t){return t=null==t?mw:Math.pow(mw,t),new Bw(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?pw:Math.pow(pw,t),new Bw(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Nw(qw(t>=240?t-240:t+120,i,r),qw(t,i,r),qw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Bw(Vw(this.h),Hw(this.s),Hw(this.l),Dw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Dw(this.opacity);return"".concat(1===t?"hsl(":"hsla(").concat(Vw(this.h),", ").concat(100*Hw(this.s),"%, ").concat(100*Hw(this.l),"%").concat(1===t?")":", ".concat(t,")"))}}));const Gw=t=>()=>t;function Xw(t,e){return function(n){return t+n*e}}function Kw(t){return 1===(t=+t)?Yw:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Gw(isNaN(e)?n:e)}}function Yw(t,e){var n=e-t;return n?Xw(t,n):Gw(isNaN(t)?e:t)}const $w=function t(e){var n=Kw(e);function r(t,e){var r=n((t=Rw(t)).r,(e=Rw(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Yw(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Qw(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Rw(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}Qw((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Ww((n-r/e)*e,a,i,o,s)}})),Qw((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Ww((n-r/e)*e,i,o,a,s)}}));function Zw(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=aS(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Jw(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function tS(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function eS(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=aS(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var nS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rS=new RegExp(nS.source,"g");function iS(t,e){var n,r,i,o=nS.lastIndex=rS.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=nS.exec(t))&&(r=rS.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:tS(n,r)})),o=rS.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function oS(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function aS(t,e){var n,r=typeof e;return null==e||"boolean"===r?Gw(e):("number"===r?tS:"string"===r?(n=kw(e))?(e=n,$w):iS:e instanceof kw?$w:e instanceof Date?Jw:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?oS:Array.isArray(e)?Zw:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?eS:tS)(t,e)}function sS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function lS(t){return+t}var cS=[0,1];function uS(t){return t}function hS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function dS(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=hS(i,r),o=n(a,o)):(r=hS(r,i),o=n(o,a)),function(t){return o(r(t))}}function fS(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=hS(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=uw(t,e,1,r)-1;return o[n](i[n](e))}}function pS(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mS(){var t,e,n,r,i,o,a=cS,s=cS,l=aS,c=uS;function u(){var t=Math.min(a.length,s.length);return c!==uS&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?fS:dS,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),tS)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,lS),u()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=sS,u()},h.clamp=function(t){return arguments.length?(c=!!t||uS,u()):c!==uS},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function gS(){return mS()(uS,uS)}function vS(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function yS(t,e){switch(arguments.length){case 0:break;case 1:"function"===typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"===typeof e?this.interpolator(e):this.range(e)}return this}var bS,_S=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xS(t){if(!(e=_S.exec(t)))throw new Error("invalid format: "+t);var e;return new wS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function wS(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function SS(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ES(t){return(t=SS(Math.abs(t)))?t[1]:NaN}function TS(t,e){var n=SS(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}xS.prototype=wS.prototype,wS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const MS={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>TS(100*t,e),r:TS,s:function(t,e){var n=SS(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(bS=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+SS(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function AS(t){return t}var CS,kS,OS,PS=Array.prototype.map,RS=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function NS(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?AS:(e=PS.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?AS:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(PS.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"\u2212":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=xS(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,p=t.width,m=t.comma,g=t.precision,v=t.trim,y=t.type;"n"===y?(m=!0,y="g"):MS[y]||(void 0===g&&(g=12),v=!0,y="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===d?o:/[%p]/.test(y)?l:"",x=MS[y],w=/[defgprs%]/.test(y);function S(t){var i,o,l,d=b,S=_;if("c"===y)S=x(t)+S,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),g),v&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),E&&0===+t&&"+"!==h&&(E=!1),d=(E?"("===h?h:c:"-"===h||"("===h?"":h)+d,S=("s"===y?RS[8+bS/3]:"")+S+(E&&"("===h?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){S=(46===l?a+t.slice(i+1):t.slice(i))+S,t=t.slice(0,i);break}}m&&!f&&(t=r(t,1/0));var T=d.length+t.length+S.length,M=T<p?new Array(p-T+1).join(e):"";switch(m&&f&&(t=r(M+t,M.length?p-S.length:1/0),M=""),n){case"<":t=d+t+S+M;break;case"=":t=d+M+t+S;break;case"^":t=M.slice(0,T=M.length>>1)+d+t+S+M.slice(T);break;default:t=M+d+t+S}return s(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return t+""},S}return{format:h,formatPrefix:function(t,e){var n=h(((t=xS(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ES(e)/3))),i=Math.pow(10,-r),o=RS[8+r/3];return function(t){return n(i*t)+o}}}}function LS(t,e,n,r){var i,o=nw(t,e,n);switch((r=xS(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ES(e)/3)))-ES(Math.abs(t)))}(o,a))||(r.precision=i),OS(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ES(e)-ES(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-ES(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return kS(r)}function IS(t){var e=t.domain;return t.ticks=function(t){var n=e();return tw(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return LS(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=ew(l,c,n))===r)return o[a]=l,o[s]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function DS(){var t=gS();return t.copy=function(){return pS(t,DS())},vS.apply(t,arguments),IS(t)}CS=NS({thousands:",",grouping:[3],currency:["$",""]}),kS=CS.format,OS=CS.formatPrefix;var jS=Object.defineProperty,US=(t,e,n)=>(((t,e,n)=>{e in t?jS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!==typeof e?e+"":e,n),n),FS=new class{constructor(){US(this,"modals"),this.modals=new Map}add(t){return this.modals.set(t,this.modals.size+1),this.modals.size}remove(t){this.modals.delete(t)}isTopModal(t){return!!t&&this.modals.get(t)===this.modals.size}};function zS(t,e){const[n,r]=(0,a.useState)(0);return(0,a.useEffect)((()=>{const n=t.current;if(n){if(e){const t=FS.add(n);r(t)}return()=>{FS.remove(n),r(0)}}}),[e,t]),n}var BS=function(t){return"undefined"===typeof document?null:(Array.isArray(t)?t[0]:t).ownerDocument.body},VS=new WeakMap,HS=new WeakMap,qS={},WS=0,GS=function(t){return t&&(t.host||GS(t.parentNode))},XS=function(t,e,n,r){var i=function(t,e){return e.map((function(e){if(t.contains(e))return e;var n=GS(e);return n&&t.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)})).filter((function(t){return Boolean(t)}))}(e,Array.isArray(t)?t:[t]);qS[n]||(qS[n]=new WeakMap);var o=qS[n],a=[],s=new Set,l=new Set(i),c=function(t){t&&!s.has(t)&&(s.add(t),c(t.parentNode))};i.forEach(c);var u=function(t){t&&!l.has(t)&&Array.prototype.forEach.call(t.children,(function(t){if(s.has(t))u(t);else{var e=t.getAttribute(r),i=null!==e&&"false"!==e,l=(VS.get(t)||0)+1,c=(o.get(t)||0)+1;VS.set(t,l),o.set(t,c),a.push(t),1===l&&i&&HS.set(t,!0),1===c&&t.setAttribute(n,"true"),i||t.setAttribute(r,"true")}}))};return u(e),s.clear(),WS++,function(){a.forEach((function(t){var e=VS.get(t)-1,i=o.get(t)-1;VS.set(t,e),o.set(t,i),e||(HS.has(t)||t.removeAttribute(r),HS.delete(t)),i||t.removeAttribute(n)})),--WS||(VS=new WeakMap,VS=new WeakMap,HS=new WeakMap,qS={})}},KS=function(t,e,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||BS(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),XS(r,i,n,"aria-hidden")):function(){return null}};function YS(t){const{isOpen:e,onClose:n,id:r,closeOnOverlayClick:i=!0,closeOnEsc:o=!0,useInert:s=!0,onOverlayClick:l,onEsc:c}=t,u=(0,a.useRef)(null),h=(0,a.useRef)(null),[d,f,p]=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=(0,a.useId)(),o=t||i;return(0,a.useMemo)((()=>n.map((t=>"".concat(t,"-").concat(o)))),[o,n])}(r,"chakra-modal","chakra-modal--header","chakra-modal--body");!function(t,e){const n=t.current;(0,a.useEffect)((()=>{if(t.current&&e)return KS(t.current)}),[e,t,n])}(u,e&&s);const m=zS(u,e),g=(0,a.useRef)(null),v=(0,a.useCallback)((t=>{g.current=t.target}),[]),y=(0,a.useCallback)((t=>{"Escape"===t.key&&(t.stopPropagation(),o&&(null==n||n()),null==c||c())}),[o,n,c]),[b,_]=(0,a.useState)(!1),[x,w]=(0,a.useState)(!1),S=(0,a.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{role:"dialog",...t,ref:Jb(e,u),id:d,tabIndex:-1,"aria-modal":!0,"aria-labelledby":b?f:void 0,"aria-describedby":x?p:void 0,onClick:ie(t.onClick,(t=>t.stopPropagation()))}}),[p,x,d,f,b]),E=(0,a.useCallback)((t=>{t.stopPropagation(),g.current===t.target&&FS.isTopModal(u.current)&&(i&&(null==n||n()),null==l||l())}),[n,i,l]),T=(0,a.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,ref:Jb(e,h),onClick:ie(t.onClick,E),onKeyDown:ie(t.onKeyDown,y),onMouseDown:ie(t.onMouseDown,v)}}),[y,v,E]);return{isOpen:e,onClose:n,headerId:f,bodyId:p,setBodyMounted:w,setHeaderMounted:_,dialogRef:u,overlayRef:h,getDialogProps:S,getDialogContainerProps:T,index:m}}var[$S,QS]=Gt({name:"ModalStylesContext",errorMessage:"useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Modal />\" "}),[ZS,JS]=Gt({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),tE=t=>{const e={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...t},{portalProps:n,children:r,autoFocus:i,trapFocus:o,initialFocusRef:a,finalFocusRef:s,returnFocusOnClose:l,blockScrollOnMount:c,allowPinchZoom:u,preserveScrollBarGap:h,motionPreset:d,lockFocusAcrossFrames:f,onCloseComplete:p}=e,m=Lv("Modal",e),g={...YS(e),autoFocus:i,trapFocus:o,initialFocusRef:a,finalFocusRef:s,returnFocusOnClose:l,blockScrollOnMount:c,allowPinchZoom:u,preserveScrollBarGap:h,motionPreset:d,lockFocusAcrossFrames:f};return(0,Bt.jsx)(ZS,{value:g,children:(0,Bt.jsx)($S,{value:m,children:(0,Bt.jsx)(sy,{onExitComplete:p,children:g.isOpen&&(0,Bt.jsx)(gy,{...n,children:r})})})})};tE.displayName="Modal";var eE={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},nE={position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},rE={position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},iE={position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},oE={position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}};function aE(t){var e;switch(null!=(e=null==t?void 0:t.direction)?e:"right"){case"right":default:return rE;case"left":return nE;case"bottom":return oE;case"top":return iE}}var sE={enter:{duration:.2,ease:eE.easeOut},exit:{duration:.1,ease:eE.easeIn}},lE=(t,e)=>({...t,delay:"number"===typeof e?e:null==e?void 0:e.enter}),cE=(t,e)=>({...t,delay:"number"===typeof e?e:null==e?void 0:e.exit}),uE={enter:function(){let{transition:t,transitionEnd:e,delay:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r;return{opacity:1,transition:null!=(r=null==t?void 0:t.enter)?r:lE(sE.enter,n),transitionEnd:null==e?void 0:e.enter}},exit:function(){let{transition:t,transitionEnd:e,delay:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r;return{opacity:0,transition:null!=(r=null==t?void 0:t.exit)?r:cE(sE.exit,n),transitionEnd:null==e?void 0:e.exit}}},hE={initial:"exit",animate:"enter",exit:"exit",variants:uE},dE=(0,a.forwardRef)((function(t,e){const{unmountOnExit:n,in:r,className:i,transition:o,transitionEnd:a,delay:s,...l}=t,c=r||n?"enter":"exit",u=!n||r&&n,h={transition:o,transitionEnd:a,delay:s};return(0,Bt.jsx)(sy,{custom:h,children:u&&(0,Bt.jsx)(uv.div,{ref:e,className:Jt("chakra-fade",i),custom:h,...hE,animate:c,...l})})}));dE.displayName="Fade";var fE=Tv(uv.div),pE=Cv(((t,e)=>{const{className:n,transition:r,motionProps:i,...o}=t,a=Jt("chakra-modal__overlay",n),s={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...QS().overlay},{motionPreset:l}=JS(),c=i||("none"===l?{}:hE);return(0,Bt.jsx)(fE,{...c,__css:s,ref:e,className:a,...o})}));pE.displayName="ModalOverlay";var mE={initial:t=>{let{offsetX:e,offsetY:n,transition:r,transitionEnd:i,delay:o}=t;var a;return{opacity:0,x:e,y:n,transition:null!=(a=null==r?void 0:r.exit)?a:cE(sE.exit,o),transitionEnd:null==i?void 0:i.exit}},enter:t=>{let{transition:e,transitionEnd:n,delay:r}=t;var i;return{opacity:1,x:0,y:0,transition:null!=(i=null==e?void 0:e.enter)?i:lE(sE.enter,r),transitionEnd:null==n?void 0:n.enter}},exit:t=>{let{offsetY:e,offsetX:n,transition:r,transitionEnd:i,reverse:o,delay:a}=t;var s;const l={x:n,y:e};return{opacity:0,transition:null!=(s=null==r?void 0:r.exit)?s:cE(sE.exit,a),...o?{...l,transitionEnd:null==i?void 0:i.exit}:{transitionEnd:{...l,...null==i?void 0:i.exit}}}}},gE={initial:"initial",animate:"enter",exit:"exit",variants:mE},vE=(0,a.forwardRef)((function(t,e){const{unmountOnExit:n,in:r,reverse:i=!0,className:o,offsetX:a=0,offsetY:s=8,transition:l,transitionEnd:c,delay:u,...h}=t,d=!n||r&&n,f=r||n?"enter":"exit",p={offsetX:a,offsetY:s,reverse:i,transition:l,transitionEnd:c,delay:u};return(0,Bt.jsx)(sy,{custom:p,children:d&&(0,Bt.jsx)(uv.div,{ref:e,className:Jt("chakra-offset-slide",o),custom:p,...gE,animate:f,...h})})}));vE.displayName="SlideFade";var yE={exit:t=>{let{reverse:e,initialScale:n,transition:r,transitionEnd:i,delay:o}=t;var a;return{opacity:0,...e?{scale:n,transitionEnd:null==i?void 0:i.exit}:{transitionEnd:{scale:n,...null==i?void 0:i.exit}},transition:null!=(a=null==r?void 0:r.exit)?a:cE(sE.exit,o)}},enter:t=>{let{transitionEnd:e,transition:n,delay:r}=t;var i;return{opacity:1,scale:1,transition:null!=(i=null==n?void 0:n.enter)?i:lE(sE.enter,r),transitionEnd:null==e?void 0:e.enter}}},bE={initial:"exit",animate:"enter",exit:"exit",variants:yE},_E=(0,a.forwardRef)((function(t,e){const{unmountOnExit:n,in:r,reverse:i=!0,initialScale:o=.95,className:a,transition:s,transitionEnd:l,delay:c,...u}=t,h=!n||r&&n,d=r||n?"enter":"exit",f={initialScale:o,reverse:i,transition:s,transitionEnd:l,delay:c};return(0,Bt.jsx)(sy,{custom:f,children:h&&(0,Bt.jsx)(uv.div,{ref:e,className:Jt("chakra-offset-slide",a),...bE,animate:d,custom:f,...u})})}));_E.displayName="ScaleFade";var xE={slideInBottom:{...gE,custom:{offsetY:16,reverse:!0}},slideInRight:{...gE,custom:{offsetX:16,reverse:!0}},slideInTop:{...gE,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...gE,custom:{offsetX:-16,reverse:!0}},scale:{...bE,custom:{initialScale:.95,reverse:!0}},none:{}},wE=Tv(uv.section),SE=t=>xE[t||"none"],EE=(0,a.forwardRef)(((t,e)=>{const{preset:n,motionProps:r=SE(n),...i}=t;return(0,Bt.jsx)(wE,{ref:e,...r,...i})}));EE.displayName="ModalTransition";var TE="data-focus-lock",ME="data-focus-lock-disabled";function AE(t,e){return function(t,e){var n=(0,a.useState)((function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(t){var e=n.value;e!==t&&(n.value=t,n.callback(t,e))}}}}))[0];return n.callback=e,n.facade}(e||null,(function(e){return t.forEach((function(t){return function(t,e){return"function"===typeof t?t(e):t&&(t.current=e),t}(t,e)}))}))}var CE={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},kE=function(t){var e=t.children;return a.createElement(a.Fragment,null,a.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:CE}),e,e&&a.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:CE}))};kE.propTypes={},kE.defaultProps={children:null};var OE=function(){return OE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},OE.apply(this,arguments)};function PE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create;function RE(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError;function NE(t){return t}function LE(t,e){void 0===e&&(e=NE);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(t){var i=e(t,r);return n.push(i),function(){n=n.filter((function(t){return t!==i}))}},assignSyncMedium:function(t){for(r=!0;n.length;){var e=n;n=[],e.forEach(t)}n={push:function(e){return t(e)},filter:function(){return n}}},assignMedium:function(t){r=!0;var e=[];if(n.length){var i=n;n=[],i.forEach(t),e=n}var o=function(){var n=e;e=[],n.forEach(t)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(t){e.push(t),a()},filter:function(t){return e=e.filter(t),n}}}};return i}function IE(t,e){return void 0===e&&(e=NE),LE(t,e)}function DE(t){void 0===t&&(t={});var e=LE(null);return e.options=OE({async:!0,ssr:!1},t),e}var jE=IE({},(function(t){return{target:t.target,currentTarget:t.currentTarget}})),UE=IE(),FE=IE(),zE=DE({async:!0}),BE=[],VE=a.forwardRef((function(t,e){var n,r=a.useState(),i=r[0],o=r[1],s=a.useRef(),l=a.useRef(!1),c=a.useRef(null),u=t.children,h=t.disabled,d=t.noFocusGuards,f=t.persistentFocus,p=t.crossFrame,m=t.autoFocus,g=(t.allowTextSelection,t.group),v=t.className,y=t.whiteList,b=t.hasPositiveIndices,_=t.shards,x=void 0===_?BE:_,w=t.as,S=void 0===w?"div":w,E=t.lockProps,T=void 0===E?{}:E,M=t.sideCar,A=t.returnFocus,C=t.focusOptions,k=t.onActivation,O=t.onDeactivation,P=a.useState({})[0],R=a.useCallback((function(){c.current=c.current||document&&document.activeElement,s.current&&k&&k(s.current),l.current=!0}),[k]),N=a.useCallback((function(){l.current=!1,O&&O(s.current)}),[O]);(0,a.useEffect)((function(){h||(c.current=null)}),[]);var L=a.useCallback((function(t){var e=c.current;if(e&&e.focus){var n="function"===typeof A?A(e):A;if(n){var r="object"===typeof n?n:void 0;c.current=null,t?Promise.resolve().then((function(){return e.focus(r)})):e.focus(r)}}}),[A]),I=a.useCallback((function(t){l.current&&jE.useMedium(t)}),[]),D=UE.useMedium,j=a.useCallback((function(t){s.current!==t&&(s.current=t,o(t))}),[]);var U=dt(((n={})[ME]=h&&"disabled",n[TE]=g,n),T),F=!0!==d,z=F&&"tail"!==d,B=AE([e,j]);return a.createElement(a.Fragment,null,F&&[a.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:h?-1:0,style:CE}),b?a.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:h?-1:1,style:CE}):null],!h&&a.createElement(M,{id:P,sideCar:zE,observed:i,disabled:h,persistentFocus:f,crossFrame:p,autoFocus:m,whiteList:y,shards:x,onActivation:R,onDeactivation:N,returnFocus:L,focusOptions:C}),a.createElement(S,dt({ref:B},U,{className:v,onBlur:D,onFocus:I}),u),z&&a.createElement("div",{"data-focus-guard":!0,tabIndex:h?-1:0,style:CE}))}));VE.propTypes={},VE.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const HE=VE;function qE(t,e){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qE(t,e)}function WE(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,qE(t,e)}function GE(t){return GE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GE(t)}function XE(t){var e=function(t,e){if("object"!==GE(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==GE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===GE(e)?e:String(e)}const KE=function(t,e){return function(n){var r,i=[];function o(){r=t(i.map((function(t){return t.props}))),e(r)}var s=function(t){function e(){return t.apply(this,arguments)||this}WE(e,t),e.peek=function(){return r};var s=e.prototype;return s.componentDidMount=function(){i.push(this),o()},s.componentDidUpdate=function(){o()},s.componentWillUnmount=function(){var t=i.indexOf(this);i.splice(t,1),o()},s.render=function(){return a.createElement(n,this.props)},e}(a.PureComponent);return function(t,e,n){(e=XE(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(s,"displayName","SideEffect("+function(t){return t.displayName||t.name||"Component"}(n)+")"),s}};var YE=function(t){for(var e=Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e},$E=function(t){return Array.isArray(t)?t:[t]},QE=function(t){return Array.isArray(t)?t[0]:t},ZE=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},JE=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},tT=function(t,e){return!t||JE(t)||!function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t,null);return!(!e||!e.getPropertyValue)&&("none"===e.getPropertyValue("display")||"hidden"===e.getPropertyValue("visibility"))}(t)&&e(ZE(t))},eT=function(t,e){var n=t.get(e);if(void 0!==n)return n;var r=tT(e,eT.bind(void 0,t));return t.set(e,r),r},nT=function(t,e){var n=t.get(e);if(void 0!==n)return n;var r=function(t,e){return!(t&&!JE(t))||!!aT(t)&&e(ZE(t))}(e,nT.bind(void 0,t));return t.set(e,r),r},rT=function(t){return t.dataset},iT=function(t){return"INPUT"===t.tagName},oT=function(t){return iT(t)&&"radio"===t.type},aT=function(t){var e=t.getAttribute("data-no-autofocus");return![!0,"true",""].includes(e)},sT=function(t){var e;return Boolean(t&&(null===(e=rT(t))||void 0===e?void 0:e.focusGuard))},lT=function(t){return!sT(t)},cT=function(t){return Boolean(t)},uT=function(t,e){var n=t.tabIndex-e.tabIndex,r=t.index-e.index;if(n){if(!t.tabIndex)return 1;if(!e.tabIndex)return-1}return n||r},hT=function(t,e,n){return YE(t).map((function(t,e){return{node:t,index:e,tabIndex:n&&-1===t.tabIndex?(t.dataset||{}).focusGuard?0:-1:t.tabIndex}})).filter((function(t){return!e||t.tabIndex>=0})).sort(uT)},dT=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"].join(","),fT="".concat(dT,", [data-focus-guard]"),pT=function(t,e){return YE((t.shadowRoot||t).children).reduce((function(t,n){return t.concat(n.matches(e?fT:dT)?[n]:[],pT(n))}),[])},mT=function(t,e){return t.reduce((function(t,n){var r,i=pT(n,e),o=(r=[]).concat.apply(r,i.map((function(t){return function(t,e){var n;return t instanceof HTMLIFrameElement&&(null===(n=t.contentDocument)||void 0===n?void 0:n.body)?mT([t.contentDocument.body],e):[t]}(t,e)})));return t.concat(o,n.parentNode?YE(n.parentNode.querySelectorAll(dT)).filter((function(t){return t===n})):[])}),[])},gT=function(t,e){return YE(t).filter((function(t){return eT(e,t)})).filter((function(t){return function(t){return!((iT(t)||function(t){return"BUTTON"===t.tagName}(t))&&("hidden"===t.type||t.disabled))}(t)}))},vT=function(t,e){return void 0===e&&(e=new Map),YE(t).filter((function(t){return nT(e,t)}))},yT=function(t,e,n){return hT(gT(mT(t,n),e),!0,n)},bT=function(t,e){return hT(gT(mT(t),e),!1)},_T=function(t,e){return gT(function(t){var e=t.querySelectorAll("[".concat("data-autofocus-inside","]"));return YE(e).map((function(t){return mT([t])})).reduce((function(t,e){return t.concat(e)}),[])}(t),e)},xT=function(t,e){return t.shadowRoot?xT(t.shadowRoot,e):!(void 0===Object.getPrototypeOf(t).contains||!Object.getPrototypeOf(t).contains.call(t,e))||YE(t.children).some((function(t){var n;if(t instanceof HTMLIFrameElement){var r=null===(n=t.contentDocument)||void 0===n?void 0:n.body;return!!r&&xT(r,e)}return xT(t,e)}))},wT=function(t){if(void 0===t&&(t=document),t&&t.activeElement){var e=t.activeElement;return e.shadowRoot?wT(e.shadowRoot):e instanceof HTMLIFrameElement&&function(t){try{return t()}catch(e){return}}((function(){return e.contentWindow.document}))?wT(e.contentWindow.document):e}},ST=function(t){return t.parentNode?ST(t.parentNode):t},ET=function(t){return $E(t).filter(Boolean).reduce((function(t,e){var n=e.getAttribute(TE);return t.push.apply(t,n?function(t){for(var e=new Set,n=t.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var o=t[r].compareDocumentPosition(t[i]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(i),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(r)}return t.filter((function(t,n){return!e.has(n)}))}(YE(ST(e).querySelectorAll("[".concat(TE,'="').concat(n,'"]:not([').concat(ME,'="disabled"])')))):[e]),t}),[])},TT=function(t,e){return void 0===e&&(e=wT(QE(t).ownerDocument)),!(!e||e.dataset&&e.dataset.focusGuard)&&ET(t).some((function(t){return xT(t,e)||function(t,e){return Boolean(YE(t.querySelectorAll("iframe")).some((function(t){return function(t,e){return t===e}(t,e)})))}(t,e)}))},MT=function(t,e){return oT(t)&&t.name?function(t,e){return e.filter(oT).filter((function(e){return e.name===t.name})).filter((function(t){return t.checked}))[0]||t}(t,e):t},AT=function(t){return t[0]&&t.length>1?MT(t[0],t):t[0]},CT=function(t,e){return t.length>1?t.indexOf(MT(t[e],t)):e},kT="NEW_FOCUS",OT=function(t,e,n,r){var i=t.length,o=t[0],a=t[i-1],s=sT(n);if(!(n&&t.indexOf(n)>=0)){var l=void 0!==n?e.indexOf(n):-1,c=r?e.indexOf(r):l,u=r?t.indexOf(r):-1,h=l-c,d=e.indexOf(o),f=e.indexOf(a),p=function(t){var e=new Set;return t.forEach((function(n){return e.add(MT(n,t))})),t.filter((function(t){return e.has(t)}))}(e),m=(void 0!==n?p.indexOf(n):-1)-(r?p.indexOf(r):l),g=CT(t,0),v=CT(t,i-1);return-1===l||-1===u?kT:!h&&u>=0?u:l<=d&&s&&Math.abs(h)>1?v:l>=f&&s&&Math.abs(h)>1?g:h&&Math.abs(m)>1?u:l<=d?v:l>f?g:h?Math.abs(h)>1?u:(i+u+h)%i:void 0}},PT=function(t,e,n){var r,i=t.map((function(t){return t.node})),o=vT(i.filter((r=n,function(t){var e,n=null===(e=rT(t))||void 0===e?void 0:e.autofocus;return t.autofocus||void 0!==n&&"false"!==n||r.indexOf(t)>=0})));return o&&o.length?AT(o):AT(vT(e))},RT=function(t,e){return void 0===e&&(e=[]),e.push(t),t.parentNode&&RT(t.parentNode.host||t.parentNode,e),e},NT=function(t,e){for(var n=RT(t),r=RT(e),i=0;i<n.length;i+=1){var o=n[i];if(r.indexOf(o)>=0)return o}return!1},LT=function(t,e,n){var r=$E(t),i=$E(e),o=r[0],a=!1;return i.filter(Boolean).forEach((function(t){a=NT(a||t,t)||a,n.filter(Boolean).forEach((function(t){var e=NT(o,t);e&&(a=!a||xT(e,a)?e:NT(e,a))}))})),a},IT=function(t,e){var n=wT($E(t).length>0?document:QE(t).ownerDocument),r=ET(t).filter(lT),i=LT(n||t,t,r),o=new Map,a=bT(r,o),s=yT(r,o).filter((function(t){var e=t.node;return lT(e)}));if(s[0]||(s=a)[0]){var l=bT([i],o).map((function(t){return t.node})),c=function(t,e){var n=new Map;return e.forEach((function(t){return n.set(t.node,t)})),t.map((function(t){return n.get(t)})).filter(cT)}(l,s),u=c.map((function(t){return t.node})),h=OT(u,l,n,e);if(h===kT){var d=PT(a,u,function(t,e){return t.reduce((function(t,n){return t.concat(_T(n,e))}),[])}(r,o));return d?{node:d}:void console.warn("focus-lock: cannot find any node to move focus into")}return void 0===h?h:c[h]}},DT=0,jT=!1,UT=function(t,e,n){void 0===n&&(n={});var r,i,o=IT(t,e);if(!jT&&o){if(DT>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),jT=!0,void setTimeout((function(){jT=!1}),1);DT++,r=o.node,i=n.focusOptions,"focus"in r&&r.focus(i),"contentWindow"in r&&r.contentWindow&&r.contentWindow.focus(),DT--}};function FT(t){setTimeout(t,1)}var zT=function(){return document&&document.activeElement===document.body||function(t){void 0===t&&(t=document);var e=wT(t);return!!e&&YE(t.querySelectorAll("[".concat("data-no-focus-lock","]"))).some((function(t){return xT(t,e)}))}()},BT=null,VT=null,HT=null,qT=!1,WT=function(){return!0};function GT(t,e,n,r){var i=null,o=t;do{var a=r[o];if(a.guard)a.node.dataset.focusAutoGuard&&(i=a);else{if(!a.lockItem)break;if(o!==t)return;i=null}}while((o+=n)!==e);i&&(i.node.tabIndex=0)}var XT=function(t){return t&&"current"in t?t.current:t},KT=function t(e,n,r){return n&&(n.host===e&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&t(e,n.parentNode,r))},YT=function(){var t,e=!1;if(BT){var n=BT,r=n.observed,i=n.persistentFocus,o=n.autoFocus,a=n.shards,s=n.crossFrame,l=n.focusOptions,c=r||HT&&HT.portaledElement,u=document&&document.activeElement;if(c){var h=[c].concat(a.map(XT).filter(Boolean));if(u&&!function(t){return(BT.whiteList||WT)(t)}(u)||(i||(s?Boolean(qT):"meanwhile"===qT)||!zT()||!VT&&o)&&(c&&!(TT(h)||u&&function(t,e){return e.some((function(e){return KT(t,e,e)}))}(u,h)||(t=u,HT&&HT.portaledElement===t))&&(document&&!VT&&u&&!o?(u.blur&&u.blur(),document.body.focus()):(e=UT(h,VT,{focusOptions:l}),HT={})),qT=!1,VT=document&&document.activeElement),document){var d=document&&document.activeElement,f=function(t){var e=ET(t).filter(lT),n=LT(t,t,e),r=new Map,i=yT([n],r,!0),o=yT(e,r).filter((function(t){var e=t.node;return lT(e)})).map((function(t){return t.node}));return i.map((function(t){var e=t.node;return{node:e,index:t.index,lockItem:o.indexOf(e)>=0,guard:sT(e)}}))}(h),p=f.map((function(t){return t.node})).indexOf(d);p>-1&&(f.filter((function(t){var e=t.guard,n=t.node;return e&&n.dataset.focusAutoGuard})).forEach((function(t){return t.node.removeAttribute("tabIndex")})),GT(p,f.length,1,f),GT(p,-1,-1,f))}}}return e},$T=function(t){YT()&&t&&(t.stopPropagation(),t.preventDefault())},QT=function(){return FT(YT)},ZT=function(t){var e=t.target,n=t.currentTarget;n.contains(e)||(HT={observerNode:n,portaledElement:e})},JT=function(){qT="just",FT((function(){qT="meanwhile"}))};jE.assignSyncMedium(ZT),UE.assignMedium(QT),FE.assignMedium((function(t){return t({moveFocusInside:UT,focusInside:TT})}));const tM=KE((function(t){return t.filter((function(t){return!t.disabled}))}),(function(t){var e=t.slice(-1)[0];e&&!BT&&(document.addEventListener("focusin",$T),document.addEventListener("focusout",QT),window.addEventListener("blur",JT));var n=BT,r=n&&e&&e.id===n.id;BT=e,n&&!r&&(n.onDeactivation(),t.filter((function(t){return t.id===n.id})).length||n.returnFocus(!e)),e?(VT=null,r&&n.observed===e.observed||e.onActivation(),YT(),FT(YT)):(document.removeEventListener("focusin",$T),document.removeEventListener("focusout",QT),window.removeEventListener("blur",JT),VT=null)}))((function(){return null}));var eM=a.forwardRef((function(t,e){return a.createElement(HE,dt({sideCar:tM,ref:e},t))})),nM=HE.propTypes||{};nM.sideCar,function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n])}(nM,["sideCar"]);eM.propTypes={};const rM=eM;function iM(t){return null!=t&&"object"==typeof t&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}var oM=t=>t.hasAttribute("tabindex");function aM(t){return!(!t.parentElement||!aM(t.parentElement))||t.hidden}function sM(t){if(!function(t){var e;return!!iM(t)&&t instanceof(null!=(e=t.ownerDocument.defaultView)?e:window).HTMLElement}(t)||aM(t)||function(t){return!0===Boolean(t.getAttribute("disabled"))||!0===Boolean(t.getAttribute("aria-disabled"))}(t))return!1;const{localName:e}=t;if(["input","select","textarea","button"].indexOf(e)>=0)return!0;const n={a:()=>t.hasAttribute("href"),audio:()=>t.hasAttribute("controls"),video:()=>t.hasAttribute("controls")};return e in n?n[e]():!!function(t){const e=t.getAttribute("contenteditable");return"false"!==e&&null!=e}(t)||oM(t)}var lM,cM=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"].join(),uM=t=>t.offsetWidth>0&&t.offsetHeight>0;function hM(t){const e=Array.from(t.querySelectorAll(cM));return e.unshift(t),e.filter((t=>sM(t)&&uM(t)))}var dM=null!=(lM=rM.default)?lM:rM,fM=t=>{const{initialFocusRef:e,finalFocusRef:n,contentRef:r,restoreFocus:i,children:o,isDisabled:s,autoFocus:l,persistentFocus:c,lockFocusAcrossFrames:u}=t,h=(0,a.useCallback)((()=>{if(null==e?void 0:e.current)e.current.focus();else if(null==r?void 0:r.current){0===hM(r.current).length&&requestAnimationFrame((()=>{var t;null==(t=r.current)||t.focus()}))}}),[e,r]),d=(0,a.useCallback)((()=>{var t;null==(t=null==n?void 0:n.current)||t.focus()}),[n]),f=i&&!n;return(0,Bt.jsx)(dM,{crossFrame:u,persistentFocus:c,autoFocus:l,disabled:s,onActivation:h,onDeactivation:d,returnFocus:f,children:o})};fM.displayName="FocusLock";var pM="right-scroll-bar-position",mM="width-before-scroll-bar",gM=DE(),vM=function(){},yM=a.forwardRef((function(t,e){var n=a.useRef(null),r=a.useState({onScrollCapture:vM,onWheelCapture:vM,onTouchMoveCapture:vM}),i=r[0],o=r[1],s=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,d=t.shards,f=t.sideCar,p=t.noIsolation,m=t.inert,g=t.allowPinchZoom,v=t.as,y=void 0===v?"div":v,b=t.gapMode,_=PE(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,w=AE([n,e]),S=OE(OE({},_),i);return a.createElement(a.Fragment,null,h&&a.createElement(x,{sideCar:gM,removeScrollBar:u,shards:d,noIsolation:p,inert:m,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:b}),s?a.cloneElement(a.Children.only(l),OE(OE({},S),{ref:w})):a.createElement(y,OE({},S,{className:c,ref:w}),l))}));yM.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},yM.classNames={fullWidth:mM,zeroRight:pM};var bM,_M=function(t){var e=t.sideCar,n=PE(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return a.createElement(r,OE({},n))};_M.isSideCarExport=!0;function xM(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=bM||n.nc;return e&&t.setAttribute("nonce",e),t}var wM=function(){var t=0,e=null;return{add:function(n){var r;0==t&&(e=xM())&&(!function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}(e,n),r=e,(document.head||document.getElementsByTagName("head")[0]).appendChild(r)),t++},remove:function(){! --t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},SM=function(){var t=function(){var t=wM();return function(e,n){a.useEffect((function(){return t.add(e),function(){t.remove()}}),[e&&n])}}();return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},EM={left:0,top:0,right:0,gap:0},TM=function(t){return parseInt(t||"",10)||0},MM=function(t){if(void 0===t&&(t="margin"),"undefined"===typeof window)return EM;var e=function(t){var e=window.getComputedStyle(document.body),n=e["padding"===t?"paddingLeft":"marginLeft"],r=e["padding"===t?"paddingTop":"marginTop"],i=e["padding"===t?"paddingRight":"marginRight"];return[TM(n),TM(r),TM(i)]}(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},AM=SM(),CM=function(t,e,n,r){var i=t.left,o=t.top,a=t.right,s=t.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([e&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(pM," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(mM," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(pM," .").concat(pM," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(mM," .").concat(mM," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},kM=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=void 0===r?"margin":r,o=a.useMemo((function(){return MM(i)}),[i]);return a.createElement(AM,{styles:CM(o,!e,i,n?"":"!important")})},OM=!1;if("undefined"!==typeof window)try{var PM=Object.defineProperty({},"passive",{get:function(){return OM=!0,!0}});window.addEventListener("test",PM,PM),window.removeEventListener("test",PM,PM)}catch(oct){OM=!1}var RM=!!OM&&{passive:!1},NM=function(t,e){var n=window.getComputedStyle(t);return"hidden"!==n[e]&&!(n.overflowY===n.overflowX&&!function(t){return"TEXTAREA"===t.tagName}(t)&&"visible"===n[e])},LM=function(t,e){var n=e.ownerDocument,r=e;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),IM(t,r)){var i=DM(t,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},IM=function(t,e){return"v"===t?function(t){return NM(t,"overflowY")}(e):function(t){return NM(t,"overflowX")}(e)},DM=function(t,e){return"v"===t?function(t){return[t.scrollTop,t.scrollHeight,t.clientHeight]}(e):function(t){return[t.scrollLeft,t.scrollWidth,t.clientWidth]}(e)},jM=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},UM=function(t){return[t.deltaX,t.deltaY]},FM=function(t){return t&&"current"in t?t.current:t},zM=function(t){return"\n  .block-interactivity-".concat(t," {pointer-events: none;}\n  .allow-interactivity-").concat(t," {pointer-events: all;}\n")},BM=0,VM=[];function HM(t){for(var e=null;null!==t;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const qM=(WM=function(t){var e=a.useRef([]),n=a.useRef([0,0]),r=a.useRef(),i=a.useState(BM++)[0],o=a.useState(SM)[0],s=a.useRef(t);a.useEffect((function(){s.current=t}),[t]),a.useEffect((function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var e=RE([t.lockRef.current],(t.shards||[]).map(FM),!0).filter(Boolean);return e.forEach((function(t){return t.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),e.forEach((function(t){return t.classList.remove("allow-interactivity-".concat(i))}))}}}),[t.inert,t.lockRef.current,t.shards]);var l=a.useCallback((function(t,e){if("touches"in t&&2===t.touches.length)return!s.current.allowPinchZoom;var i,o=jM(t),a=n.current,l="deltaX"in t?t.deltaX:a[0]-o[0],c="deltaY"in t?t.deltaY:a[1]-o[1],u=t.target,h=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in t&&"h"===h&&"range"===u.type)return!1;var d=LM(h,u);if(!d)return!0;if(d?i=h:(i="v"===h?"h":"v",d=LM(h,u)),!d)return!1;if(!r.current&&"changedTouches"in t&&(l||c)&&(r.current=i),!i)return!0;var f=r.current||i;return function(t,e,n,r,i){var o=function(t,e){return"h"===t&&"rtl"===e?-1:1}(t,window.getComputedStyle(e).direction),a=o*r,s=n.target,l=e.contains(s),c=!1,u=a>0,h=0,d=0;do{var f=DM(t,s),p=f[0],m=f[1]-f[2]-o*p;(p||m)&&IM(t,s)&&(h+=m,d+=p),s=s instanceof ShadowRoot?s.host:s.parentNode}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(u&&(i&&Math.abs(h)<1||!i&&a>h)||!u&&(i&&Math.abs(d)<1||!i&&-a>d))&&(c=!0),c}(f,e,t,"h"===f?l:c,!0)}),[]),c=a.useCallback((function(t){var n=t;if(VM.length&&VM[VM.length-1]===o){var r="deltaY"in n?UM(n):jM(n),i=e.current.filter((function(t){return t.name===n.type&&(t.target===n.target||n.target===t.shadowParent)&&function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t.delta,r)}))[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var a=(s.current.shards||[]).map(FM).filter(Boolean).filter((function(t){return t.contains(n.target)}));(a.length>0?l(n,a[0]):!s.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),u=a.useCallback((function(t,n,r,i){var o={name:t,delta:n,target:r,should:i,shadowParent:HM(r)};e.current.push(o),setTimeout((function(){e.current=e.current.filter((function(t){return t!==o}))}),1)}),[]),h=a.useCallback((function(t){n.current=jM(t),r.current=void 0}),[]),d=a.useCallback((function(e){u(e.type,UM(e),e.target,l(e,t.lockRef.current))}),[]),f=a.useCallback((function(e){u(e.type,jM(e),e.target,l(e,t.lockRef.current))}),[]);a.useEffect((function(){return VM.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",c,RM),document.addEventListener("touchmove",c,RM),document.addEventListener("touchstart",h,RM),function(){VM=VM.filter((function(t){return t!==o})),document.removeEventListener("wheel",c,RM),document.removeEventListener("touchmove",c,RM),document.removeEventListener("touchstart",h,RM)}}),[]);var p=t.removeScrollBar,m=t.inert;return a.createElement(a.Fragment,null,m?a.createElement(o,{styles:zM(i)}):null,p?a.createElement(kM,{gapMode:t.gapMode}):null)},gM.useMedium(WM),_M);var WM,GM=a.forwardRef((function(t,e){return a.createElement(yM,OE({},t,{ref:e,sideCar:qM}))}));GM.classNames=yM.classNames;const XM=GM;function KM(t){const{autoFocus:e,trapFocus:n,dialogRef:r,initialFocusRef:i,blockScrollOnMount:o,allowPinchZoom:s,finalFocusRef:l,returnFocusOnClose:c,preserveScrollBarGap:u,lockFocusAcrossFrames:h,isOpen:d}=JS(),[f,p]=au();(0,a.useEffect)((()=>{!f&&p&&setTimeout(p)}),[f,p]);const m=zS(r,d);return(0,Bt.jsx)(fM,{autoFocus:e,isDisabled:!n,initialFocusRef:i,finalFocusRef:l,restoreFocus:c,contentRef:r,lockFocusAcrossFrames:h,children:(0,Bt.jsx)(XM,{removeScrollBar:!u,allowPinchZoom:s,enabled:1===m&&o,forwardProps:!0,children:t.children})})}var YM=Cv(((t,e)=>{const{className:n,children:r,containerProps:i,motionProps:o,...a}=t,{getDialogProps:s,getDialogContainerProps:l}=JS(),c=s(a,e),u=l(i),h=Jt("chakra-modal__content",n),d=QS(),f={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...d.dialog},p={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...d.dialogContainer},{motionPreset:m}=JS();return(0,Bt.jsx)(KM,{children:(0,Bt.jsx)(Tv.div,{...u,className:"chakra-modal__content-container",tabIndex:-1,__css:p,children:(0,Bt.jsx)(EE,{preset:m,motionProps:o,className:h,...c,__css:f,children:r})})})}));YM.displayName="ModalContent";var $M=Cv(((t,e)=>{const{className:n,...r}=t,{headerId:i,setHeaderMounted:o}=JS();(0,a.useEffect)((()=>(o(!0),()=>o(!1))),[o]);const s=Jt("chakra-modal__header",n),l={flex:0,...QS().header};return(0,Bt.jsx)(Tv.header,{ref:e,className:s,id:i,...r,__css:l})}));$M.displayName="ModalHeader";var QM=Cv(((t,e)=>{const{onClick:n,className:r,...i}=t,{onClose:o}=JS(),a=Jt("chakra-modal__close-btn",r),s=QS();return(0,Bt.jsx)($v,{ref:e,__css:s.closeButton,className:a,onClick:ie(n,(t=>{t.stopPropagation(),o()})),...i})}));QM.displayName="ModalCloseButton";var ZM=Cv(((t,e)=>{const{className:n,...r}=t,{bodyId:i,setBodyMounted:o}=JS();(0,a.useEffect)((()=>(o(!0),()=>o(!1))),[o]);const s=Jt("chakra-modal__body",n),l=QS();return(0,Bt.jsx)(Tv.div,{ref:e,className:s,id:i,...r,__css:l.body})}));ZM.displayName="ModalBody";var JM=Cv((function(t,e){const n=Nv("Text",t),{className:r,align:i,decoration:o,casing:a,...s}=Wn(t),l=function(t){const e=Object.assign({},t);for(let n in e)void 0===e[n]&&delete e[n];return e}({textAlign:t.align,textDecoration:t.decoration,textTransform:t.casing});return(0,Bt.jsx)(Tv.p,{ref:e,className:Jt("chakra-text",t.className),...l,...s,__css:n})}));JM.displayName="Text";var tA=Cv(((t,e)=>{const{className:n,...r}=t,i=Jt("chakra-modal__footer",n),o={display:"flex",alignItems:"center",justifyContent:"flex-end",...QS().footer};return(0,Bt.jsx)(Tv.footer,{ref:e,...r,__css:o,className:i})}));tA.displayName="ModalFooter";const eA="158",nA={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},rA=0,iA=1,oA=2,aA=3,sA=1,lA=2,cA=3,uA=0,hA=1,dA=100,fA=0,pA=1,mA=2,gA=0,vA=1,yA=2,bA=3,_A=4,xA=5,wA=301,SA=302,EA=303,TA=304,MA=306,AA=1e3,CA=1001,kA=1002,OA=1003,PA=1004,RA=1005,NA=1006,LA=1008,IA=1009,DA=1012,jA=1013,UA=1014,FA=1015,zA=1016,BA=1020,VA=1023,HA=1026,qA=1027,WA=33776,GA=33777,XA=33778,KA=33779,YA=36492,$A=2300,QA=2301,ZA=2302,JA=2400,tC=2401,eC=2402,nC=3001,rC="",iC="srgb",oC="srgb-linear",aC="display-p3",sC="display-p3-linear",lC="linear",cC="srgb",uC="rec709",hC="p3",dC=7680,fC=35044,pC="300 es",mC=1035,gC=2e3,vC=2001;class yC{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const n=this._listeners[t];if(void 0!==n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const n=e.slice(0);for(let e=0,r=n.length;e<r;e++)n[e].call(this,t);t.target=null}}}const bC=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _C=1234567;const xC=Math.PI/180,wC=180/Math.PI;function SC(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(bC[255&t]+bC[t>>8&255]+bC[t>>16&255]+bC[t>>24&255]+"-"+bC[255&e]+bC[e>>8&255]+"-"+bC[e>>16&15|64]+bC[e>>24&255]+"-"+bC[63&n|128]+bC[n>>8&255]+"-"+bC[n>>16&255]+bC[n>>24&255]+bC[255&r]+bC[r>>8&255]+bC[r>>16&255]+bC[r>>24&255]).toLowerCase()}function EC(t,e,n){return Math.max(e,Math.min(n,t))}function TC(t,e){return(t%e+e)%e}function MC(t,e,n){return(1-n)*t+n*e}function AC(t){return 0===(t&t-1)&&0!==t}function CC(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function kC(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function OC(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function PC(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(4294967295*t);case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int32Array:return Math.round(2147483647*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error("Invalid component type.")}}const RC={DEG2RAD:xC,RAD2DEG:wC,generateUUID:SC,clamp:EC,euclideanModulo:TC,mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},inverseLerp:function(t,e,n){return t!==e?(n-t)/(e-t):0},lerp:MC,damp:function(t,e,n,r){return MC(t,e,1-Math.exp(-n*r))},pingpong:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e-Math.abs(TC(t,2*e)-e)},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){void 0!==t&&(_C=t);let e=_C+=1831565813;return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296},degToRad:function(t){return t*xC},radToDeg:function(t){return t*wC},isPowerOfTwo:AC,ceilPowerOfTwo:CC,floorPowerOfTwo:kC,setQuaternionFromProperEuler:function(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((e+r)/2),u=a((e+r)/2),h=o((e-r)/2),d=a((e-r)/2),f=o((r-e)/2),p=a((r-e)/2);switch(i){case"XYX":t.set(s*u,l*h,l*d,s*c);break;case"YZY":t.set(l*d,s*u,l*h,s*c);break;case"ZXZ":t.set(l*h,l*d,s*u,s*c);break;case"XZX":t.set(s*u,l*p,l*f,s*c);break;case"YXY":t.set(l*f,s*u,l*p,s*c);break;case"ZYZ":t.set(l*p,l*f,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:PC,denormalize:OC};class NC{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;NC.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(EC(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class LC{constructor(t,e,n,r,i,o,a,s,l){LC.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,n,r,i,o,a,s,l)}set(t,e,n,r,i,o,a,s,l){const c=this.elements;return c[0]=t,c[1]=r,c[2]=a,c[3]=e,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],c=n[4],u=n[7],h=n[2],d=n[5],f=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],_=r[2],x=r[5],w=r[8];return i[0]=o*p+a*v+s*_,i[3]=o*m+a*y+s*x,i[6]=o*g+a*b+s*w,i[1]=l*p+c*v+u*_,i[4]=l*m+c*y+u*x,i[7]=l*g+c*b+u*w,i[2]=h*p+d*v+f*_,i[5]=h*m+d*y+f*x,i[8]=h*g+d*b+f*w,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8];return e*o*c-e*a*l-n*i*c+n*a*s+r*i*l-r*o*s}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=c*o-a*l,h=a*s-c*i,d=l*i-o*s,f=e*u+n*h+r*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const p=1/f;return t[0]=u*p,t[1]=(r*l-c*n)*p,t[2]=(a*n-r*o)*p,t[3]=h*p,t[4]=(c*e-r*s)*p,t[5]=(r*i-a*e)*p,t[6]=d*p,t[7]=(n*s-l*e)*p,t[8]=(o*e-n*i)*p,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,r,i,o,a){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*o+l*a)+o+t,-r*l,r*s,-r*(-l*o+s*a)+a+e,0,0,1),this}scale(t,e){return this.premultiply(IC.makeScale(t,e)),this}rotate(t){return this.premultiply(IC.makeRotation(-t)),this}translate(t,e){return this.premultiply(IC.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,n,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,n=t.elements;for(let r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const IC=new LC;function DC(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function jC(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function UC(){const t=jC("canvas");return t.style.display="block",t}const FC={};function zC(t){t in FC||(FC[t]=!0,console.warn(t))}const BC=(new LC).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),VC=(new LC).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),HC={[oC]:{transfer:lC,primaries:uC,toReference:t=>t,fromReference:t=>t},[iC]:{transfer:cC,primaries:uC,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[sC]:{transfer:lC,primaries:hC,toReference:t=>t.applyMatrix3(VC),fromReference:t=>t.applyMatrix3(BC)},[aC]:{transfer:cC,primaries:hC,toReference:t=>t.convertSRGBToLinear().applyMatrix3(VC),fromReference:t=>t.applyMatrix3(BC).convertLinearToSRGB()}},qC=new Set([oC,sC]),WC={enabled:!0,_workingColorSpace:oC,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!qC.has(t))throw new Error('Unsupported working color space, "'.concat(t,'".'));this._workingColorSpace=t},convert:function(t,e,n){if(!1===this.enabled||e===n||!e||!n)return t;const r=HC[e].toReference;return(0,HC[n].fromReference)(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return HC[t].primaries},getTransfer:function(t){return t===rC?lC:HC[t].transfer}};function GC(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function XC(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}let KC;class YC{static getDataURL(t){if(/^data:/i.test(t.src))return t.src;if("undefined"===typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===KC&&(KC=jC("canvas")),KC.width=t.width,KC.height=t.height;const n=KC.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=KC}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){const e=jC("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const r=n.getImageData(0,0,t.width,t.height),i=r.data;for(let t=0;t<i.length;t++)i[t]=255*GC(i[t]/255);return n.putImageData(r,0,0),e}if(t.data){const e=t.data.slice(0);for(let t=0;t<e.length;t++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[t]=Math.floor(255*GC(e[t]/255)):e[t]=GC(e[t]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let $C=0;class QC{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isSource=!0,Object.defineProperty(this,"id",{value:$C++}),this.uuid=SC(),this.data=t,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let t;if(Array.isArray(r)){t=[];for(let e=0,n=r.length;e<n;e++)r[e].isDataTexture?t.push(ZC(r[e].image)):t.push(ZC(r[e]))}else t=ZC(r);n.url=t}return e||(t.images[this.uuid]=n),n}}function ZC(t){return"undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap?YC.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let JC=0;class tk extends yC{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tk.DEFAULT_IMAGE,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tk.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:CA,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:CA,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:NA,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:LA,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:VA,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:IA,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:tk.DEFAULT_ANISOTROPY,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:rC;super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:JC++}),this.uuid=SC(),this.name="",this.source=new QC(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=o,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=s,this.offset=new NC(0,0),this.repeat=new NC(1,1),this.center=new NC(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new LC,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"===typeof c?this.colorSpace=c:(zC("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===nC?iC:rC),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){void 0===t&&(t=null),this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),e||(t.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case AA:t.x=t.x-Math.floor(t.x);break;case CA:t.x=t.x<0?0:1;break;case kA:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case AA:t.y=t.y-Math.floor(t.y);break;case CA:t.y=t.y<0?0:1;break;case kA:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return zC("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===iC?nC:3e3}set encoding(t){zC("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===nC?iC:rC}}tk.DEFAULT_IMAGE=null,tk.DEFAULT_MAPPING=300,tk.DEFAULT_ANISOTROPY=1;class ek{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;ek.prototype.isVector4=!0,this.x=t,this.y=e,this.z=n,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,r,i;const o=.01,a=.1,s=t.elements,l=s[0],c=s[4],u=s[8],h=s[1],d=s[5],f=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(c-h)<o&&Math.abs(u-p)<o&&Math.abs(f-m)<o){if(Math.abs(c+h)<a&&Math.abs(u+p)<a&&Math.abs(f+m)<a&&Math.abs(l+d+g-3)<a)return this.set(1,0,0,0),this;e=Math.PI;const t=(l+1)/2,s=(d+1)/2,v=(g+1)/2,y=(c+h)/4,b=(u+p)/4,_=(f+m)/4;return t>s&&t>v?t<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(t),r=y/n,i=b/n):s>v?s<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=y/r,i=_/r):v<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=_/i),this.set(n,r,i,e),this}let v=Math.sqrt((m-f)*(m-f)+(u-p)*(u-p)+(h-c)*(h-c));return Math.abs(v)<.001&&(v=1),this.x=(m-f)/v,this.y=(u-p)/v,this.z=(h-c)/v,this.w=Math.acos((l+d+g-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class nk extends yC{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new ek(0,0,t,e),this.scissorTest=!1,this.viewport=new ek(0,0,t,e);const r={width:t,height:e,depth:1};void 0!==n.encoding&&(zC("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===nC?iC:rC),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:NA,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},n),this.texture=new tk(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps,this.texture.internalFormat=n.internalFormat,this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}setSize(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===t&&this.height===e&&this.depth===n||(this.width=t,this.height=e,this.depth=n,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new QC(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class rk extends nk{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this.isWebGLRenderTarget=!0}}class ik extends tk{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=OA,this.minFilter=OA,this.wrapR=CA,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ok extends tk{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=OA,this.minFilter=OA,this.wrapR=CA,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ak{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.isQuaternion=!0,this._x=t,this._y=e,this._z=n,this._w=r}static slerpFlat(t,e,n,r,i,o,a){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const h=i[o+0],d=i[o+1],f=i[o+2],p=i[o+3];if(0===a)return t[e+0]=s,t[e+1]=l,t[e+2]=c,void(t[e+3]=u);if(1===a)return t[e+0]=h,t[e+1]=d,t[e+2]=f,void(t[e+3]=p);if(u!==p||s!==h||l!==d||c!==f){let t=1-a;const e=s*h+l*d+c*f+u*p,n=e>=0?1:-1,r=1-e*e;if(r>Number.EPSILON){const i=Math.sqrt(r),o=Math.atan2(i,e*n);t=Math.sin(t*o)/i,a=Math.sin(a*o)/i}const i=a*n;if(s=s*t+h*i,l=l*t+d*i,c=c*t+f*i,u=u*t+p*i,t===1-a){const t=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=t,l*=t,c*=t,u*=t}}t[e]=s,t[e+1]=l,t[e+2]=c,t[e+3]=u}static multiplyQuaternionsFlat(t,e,n,r,i,o){const a=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[o],h=i[o+1],d=i[o+2],f=i[o+3];return t[e]=a*f+c*u+s*d-l*h,t[e+1]=s*f+c*h+l*u-a*d,t[e+2]=l*f+c*d+a*h-s*u,t[e+3]=c*f-a*u-s*h-l*d,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){const n=t._x,r=t._y,i=t._z,o=t._order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(r/2),u=a(i/2),h=s(n/2),d=s(r/2),f=s(i/2);switch(o){case"XYZ":this._x=h*c*u+l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u-h*d*f;break;case"YXZ":this._x=h*c*u+l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u+h*d*f;break;case"ZXY":this._x=h*c*u-l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u-h*d*f;break;case"ZYX":this._x=h*c*u-l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u+h*d*f;break;case"YZX":this._x=h*c*u+l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u-h*d*f;break;case"XZY":this._x=h*c*u-l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u+h*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],r=e[4],i=e[8],o=e[1],a=e[5],s=e[9],l=e[2],c=e[6],u=e[10],h=n+a+u;if(h>0){const t=.5/Math.sqrt(h+1);this._w=.25/t,this._x=(c-s)*t,this._y=(i-l)*t,this._z=(o-r)*t}else if(n>a&&n>u){const t=2*Math.sqrt(1+n-a-u);this._w=(c-s)/t,this._x=.25*t,this._y=(r+o)/t,this._z=(i+l)/t}else if(a>u){const t=2*Math.sqrt(1+a-n-u);this._w=(i-l)/t,this._x=(r+o)/t,this._y=.25*t,this._z=(s+c)/t}else{const t=2*Math.sqrt(1+u-n-a);this._w=(o-r)/t,this._x=(i+l)/t,this._y=(s+c)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(EC(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const r=Math.min(1,e/n);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,r=t._y,i=t._z,o=t._w,a=e._x,s=e._y,l=e._z,c=e._w;return this._x=n*c+o*a+r*l-i*s,this._y=r*c+o*s+i*a-n*l,this._z=i*c+o*l+n*s-r*a,this._w=o*c-n*a-r*s-i*l,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,r=this._y,i=this._z,o=this._w;let a=o*t._w+n*t._x+r*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;const s=1-a*a;if(s<=Number.EPSILON){const t=1-e;return this._w=t*o+e*this._w,this._x=t*n+e*this._x,this._y=t*r+e*this._y,this._z=t*i+e*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(s),c=Math.atan2(l,a),u=Math.sin((1-e)*c)/l,h=Math.sin(e*c)/l;return this._w=o*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=i*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=Math.random(),e=Math.sqrt(1-t),n=Math.sqrt(t),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(e*Math.cos(r),n*Math.sin(i),n*Math.cos(i),e*Math.sin(r))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class sk{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;sk.prototype.isVector3=!0,this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(ck.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(ck.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,i=t.elements,o=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*o,this}applyQuaternion(t){const e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z,s=t.w,l=2*(o*r-a*n),c=2*(a*e-i*r),u=2*(i*n-o*e);return this.x=e+s*l+o*u-a*c,this.y=n+s*c+a*l-i*u,this.z=r+s*u+i*c-o*l,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,r=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return lk.copy(this).projectOnVector(t),this.sub(lk)}reflect(t){return this.sub(lk.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(EC(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,n=Math.sqrt(1-t**2);return this.x=n*Math.cos(e),this.y=n*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const lk=new sk,ck=new ak;class uk{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sk(1/0,1/0,1/0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sk(-1/0,-1/0,-1/0);this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e+=3)this.expandByPoint(dk.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,n=t.count;e<n;e++)this.expandByPoint(dk.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=dk.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.updateWorldMatrix(!1,!1);const n=t.geometry;if(void 0!==n){const r=n.getAttribute("position");if(!0===e&&void 0!==r&&!0!==t.isInstancedMesh)for(let e=0,n=r.count;e<n;e++)!0===t.isMesh?t.getVertexPosition(e,dk):dk.fromBufferAttribute(r,e),dk.applyMatrix4(t.matrixWorld),this.expandByPoint(dk);else void 0!==t.boundingBox?(null===t.boundingBox&&t.computeBoundingBox(),fk.copy(t.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),fk.copy(n.boundingBox)),fk.applyMatrix4(t.matrixWorld),this.union(fk)}const r=t.children;for(let i=0,o=r.length;i<o;i++)this.expandByObject(r[i],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,dk),dk.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(_k),xk.subVectors(this.max,_k),pk.subVectors(t.a,_k),mk.subVectors(t.b,_k),gk.subVectors(t.c,_k),vk.subVectors(mk,pk),yk.subVectors(gk,mk),bk.subVectors(pk,gk);let e=[0,-vk.z,vk.y,0,-yk.z,yk.y,0,-bk.z,bk.y,vk.z,0,-vk.x,yk.z,0,-yk.x,bk.z,0,-bk.x,-vk.y,vk.x,0,-yk.y,yk.x,0,-bk.y,bk.x,0];return!!Ek(e,pk,mk,gk,xk)&&(e=[1,0,0,0,1,0,0,0,1],!!Ek(e,pk,mk,gk,xk)&&(wk.crossVectors(vk,yk),e=[wk.x,wk.y,wk.z],Ek(e,pk,mk,gk,xk)))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,dk).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(dk).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(hk[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),hk[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),hk[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),hk[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),hk[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),hk[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),hk[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),hk[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(hk)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const hk=[new sk,new sk,new sk,new sk,new sk,new sk,new sk,new sk],dk=new sk,fk=new uk,pk=new sk,mk=new sk,gk=new sk,vk=new sk,yk=new sk,bk=new sk,_k=new sk,xk=new sk,wk=new sk,Sk=new sk;function Ek(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){Sk.fromArray(t,o);const a=i.x*Math.abs(Sk.x)+i.y*Math.abs(Sk.y)+i.z*Math.abs(Sk.z),s=e.dot(Sk),l=n.dot(Sk),c=r.dot(Sk);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>a)return!1}return!0}const Tk=new uk,Mk=new sk,Ak=new sk;class Ck{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sk,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):Tk.setFromPoints(t).getCenter(n);let r=0;for(let i=0,o=t.length;i<o;i++)r=Math.max(r,n.distanceToSquared(t[i]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;Mk.subVectors(t,this.center);const e=Mk.lengthSq();if(e>this.radius*this.radius){const t=Math.sqrt(e),n=.5*(t-this.radius);this.center.addScaledVector(Mk,n/t),this.radius+=n}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(Ak.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Mk.copy(t.center).add(Ak)),this.expandByPoint(Mk.copy(t.center).sub(Ak))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const kk=new sk,Ok=new sk,Pk=new sk,Rk=new sk,Nk=new sk,Lk=new sk,Ik=new sk;class Dk{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sk,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sk(0,0,-1);this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,kk)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=kk.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(kk.copy(this.origin).addScaledVector(this.direction,e),kk.distanceToSquared(t))}distanceSqToSegment(t,e,n,r){Ok.copy(t).add(e).multiplyScalar(.5),Pk.copy(e).sub(t).normalize(),Rk.copy(this.origin).sub(Ok);const i=.5*t.distanceTo(e),o=-this.direction.dot(Pk),a=Rk.dot(this.direction),s=-Rk.dot(Pk),l=Rk.lengthSq(),c=Math.abs(1-o*o);let u,h,d,f;if(c>0)if(u=o*s-a,h=o*a-s,f=i*c,u>=0)if(h>=-f)if(h<=f){const t=1/c;u*=t,h*=t,d=u*(u+o*h+2*a)+h*(o*u+h+2*s)+l}else h=i,u=Math.max(0,-(o*h+a)),d=-u*u+h*(h+2*s)+l;else h=-i,u=Math.max(0,-(o*h+a)),d=-u*u+h*(h+2*s)+l;else h<=-f?(u=Math.max(0,-(-o*i+a)),h=u>0?-i:Math.min(Math.max(-i,-s),i),d=-u*u+h*(h+2*s)+l):h<=f?(u=0,h=Math.min(Math.max(-i,-s),i),d=h*(h+2*s)+l):(u=Math.max(0,-(o*i+a)),h=u>0?i:Math.min(Math.max(-i,-s),i),d=-u*u+h*(h+2*s)+l);else h=o>0?-i:i,u=Math.max(0,-(o*h+a)),d=-u*u+h*(h+2*s)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(Ok).addScaledVector(Pk,h),d}intersectSphere(t,e){kk.subVectors(t.center,this.origin);const n=kk.dot(this.direction),r=kk.dot(kk)-n*n,i=t.radius*t.radius;if(r>i)return null;const o=Math.sqrt(i-r),a=n-o,s=n+o;return s<0?null:a<0?this.at(s,e):this.at(a,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);if(0===e)return!0;return t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,r,i,o,a,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(t.min.x-h.x)*l,r=(t.max.x-h.x)*l):(n=(t.max.x-h.x)*l,r=(t.min.x-h.x)*l),c>=0?(i=(t.min.y-h.y)*c,o=(t.max.y-h.y)*c):(i=(t.max.y-h.y)*c,o=(t.min.y-h.y)*c),n>o||i>r?null:((i>n||isNaN(n))&&(n=i),(o<r||isNaN(r))&&(r=o),u>=0?(a=(t.min.z-h.z)*u,s=(t.max.z-h.z)*u):(a=(t.max.z-h.z)*u,s=(t.min.z-h.z)*u),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))}intersectsBox(t){return null!==this.intersectBox(t,kk)}intersectTriangle(t,e,n,r,i){Nk.subVectors(e,t),Lk.subVectors(n,t),Ik.crossVectors(Nk,Lk);let o,a=this.direction.dot(Ik);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}Rk.subVectors(this.origin,t);const s=o*this.direction.dot(Lk.crossVectors(Rk,Lk));if(s<0)return null;const l=o*this.direction.dot(Nk.cross(Rk));if(l<0)return null;if(s+l>a)return null;const c=-o*Rk.dot(Ik);return c<0?null:this.at(c/a,i)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class jk{constructor(t,e,n,r,i,o,a,s,l,c,u,h,d,f,p,m){jk.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,n,r,i,o,a,s,l,c,u,h,d,f,p,m)}set(t,e,n,r,i,o,a,s,l,c,u,h,d,f,p,m){const g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=d,g[7]=f,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new jk).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,r=1/Uk.setFromMatrixColumn(t,0).length(),i=1/Uk.setFromMatrixColumn(t,1).length(),o=1/Uk.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*i,e[5]=n[5]*i,e[6]=n[6]*i,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===t.order){const t=o*c,n=o*u,r=a*c,i=a*u;e[0]=s*c,e[4]=-s*u,e[8]=l,e[1]=n+r*l,e[5]=t-i*l,e[9]=-a*s,e[2]=i-t*l,e[6]=r+n*l,e[10]=o*s}else if("YXZ"===t.order){const t=s*c,n=s*u,r=l*c,i=l*u;e[0]=t+i*a,e[4]=r*a-n,e[8]=o*l,e[1]=o*u,e[5]=o*c,e[9]=-a,e[2]=n*a-r,e[6]=i+t*a,e[10]=o*s}else if("ZXY"===t.order){const t=s*c,n=s*u,r=l*c,i=l*u;e[0]=t-i*a,e[4]=-o*u,e[8]=r+n*a,e[1]=n+r*a,e[5]=o*c,e[9]=i-t*a,e[2]=-o*l,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){const t=o*c,n=o*u,r=a*c,i=a*u;e[0]=s*c,e[4]=r*l-n,e[8]=t*l+i,e[1]=s*u,e[5]=i*l+t,e[9]=n*l-r,e[2]=-l,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){const t=o*s,n=o*l,r=a*s,i=a*l;e[0]=s*c,e[4]=i-t*u,e[8]=r*u+n,e[1]=u,e[5]=o*c,e[9]=-a*c,e[2]=-l*c,e[6]=n*u+r,e[10]=t-i*u}else if("XZY"===t.order){const t=o*s,n=o*l,r=a*s,i=a*l;e[0]=s*c,e[4]=-u,e[8]=l*c,e[1]=t*u+i,e[5]=o*c,e[9]=n*u-r,e[2]=r*u-n,e[6]=a*c,e[10]=i*u+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(zk,t,Bk)}lookAt(t,e,n){const r=this.elements;return qk.subVectors(t,e),0===qk.lengthSq()&&(qk.z=1),qk.normalize(),Vk.crossVectors(n,qk),0===Vk.lengthSq()&&(1===Math.abs(n.z)?qk.x+=1e-4:qk.z+=1e-4,qk.normalize(),Vk.crossVectors(n,qk)),Vk.normalize(),Hk.crossVectors(qk,Vk),r[0]=Vk.x,r[4]=Hk.x,r[8]=qk.x,r[1]=Vk.y,r[5]=Hk.y,r[9]=qk.y,r[2]=Vk.z,r[6]=Hk.z,r[10]=qk.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],c=n[1],u=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],_=n[15],x=r[0],w=r[4],S=r[8],E=r[12],T=r[1],M=r[5],A=r[9],C=r[13],k=r[2],O=r[6],P=r[10],R=r[14],N=r[3],L=r[7],I=r[11],D=r[15];return i[0]=o*x+a*T+s*k+l*N,i[4]=o*w+a*M+s*O+l*L,i[8]=o*S+a*A+s*P+l*I,i[12]=o*E+a*C+s*R+l*D,i[1]=c*x+u*T+h*k+d*N,i[5]=c*w+u*M+h*O+d*L,i[9]=c*S+u*A+h*P+d*I,i[13]=c*E+u*C+h*R+d*D,i[2]=f*x+p*T+m*k+g*N,i[6]=f*w+p*M+m*O+g*L,i[10]=f*S+p*A+m*P+g*I,i[14]=f*E+p*C+m*R+g*D,i[3]=v*x+y*T+b*k+_*N,i[7]=v*w+y*M+b*O+_*L,i[11]=v*S+y*A+b*P+_*I,i[15]=v*E+y*C+b*R+_*D,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],a=t[5],s=t[9],l=t[13],c=t[2],u=t[6],h=t[10],d=t[14];return t[3]*(+i*s*u-r*l*u-i*a*h+n*l*h+r*a*d-n*s*d)+t[7]*(+e*s*d-e*l*h+i*o*h-r*o*d+r*l*c-i*s*c)+t[11]*(+e*l*u-e*a*d-i*o*u+n*o*d+i*a*c-n*l*c)+t[15]*(-r*a*c-e*s*u+e*a*h+r*o*u-n*o*h+n*s*c)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],h=t[10],d=t[11],f=t[12],p=t[13],m=t[14],g=t[15],v=u*m*l-p*h*l+p*s*d-a*m*d-u*s*g+a*h*g,y=f*h*l-c*m*l-f*s*d+o*m*d+c*s*g-o*h*g,b=c*p*l-f*u*l+f*a*d-o*p*d-c*a*g+o*u*g,_=f*u*s-c*p*s-f*a*h+o*p*h+c*a*m-o*u*m,x=e*v+n*y+r*b+i*_;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/x;return t[0]=v*w,t[1]=(p*h*i-u*m*i-p*r*d+n*m*d+u*r*g-n*h*g)*w,t[2]=(a*m*i-p*s*i+p*r*l-n*m*l-a*r*g+n*s*g)*w,t[3]=(u*s*i-a*h*i-u*r*l+n*h*l+a*r*d-n*s*d)*w,t[4]=y*w,t[5]=(c*m*i-f*h*i+f*r*d-e*m*d-c*r*g+e*h*g)*w,t[6]=(f*s*i-o*m*i-f*r*l+e*m*l+o*r*g-e*s*g)*w,t[7]=(o*h*i-c*s*i+c*r*l-e*h*l-o*r*d+e*s*d)*w,t[8]=b*w,t[9]=(f*u*i-c*p*i-f*n*d+e*p*d+c*n*g-e*u*g)*w,t[10]=(o*p*i-f*a*i+f*n*l-e*p*l-o*n*g+e*a*g)*w,t[11]=(c*a*i-o*u*i-c*n*l+e*u*l+o*n*d-e*a*d)*w,t[12]=_*w,t[13]=(c*p*r-f*u*r+f*n*h-e*p*h-c*n*m+e*u*m)*w,t[14]=(f*a*r-o*p*r-f*n*s+e*p*s+o*n*m-e*a*m)*w,t[15]=(o*u*r-c*a*r+c*n*s-e*u*s-o*n*h+e*a*h)*w,this}scale(t){const e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}makeTranslation(t,e,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,a=t.y,s=t.z,l=i*o,c=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,c*a+n,c*s-r*o,0,l*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,r,i,o){return this.set(1,n,i,0,t,1,o,0,e,r,1,0,0,0,0,1),this}compose(t,e,n){const r=this.elements,i=e._x,o=e._y,a=e._z,s=e._w,l=i+i,c=o+o,u=a+a,h=i*l,d=i*c,f=i*u,p=o*c,m=o*u,g=a*u,v=s*l,y=s*c,b=s*u,_=n.x,x=n.y,w=n.z;return r[0]=(1-(p+g))*_,r[1]=(d+b)*_,r[2]=(f-y)*_,r[3]=0,r[4]=(d-b)*x,r[5]=(1-(h+g))*x,r[6]=(m+v)*x,r[7]=0,r[8]=(f+y)*w,r[9]=(m-v)*w,r[10]=(1-(h+p))*w,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,n){const r=this.elements;let i=Uk.set(r[0],r[1],r[2]).length();const o=Uk.set(r[4],r[5],r[6]).length(),a=Uk.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),t.x=r[12],t.y=r[13],t.z=r[14],Fk.copy(this);const s=1/i,l=1/o,c=1/a;return Fk.elements[0]*=s,Fk.elements[1]*=s,Fk.elements[2]*=s,Fk.elements[4]*=l,Fk.elements[5]*=l,Fk.elements[6]*=l,Fk.elements[8]*=c,Fk.elements[9]*=c,Fk.elements[10]*=c,e.setFromRotationMatrix(Fk),n.x=i,n.y=o,n.z=a,this}makePerspective(t,e,n,r,i,o){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:gC;const s=this.elements,l=2*i/(e-t),c=2*i/(n-r),u=(e+t)/(e-t),h=(n+r)/(n-r);let d,f;if(a===gC)d=-(o+i)/(o-i),f=-2*o*i/(o-i);else{if(a!==vC)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);d=-o/(o-i),f=-o*i/(o-i)}return s[0]=l,s[4]=0,s[8]=u,s[12]=0,s[1]=0,s[5]=c,s[9]=h,s[13]=0,s[2]=0,s[6]=0,s[10]=d,s[14]=f,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(t,e,n,r,i,o){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:gC;const s=this.elements,l=1/(e-t),c=1/(n-r),u=1/(o-i),h=(e+t)*l,d=(n+r)*c;let f,p;if(a===gC)f=(o+i)*u,p=-2*u;else{if(a!==vC)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);f=i*u,p=-1*u}return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-h,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-d,s[2]=0,s[6]=0,s[10]=p,s[14]=-f,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const Uk=new sk,Fk=new jk,zk=new sk(0,0,0),Bk=new sk(1,1,1),Vk=new sk,Hk=new sk,qk=new sk,Wk=new jk,Gk=new ak;class Xk{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Xk.DEFAULT_ORDER;this.isEuler=!0,this._x=t,this._y=e,this._z=n,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=t,this._y=e,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=t.elements,i=r[0],o=r[4],a=r[8],s=r[1],l=r[5],c=r[9],u=r[2],h=r[6],d=r[10];switch(e){case"XYZ":this._y=Math.asin(EC(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-EC(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(EC(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-EC(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(EC(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-EC(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return Wk.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Wk,e,n)}setFromVector3(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(t.x,t.y,t.z,e)}reorder(t){return Gk.setFromEuler(this),this.setFromQuaternion(Gk,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Xk.DEFAULT_ORDER="XYZ";class Kk{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!==(this.mask&t.mask)}isEnabled(t){return 0!==(this.mask&(1<<t|0))}}let Yk=0;const $k=new sk,Qk=new ak,Zk=new jk,Jk=new sk,tO=new sk,eO=new sk,nO=new ak,rO=new sk(1,0,0),iO=new sk(0,1,0),oO=new sk(0,0,1),aO={type:"added"},sO={type:"removed"};class lO extends yC{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Yk++}),this.uuid=SC(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=lO.DEFAULT_UP.clone();const t=new sk,e=new Xk,n=new ak,r=new sk(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new jk},normalMatrix:{value:new LC}}),this.matrix=new jk,this.matrixWorld=new jk,this.matrixAutoUpdate=lO.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=lO.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Kk,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Qk.setFromAxisAngle(t,e),this.quaternion.multiply(Qk),this}rotateOnWorldAxis(t,e){return Qk.setFromAxisAngle(t,e),this.quaternion.premultiply(Qk),this}rotateX(t){return this.rotateOnAxis(rO,t)}rotateY(t){return this.rotateOnAxis(iO,t)}rotateZ(t){return this.rotateOnAxis(oO,t)}translateOnAxis(t,e){return $k.copy(t).applyQuaternion(this.quaternion),this.position.add($k.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(rO,t)}translateY(t){return this.translateOnAxis(iO,t)}translateZ(t){return this.translateOnAxis(oO,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Zk.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?Jk.copy(t):Jk.set(t,e,n);const r=this.parent;this.updateWorldMatrix(!0,!1),tO.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Zk.lookAt(tO,Jk,this.up):Zk.lookAt(Jk,tO,this.up),this.quaternion.setFromRotationMatrix(Zk),r&&(Zk.extractRotation(r.matrixWorld),Qk.setFromRotationMatrix(Zk),this.quaternion.premultiply(Qk.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(aO)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(sO)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Zk.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Zk.multiply(t.parent.matrixWorld)),t.applyMatrix4(Zk),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(t,e);if(void 0!==r)return r}}getObjectsByProperty(t,e){let n=[];this[t]===e&&n.push(this);for(let r=0,i=this.children.length;r<i;r++){const i=this.children[r].getObjectsByProperty(t,e);i.length>0&&(n=n.concat(i))}return n}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(tO,t,eO),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(tO,nO,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,r=e.length;n<r;n++){const r=e[n];!0!==r.matrixWorldAutoUpdate&&!0!==t||r.updateMatrixWorld(t)}}updateWorldMatrix(t,e){const n=this.parent;if(!0===t&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,n=t.length;e<n;e++){const n=t[e];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(t){const e=void 0===t||"string"===typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};function i(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const n=e.shapes;if(Array.isArray(n))for(let e=0,r=n.length;e<r;e++){const r=n[e];i(t.shapes,r)}else i(t.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let n=0,r=this.material.length;n<r;n++)e.push(i(t.materials,this.material[n]));r.material=e}else r.material=i(t.materials,this.material);if(this.children.length>0){r.children=[];for(let e=0;e<this.children.length;e++)r.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(let e=0;e<this.animations.length;e++){const n=this.animations[e];r.animations.push(i(t.animations,n))}}if(e){const e=o(t.geometries),r=o(t.materials),i=o(t.textures),a=o(t.images),s=o(t.shapes),l=o(t.skeletons),c=o(t.animations),u=o(t.nodes);e.length>0&&(n.geometries=e),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),a.length>0&&(n.images=a),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function o(t){const e=[];for(const n in t){const r=t[n];delete r.metadata,e.push(r)}return e}}clone(t){return(new this.constructor).copy(this,t)}copy(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let n=0;n<t.children.length;n++){const e=t.children[n];this.add(e.clone())}return this}}lO.DEFAULT_UP=new sk(0,1,0),lO.DEFAULT_MATRIX_AUTO_UPDATE=!0,lO.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const cO=new sk,uO=new sk,hO=new sk,dO=new sk,fO=new sk,pO=new sk,mO=new sk,gO=new sk,vO=new sk,yO=new sk;let bO=!1;class _O{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sk,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sk,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new sk;this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,r){r.subVectors(n,e),cO.subVectors(t,e),r.cross(cO);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(t,e,n,r,i){cO.subVectors(r,e),uO.subVectors(n,e),hO.subVectors(t,e);const o=cO.dot(cO),a=cO.dot(uO),s=cO.dot(hO),l=uO.dot(uO),c=uO.dot(hO),u=o*l-a*a;if(0===u)return i.set(-2,-1,-1);const h=1/u,d=(l*s-a*c)*h,f=(o*c-a*s)*h;return i.set(1-d-f,f,d)}static containsPoint(t,e,n,r){return this.getBarycoord(t,e,n,r,dO),dO.x>=0&&dO.y>=0&&dO.x+dO.y<=1}static getUV(t,e,n,r,i,o,a,s){return!1===bO&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),bO=!0),this.getInterpolation(t,e,n,r,i,o,a,s)}static getInterpolation(t,e,n,r,i,o,a,s){return this.getBarycoord(t,e,n,r,dO),s.setScalar(0),s.addScaledVector(i,dO.x),s.addScaledVector(o,dO.y),s.addScaledVector(a,dO.z),s}static isFrontFacing(t,e,n,r){return cO.subVectors(n,e),uO.subVectors(t,e),cO.cross(uO).dot(r)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,n,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,r),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return cO.subVectors(this.c,this.b),uO.subVectors(this.a,this.b),.5*cO.cross(uO).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return _O.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return _O.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,r,i){return!1===bO&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),bO=!0),_O.getInterpolation(t,this.a,this.b,this.c,e,n,r,i)}getInterpolation(t,e,n,r,i){return _O.getInterpolation(t,this.a,this.b,this.c,e,n,r,i)}containsPoint(t){return _O.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return _O.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,r=this.b,i=this.c;let o,a;fO.subVectors(r,n),pO.subVectors(i,n),gO.subVectors(t,n);const s=fO.dot(gO),l=pO.dot(gO);if(s<=0&&l<=0)return e.copy(n);vO.subVectors(t,r);const c=fO.dot(vO),u=pO.dot(vO);if(c>=0&&u<=c)return e.copy(r);const h=s*u-c*l;if(h<=0&&s>=0&&c<=0)return o=s/(s-c),e.copy(n).addScaledVector(fO,o);yO.subVectors(t,i);const d=fO.dot(yO),f=pO.dot(yO);if(f>=0&&d<=f)return e.copy(i);const p=d*l-s*f;if(p<=0&&l>=0&&f<=0)return a=l/(l-f),e.copy(n).addScaledVector(pO,a);const m=c*f-d*u;if(m<=0&&u-c>=0&&d-f>=0)return mO.subVectors(i,r),a=(u-c)/(u-c+(d-f)),e.copy(r).addScaledVector(mO,a);const g=1/(m+p+h);return o=p*g,a=h*g,e.copy(n).addScaledVector(fO,o).addScaledVector(pO,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const xO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},wO={h:0,s:0,l:0},SO={h:0,s:0,l:0};function EO(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}class TO{constructor(t,e,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,n)}set(t,e,n){if(void 0===e&&void 0===n){const e=t;e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e)}else this.setRGB(t,e,n);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iC;return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,WC.toWorkingColorSpace(this,e),this}setRGB(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:WC.workingColorSpace;return this.r=t,this.g=e,this.b=n,WC.toWorkingColorSpace(this,r),this}setHSL(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:WC.workingColorSpace;if(t=TC(t,1),e=EC(e,0,1),n=EC(n,0,1),0===e)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+e):n+e-n*e,i=2*n-r;this.r=EO(i,r,t+1/3),this.g=EO(i,r,t),this.b=EO(i,r,t-1/3)}return WC.toWorkingColorSpace(this,r),this}setStyle(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iC;function r(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}if(e=/^(\w+)\(([^\)]*)\)/.exec(t)){let i;const o=e[1],a=e[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(e=/^\#([A-Fa-f\d]+)$/.exec(t)){const r=e[1],i=r.length;if(3===i)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(6===i)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,n);return this}setColorName(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iC;const n=xO[t.toLowerCase()];return void 0!==n?this.setHex(n,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=GC(t.r),this.g=GC(t.g),this.b=GC(t.b),this}copyLinearToSRGB(t){return this.r=XC(t.r),this.g=XC(t.g),this.b=XC(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iC;return WC.fromWorkingColorSpace(MO.copy(this),t),65536*Math.round(EC(255*MO.r,0,255))+256*Math.round(EC(255*MO.g,0,255))+Math.round(EC(255*MO.b,0,255))}getHexString(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iC;return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WC.workingColorSpace;WC.fromWorkingColorSpace(MO.copy(this),e);const n=MO.r,r=MO.g,i=MO.b,o=Math.max(n,r,i),a=Math.min(n,r,i);let s,l;const c=(a+o)/2;if(a===o)s=0,l=0;else{const t=o-a;switch(l=c<=.5?t/(o+a):t/(2-o-a),o){case n:s=(r-i)/t+(r<i?6:0);break;case r:s=(i-n)/t+2;break;case i:s=(n-r)/t+4}s/=6}return t.h=s,t.s=l,t.l=c,t}getRGB(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WC.workingColorSpace;return WC.fromWorkingColorSpace(MO.copy(this),e),t.r=MO.r,t.g=MO.g,t.b=MO.b,t}getStyle(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iC;WC.fromWorkingColorSpace(MO.copy(this),t);const e=MO.r,n=MO.g,r=MO.b;return t!==iC?"color(".concat(t," ").concat(e.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*e),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}offsetHSL(t,e,n){return this.getHSL(wO),this.setHSL(wO.h+t,wO.s+e,wO.l+n)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(wO),t.getHSL(SO);const n=MC(wO.h,SO.h,e),r=MC(wO.s,SO.s,e),i=MC(wO.l,SO.l,e);return this.setHSL(n,r,i),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,n=this.g,r=this.b,i=t.elements;return this.r=i[0]*e+i[3]*n+i[6]*r,this.g=i[1]*e+i[4]*n+i[7]*r,this.b=i[2]*e+i[5]*n+i[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const MO=new TO;TO.NAMES=xO;let AO=0;class CO extends yC{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:AO++}),this.uuid=SC(),this.name="",this.type="Material",this.blending=1,this.side=uA,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=dA,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new TO(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=dC,this.stencilZFail=dC,this.stencilZPass=dC,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!==t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn("THREE.Material: parameter '".concat(e,"' has value of undefined."));continue}const r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n:console.warn("THREE.Material: '".concat(e,"' is not a property of THREE.").concat(this.type,"."))}}toJSON(t){const e=void 0===t||"string"===typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(t){const e=[];for(const n in t){const r=t[n];delete r.metadata,e.push(r)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),this.side!==uA&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),this.blendEquation!==dA&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==dC&&(n.stencilFail=this.stencilFail),this.stencilZFail!==dC&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==dC&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),e){const e=r(t.textures),i=r(t.images);e.length>0&&(n.textures=e),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const t=e.length;n=new Array(t);for(let r=0;r!==t;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}class kO extends CO{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new TO(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=fA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const OO=new sk,PO=new NC;class RO{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=n,this.usage=fC,this.updateRange={offset:0,count:-1},this.gpuType=FA,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)PO.fromBufferAttribute(this,e),PO.applyMatrix3(t),this.setXY(e,PO.x,PO.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)OO.fromBufferAttribute(this,e),OO.applyMatrix3(t),this.setXYZ(e,OO.x,OO.y,OO.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)OO.fromBufferAttribute(this,e),OO.applyMatrix4(t),this.setXYZ(e,OO.x,OO.y,OO.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)OO.fromBufferAttribute(this,e),OO.applyNormalMatrix(t),this.setXYZ(e,OO.x,OO.y,OO.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)OO.fromBufferAttribute(this,e),OO.transformDirection(t),this.setXYZ(e,OO.x,OO.y,OO.z);return this}set(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this}getComponent(t,e){let n=this.array[t*this.itemSize+e];return this.normalized&&(n=OC(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=PC(n,this.array)),this.array[t*this.itemSize+e]=n,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=OC(e,this.array)),e}setX(t,e){return this.normalized&&(e=PC(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=OC(e,this.array)),e}setY(t,e){return this.normalized&&(e=PC(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=OC(e,this.array)),e}setZ(t,e){return this.normalized&&(e=PC(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=OC(e,this.array)),e}setW(t,e){return this.normalized&&(e=PC(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=PC(e,this.array),n=PC(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,r){return t*=this.itemSize,this.normalized&&(e=PC(e,this.array),n=PC(n,this.array),r=PC(r,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this}setXYZW(t,e,n,r,i){return t*=this.itemSize,this.normalized&&(e=PC(e,this.array),n=PC(n,this.array),r=PC(r,this.array),i=PC(i,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==fC&&(t.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(t.updateRange=this.updateRange),t}}class NO extends RO{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class LO extends RO{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class IO extends RO{constructor(t,e,n){super(new Float32Array(t),e,n)}}let DO=0;const jO=new jk,UO=new lO,FO=new sk,zO=new uk,BO=new uk,VO=new sk;class HO extends yC{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:DO++}),this.uuid=SC(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(DC(t)?LO:NO)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new LC).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return jO.makeRotationFromQuaternion(t),this.applyMatrix4(jO),this}rotateX(t){return jO.makeRotationX(t),this.applyMatrix4(jO),this}rotateY(t){return jO.makeRotationY(t),this.applyMatrix4(jO),this}rotateZ(t){return jO.makeRotationZ(t),this.applyMatrix4(jO),this}translate(t,e,n){return jO.makeTranslation(t,e,n),this.applyMatrix4(jO),this}scale(t,e,n){return jO.makeScale(t,e,n),this.applyMatrix4(jO),this}lookAt(t){return UO.lookAt(t),UO.updateMatrix(),this.applyMatrix4(UO.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(FO).negate(),this.translate(FO.x,FO.y,FO.z),this}setFromPoints(t){const e=[];for(let n=0,r=t.length;n<r;n++){const r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new IO(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new uk);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new sk(-1/0,-1/0,-1/0),new sk(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let n=0,r=e.length;n<r;n++){const t=e[n];zO.setFromBufferAttribute(t),this.morphTargetsRelative?(VO.addVectors(this.boundingBox.min,zO.min),this.boundingBox.expandByPoint(VO),VO.addVectors(this.boundingBox.max,zO.max),this.boundingBox.expandByPoint(VO)):(this.boundingBox.expandByPoint(zO.min),this.boundingBox.expandByPoint(zO.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Ck);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new sk,1/0);if(t){const n=this.boundingSphere.center;if(zO.setFromBufferAttribute(t),e)for(let t=0,i=e.length;t<i;t++){const n=e[t];BO.setFromBufferAttribute(n),this.morphTargetsRelative?(VO.addVectors(zO.min,BO.min),zO.expandByPoint(VO),VO.addVectors(zO.max,BO.max),zO.expandByPoint(VO)):(zO.expandByPoint(BO.min),zO.expandByPoint(BO.max))}zO.getCenter(n);let r=0;for(let e=0,i=t.count;e<i;e++)VO.fromBufferAttribute(t,e),r=Math.max(r,n.distanceToSquared(VO));if(e)for(let i=0,o=e.length;i<o;i++){const o=e[i],a=this.morphTargetsRelative;for(let e=0,i=o.count;e<i;e++)VO.fromBufferAttribute(o,e),a&&(FO.fromBufferAttribute(t,e),VO.add(FO)),r=Math.max(r,n.distanceToSquared(VO))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.array,r=e.position.array,i=e.normal.array,o=e.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new RO(new Float32Array(4*a),4));const s=this.getAttribute("tangent").array,l=[],c=[];for(let T=0;T<a;T++)l[T]=new sk,c[T]=new sk;const u=new sk,h=new sk,d=new sk,f=new NC,p=new NC,m=new NC,g=new sk,v=new sk;function y(t,e,n){u.fromArray(r,3*t),h.fromArray(r,3*e),d.fromArray(r,3*n),f.fromArray(o,2*t),p.fromArray(o,2*e),m.fromArray(o,2*n),h.sub(u),d.sub(u),p.sub(f),m.sub(f);const i=1/(p.x*m.y-m.x*p.y);isFinite(i)&&(g.copy(h).multiplyScalar(m.y).addScaledVector(d,-p.y).multiplyScalar(i),v.copy(d).multiplyScalar(p.x).addScaledVector(h,-m.x).multiplyScalar(i),l[t].add(g),l[e].add(g),l[n].add(g),c[t].add(v),c[e].add(v),c[n].add(v))}let b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(let T=0,M=b.length;T<M;++T){const t=b[T],e=t.start;for(let r=e,i=e+t.count;r<i;r+=3)y(n[r+0],n[r+1],n[r+2])}const _=new sk,x=new sk,w=new sk,S=new sk;function E(t){w.fromArray(i,3*t),S.copy(w);const e=l[t];_.copy(e),_.sub(w.multiplyScalar(w.dot(e))).normalize(),x.crossVectors(S,e);const n=x.dot(c[t])<0?-1:1;s[4*t]=_.x,s[4*t+1]=_.y,s[4*t+2]=_.z,s[4*t+3]=n}for(let T=0,M=b.length;T<M;++T){const t=b[T],e=t.start;for(let r=e,i=e+t.count;r<i;r+=3)E(n[r+0]),E(n[r+1]),E(n[r+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new RO(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let t=0,e=n.count;t<e;t++)n.setXYZ(t,0,0,0);const r=new sk,i=new sk,o=new sk,a=new sk,s=new sk,l=new sk,c=new sk,u=new sk;if(t)for(let h=0,d=t.count;h<d;h+=3){const d=t.getX(h+0),f=t.getX(h+1),p=t.getX(h+2);r.fromBufferAttribute(e,d),i.fromBufferAttribute(e,f),o.fromBufferAttribute(e,p),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),a.fromBufferAttribute(n,d),s.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),a.add(c),s.add(c),l.add(c),n.setXYZ(d,a.x,a.y,a.z),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let t=0,h=e.count;t<h;t+=3)r.fromBufferAttribute(e,t+0),i.fromBufferAttribute(e,t+1),o.fromBufferAttribute(e,t+2),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),n.setXYZ(t+0,c.x,c.y,c.z),n.setXYZ(t+1,c.x,c.y,c.z),n.setXYZ(t+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)VO.fromBufferAttribute(t,e),VO.normalize(),t.setXYZ(e,VO.x,VO.y,VO.z)}toNonIndexed(){function t(t,e){const n=t.array,r=t.itemSize,i=t.normalized,o=new n.constructor(e.length*r);let a=0,s=0;for(let l=0,c=e.length;l<c;l++){a=t.isInterleavedBufferAttribute?e[l]*t.data.stride+t.offset:e[l]*r;for(let t=0;t<r;t++)o[s++]=n[a++]}return new RO(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new HO,n=this.index.array,r=this.attributes;for(const a in r){const i=t(r[a],n);e.setAttribute(a,i)}const i=this.morphAttributes;for(const a in i){const r=[],o=i[a];for(let e=0,i=o.length;e<i;e++){const i=t(o[e],n);r.push(i)}e.morphAttributes[a]=r}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,s=o.length;a<s;a++){const t=o[a];e.addGroup(t.start,t.count,t.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const s in n){const e=n[s];t.data.attributes[s]=e.toJSON(t.data)}const r={};let i=!1;for(const s in this.morphAttributes){const e=this.morphAttributes[s],n=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];n.push(i.toJSON(t.data))}n.length>0&&(r[s]=n,i=!0)}i&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const r=t.attributes;for(const l in r){const t=r[l];this.setAttribute(l,t.clone(e))}const i=t.morphAttributes;for(const l in i){const t=[],n=i[l];for(let r=0,i=n.length;r<i;r++)t.push(n[r].clone(e));this.morphAttributes[l]=t}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let l=0,c=o.length;l<c;l++){const t=o[l];this.addGroup(t.start,t.count,t.materialIndex)}const a=t.boundingBox;null!==a&&(this.boundingBox=a.clone());const s=t.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const qO=new jk,WO=new Dk,GO=new Ck,XO=new sk,KO=new sk,YO=new sk,$O=new sk,QO=new sk,ZO=new sk,JO=new NC,tP=new NC,eP=new NC,nP=new sk,rP=new sk,iP=new sk,oP=new sk,aP=new sk;class sP extends lO{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new HO,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new kO;super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=n.length;t<e;t++){const e=n[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}getVertexPosition(t,e){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,o=n.morphTargetsRelative;e.fromBufferAttribute(r,t);const a=this.morphTargetInfluences;if(i&&a){ZO.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=a[n],s=i[n];0!==r&&(QO.fromBufferAttribute(s,t),o?ZO.addScaledVector(QO,r):ZO.addScaledVector(QO.sub(e),r))}e.add(ZO)}return e}raycast(t,e){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),GO.copy(n.boundingSphere),GO.applyMatrix4(i),WO.copy(t.ray).recast(t.near),!1===GO.containsPoint(WO.origin)){if(null===WO.intersectSphere(GO,XO))return;if(WO.origin.distanceToSquared(XO)>(t.far-t.near)**2)return}qO.copy(i).invert(),WO.copy(t.ray).applyMatrix4(qO),null!==n.boundingBox&&!1===WO.intersectsBox(n.boundingBox)||this._computeIntersections(t,e,WO)}}_computeIntersections(t,e,n){let r;const i=this.geometry,o=this.material,a=i.index,s=i.attributes.position,l=i.attributes.uv,c=i.attributes.uv1,u=i.attributes.normal,h=i.groups,d=i.drawRange;if(null!==a)if(Array.isArray(o))for(let f=0,p=h.length;f<p;f++){const i=h[f],s=o[i.materialIndex];for(let o=Math.max(i.start,d.start),h=Math.min(a.count,Math.min(i.start+i.count,d.start+d.count));o<h;o+=3){r=lP(this,s,t,n,l,c,u,a.getX(o),a.getX(o+1),a.getX(o+2)),r&&(r.faceIndex=Math.floor(o/3),r.face.materialIndex=i.materialIndex,e.push(r))}}else{for(let i=Math.max(0,d.start),s=Math.min(a.count,d.start+d.count);i<s;i+=3){r=lP(this,o,t,n,l,c,u,a.getX(i),a.getX(i+1),a.getX(i+2)),r&&(r.faceIndex=Math.floor(i/3),e.push(r))}}else if(void 0!==s)if(Array.isArray(o))for(let f=0,p=h.length;f<p;f++){const i=h[f],a=o[i.materialIndex];for(let o=Math.max(i.start,d.start),h=Math.min(s.count,Math.min(i.start+i.count,d.start+d.count));o<h;o+=3){r=lP(this,a,t,n,l,c,u,o,o+1,o+2),r&&(r.faceIndex=Math.floor(o/3),r.face.materialIndex=i.materialIndex,e.push(r))}}else{for(let i=Math.max(0,d.start),a=Math.min(s.count,d.start+d.count);i<a;i+=3){r=lP(this,o,t,n,l,c,u,i,i+1,i+2),r&&(r.faceIndex=Math.floor(i/3),e.push(r))}}}}function lP(t,e,n,r,i,o,a,s,l,c){t.getVertexPosition(s,KO),t.getVertexPosition(l,YO),t.getVertexPosition(c,$O);const u=function(t,e,n,r,i,o,a,s){let l;if(l=e.side===hA?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,e.side===uA,s),null===l)return null;aP.copy(s),aP.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(aP);return c<n.near||c>n.far?null:{distance:c,point:aP.clone(),object:t}}(t,e,n,r,KO,YO,$O,oP);if(u){i&&(JO.fromBufferAttribute(i,s),tP.fromBufferAttribute(i,l),eP.fromBufferAttribute(i,c),u.uv=_O.getInterpolation(oP,KO,YO,$O,JO,tP,eP,new NC)),o&&(JO.fromBufferAttribute(o,s),tP.fromBufferAttribute(o,l),eP.fromBufferAttribute(o,c),u.uv1=_O.getInterpolation(oP,KO,YO,$O,JO,tP,eP,new NC),u.uv2=u.uv1),a&&(nP.fromBufferAttribute(a,s),rP.fromBufferAttribute(a,l),iP.fromBufferAttribute(a,c),u.normal=_O.getInterpolation(oP,KO,YO,$O,nP,rP,iP,new sk),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const t={a:s,b:l,c:c,normal:new sk,materialIndex:0};_O.getNormal(KO,YO,$O,t.normal),u.face=t}return u}class cP extends HO{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};const a=this;r=Math.floor(r),i=Math.floor(i),o=Math.floor(o);const s=[],l=[],c=[],u=[];let h=0,d=0;function f(t,e,n,r,i,o,f,p,m,g,v){const y=o/m,b=f/g,_=o/2,x=f/2,w=p/2,S=m+1,E=g+1;let T=0,M=0;const A=new sk;for(let a=0;a<E;a++){const o=a*b-x;for(let s=0;s<S;s++){const h=s*y-_;A[t]=h*r,A[e]=o*i,A[n]=w,l.push(A.x,A.y,A.z),A[t]=0,A[e]=0,A[n]=p>0?1:-1,c.push(A.x,A.y,A.z),u.push(s/m),u.push(1-a/g),T+=1}}for(let a=0;a<g;a++)for(let t=0;t<m;t++){const e=h+t+S*a,n=h+t+S*(a+1),r=h+(t+1)+S*(a+1),i=h+(t+1)+S*a;s.push(e,n,i),s.push(n,r,i),M+=6}a.addGroup(d,M,v),d+=M,h+=T}f("z","y","x",-1,-1,n,e,t,o,i,0),f("z","y","x",1,-1,n,e,-t,o,i,1),f("x","z","y",1,1,t,n,e,r,o,2),f("x","z","y",1,-1,t,n,-e,r,o,3),f("x","y","z",1,-1,t,e,n,r,i,4),f("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new IO(l,3)),this.setAttribute("normal",new IO(c,3)),this.setAttribute("uv",new IO(u,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new cP(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function uP(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function hP(t){const e={};for(let n=0;n<t.length;n++){const r=uP(t[n]);for(const t in r)e[t]=r[t]}return e}function dP(t){return null===t.getRenderTarget()?t.outputColorSpace:WC.workingColorSpace}const fP={clone:uP,merge:hP};class pP extends CO{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=uP(t.uniforms),this.uniformsGroups=function(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r].value;n&&n.isTexture?e.uniforms[r]={type:"t",value:n.toJSON(t).uuid}:n&&n.isColor?e.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?e.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?e.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?e.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?e.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?e.uniforms[r]={type:"m4",value:n.toArray()}:e.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}class mP extends lO{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new jk,this.projectionMatrix=new jk,this.projectionMatrixInverse=new jk,this.coordinateSystem=gC}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class gP extends mP{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*wC*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*xC*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*wC*Math.atan(Math.tan(.5*xC*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,n,r,i,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*xC*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const t=o.fullWidth,a=o.fullHeight;i+=o.offsetX*r/t,e-=o.offsetY*n/a,r*=o.width/t,n*=o.height/a}const a=this.filmOffset;0!==a&&(i+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const vP=-90;class yP extends lO{constructor(t,e,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new gP(vP,1,t,e);r.layers=this.layers,this.add(r);const i=new gP(vP,1,t,e);i.layers=this.layers,this.add(i);const o=new gP(vP,1,t,e);o.layers=this.layers,this.add(o);const a=new gP(vP,1,t,e);a.layers=this.layers,this.add(a);const s=new gP(vP,1,t,e);s.layers=this.layers,this.add(s);const l=new gP(vP,1,t,e);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[n,r,i,o,a,s]=e;for(const l of e)this.remove(l);if(t===gC)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),s.up.set(0,1,0),s.lookAt(0,0,-1);else{if(t!==vC)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),s.up.set(0,-1,0),s.lookAt(0,0,-1)}for(const l of e)this.add(l),l.updateMatrixWorld()}update(t,e){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[i,o,a,s,l,c]=this.children,u=t.getRenderTarget(),h=t.getActiveCubeFace(),d=t.getActiveMipmapLevel(),f=t.xr.enabled;t.xr.enabled=!1;const p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0,r),t.render(e,i),t.setRenderTarget(n,1,r),t.render(e,o),t.setRenderTarget(n,2,r),t.render(e,a),t.setRenderTarget(n,3,r),t.render(e,s),t.setRenderTarget(n,4,r),t.render(e,l),n.texture.generateMipmaps=p,t.setRenderTarget(n,5,r),t.render(e,c),t.setRenderTarget(u,h,d),t.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}class bP extends tk{constructor(t,e,n,r,i,o,a,s,l,c){super(t=void 0!==t?t:[],e=void 0!==e?e:wA,n,r,i,o,a,s,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class _P extends rk{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t,t,e),this.isWebGLCubeRenderTarget=!0;const n={width:t,height:t,depth:1},r=[n,n,n,n,n,n];void 0!==e.encoding&&(zC("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),e.colorSpace=e.encoding===nC?iC:rC),this.texture=new bP(r,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:NA}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",o=new cP(5,5,5),a=new pP({name:"CubemapFromEquirect",uniforms:uP(n),vertexShader:r,fragmentShader:i,side:hA,blending:0});a.uniforms.tEquirect.value=e;const s=new sP(o,a),l=e.minFilter;e.minFilter===LA&&(e.minFilter=NA);return new yP(1,10,this).update(t,s),e.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(t,e,n,r){const i=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,n,r);t.setRenderTarget(i)}}const xP=new sk,wP=new sk,SP=new LC;class EP{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sk(1,0,0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const r=xP.subVectors(n,e).cross(wP.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const n=t.delta(xP),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const i=-(t.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:e.copy(t.start).addScaledVector(n,i)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||SP.getNormalMatrix(t),r=this.coplanarPoint(xP).applyMatrix4(t),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const TP=new Ck,MP=new sk;class AP{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new EP,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new EP,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new EP,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new EP,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new EP,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new EP;this.planes=[t,e,n,r,i,o]}set(t,e,n,r,i,o){const a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gC;const n=this.planes,r=t.elements,i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],c=r[5],u=r[6],h=r[7],d=r[8],f=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15];if(n[0].setComponents(s-i,h-l,m-d,b-g).normalize(),n[1].setComponents(s+i,h+l,m+d,b+g).normalize(),n[2].setComponents(s+o,h+c,m+f,b+v).normalize(),n[3].setComponents(s-o,h-c,m-f,b-v).normalize(),n[4].setComponents(s-a,h-u,m-p,b-y).normalize(),e===gC)n[5].setComponents(s+a,h+u,m+p,b+y).normalize();else{if(e!==vC)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);n[5].setComponents(a,u,p,y).normalize()}return this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),TP.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere(),TP.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(TP)}intersectsSprite(t){return TP.center.set(0,0,0),TP.radius=.7071067811865476,TP.applyMatrix4(t.matrixWorld),this.intersectsSphere(TP)}intersectsSphere(t){const e=this.planes,n=t.center,r=-t.radius;for(let i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const r=e[n];if(MP.x=r.normal.x>0?t.max.x:t.min.x,MP.y=r.normal.y>0?t.max.y:t.min.y,MP.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(MP)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function CP(){let t=null,e=!1,n=null,r=null;function i(e,o){n(e,o),r=t.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==n&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function kP(t,e){const n=e.isWebGL2,r=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),r.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);const n=r.get(e);n&&(t.deleteBuffer(n.buffer),r.delete(e))},update:function(e,i){if(e.isGLBufferAttribute){const t=r.get(e);return void((!t||t.version<e.version)&&r.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const o=r.get(e);void 0===o?r.set(e,function(e,r){const i=e.array,o=e.usage,a=t.createBuffer();let s;if(t.bindBuffer(r,a),t.bufferData(r,i,o),e.onUploadCallback(),i instanceof Float32Array)s=t.FLOAT;else if(i instanceof Uint16Array)if(e.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");s=t.HALF_FLOAT}else s=t.UNSIGNED_SHORT;else if(i instanceof Int16Array)s=t.SHORT;else if(i instanceof Uint32Array)s=t.UNSIGNED_INT;else if(i instanceof Int32Array)s=t.INT;else if(i instanceof Int8Array)s=t.BYTE;else if(i instanceof Uint8Array)s=t.UNSIGNED_BYTE;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);s=t.UNSIGNED_BYTE}return{buffer:a,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:e.version}}(e,i)):o.version<e.version&&(!function(e,r,i){const o=r.array,a=r.updateRange;t.bindBuffer(i,e),-1===a.count?t.bufferSubData(i,0,o):(n?t.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):t.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1),r.onUploadCallback()}(o.buffer,e,i),o.version=e.version)}}}class OP extends HO{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};const i=t/2,o=e/2,a=Math.floor(n),s=Math.floor(r),l=a+1,c=s+1,u=t/a,h=e/s,d=[],f=[],p=[],m=[];for(let g=0;g<c;g++){const t=g*h-o;for(let e=0;e<l;e++){const n=e*u-i;f.push(n,-t,0),p.push(0,0,1),m.push(e/a),m.push(1-g/s)}}for(let g=0;g<s;g++)for(let t=0;t<a;t++){const e=t+l*g,n=t+l*(g+1),r=t+1+l*(g+1),i=t+1+l*g;d.push(e,n,i),d.push(n,r,i)}this.setIndex(d),this.setAttribute("position",new IO(f,3)),this.setAttribute("normal",new IO(p,3)),this.setAttribute("uv",new IO(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new OP(t.width,t.height,t.widthSegments,t.heightSegments)}}const PP={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},RP={common:{diffuse:{value:new TO(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new LC},alphaMap:{value:null},alphaMapTransform:{value:new LC},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new LC}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new LC}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new LC}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new LC},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new LC},normalScale:{value:new NC(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new LC},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new LC}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new LC}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new LC}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new TO(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new TO(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new LC},alphaTest:{value:0},uvTransform:{value:new LC}},sprite:{diffuse:{value:new TO(16777215)},opacity:{value:1},center:{value:new NC(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new LC},alphaMap:{value:null},alphaMapTransform:{value:new LC},alphaTest:{value:0}}},NP={basic:{uniforms:hP([RP.common,RP.specularmap,RP.envmap,RP.aomap,RP.lightmap,RP.fog]),vertexShader:PP.meshbasic_vert,fragmentShader:PP.meshbasic_frag},lambert:{uniforms:hP([RP.common,RP.specularmap,RP.envmap,RP.aomap,RP.lightmap,RP.emissivemap,RP.bumpmap,RP.normalmap,RP.displacementmap,RP.fog,RP.lights,{emissive:{value:new TO(0)}}]),vertexShader:PP.meshlambert_vert,fragmentShader:PP.meshlambert_frag},phong:{uniforms:hP([RP.common,RP.specularmap,RP.envmap,RP.aomap,RP.lightmap,RP.emissivemap,RP.bumpmap,RP.normalmap,RP.displacementmap,RP.fog,RP.lights,{emissive:{value:new TO(0)},specular:{value:new TO(1118481)},shininess:{value:30}}]),vertexShader:PP.meshphong_vert,fragmentShader:PP.meshphong_frag},standard:{uniforms:hP([RP.common,RP.envmap,RP.aomap,RP.lightmap,RP.emissivemap,RP.bumpmap,RP.normalmap,RP.displacementmap,RP.roughnessmap,RP.metalnessmap,RP.fog,RP.lights,{emissive:{value:new TO(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:PP.meshphysical_vert,fragmentShader:PP.meshphysical_frag},toon:{uniforms:hP([RP.common,RP.aomap,RP.lightmap,RP.emissivemap,RP.bumpmap,RP.normalmap,RP.displacementmap,RP.gradientmap,RP.fog,RP.lights,{emissive:{value:new TO(0)}}]),vertexShader:PP.meshtoon_vert,fragmentShader:PP.meshtoon_frag},matcap:{uniforms:hP([RP.common,RP.bumpmap,RP.normalmap,RP.displacementmap,RP.fog,{matcap:{value:null}}]),vertexShader:PP.meshmatcap_vert,fragmentShader:PP.meshmatcap_frag},points:{uniforms:hP([RP.points,RP.fog]),vertexShader:PP.points_vert,fragmentShader:PP.points_frag},dashed:{uniforms:hP([RP.common,RP.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:PP.linedashed_vert,fragmentShader:PP.linedashed_frag},depth:{uniforms:hP([RP.common,RP.displacementmap]),vertexShader:PP.depth_vert,fragmentShader:PP.depth_frag},normal:{uniforms:hP([RP.common,RP.bumpmap,RP.normalmap,RP.displacementmap,{opacity:{value:1}}]),vertexShader:PP.meshnormal_vert,fragmentShader:PP.meshnormal_frag},sprite:{uniforms:hP([RP.sprite,RP.fog]),vertexShader:PP.sprite_vert,fragmentShader:PP.sprite_frag},background:{uniforms:{uvTransform:{value:new LC},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:PP.background_vert,fragmentShader:PP.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:PP.backgroundCube_vert,fragmentShader:PP.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:PP.cube_vert,fragmentShader:PP.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:PP.equirect_vert,fragmentShader:PP.equirect_frag},distanceRGBA:{uniforms:hP([RP.common,RP.displacementmap,{referencePosition:{value:new sk},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:PP.distanceRGBA_vert,fragmentShader:PP.distanceRGBA_frag},shadow:{uniforms:hP([RP.lights,RP.fog,{color:{value:new TO(0)},opacity:{value:1}}]),vertexShader:PP.shadow_vert,fragmentShader:PP.shadow_frag}};NP.physical={uniforms:hP([NP.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new LC},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new LC},clearcoatNormalScale:{value:new NC(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new LC},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new LC},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new LC},sheen:{value:0},sheenColor:{value:new TO(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new LC},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new LC},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new LC},transmissionSamplerSize:{value:new NC},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new LC},attenuationDistance:{value:0},attenuationColor:{value:new TO(0)},specularColor:{value:new TO(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new LC},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new LC},anisotropyVector:{value:new NC},anisotropyMap:{value:null},anisotropyMapTransform:{value:new LC}}]),vertexShader:PP.meshphysical_vert,fragmentShader:PP.meshphysical_frag};const LP={r:0,b:0,g:0};function IP(t,e,n,r,i,o,a){const s=new TO(0);let l,c,u=!0===o?0:1,h=null,d=0,f=null;function p(e,n){e.getRGB(LP,dP(t)),r.buffers.color.setClear(LP.r,LP.g,LP.b,n,a)}return{getClearColor:function(){return s},setClearColor:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(t),u=e,p(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(t){u=t,p(s,u)},render:function(o,m){let g=!1,v=!0===m.isScene?m.background:null;if(v&&v.isTexture){v=(m.backgroundBlurriness>0?n:e).get(v)}null===v?p(s,u):v&&v.isColor&&(p(v,1),g=!0);const y=t.xr.getEnvironmentBlendMode();"additive"===y?r.buffers.color.setClear(0,0,0,1,a):"alpha-blend"===y&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||g)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),v&&(v.isCubeTexture||v.mapping===MA)?(void 0===c&&(c=new sP(new cP(1,1,1),new pP({name:"BackgroundCubeMaterial",uniforms:uP(NP.backgroundCube.uniforms),vertexShader:NP.backgroundCube.vertexShader,fragmentShader:NP.backgroundCube.fragmentShader,side:hA,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=v,c.material.uniforms.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=m.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,c.material.toneMapped=WC.getTransfer(v.colorSpace)!==cC,h===v&&d===v.version&&f===t.toneMapping||(c.material.needsUpdate=!0,h=v,d=v.version,f=t.toneMapping),c.layers.enableAll(),o.unshift(c,c.geometry,c.material,0,0,null)):v&&v.isTexture&&(void 0===l&&(l=new sP(new OP(2,2),new pP({name:"BackgroundMaterial",uniforms:uP(NP.background.uniforms),vertexShader:NP.background.vertexShader,fragmentShader:NP.background.fragmentShader,side:uA,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=v,l.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,l.material.toneMapped=WC.getTransfer(v.colorSpace)!==cC,!0===v.matrixAutoUpdate&&v.updateMatrix(),l.material.uniforms.uvTransform.value.copy(v.matrix),h===v&&d===v.version&&f===t.toneMapping||(l.material.needsUpdate=!0,h=v,d=v.version,f=t.toneMapping),l.layers.enableAll(),o.unshift(l,l.geometry,l.material,0,0,null))}}}function DP(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,s={},l=f(null);let c=l,u=!1;function h(e){return r.isWebGL2?t.bindVertexArray(e):o.bindVertexArrayOES(e)}function d(e){return r.isWebGL2?t.deleteVertexArray(e):o.deleteVertexArrayOES(e)}function f(t){const e=[],n=[],r=[];for(let o=0;o<i;o++)e[o]=0,n[o]=0,r[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:r,object:t,attributes:{},index:null}}function p(){const t=c.newAttributes;for(let e=0,n=t.length;e<n;e++)t[e]=0}function m(t){g(t,0)}function g(n,i){const o=c.newAttributes,a=c.enabledAttributes,s=c.attributeDivisors;if(o[n]=1,0===a[n]&&(t.enableVertexAttribArray(n),a[n]=1),s[n]!==i){(r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i}}function v(){const e=c.newAttributes,n=c.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==e[r]&&(t.disableVertexAttribArray(r),n[r]=0)}function y(e,n,r,i,o,a,s){!0===s?t.vertexAttribIPointer(e,n,r,o,a):t.vertexAttribPointer(e,n,r,i,o,a)}function b(){_(),u=!0,c!==l&&(c=l,h(c.object))}function _(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,d,b,_){let x=!1;if(a){const e=function(e,n,i){const a=!0===i.wireframe;let l=s[e.id];void 0===l&&(l={},s[e.id]=l);let c=l[n.id];void 0===c&&(c={},l[n.id]=c);let u=c[a];void 0===u&&(u=f(r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()),c[a]=u);return u}(b,d,l);c!==e&&(c=e,h(c.object)),x=function(t,e,n,r){const i=c.attributes,o=e.attributes;let a=0;const s=n.getAttributes();for(const l in s){if(s[l].location>=0){const e=i[l];let n=o[l];if(void 0===n&&("instanceMatrix"===l&&t.instanceMatrix&&(n=t.instanceMatrix),"instanceColor"===l&&t.instanceColor&&(n=t.instanceColor)),void 0===e)return!0;if(e.attribute!==n)return!0;if(n&&e.data!==n.data)return!0;a++}}return c.attributesNum!==a||c.index!==r}(i,b,d,_),x&&function(t,e,n,r){const i={},o=e.attributes;let a=0;const s=n.getAttributes();for(const l in s){if(s[l].location>=0){let e=o[l];void 0===e&&("instanceMatrix"===l&&t.instanceMatrix&&(e=t.instanceMatrix),"instanceColor"===l&&t.instanceColor&&(e=t.instanceColor));const n={};n.attribute=e,e&&e.data&&(n.data=e.data),i[l]=n,a++}}c.attributes=i,c.attributesNum=a,c.index=r}(i,b,d,_)}else{const t=!0===l.wireframe;c.geometry===b.id&&c.program===d.id&&c.wireframe===t||(c.geometry=b.id,c.program=d.id,c.wireframe=t,x=!0)}null!==_&&n.update(_,t.ELEMENT_ARRAY_BUFFER),(x||u)&&(u=!1,function(i,o,a,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;p();const l=s.attributes,c=a.getAttributes(),u=o.defaultAttributeValues;for(const e in c){const o=c[e];if(o.location>=0){let a=l[e];if(void 0===a&&("instanceMatrix"===e&&i.instanceMatrix&&(a=i.instanceMatrix),"instanceColor"===e&&i.instanceColor&&(a=i.instanceColor)),void 0!==a){const e=a.normalized,l=a.itemSize,c=n.get(a);if(void 0===c)continue;const u=c.buffer,h=c.type,d=c.bytesPerElement,f=!0===r.isWebGL2&&(h===t.INT||h===t.UNSIGNED_INT||a.gpuType===jA);if(a.isInterleavedBufferAttribute){const n=a.data,r=n.stride,c=a.offset;if(n.isInstancedInterleavedBuffer){for(let t=0;t<o.locationSize;t++)g(o.location+t,n.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let t=0;t<o.locationSize;t++)m(o.location+t);t.bindBuffer(t.ARRAY_BUFFER,u);for(let t=0;t<o.locationSize;t++)y(o.location+t,l/o.locationSize,h,e,r*d,(c+l/o.locationSize*t)*d,f)}else{if(a.isInstancedBufferAttribute){for(let t=0;t<o.locationSize;t++)g(o.location+t,a.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=a.meshPerAttribute*a.count)}else for(let t=0;t<o.locationSize;t++)m(o.location+t);t.bindBuffer(t.ARRAY_BUFFER,u);for(let t=0;t<o.locationSize;t++)y(o.location+t,l/o.locationSize,h,e,l*d,l/o.locationSize*t*d,f)}}else if(void 0!==u){const n=u[e];if(void 0!==n)switch(n.length){case 2:t.vertexAttrib2fv(o.location,n);break;case 3:t.vertexAttrib3fv(o.location,n);break;case 4:t.vertexAttrib4fv(o.location,n);break;default:t.vertexAttrib1fv(o.location,n)}}}}v()}(i,l,d,b),null!==_&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(_).buffer))},reset:b,resetDefaultState:_,dispose:function(){b();for(const t in s){const e=s[t];for(const t in e){const n=e[t];for(const t in n)d(n[t].object),delete n[t];delete e[t]}delete s[t]}},releaseStatesOfGeometry:function(t){if(void 0===s[t.id])return;const e=s[t.id];for(const n in e){const t=e[n];for(const e in t)d(t[e].object),delete t[e];delete e[n]}delete s[t.id]},releaseStatesOfProgram:function(t){for(const e in s){const n=s[e];if(void 0===n[t.id])continue;const r=n[t.id];for(const t in r)d(r[t].object),delete r[t];delete n[t.id]}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:v}}function jP(t,e,n,r){const i=r.isWebGL2;let o;this.setMode=function(t){o=t},this.render=function(e,r){t.drawArrays(o,e,r),n.update(r,o,1)},this.renderInstances=function(r,a,s){if(0===s)return;let l,c;if(i)l=t,c="drawArraysInstanced";else if(l=e.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](o,r,a,s),n.update(a,o,s)}}function UP(t,e,n){let r;function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===t.constructor.name;let a=void 0!==n.precision?n.precision:"highp";const s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);const l=o||e.has("WEBGL_draw_buffers"),c=!0===n.logarithmicDepthBuffer,u=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_TEXTURE_SIZE),f=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),m=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),v=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),y=h>0,b=o||e.has("OES_texture_float");return{isWebGL2:o,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===e.has("EXT_texture_filter_anisotropic")){const n=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:m,maxVaryings:g,maxFragmentUniforms:v,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:y&&b,maxSamples:o?t.getParameter(t.MAX_SAMPLES):0}}function FP(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new EP,s=new LC,l={value:null,needsUpdate:!1};function c(t,n,r,i){const o=null!==t?t.length:0;let c=null;if(0!==o){if(c=l.value,!0!==i||null===c){const e=r+4*o,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===c||c.length<e)&&(c=new Float32Array(e));for(let n=0,l=r;n!==o;++n,l+=4)a.copy(t[n]).applyMatrix4(i,s),a.normal.toArray(c,l),c[l+3]=a.constant}l.value=c,l.needsUpdate=!0}return e.numPlanes=o,e.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e){const n=0!==t.length||e||0!==r||i;return i=e,r=t.length,n},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(t,e){n=c(t,e,0)},this.setState=function(a,s,u){const h=a.clippingPlanes,d=a.clipIntersection,f=a.clipShadows,p=t.get(a);if(!i||null===h||0===h.length||o&&!f)o?c(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);e.numPlanes=r,e.numIntersection=0}();else{const t=o?0:r,e=4*t;let i=p.clippingState||null;l.value=i,i=c(h,s,e,u);for(let r=0;r!==e;++r)i[r]=n[r];p.clippingState=i,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=t}}}function zP(t){let e=new WeakMap;function n(t,e){return e===EA?t.mapping=wA:e===TA&&(t.mapping=SA),t}function r(t){const n=t.target;n.removeEventListener("dispose",r);const i=e.get(n);void 0!==i&&(e.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){const o=i.mapping;if(o===EA||o===TA){if(e.has(i)){return n(e.get(i).texture,i.mapping)}{const o=i.image;if(o&&o.height>0){const a=new _P(o.height/2);return a.fromEquirectangularTexture(t,i),e.set(i,a),i.addEventListener("dispose",r),n(a.texture,i.mapping)}return null}}}return i},dispose:function(){e=new WeakMap}}}class BP extends mP{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-t,o=n+t,a=r+e,s=r-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=t*this.view.offsetX,o=i+t*this.view.width,a-=e*this.view.offsetY,s=a-e*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}const VP=[.125,.215,.35,.446,.526,.582],HP=20,qP=new BP,WP=new TO;let GP=null,XP=0,KP=0;const YP=(1+Math.sqrt(5))/2,$P=1/YP,QP=[new sk(1,1,1),new sk(-1,1,1),new sk(1,1,-1),new sk(-1,1,-1),new sk(0,YP,$P),new sk(0,YP,-$P),new sk($P,0,YP),new sk(-$P,0,YP),new sk(YP,$P,0),new sk(-YP,$P,0)];class ZP{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;GP=this._renderer.getRenderTarget(),XP=this._renderer.getActiveCubeFace(),KP=this._renderer.getActiveMipmapLevel(),this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(t,n,r,i),e>0&&this._blur(i,0,0,e),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(t,e)}fromCubemap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=nR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=eR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(GP,XP,KP),t.scissorTest=!1,tR(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===wA||t.mapping===SA?this._setSize(0===t.image.length?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),GP=this._renderer.getRenderTarget(),XP=this._renderer.getActiveCubeFace(),KP=this._renderer.getActiveMipmapLevel();const n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,n={magFilter:NA,minFilter:NA,generateMipmaps:!1,type:zA,format:VA,colorSpace:oC,depthBuffer:!1},r=JP(t,e,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=JP(t,e,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(t){const e=[],n=[],r=[];let i=t;const o=t-4+1+VP.length;for(let a=0;a<o;a++){const o=Math.pow(2,i);n.push(o);let s=1/o;a>t-4?s=VP[a-t+4-1]:0===a&&(s=0),r.push(s);const l=1/(o-2),c=-l,u=1+l,h=[c,c,u,c,u,u,c,c,u,u,c,u],d=6,f=6,p=3,m=2,g=1,v=new Float32Array(p*f*d),y=new Float32Array(m*f*d),b=new Float32Array(g*f*d);for(let t=0;t<d;t++){const e=t%3*2/3-1,n=t>2?0:-1,r=[e,n,0,e+2/3,n,0,e+2/3,n+1,0,e,n,0,e+2/3,n+1,0,e,n+1,0];v.set(r,p*f*t),y.set(h,m*f*t);const i=[t,t,t,t,t,t];b.set(i,g*f*t)}const _=new HO;_.setAttribute("position",new RO(v,p)),_.setAttribute("uv",new RO(y,m)),_.setAttribute("faceIndex",new RO(b,g)),e.push(_),i>4&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(t,e,n){const r=new Float32Array(HP),i=new sk(0,1,0),o=new pP({name:"SphericalGaussianBlur",defines:{n:HP,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(t,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return o}(r,t,e)}return r}_compileMaterial(t){const e=new sP(this._lodPlanes[0],t);this._renderer.compile(e,qP)}_sceneToCubeUV(t,e,n,r){const i=new gP(90,1,e,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,c=s.toneMapping;s.getClearColor(WP),s.toneMapping=gA,s.autoClear=!1;const u=new kO({name:"PMREM.Background",side:hA,depthWrite:!1,depthTest:!1}),h=new sP(new cP,u);let d=!1;const f=t.background;f?f.isColor&&(u.color.copy(f),t.background=null,d=!0):(u.color.copy(WP),d=!0);for(let p=0;p<6;p++){const e=p%3;0===e?(i.up.set(0,o[p],0),i.lookAt(a[p],0,0)):1===e?(i.up.set(0,0,o[p]),i.lookAt(0,a[p],0)):(i.up.set(0,o[p],0),i.lookAt(0,0,a[p]));const n=this._cubeSize;tR(r,e*n,p>2?n:0,n,n),s.setRenderTarget(r),d&&s.render(h,i),s.render(t,i)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=c,s.autoClear=l,t.background=f}_textureToCubeUV(t,e){const n=this._renderer,r=t.mapping===wA||t.mapping===SA;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=nR()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=eR());const i=r?this._cubemapMaterial:this._equirectMaterial,o=new sP(this._lodPlanes[0],i);i.uniforms.envMap.value=t;const a=this._cubeSize;tR(e,0,0,3*a,2*a),n.setRenderTarget(e),n.render(o,qP)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const e=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),n=QP[(r-1)%QP.length];this._blur(t,r-1,r,e,n)}e.autoClear=n}_blur(t,e,n,r,i){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,n,r,"latitudinal",i),this._halfBlur(o,t,n,n,r,"longitudinal",i)}_halfBlur(t,e,n,r,i,o,a){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new sP(this._lodPlanes[r],l),u=l.uniforms,h=this._sizeLods[n]-1,d=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,f=i/d,p=isFinite(i)?1+Math.floor(3*f):HP;p>HP&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(HP));const m=[];let g=0;for(let b=0;b<HP;++b){const t=b/f,e=Math.exp(-t*t/2);m.push(e),0===b?g+=e:b<p&&(g+=2*e)}for(let b=0;b<m.length;b++)m[b]=m[b]/g;u.envMap.value=t.texture,u.samples.value=p,u.weights.value=m,u.latitudinal.value="latitudinal"===o,a&&(u.poleAxis.value=a);const{_lodMax:v}=this;u.dTheta.value=d,u.mipInt.value=v-n;const y=this._sizeLods[r];tR(e,3*y*(r>v-4?r-v+4:0),4*(this._cubeSize-y),3*y,2*y),s.setRenderTarget(e),s.render(c,qP)}}function JP(t,e,n){const r=new rk(t,e,n);return r.texture.mapping=MA,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function tR(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function eR(){return new pP({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function nR(){return new pP({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function rR(t){let e=new WeakMap,n=null;function r(t){const n=t.target;n.removeEventListener("dispose",r);const i=e.get(n);void 0!==i&&(e.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const o=i.mapping,a=o===EA||o===TA,s=o===wA||o===SA;if(a||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;let r=e.get(i);return null===n&&(n=new ZP(t)),r=a?n.fromEquirectangular(i,r):n.fromCubemap(i,r),e.set(i,r),r.texture}if(e.has(i))return e.get(i).texture;{const o=i.image;if(a&&o&&o.height>0||s&&o&&function(t){let e=0;const n=6;for(let r=0;r<n;r++)void 0!==t[r]&&e++;return e===n}(o)){null===n&&(n=new ZP(t));const o=a?n.fromEquirectangular(i):n.fromCubemap(i);return e.set(i,o),i.addEventListener("dispose",r),o.texture}return null}}}return i},dispose:function(){e=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function iR(t){const e={};function n(n){if(void 0!==e[n])return e[n];let r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(n)}return e[n]=r,r}return{has:function(t){return null!==n(t)},init:function(t){t.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(t){const e=n(t);return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function oR(t,e,n,r){const i={},o=new WeakMap;function a(t){const s=t.target;null!==s.index&&e.remove(s.index);for(const n in s.attributes)e.remove(s.attributes[n]);for(const n in s.morphAttributes){const t=s.morphAttributes[n];for(let n=0,r=t.length;n<r;n++)e.remove(t[n])}s.removeEventListener("dispose",a),delete i[s.id];const l=o.get(s);l&&(e.remove(l),o.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(t){const n=[],r=t.index,i=t.attributes.position;let a=0;if(null!==r){const t=r.array;a=r.version;for(let e=0,r=t.length;e<r;e+=3){const r=t[e+0],i=t[e+1],o=t[e+2];n.push(r,i,i,o,o,r)}}else{if(void 0===i)return;{const t=i.array;a=i.version;for(let e=0,r=t.length/3-1;e<r;e+=3){const t=e+0,r=e+1,i=e+2;n.push(t,r,r,i,i,t)}}}const s=new(DC(n)?LO:NO)(n,1);s.version=a;const l=o.get(t);l&&e.remove(l),o.set(t,s)}return{get:function(t,e){return!0===i[e.id]||(e.addEventListener("dispose",a),i[e.id]=!0,n.memory.geometries++),e},update:function(n){const r=n.attributes;for(const o in r)e.update(r[o],t.ARRAY_BUFFER);const i=n.morphAttributes;for(const o in i){const n=i[o];for(let r=0,i=n.length;r<i;r++)e.update(n[r],t.ARRAY_BUFFER)}},getWireframeAttribute:function(t){const e=o.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&s(t)}else s(t);return o.get(t)}}}function aR(t,e,n,r){const i=r.isWebGL2;let o,a,s;this.setMode=function(t){o=t},this.setIndex=function(t){a=t.type,s=t.bytesPerElement},this.render=function(e,r){t.drawElements(o,r,a,e*s),n.update(r,o,1)},this.renderInstances=function(r,l,c){if(0===c)return;let u,h;if(i)u=t,h="drawElementsInstanced";else if(u=e.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[h](o,l,a,r*s,c),n.update(l,o,c)}}function sR(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(n,r,i){switch(e.calls++,r){case t.TRIANGLES:e.triangles+=i*(n/3);break;case t.LINES:e.lines+=i*(n/2);break;case t.LINE_STRIP:e.lines+=i*(n-1);break;case t.LINE_LOOP:e.lines+=i*n;break;case t.POINTS:e.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function lR(t,e){return t[0]-e[0]}function cR(t,e){return Math.abs(e[1])-Math.abs(t[1])}function uR(t,e,n){const r={},i=new Float32Array(8),o=new WeakMap,a=new ek,s=[];for(let l=0;l<8;l++)s[l]=[l,0];return{update:function(l,c,u){const h=l.morphTargetInfluences;if(!0===e.isWebGL2){const d=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,f=void 0!==d?d.length:0;let p=o.get(c);if(void 0===p||p.count!==f){void 0!==p&&p.texture.dispose();const v=void 0!==c.morphAttributes.position,y=void 0!==c.morphAttributes.normal,b=void 0!==c.morphAttributes.color,_=c.morphAttributes.position||[],x=c.morphAttributes.normal||[],w=c.morphAttributes.color||[];let S=0;!0===v&&(S=1),!0===y&&(S=2),!0===b&&(S=3);let E=c.attributes.position.count*S,T=1;E>e.maxTextureSize&&(T=Math.ceil(E/e.maxTextureSize),E=e.maxTextureSize);const M=new Float32Array(E*T*4*f),A=new ik(M,E,T,f);A.type=FA,A.needsUpdate=!0;const C=4*S;for(let O=0;O<f;O++){const P=_[O],R=x[O],N=w[O],L=E*T*4*O;for(let I=0;I<P.count;I++){const D=I*C;!0===v&&(a.fromBufferAttribute(P,I),M[L+D+0]=a.x,M[L+D+1]=a.y,M[L+D+2]=a.z,M[L+D+3]=0),!0===y&&(a.fromBufferAttribute(R,I),M[L+D+4]=a.x,M[L+D+5]=a.y,M[L+D+6]=a.z,M[L+D+7]=0),!0===b&&(a.fromBufferAttribute(N,I),M[L+D+8]=a.x,M[L+D+9]=a.y,M[L+D+10]=a.z,M[L+D+11]=4===N.itemSize?a.w:1)}}function k(){A.dispose(),o.delete(c),c.removeEventListener("dispose",k)}p={count:f,texture:A,size:new NC(E,T)},o.set(c,p),c.addEventListener("dispose",k)}let m=0;for(let j=0;j<h.length;j++)m+=h[j];const g=c.morphTargetsRelative?1:1-m;u.getUniforms().setValue(t,"morphTargetBaseInfluence",g),u.getUniforms().setValue(t,"morphTargetInfluences",h),u.getUniforms().setValue(t,"morphTargetsTexture",p.texture,n),u.getUniforms().setValue(t,"morphTargetsTextureSize",p.size)}else{const U=void 0===h?0:h.length;let F=r[c.id];if(void 0===F||F.length!==U){F=[];for(let q=0;q<U;q++)F[q]=[q,0];r[c.id]=F}for(let W=0;W<U;W++){const G=F[W];G[0]=W,G[1]=h[W]}F.sort(cR);for(let X=0;X<8;X++)X<U&&F[X][1]?(s[X][0]=F[X][0],s[X][1]=F[X][1]):(s[X][0]=Number.MAX_SAFE_INTEGER,s[X][1]=0);s.sort(lR);const z=c.morphAttributes.position,B=c.morphAttributes.normal;let V=0;for(let K=0;K<8;K++){const Y=s[K],$=Y[0],Q=Y[1];$!==Number.MAX_SAFE_INTEGER&&Q?(z&&c.getAttribute("morphTarget"+K)!==z[$]&&c.setAttribute("morphTarget"+K,z[$]),B&&c.getAttribute("morphNormal"+K)!==B[$]&&c.setAttribute("morphNormal"+K,B[$]),i[K]=Q,V+=Q):(z&&!0===c.hasAttribute("morphTarget"+K)&&c.deleteAttribute("morphTarget"+K),B&&!0===c.hasAttribute("morphNormal"+K)&&c.deleteAttribute("morphNormal"+K),i[K]=0)}const H=c.morphTargetsRelative?1:1-V;u.getUniforms().setValue(t,"morphTargetBaseInfluence",H),u.getUniforms().setValue(t,"morphTargetInfluences",i)}}}}function hR(t,e,n,r){let i=new WeakMap;function o(t){const e=t.target;e.removeEventListener("dispose",o),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(a){const s=r.render.frame,l=a.geometry,c=e.get(a,l);if(i.get(c)!==s&&(e.update(c),i.set(c,s)),a.isInstancedMesh&&(!1===a.hasEventListener("dispose",o)&&a.addEventListener("dispose",o),i.get(a)!==s&&(n.update(a.instanceMatrix,t.ARRAY_BUFFER),null!==a.instanceColor&&n.update(a.instanceColor,t.ARRAY_BUFFER),i.set(a,s))),a.isSkinnedMesh){const t=a.skeleton;i.get(t)!==s&&(t.update(),i.set(t,s))}return c},dispose:function(){i=new WeakMap}}}const dR=new tk,fR=new ik,pR=new ok,mR=new bP,gR=[],vR=[],yR=new Float32Array(16),bR=new Float32Array(9),_R=new Float32Array(4);function xR(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=gR[i];if(void 0===o&&(o=new Float32Array(i),gR[i]=o),0!==e){r.toArray(o,0);for(let r=1,i=0;r!==e;++r)i+=n,t[r].toArray(o,i)}return o}function wR(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function SR(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function ER(t,e){let n=vR[e];void 0===n&&(n=new Int32Array(e),vR[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function TR(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function MR(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(wR(n,e))return;t.uniform2fv(this.addr,e),SR(n,e)}}function AR(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(wR(n,e))return;t.uniform3fv(this.addr,e),SR(n,e)}}function CR(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(wR(n,e))return;t.uniform4fv(this.addr,e),SR(n,e)}}function kR(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(wR(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),SR(n,e)}else{if(wR(n,r))return;_R.set(r),t.uniformMatrix2fv(this.addr,!1,_R),SR(n,r)}}function OR(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(wR(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),SR(n,e)}else{if(wR(n,r))return;bR.set(r),t.uniformMatrix3fv(this.addr,!1,bR),SR(n,r)}}function PR(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(wR(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),SR(n,e)}else{if(wR(n,r))return;yR.set(r),t.uniformMatrix4fv(this.addr,!1,yR),SR(n,r)}}function RR(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function NR(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(wR(n,e))return;t.uniform2iv(this.addr,e),SR(n,e)}}function LR(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(wR(n,e))return;t.uniform3iv(this.addr,e),SR(n,e)}}function IR(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(wR(n,e))return;t.uniform4iv(this.addr,e),SR(n,e)}}function DR(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function jR(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(wR(n,e))return;t.uniform2uiv(this.addr,e),SR(n,e)}}function UR(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(wR(n,e))return;t.uniform3uiv(this.addr,e),SR(n,e)}}function FR(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(wR(n,e))return;t.uniform4uiv(this.addr,e),SR(n,e)}}function zR(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||dR,i)}function BR(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||pR,i)}function VR(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||mR,i)}function HR(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||fR,i)}function qR(t,e){t.uniform1fv(this.addr,e)}function WR(t,e){const n=xR(e,this.size,2);t.uniform2fv(this.addr,n)}function GR(t,e){const n=xR(e,this.size,3);t.uniform3fv(this.addr,n)}function XR(t,e){const n=xR(e,this.size,4);t.uniform4fv(this.addr,n)}function KR(t,e){const n=xR(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function YR(t,e){const n=xR(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function $R(t,e){const n=xR(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function QR(t,e){t.uniform1iv(this.addr,e)}function ZR(t,e){t.uniform2iv(this.addr,e)}function JR(t,e){t.uniform3iv(this.addr,e)}function tN(t,e){t.uniform4iv(this.addr,e)}function eN(t,e){t.uniform1uiv(this.addr,e)}function nN(t,e){t.uniform2uiv(this.addr,e)}function rN(t,e){t.uniform3uiv(this.addr,e)}function iN(t,e){t.uniform4uiv(this.addr,e)}function oN(t,e,n){const r=this.cache,i=e.length,o=ER(n,i);wR(r,o)||(t.uniform1iv(this.addr,o),SR(r,o));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||dR,o[a])}function aN(t,e,n){const r=this.cache,i=e.length,o=ER(n,i);wR(r,o)||(t.uniform1iv(this.addr,o),SR(r,o));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||pR,o[a])}function sN(t,e,n){const r=this.cache,i=e.length,o=ER(n,i);wR(r,o)||(t.uniform1iv(this.addr,o),SR(r,o));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||mR,o[a])}function lN(t,e,n){const r=this.cache,i=e.length,o=ER(n,i);wR(r,o)||(t.uniform1iv(this.addr,o),SR(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||fR,o[a])}class cN{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return TR;case 35664:return MR;case 35665:return AR;case 35666:return CR;case 35674:return kR;case 35675:return OR;case 35676:return PR;case 5124:case 35670:return RR;case 35667:case 35671:return NR;case 35668:case 35672:return LR;case 35669:case 35673:return IR;case 5125:return DR;case 36294:return jR;case 36295:return UR;case 36296:return FR;case 35678:case 36198:case 36298:case 36306:case 35682:return zR;case 35679:case 36299:case 36307:return BR;case 35680:case 36300:case 36308:case 36293:return VR;case 36289:case 36303:case 36311:case 36292:return HR}}(e.type)}}class uN{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return qR;case 35664:return WR;case 35665:return GR;case 35666:return XR;case 35674:return KR;case 35675:return YR;case 35676:return $R;case 5124:case 35670:return QR;case 35667:case 35671:return ZR;case 35668:case 35672:return JR;case 35669:case 35673:return tN;case 5125:return eN;case 36294:return nN;case 36295:return rN;case 36296:return iN;case 35678:case 36198:case 36298:case 36306:case 35682:return oN;case 35679:case 36299:case 36307:return aN;case 35680:case 36300:case 36308:case 36293:return sN;case 36289:case 36303:case 36311:case 36292:return lN}}(e.type)}}class hN{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const o=r[i];o.setValue(t,e[o.id],n)}}}const dN=/(\w+)(\])?(\[|\.)?/g;function fN(t,e){t.seq.push(e),t.map[e.id]=e}function pN(t,e,n){const r=t.name,i=r.length;for(dN.lastIndex=0;;){const o=dN.exec(r),a=dN.lastIndex;let s=o[1];const l="]"===o[2],c=o[3];if(l&&(s|=0),void 0===c||"["===c&&a+2===i){fN(n,void 0===c?new cN(s,t,e):new uN(s,t,e));break}{let t=n.map[s];void 0===t&&(t=new hN(s),fN(n,t)),n=t}}}class mN{constructor(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=t.getActiveUniform(e,r);pN(n,t.getUniformLocation(e,n.name),this)}}setValue(t,e,n,r){const i=this.map[e];void 0!==i&&i.setValue(t,n,r)}setOptional(t,e,n){const r=e[n];void 0!==r&&this.setValue(t,n,r)}static upload(t,e,n,r){for(let i=0,o=e.length;i!==o;++i){const o=e[i],a=n[o.id];!1!==a.needsUpdate&&o.setValue(t,a.value,r)}}static seqWithValue(t,e){const n=[];for(let r=0,i=t.length;r!==i;++r){const i=t[r];i.id in e&&n.push(i)}return n}}function gN(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const vN=37297;let yN=0;function bN(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&""===i)return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const r=parseInt(o[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(t,e){const n=t.split("\n"),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++){const t=a+1;r.push("".concat(t===e?">":" "," ").concat(t,": ").concat(n[a]))}return r.join("\n")}(t.getShaderSource(e),r)}return i}function _N(t,e){const n=function(t){const e=WC.getPrimaries(WC.workingColorSpace),n=WC.getPrimaries(t);let r;switch(e===n?r="":e===hC&&n===uC?r="LinearDisplayP3ToLinearSRGB":e===uC&&n===hC&&(r="LinearSRGBToLinearDisplayP3"),t){case oC:case sC:return[r,"LinearTransferOETF"];case iC:case aC:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}(e);return"vec4 ".concat(t,"( vec4 value ) { return ").concat(n[0],"( ").concat(n[1],"( value ) ); }")}function xN(t,e){let n;switch(e){case vA:n="Linear";break;case yA:n="Reinhard";break;case bA:n="OptimizedCineon";break;case _A:n="ACESFilmic";break;case xA:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function wN(t){return""!==t}function SN(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function EN(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const TN=/^[ \t]*#include +<([\w\d./]+)>/gm;function MN(t){return t.replace(TN,CN)}const AN=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function CN(t,e){let n=PP[e];if(void 0===n){const t=AN.get(e);if(void 0===t)throw new Error("Can not resolve #include <"+e+">");n=PP[t],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,t)}return MN(n)}const kN=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ON(t){return t.replace(kN,PN)}function PN(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function RN(t){let e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function NN(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=function(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===sA?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===lA?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===cA&&(e="SHADOWMAP_TYPE_VSM"),e}(n),c=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case wA:case SA:e="ENVMAP_TYPE_CUBE";break;case MA:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),u=function(t){let e="ENVMAP_MODE_REFLECTION";t.envMap&&t.envMapMode===SA&&(e="ENVMAP_MODE_REFRACTION");return e}(n),h=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case fA:e="ENVMAP_BLENDING_MULTIPLY";break;case pA:e="ENVMAP_BLENDING_MIX";break;case mA:e="ENVMAP_BLENDING_ADD"}return e}(n),d=function(t){const e=t.envMapCubeUVHeight;if(null===e)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),f=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(wN).join("\n")}(n),p=function(t){const e=[];for(const n in t){const r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}(o),m=i.createProgram();let g,v,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(wN).join("\n"),g.length>0&&(g+="\n"),v=[f,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(wN).join("\n"),v.length>0&&(v+="\n")):(g=[RN(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(wN).join("\n"),v=[f,RN(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==gA?"#define TONE_MAPPING":"",n.toneMapping!==gA?PP.tonemapping_pars_fragment:"",n.toneMapping!==gA?xN("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",PP.colorspace_pars_fragment,_N("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(wN).join("\n")),a=MN(a),a=SN(a,n),a=EN(a,n),s=MN(s),s=SN(s,n),s=EN(s,n),a=ON(a),s=ON(s),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===pC?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===pC?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const b=y+g+a,_=y+v+s,x=gN(i,i.VERTEX_SHADER,b),w=gN(i,i.FRAGMENT_SHADER,_);function S(e){if(t.debug.checkShaderErrors){const n=i.getProgramInfoLog(m).trim(),r=i.getShaderInfoLog(x).trim(),o=i.getShaderInfoLog(w).trim();let a=!0,s=!0;if(!1===i.getProgramParameter(m,i.LINK_STATUS))if(a=!1,"function"===typeof t.debug.onShaderError)t.debug.onShaderError(i,m,x,w);else{const t=bN(i,x,"vertex"),e=bN(i,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,i.VALIDATE_STATUS)+"\n\nProgram Info Log: "+n+"\n"+t+"\n"+e)}else""!==n?console.warn("THREE.WebGLProgram: Program Info Log:",n):""!==r&&""!==o||(s=!1);s&&(e.diagnostics={runnable:a,programLog:n,vertexShader:{log:r,prefix:g},fragmentShader:{log:o,prefix:v}})}i.deleteShader(x),i.deleteShader(w),E=new mN(i,m),T=function(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=t.getActiveAttrib(e,i),o=r.name;let a=1;r.type===t.FLOAT_MAT2&&(a=2),r.type===t.FLOAT_MAT3&&(a=3),r.type===t.FLOAT_MAT4&&(a=4),n[o]={type:r.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}(i,m)}let E,T;i.attachShader(m,x),i.attachShader(m,w),void 0!==n.index0AttributeName?i.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),this.getUniforms=function(){return void 0===E&&S(this),E},this.getAttributes=function(){return void 0===T&&S(this),T};let M=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===M&&(M=i.getProgramParameter(m,vN)),M},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=yN++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=x,this.fragmentShader=w,this}let LN=0;class IN{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,n=t.fragmentShader,r=this._getShaderStage(e),i=this._getShaderStage(n),o=this._getShaderCacheForMaterial(t);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(i)&&(o.add(i),i.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const n of e)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let n=e.get(t);return void 0===n&&(n=new Set,e.set(t,n)),n}_getShaderStage(t){const e=this.shaderCache;let n=e.get(t);return void 0===n&&(n=new DN(t),e.set(t,n)),n}}class DN{constructor(t){this.id=LN++,this.code=t,this.usedTimes=0}}function jN(t,e,n,r,i,o,a){const s=new Kk,l=new IN,c=[],u=i.isWebGL2,h=i.logarithmicDepthBuffer,d=i.vertexTextures;let f=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(t){return 0===t?"uv":"uv".concat(t)}return{getParameters:function(o,s,c,g,v){const y=g.fog,b=v.geometry,_=o.isMeshStandardMaterial?g.environment:null,x=(o.isMeshStandardMaterial?n:e).get(o.envMap||_),w=x&&x.mapping===MA?x.image.height:null,S=p[o.type];null!==o.precision&&(f=i.getMaxPrecision(o.precision),f!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",f,"instead."));const E=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,T=void 0!==E?E.length:0;let M,A,C,k,O=0;if(void 0!==b.morphAttributes.position&&(O=1),void 0!==b.morphAttributes.normal&&(O=2),void 0!==b.morphAttributes.color&&(O=3),S){const t=NP[S];M=t.vertexShader,A=t.fragmentShader}else M=o.vertexShader,A=o.fragmentShader,l.update(o),C=l.getVertexShaderID(o),k=l.getFragmentShaderID(o);const P=t.getRenderTarget(),R=!0===v.isInstancedMesh,N=!!o.map,L=!!o.matcap,I=!!x,D=!!o.aoMap,j=!!o.lightMap,U=!!o.bumpMap,F=!!o.normalMap,z=!!o.displacementMap,B=!!o.emissiveMap,V=!!o.metalnessMap,H=!!o.roughnessMap,q=o.anisotropy>0,W=o.clearcoat>0,G=o.iridescence>0,X=o.sheen>0,K=o.transmission>0,Y=q&&!!o.anisotropyMap,$=W&&!!o.clearcoatMap,Q=W&&!!o.clearcoatNormalMap,Z=W&&!!o.clearcoatRoughnessMap,J=G&&!!o.iridescenceMap,tt=G&&!!o.iridescenceThicknessMap,et=X&&!!o.sheenColorMap,nt=X&&!!o.sheenRoughnessMap,rt=!!o.specularMap,it=!!o.specularColorMap,ot=!!o.specularIntensityMap,at=K&&!!o.transmissionMap,st=K&&!!o.thicknessMap,lt=!!o.gradientMap,ct=!!o.alphaMap,ut=o.alphaTest>0,ht=!!o.alphaHash,dt=!!o.extensions,ft=!!b.attributes.uv1,pt=!!b.attributes.uv2,mt=!!b.attributes.uv3;let gt=gA;return o.toneMapped&&(null!==P&&!0!==P.isXRRenderTarget||(gt=t.toneMapping)),{isWebGL2:u,shaderID:S,shaderType:o.type,shaderName:o.name,vertexShader:M,fragmentShader:A,defines:o.defines,customVertexShaderID:C,customFragmentShaderID:k,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:f,instancing:R,instancingColor:R&&null!==v.instanceColor,supportsVertexTextures:d,outputColorSpace:null===P?t.outputColorSpace:!0===P.isXRRenderTarget?P.texture.colorSpace:oC,map:N,matcap:L,envMap:I,envMapMode:I&&x.mapping,envMapCubeUVHeight:w,aoMap:D,lightMap:j,bumpMap:U,normalMap:F,displacementMap:d&&z,emissiveMap:B,normalMapObjectSpace:F&&1===o.normalMapType,normalMapTangentSpace:F&&0===o.normalMapType,metalnessMap:V,roughnessMap:H,anisotropy:q,anisotropyMap:Y,clearcoat:W,clearcoatMap:$,clearcoatNormalMap:Q,clearcoatRoughnessMap:Z,iridescence:G,iridescenceMap:J,iridescenceThicknessMap:tt,sheen:X,sheenColorMap:et,sheenRoughnessMap:nt,specularMap:rt,specularColorMap:it,specularIntensityMap:ot,transmission:K,transmissionMap:at,thicknessMap:st,gradientMap:lt,opaque:!1===o.transparent&&1===o.blending,alphaMap:ct,alphaTest:ut,alphaHash:ht,combine:o.combine,mapUv:N&&m(o.map.channel),aoMapUv:D&&m(o.aoMap.channel),lightMapUv:j&&m(o.lightMap.channel),bumpMapUv:U&&m(o.bumpMap.channel),normalMapUv:F&&m(o.normalMap.channel),displacementMapUv:z&&m(o.displacementMap.channel),emissiveMapUv:B&&m(o.emissiveMap.channel),metalnessMapUv:V&&m(o.metalnessMap.channel),roughnessMapUv:H&&m(o.roughnessMap.channel),anisotropyMapUv:Y&&m(o.anisotropyMap.channel),clearcoatMapUv:$&&m(o.clearcoatMap.channel),clearcoatNormalMapUv:Q&&m(o.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Z&&m(o.clearcoatRoughnessMap.channel),iridescenceMapUv:J&&m(o.iridescenceMap.channel),iridescenceThicknessMapUv:tt&&m(o.iridescenceThicknessMap.channel),sheenColorMapUv:et&&m(o.sheenColorMap.channel),sheenRoughnessMapUv:nt&&m(o.sheenRoughnessMap.channel),specularMapUv:rt&&m(o.specularMap.channel),specularColorMapUv:it&&m(o.specularColorMap.channel),specularIntensityMapUv:ot&&m(o.specularIntensityMap.channel),transmissionMapUv:at&&m(o.transmissionMap.channel),thicknessMapUv:st&&m(o.thicknessMap.channel),alphaMapUv:ct&&m(o.alphaMap.channel),vertexTangents:!!b.attributes.tangent&&(F||q),vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,vertexUv1s:ft,vertexUv2s:pt,vertexUv3s:mt,pointsUvs:!0===v.isPoints&&!!b.attributes.uv&&(N||ct),fog:!!y,useFog:!0===o.fog,fogExp2:y&&y.isFogExp2,flatShading:!0===o.flatShading,sizeAttenuation:!0===o.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:T,morphTextureStride:O,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:o.dithering,shadowMapEnabled:t.shadowMap.enabled&&c.length>0,shadowMapType:t.shadowMap.type,toneMapping:gt,useLegacyLights:t._useLegacyLights,decodeVideoTexture:N&&!0===o.map.isVideoTexture&&WC.getTransfer(o.map.colorSpace)===cC,premultipliedAlpha:o.premultipliedAlpha,doubleSided:2===o.side,flipSided:o.side===hA,useDepthPacking:o.depthPacking>=0,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionDerivatives:dt&&!0===o.extensions.derivatives,extensionFragDepth:dt&&!0===o.extensions.fragDepth,extensionDrawBuffers:dt&&!0===o.extensions.drawBuffers,extensionShaderTextureLOD:dt&&!0===o.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:o.customProgramCacheKey()}},getProgramCacheKey:function(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.customVertexShaderID),n.push(e.customFragmentShaderID)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);return!1===e.isRawShaderMaterial&&(!function(t,e){t.push(e.precision),t.push(e.outputColorSpace),t.push(e.envMapMode),t.push(e.envMapCubeUVHeight),t.push(e.mapUv),t.push(e.alphaMapUv),t.push(e.lightMapUv),t.push(e.aoMapUv),t.push(e.bumpMapUv),t.push(e.normalMapUv),t.push(e.displacementMapUv),t.push(e.emissiveMapUv),t.push(e.metalnessMapUv),t.push(e.roughnessMapUv),t.push(e.anisotropyMapUv),t.push(e.clearcoatMapUv),t.push(e.clearcoatNormalMapUv),t.push(e.clearcoatRoughnessMapUv),t.push(e.iridescenceMapUv),t.push(e.iridescenceThicknessMapUv),t.push(e.sheenColorMapUv),t.push(e.sheenRoughnessMapUv),t.push(e.specularMapUv),t.push(e.specularColorMapUv),t.push(e.specularIntensityMapUv),t.push(e.transmissionMapUv),t.push(e.thicknessMapUv),t.push(e.combine),t.push(e.fogExp2),t.push(e.sizeAttenuation),t.push(e.morphTargetsCount),t.push(e.morphAttributeCount),t.push(e.numDirLights),t.push(e.numPointLights),t.push(e.numSpotLights),t.push(e.numSpotLightMaps),t.push(e.numHemiLights),t.push(e.numRectAreaLights),t.push(e.numDirLightShadows),t.push(e.numPointLightShadows),t.push(e.numSpotLightShadows),t.push(e.numSpotLightShadowsWithMaps),t.push(e.numLightProbes),t.push(e.shadowMapType),t.push(e.toneMapping),t.push(e.numClippingPlanes),t.push(e.numClipIntersection),t.push(e.depthPacking)}(n,e),function(t,e){s.disableAll(),e.isWebGL2&&s.enable(0);e.supportsVertexTextures&&s.enable(1);e.instancing&&s.enable(2);e.instancingColor&&s.enable(3);e.matcap&&s.enable(4);e.envMap&&s.enable(5);e.normalMapObjectSpace&&s.enable(6);e.normalMapTangentSpace&&s.enable(7);e.clearcoat&&s.enable(8);e.iridescence&&s.enable(9);e.alphaTest&&s.enable(10);e.vertexColors&&s.enable(11);e.vertexAlphas&&s.enable(12);e.vertexUv1s&&s.enable(13);e.vertexUv2s&&s.enable(14);e.vertexUv3s&&s.enable(15);e.vertexTangents&&s.enable(16);e.anisotropy&&s.enable(17);e.alphaHash&&s.enable(18);t.push(s.mask),s.disableAll(),e.fog&&s.enable(0);e.useFog&&s.enable(1);e.flatShading&&s.enable(2);e.logarithmicDepthBuffer&&s.enable(3);e.skinning&&s.enable(4);e.morphTargets&&s.enable(5);e.morphNormals&&s.enable(6);e.morphColors&&s.enable(7);e.premultipliedAlpha&&s.enable(8);e.shadowMapEnabled&&s.enable(9);e.useLegacyLights&&s.enable(10);e.doubleSided&&s.enable(11);e.flipSided&&s.enable(12);e.useDepthPacking&&s.enable(13);e.dithering&&s.enable(14);e.transmission&&s.enable(15);e.sheen&&s.enable(16);e.opaque&&s.enable(17);e.pointsUvs&&s.enable(18);e.decodeVideoTexture&&s.enable(19);t.push(s.mask)}(n,e),n.push(t.outputColorSpace)),n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){const e=p[t.type];let n;if(e){const t=NP[e];n=fP.clone(t.uniforms)}else n=t.uniforms;return n},acquireProgram:function(e,n){let r;for(let t=0,i=c.length;t<i;t++){const e=c[t];if(e.cacheKey===n){r=e,++r.usedTimes;break}}return void 0===r&&(r=new NN(t,n,e,o),c.push(r)),r},releaseProgram:function(t){if(0===--t.usedTimes){const e=c.indexOf(t);c[e]=c[c.length-1],c.pop(),t.destroy()}},releaseShaderCache:function(t){l.remove(t)},programs:c,dispose:function(){l.dispose()}}}function UN(){let t=new WeakMap;return{get:function(e){let n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,r){t.get(e)[n]=r},dispose:function(){t=new WeakMap}}}function FN(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function zN(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function BN(){const t=[];let e=0;const n=[],r=[],i=[];function o(n,r,i,o,a,s){let l=t[e];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:o,renderOrder:n.renderOrder,z:a,group:s},t[e]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=a,l.group=s),e++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){e=0,n.length=0,r.length=0,i.length=0},push:function(t,e,a,s,l,c){const u=o(t,e,a,s,l,c);a.transmission>0?r.push(u):!0===a.transparent?i.push(u):n.push(u)},unshift:function(t,e,a,s,l,c){const u=o(t,e,a,s,l,c);a.transmission>0?r.unshift(u):!0===a.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(let n=e,r=t.length;n<r;n++){const e=t[n];if(null===e.id)break;e.id=null,e.object=null,e.geometry=null,e.material=null,e.group=null}},sort:function(t,e){n.length>1&&n.sort(t||FN),r.length>1&&r.sort(e||zN),i.length>1&&i.sort(e||zN)}}}function VN(){let t=new WeakMap;return{get:function(e,n){const r=t.get(e);let i;return void 0===r?(i=new BN,t.set(e,[i])):n>=r.length?(i=new BN,r.push(i)):i=r[n],i},dispose:function(){t=new WeakMap}}}function HN(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new sk,color:new TO};break;case"SpotLight":n={position:new sk,direction:new sk,color:new TO,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new sk,color:new TO,distance:0,decay:0};break;case"HemisphereLight":n={direction:new sk,skyColor:new TO,groundColor:new TO};break;case"RectAreaLight":n={color:new TO,position:new sk,halfWidth:new sk,halfHeight:new sk}}return t[e.id]=n,n}}}let qN=0;function WN(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function GN(t,e){const n=new HN,r=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new NC};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new NC,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let l=0;l<9;l++)i.probe.push(new sk);const o=new sk,a=new jk,s=new jk;return{setup:function(o,a){let s=0,l=0,c=0;for(let t=0;t<9;t++)i.probe[t].set(0,0,0);let u=0,h=0,d=0,f=0,p=0,m=0,g=0,v=0,y=0,b=0,_=0;o.sort(WN);const x=!0===a?Math.PI:1;for(let t=0,e=o.length;t<e;t++){const e=o[t],a=e.color,w=e.intensity,S=e.distance,E=e.shadow&&e.shadow.map?e.shadow.map.texture:null;if(e.isAmbientLight)s+=a.r*w*x,l+=a.g*w*x,c+=a.b*w*x;else if(e.isLightProbe){for(let t=0;t<9;t++)i.probe[t].addScaledVector(e.sh.coefficients[t],w);_++}else if(e.isDirectionalLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity*x),e.castShadow){const t=e.shadow,n=r.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,i.directionalShadow[u]=n,i.directionalShadowMap[u]=E,i.directionalShadowMatrix[u]=e.shadow.matrix,m++}i.directional[u]=t,u++}else if(e.isSpotLight){const t=n.get(e);t.position.setFromMatrixPosition(e.matrixWorld),t.color.copy(a).multiplyScalar(w*x),t.distance=S,t.coneCos=Math.cos(e.angle),t.penumbraCos=Math.cos(e.angle*(1-e.penumbra)),t.decay=e.decay,i.spot[d]=t;const o=e.shadow;if(e.map&&(i.spotLightMap[y]=e.map,y++,o.updateMatrices(e),e.castShadow&&b++),i.spotLightMatrix[d]=o.matrix,e.castShadow){const t=r.get(e);t.shadowBias=o.bias,t.shadowNormalBias=o.normalBias,t.shadowRadius=o.radius,t.shadowMapSize=o.mapSize,i.spotShadow[d]=t,i.spotShadowMap[d]=E,v++}d++}else if(e.isRectAreaLight){const t=n.get(e);t.color.copy(a).multiplyScalar(w),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),i.rectArea[f]=t,f++}else if(e.isPointLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity*x),t.distance=e.distance,t.decay=e.decay,e.castShadow){const t=e.shadow,n=r.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,n.shadowCameraNear=t.camera.near,n.shadowCameraFar=t.camera.far,i.pointShadow[h]=n,i.pointShadowMap[h]=E,i.pointShadowMatrix[h]=e.shadow.matrix,g++}i.point[h]=t,h++}else if(e.isHemisphereLight){const t=n.get(e);t.skyColor.copy(e.color).multiplyScalar(w*x),t.groundColor.copy(e.groundColor).multiplyScalar(w*x),i.hemi[p]=t,p++}}f>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(i.rectAreaLTC1=RP.LTC_FLOAT_1,i.rectAreaLTC2=RP.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=RP.LTC_HALF_1,i.rectAreaLTC2=RP.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=c;const w=i.hash;w.directionalLength===u&&w.pointLength===h&&w.spotLength===d&&w.rectAreaLength===f&&w.hemiLength===p&&w.numDirectionalShadows===m&&w.numPointShadows===g&&w.numSpotShadows===v&&w.numSpotMaps===y&&w.numLightProbes===_||(i.directional.length=u,i.spot.length=d,i.rectArea.length=f,i.point.length=h,i.hemi.length=p,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=v,i.spotShadowMap.length=v,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=g,i.spotLightMatrix.length=v+y-b,i.spotLightMap.length=y,i.numSpotLightShadowsWithMaps=b,i.numLightProbes=_,w.directionalLength=u,w.pointLength=h,w.spotLength=d,w.rectAreaLength=f,w.hemiLength=p,w.numDirectionalShadows=m,w.numPointShadows=g,w.numSpotShadows=v,w.numSpotMaps=y,w.numLightProbes=_,i.version=qN++)},setupView:function(t,e){let n=0,r=0,l=0,c=0,u=0;const h=e.matrixWorldInverse;for(let d=0,f=t.length;d<f;d++){const e=t[d];if(e.isDirectionalLight){const t=i.directional[n];t.direction.setFromMatrixPosition(e.matrixWorld),o.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(h),n++}else if(e.isSpotLight){const t=i.spot[l];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(h),t.direction.setFromMatrixPosition(e.matrixWorld),o.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(h),l++}else if(e.isRectAreaLight){const t=i.rectArea[c];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(h),s.identity(),a.copy(e.matrixWorld),a.premultiply(h),s.extractRotation(a),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),t.halfWidth.applyMatrix4(s),t.halfHeight.applyMatrix4(s),c++}else if(e.isPointLight){const t=i.point[r];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(h),r++}else if(e.isHemisphereLight){const t=i.hemi[u];t.direction.setFromMatrixPosition(e.matrixWorld),t.direction.transformDirection(h),u++}}},state:i}}function XN(t,e){const n=new GN(t,e),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(t){n.setup(r,t)},setupLightsView:function(t){n.setupView(r,t)},pushLight:function(t){r.push(t)},pushShadow:function(t){i.push(t)}}}function KN(t,e){let n=new WeakMap;return{get:function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const o=n.get(r);let a;return void 0===o?(a=new XN(t,e),n.set(r,[a])):i>=o.length?(a=new XN(t,e),o.push(a)):a=o[i],a},dispose:function(){n=new WeakMap}}}class YN extends CO{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class $N extends CO{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function QN(t,e,n){let r=new AP;const i=new NC,o=new NC,a=new ek,s=new YN({depthPacking:3201}),l=new $N,c={},u=n.maxTextureSize,h={[uA]:hA,[hA]:uA,2:2},d=new pP({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new NC},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=d.clone();f.defines.HORIZONTAL_PASS=1;const p=new HO;p.setAttribute("position",new RO(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new sP(p,d),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=sA;let v=this.type;function y(n,r){const o=e.update(m);d.defines.VSM_SAMPLES!==n.blurSamples&&(d.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,d.needsUpdate=!0,f.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new rk(i.x,i.y)),d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(r,null,o,d,m,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(r,null,o,f,m,null)}function b(e,n,r,i){let o=null;const a=!0===r.isPointLight?e.customDistanceMaterial:e.customDepthMaterial;if(void 0!==a)o=a;else if(o=!0===r.isPointLight?l:s,t.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const t=o.uuid,e=n.uuid;let r=c[t];void 0===r&&(r={},c[t]=r);let i=r[e];void 0===i&&(i=o.clone(),r[e]=i),o=i}if(o.visible=n.visible,o.wireframe=n.wireframe,o.side=i===cA?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:h[n.side],o.alphaMap=n.alphaMap,o.alphaTest=n.alphaTest,o.map=n.map,o.clipShadows=n.clipShadows,o.clippingPlanes=n.clippingPlanes,o.clipIntersection=n.clipIntersection,o.displacementMap=n.displacementMap,o.displacementScale=n.displacementScale,o.displacementBias=n.displacementBias,o.wireframeLinewidth=n.wireframeLinewidth,o.linewidth=n.linewidth,!0===r.isPointLight&&!0===o.isMeshDistanceMaterial){t.properties.get(o).light=r}return o}function _(n,i,o,a,s){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===cA)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const r=e.update(n),i=n.material;if(Array.isArray(i)){const e=r.groups;for(let l=0,c=e.length;l<c;l++){const c=e[l],u=i[c.materialIndex];if(u&&u.visible){const e=b(n,u,a,s);t.renderBufferDirect(o,null,r,e,n,c)}}}else if(i.visible){const e=b(n,i,a,s);t.renderBufferDirect(o,null,r,e,n,null)}}const l=n.children;for(let t=0,e=l.length;t<e;t++)_(l[t],i,o,a,s)}this.render=function(e,n,s){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===e.length)return;const l=t.getRenderTarget(),c=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),d=t.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);const f=v!==cA&&this.type===cA,p=v===cA&&this.type!==cA;for(let m=0,g=e.length;m<g;m++){const l=e[m],c=l.shadow;if(void 0===c){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;i.copy(c.mapSize);const h=c.getFrameExtents();if(i.multiply(h),o.copy(c.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/h.x),i.x=o.x*h.x,c.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/h.y),i.y=o.y*h.y,c.mapSize.y=o.y)),null===c.map||!0===f||!0===p){const t=this.type!==cA?{minFilter:OA,magFilter:OA}:{};null!==c.map&&c.map.dispose(),c.map=new rk(i.x,i.y,t),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}t.setRenderTarget(c.map),t.clear();const g=c.getViewportCount();for(let t=0;t<g;t++){const e=c.getViewport(t);a.set(o.x*e.x,o.y*e.y,o.x*e.z,o.y*e.w),d.viewport(a),c.updateMatrices(l,t),r=c.getFrustum(),_(n,s,c.camera,l,this.type)}!0!==c.isPointLightShadow&&this.type===cA&&y(c,s),c.needsUpdate=!1}v=this.type,g.needsUpdate=!1,t.setRenderTarget(l,c,h)}}function ZN(t,e,n){const r=n.isWebGL2;const i=new function(){let e=!1;const n=new ek;let r=null;const i=new ek(0,0,0,0);return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,o,a,s){!0===s&&(e*=a,r*=a,o*=a),n.set(e,r,o,a),!1===i.equals(n)&&(t.clearColor(e,r,o,a),i.copy(n))},reset:function(){e=!1,r=null,i.set(-1,0,0,0)}}},o=new function(){let e=!1,n=null,r=null,i=null;return{setTest:function(e){e?V(t.DEPTH_TEST):H(t.DEPTH_TEST)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){switch(e){case 0:t.depthFunc(t.NEVER);break;case 1:t.depthFunc(t.ALWAYS);break;case 2:t.depthFunc(t.LESS);break;case 3:default:t.depthFunc(t.LEQUAL);break;case 4:t.depthFunc(t.EQUAL);break;case 5:t.depthFunc(t.GEQUAL);break;case 6:t.depthFunc(t.GREATER);break;case 7:t.depthFunc(t.NOTEQUAL)}r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}},a=new function(){let e=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null;return{setTest:function(n){e||(n?V(t.STENCIL_TEST):H(t.STENCIL_TEST))},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,a){r===e&&i===n&&o===a||(t.stencilFunc(e,n,a),r=e,i=n,o=a)},setOp:function(e,n,r){a===e&&s===n&&l===r||(t.stencilOp(e,n,r),a=e,s=n,l=r)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null}}},s=new WeakMap,l=new WeakMap;let c={},u={},h=new WeakMap,d=[],f=null,p=!1,m=null,g=null,v=null,y=null,b=null,_=null,x=null,w=new TO(0,0,0),S=0,E=!1,T=null,M=null,A=null,C=null,k=null;const O=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let P=!1,R=0;const N=t.getParameter(t.VERSION);-1!==N.indexOf("WebGL")?(R=parseFloat(/^WebGL (\d)/.exec(N)[1]),P=R>=1):-1!==N.indexOf("OpenGL ES")&&(R=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),P=R>=2);let L=null,I={};const D=t.getParameter(t.SCISSOR_BOX),j=t.getParameter(t.VIEWPORT),U=(new ek).fromArray(D),F=(new ek).fromArray(j);function z(e,n,i,o){const a=new Uint8Array(4),s=t.createTexture();t.bindTexture(e,s),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let l=0;l<i;l++)!r||e!==t.TEXTURE_3D&&e!==t.TEXTURE_2D_ARRAY?t.texImage2D(n+l,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,a):t.texImage3D(n,0,t.RGBA,1,1,o,0,t.RGBA,t.UNSIGNED_BYTE,a);return s}const B={};function V(e){!0!==c[e]&&(t.enable(e),c[e]=!0)}function H(e){!1!==c[e]&&(t.disable(e),c[e]=!1)}B[t.TEXTURE_2D]=z(t.TEXTURE_2D,t.TEXTURE_2D,1),B[t.TEXTURE_CUBE_MAP]=z(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(B[t.TEXTURE_2D_ARRAY]=z(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),B[t.TEXTURE_3D]=z(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),i.setClear(0,0,0,1),o.setClear(1),a.setClear(0),V(t.DEPTH_TEST),o.setFunc(3),X(!1),K(1),V(t.CULL_FACE),G(0);const q={[dA]:t.FUNC_ADD,101:t.FUNC_SUBTRACT,102:t.FUNC_REVERSE_SUBTRACT};if(r)q[103]=t.MIN,q[104]=t.MAX;else{const t=e.get("EXT_blend_minmax");null!==t&&(q[103]=t.MIN_EXT,q[104]=t.MAX_EXT)}const W={200:t.ZERO,201:t.ONE,202:t.SRC_COLOR,204:t.SRC_ALPHA,210:t.SRC_ALPHA_SATURATE,208:t.DST_COLOR,206:t.DST_ALPHA,203:t.ONE_MINUS_SRC_COLOR,205:t.ONE_MINUS_SRC_ALPHA,209:t.ONE_MINUS_DST_COLOR,207:t.ONE_MINUS_DST_ALPHA,211:t.CONSTANT_COLOR,212:t.ONE_MINUS_CONSTANT_COLOR,213:t.CONSTANT_ALPHA,214:t.ONE_MINUS_CONSTANT_ALPHA};function G(e,n,r,i,o,a,s,l,c,u){if(0!==e){if(!1===p&&(V(t.BLEND),p=!0),5===e)o=o||n,a=a||r,s=s||i,n===g&&o===b||(t.blendEquationSeparate(q[n],q[o]),g=n,b=o),r===v&&i===y&&a===_&&s===x||(t.blendFuncSeparate(W[r],W[i],W[a],W[s]),v=r,y=i,_=a,x=s),!1!==l.equals(w)&&c===S||(t.blendColor(l.r,l.g,l.b,c),w.copy(l),S=c),m=e,E=!1;else if(e!==m||u!==E){if(g===dA&&b===dA||(t.blendEquation(t.FUNC_ADD),g=dA,b=dA),u)switch(e){case 1:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case 2:t.blendFunc(t.ONE,t.ONE);break;case 3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case 4:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case 2:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case 3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case 4:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}v=null,y=null,_=null,x=null,w.set(0,0,0),S=0,m=e,E=u}}else!0===p&&(H(t.BLEND),p=!1)}function X(e){T!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),T=e)}function K(e){0!==e?(V(t.CULL_FACE),e!==M&&(1===e?t.cullFace(t.BACK):2===e?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):H(t.CULL_FACE),M=e}function Y(e,n,r){e?(V(t.POLYGON_OFFSET_FILL),C===n&&k===r||(t.polygonOffset(n,r),C=n,k=r)):H(t.POLYGON_OFFSET_FILL)}return{buffers:{color:i,depth:o,stencil:a},enable:V,disable:H,bindFramebuffer:function(e,n){return u[e]!==n&&(t.bindFramebuffer(e,n),u[e]=n,r&&(e===t.DRAW_FRAMEBUFFER&&(u[t.FRAMEBUFFER]=n),e===t.FRAMEBUFFER&&(u[t.DRAW_FRAMEBUFFER]=n)),!0)},drawBuffers:function(r,i){let o=d,a=!1;if(r)if(o=h.get(i),void 0===o&&(o=[],h.set(i,o)),r.isWebGLMultipleRenderTargets){const e=r.texture;if(o.length!==e.length||o[0]!==t.COLOR_ATTACHMENT0){for(let n=0,r=e.length;n<r;n++)o[n]=t.COLOR_ATTACHMENT0+n;o.length=e.length,a=!0}}else o[0]!==t.COLOR_ATTACHMENT0&&(o[0]=t.COLOR_ATTACHMENT0,a=!0);else o[0]!==t.BACK&&(o[0]=t.BACK,a=!0);a&&(n.isWebGL2?t.drawBuffers(o):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(o))},useProgram:function(e){return f!==e&&(t.useProgram(e),f=e,!0)},setBlending:G,setMaterial:function(e,n){2===e.side?H(t.CULL_FACE):V(t.CULL_FACE);let r=e.side===hA;n&&(r=!r),X(r),1===e.blending&&!1===e.transparent?G(0):G(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.blendColor,e.blendAlpha,e.premultipliedAlpha),o.setFunc(e.depthFunc),o.setTest(e.depthTest),o.setMask(e.depthWrite),i.setMask(e.colorWrite);const s=e.stencilWrite;a.setTest(s),s&&(a.setMask(e.stencilWriteMask),a.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),a.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Y(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?V(t.SAMPLE_ALPHA_TO_COVERAGE):H(t.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:X,setCullFace:K,setLineWidth:function(e){e!==A&&(P&&t.lineWidth(e),A=e)},setPolygonOffset:Y,setScissorTest:function(e){e?V(t.SCISSOR_TEST):H(t.SCISSOR_TEST)},activeTexture:function(e){void 0===e&&(e=t.TEXTURE0+O-1),L!==e&&(t.activeTexture(e),L=e)},bindTexture:function(e,n,r){void 0===r&&(r=null===L?t.TEXTURE0+O-1:L);let i=I[r];void 0===i&&(i={type:void 0,texture:void 0},I[r]=i),i.type===e&&i.texture===n||(L!==r&&(t.activeTexture(r),L=r),t.bindTexture(e,n||B[e]),i.type=e,i.texture=n)},unbindTexture:function(){const e=I[L];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexImage3D:function(){try{t.compressedTexImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},updateUBOMapping:function(e,n){let r=l.get(n);void 0===r&&(r=new WeakMap,l.set(n,r));let i=r.get(e);void 0===i&&(i=t.getUniformBlockIndex(n,e.name),r.set(e,i))},uniformBlockBinding:function(e,n){const r=l.get(n).get(e);s.get(n)!==r&&(t.uniformBlockBinding(n,r,e.__bindingPointIndex),s.set(n,r))},texStorage2D:function(){try{t.texStorage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{t.texStorage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{t.texSubImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{t.texSubImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage3D:function(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(e){!1===U.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),U.copy(e))},viewport:function(e){!1===F.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),F.copy(e))},reset:function(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),!0===r&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},L=null,I={},u={},h=new WeakMap,d=[],f=null,p=!1,m=null,g=null,v=null,y=null,b=null,_=null,x=null,w=new TO(0,0,0),S=0,E=!1,T=null,M=null,A=null,C=null,k=null,U.set(0,0,t.canvas.width,t.canvas.height),F.set(0,0,t.canvas.width,t.canvas.height),i.reset(),o.reset(),a.reset()}}}function JN(t,e,n,r,i,o,a){const s=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,h=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const g=new WeakMap;let v=!1;try{v="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(oct){}function y(t,e){return v?new OffscreenCanvas(t,e):jC("canvas")}function b(t,e,n,r){let i=1;if((t.width>r||t.height>r)&&(i=r/Math.max(t.width,t.height)),i<1||!0===e){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){const r=e?kC:Math.floor,o=r(i*t.width),a=r(i*t.height);void 0===m&&(m=y(o,a));const s=n?y(o,a):m;s.width=o,s.height=a;return s.getContext("2d").drawImage(t,0,0,o,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+a+")."),s}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function _(t){return AC(t.width)&&AC(t.height)}function x(t,e){return t.generateMipmaps&&e&&t.minFilter!==OA&&t.minFilter!==NA}function w(e){t.generateMipmap(e)}function S(n,r,i,o){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===s)return r;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let l=r;if(r===t.RED&&(i===t.FLOAT&&(l=t.R32F),i===t.HALF_FLOAT&&(l=t.R16F),i===t.UNSIGNED_BYTE&&(l=t.R8)),r===t.RED_INTEGER&&(i===t.UNSIGNED_BYTE&&(l=t.R8UI),i===t.UNSIGNED_SHORT&&(l=t.R16UI),i===t.UNSIGNED_INT&&(l=t.R32UI),i===t.BYTE&&(l=t.R8I),i===t.SHORT&&(l=t.R16I),i===t.INT&&(l=t.R32I)),r===t.RG&&(i===t.FLOAT&&(l=t.RG32F),i===t.HALF_FLOAT&&(l=t.RG16F),i===t.UNSIGNED_BYTE&&(l=t.RG8)),r===t.RGBA){const e=a?lC:WC.getTransfer(o);i===t.FLOAT&&(l=t.RGBA32F),i===t.HALF_FLOAT&&(l=t.RGBA16F),i===t.UNSIGNED_BYTE&&(l=e===cC?t.SRGB8_ALPHA8:t.RGBA8),i===t.UNSIGNED_SHORT_4_4_4_4&&(l=t.RGBA4),i===t.UNSIGNED_SHORT_5_5_5_1&&(l=t.RGB5_A1)}return l!==t.R16F&&l!==t.R32F&&l!==t.RG16F&&l!==t.RG32F&&l!==t.RGBA16F&&l!==t.RGBA32F||e.get("EXT_color_buffer_float"),l}function E(t,e,n){return!0===x(t,n)||t.isFramebufferTexture&&t.minFilter!==OA&&t.minFilter!==NA?Math.log2(Math.max(e.width,e.height))+1:void 0!==t.mipmaps&&t.mipmaps.length>0?t.mipmaps.length:t.isCompressedTexture&&Array.isArray(t.image)?e.mipmaps.length:1}function T(e){return e===OA||e===PA||e===RA?t.NEAREST:t.LINEAR}function M(t){const e=t.target;e.removeEventListener("dispose",M),function(t){const e=r.get(t);if(void 0===e.__webglInit)return;const n=t.source,i=g.get(n);if(i){const r=i[e.__cacheKey];r.usedTimes--,0===r.usedTimes&&C(t),0===Object.keys(i).length&&g.delete(n)}r.remove(t)}(e),e.isVideoTexture&&p.delete(e)}function A(e){const n=e.target;n.removeEventListener("dispose",A),function(e){const n=e.texture,i=r.get(e),o=r.get(n);void 0!==o.__webglTexture&&(t.deleteTexture(o.__webglTexture),a.memory.textures--);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLCubeRenderTarget)for(let r=0;r<6;r++){if(Array.isArray(i.__webglFramebuffer[r]))for(let e=0;e<i.__webglFramebuffer[r].length;e++)t.deleteFramebuffer(i.__webglFramebuffer[r][e]);else t.deleteFramebuffer(i.__webglFramebuffer[r]);i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer[r])}else{if(Array.isArray(i.__webglFramebuffer))for(let e=0;e<i.__webglFramebuffer.length;e++)t.deleteFramebuffer(i.__webglFramebuffer[e]);else t.deleteFramebuffer(i.__webglFramebuffer);if(i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&t.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(let e=0;e<i.__webglColorRenderbuffer.length;e++)i.__webglColorRenderbuffer[e]&&t.deleteRenderbuffer(i.__webglColorRenderbuffer[e]);i.__webglDepthRenderbuffer&&t.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(e.isWebGLMultipleRenderTargets)for(let s=0,l=n.length;s<l;s++){const e=r.get(n[s]);e.__webglTexture&&(t.deleteTexture(e.__webglTexture),a.memory.textures--),r.remove(n[s])}r.remove(n),r.remove(e)}(n)}function C(e){const n=r.get(e);t.deleteTexture(n.__webglTexture);const i=e.source;delete g.get(i)[n.__cacheKey],a.memory.textures--}let k=0;function O(e,i){const o=r.get(e);if(e.isVideoTexture&&function(t){const e=a.render.frame;p.get(t)!==e&&(p.set(t,e),t.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&o.__version!==e.version){const t=e.image;if(null===t)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==t.complete)return void D(o,e,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(t.TEXTURE_2D,o.__webglTexture,t.TEXTURE0+i)}const P={[AA]:t.REPEAT,[CA]:t.CLAMP_TO_EDGE,[kA]:t.MIRRORED_REPEAT},R={[OA]:t.NEAREST,[PA]:t.NEAREST_MIPMAP_NEAREST,[RA]:t.NEAREST_MIPMAP_LINEAR,[NA]:t.LINEAR,1007:t.LINEAR_MIPMAP_NEAREST,[LA]:t.LINEAR_MIPMAP_LINEAR},N={512:t.NEVER,519:t.ALWAYS,513:t.LESS,515:t.LEQUAL,514:t.EQUAL,518:t.GEQUAL,516:t.GREATER,517:t.NOTEQUAL};function L(n,o,a){if(a?(t.texParameteri(n,t.TEXTURE_WRAP_S,P[o.wrapS]),t.texParameteri(n,t.TEXTURE_WRAP_T,P[o.wrapT]),n!==t.TEXTURE_3D&&n!==t.TEXTURE_2D_ARRAY||t.texParameteri(n,t.TEXTURE_WRAP_R,P[o.wrapR]),t.texParameteri(n,t.TEXTURE_MAG_FILTER,R[o.magFilter]),t.texParameteri(n,t.TEXTURE_MIN_FILTER,R[o.minFilter])):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n!==t.TEXTURE_3D&&n!==t.TEXTURE_2D_ARRAY||t.texParameteri(n,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),o.wrapS===CA&&o.wrapT===CA||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,t.TEXTURE_MAG_FILTER,T(o.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,T(o.minFilter)),o.minFilter!==OA&&o.minFilter!==NA&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),o.compareFunction&&(t.texParameteri(n,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(n,t.TEXTURE_COMPARE_FUNC,N[o.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){const a=e.get("EXT_texture_filter_anisotropic");if(o.magFilter===OA)return;if(o.minFilter!==RA&&o.minFilter!==LA)return;if(o.type===FA&&!1===e.has("OES_texture_float_linear"))return;if(!1===s&&o.type===zA&&!1===e.has("OES_texture_half_float_linear"))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(t.texParameterf(n,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function I(e,n){let r=!1;void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",M));const i=n.source;let o=g.get(i);void 0===o&&(o={},g.set(i,o));const s=function(t){const e=[];return e.push(t.wrapS),e.push(t.wrapT),e.push(t.wrapR||0),e.push(t.magFilter),e.push(t.minFilter),e.push(t.anisotropy),e.push(t.internalFormat),e.push(t.format),e.push(t.type),e.push(t.generateMipmaps),e.push(t.premultiplyAlpha),e.push(t.flipY),e.push(t.unpackAlignment),e.push(t.colorSpace),e.join()}(n);if(s!==e.__cacheKey){void 0===o[s]&&(o[s]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,r=!0),o[s].usedTimes++;const i=o[e.__cacheKey];void 0!==i&&(o[e.__cacheKey].usedTimes--,0===i.usedTimes&&C(n)),e.__cacheKey=s,e.__webglTexture=o[s].texture}return r}function D(e,i,a){let l=t.TEXTURE_2D;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(l=t.TEXTURE_2D_ARRAY),i.isData3DTexture&&(l=t.TEXTURE_3D);const c=I(e,i),h=i.source;n.bindTexture(l,e.__webglTexture,t.TEXTURE0+a);const d=r.get(h);if(h.version!==d.__version||!0===c){n.activeTexture(t.TEXTURE0+a);const e=WC.getPrimaries(WC.workingColorSpace),r=i.colorSpace===rC?null:WC.getPrimaries(i.colorSpace),f=i.colorSpace===rC||e===r?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,i.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,i.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,f);const p=function(t){return!s&&(t.wrapS!==CA||t.wrapT!==CA||t.minFilter!==OA&&t.minFilter!==NA)}(i)&&!1===_(i.image);let m=b(i.image,p,!1,u);m=V(i,m);const g=_(m)||s,v=o.convert(i.format,i.colorSpace);let y,T=o.convert(i.type),M=S(i.internalFormat,v,T,i.colorSpace,i.isVideoTexture);L(l,i,g);const A=i.mipmaps,C=s&&!0!==i.isVideoTexture,k=void 0===d.__version||!0===c,O=E(i,m,g);if(i.isDepthTexture)M=t.DEPTH_COMPONENT,s?M=i.type===FA?t.DEPTH_COMPONENT32F:i.type===UA?t.DEPTH_COMPONENT24:i.type===BA?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT16:i.type===FA&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===HA&&M===t.DEPTH_COMPONENT&&i.type!==DA&&i.type!==UA&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=UA,T=o.convert(i.type)),i.format===qA&&M===t.DEPTH_COMPONENT&&(M=t.DEPTH_STENCIL,i.type!==BA&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=BA,T=o.convert(i.type))),k&&(C?n.texStorage2D(t.TEXTURE_2D,1,M,m.width,m.height):n.texImage2D(t.TEXTURE_2D,0,M,m.width,m.height,0,v,T,null));else if(i.isDataTexture)if(A.length>0&&g){C&&k&&n.texStorage2D(t.TEXTURE_2D,O,M,A[0].width,A[0].height);for(let e=0,r=A.length;e<r;e++)y=A[e],C?n.texSubImage2D(t.TEXTURE_2D,e,0,0,y.width,y.height,v,T,y.data):n.texImage2D(t.TEXTURE_2D,e,M,y.width,y.height,0,v,T,y.data);i.generateMipmaps=!1}else C?(k&&n.texStorage2D(t.TEXTURE_2D,O,M,m.width,m.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,m.width,m.height,v,T,m.data)):n.texImage2D(t.TEXTURE_2D,0,M,m.width,m.height,0,v,T,m.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){C&&k&&n.texStorage3D(t.TEXTURE_2D_ARRAY,O,M,A[0].width,A[0].height,m.depth);for(let e=0,r=A.length;e<r;e++)y=A[e],i.format!==VA?null!==v?C?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,e,0,0,0,y.width,y.height,m.depth,v,y.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,e,M,y.width,y.height,m.depth,0,y.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):C?n.texSubImage3D(t.TEXTURE_2D_ARRAY,e,0,0,0,y.width,y.height,m.depth,v,T,y.data):n.texImage3D(t.TEXTURE_2D_ARRAY,e,M,y.width,y.height,m.depth,0,v,T,y.data)}else{C&&k&&n.texStorage2D(t.TEXTURE_2D,O,M,A[0].width,A[0].height);for(let e=0,r=A.length;e<r;e++)y=A[e],i.format!==VA?null!==v?C?n.compressedTexSubImage2D(t.TEXTURE_2D,e,0,0,y.width,y.height,v,y.data):n.compressedTexImage2D(t.TEXTURE_2D,e,M,y.width,y.height,0,y.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):C?n.texSubImage2D(t.TEXTURE_2D,e,0,0,y.width,y.height,v,T,y.data):n.texImage2D(t.TEXTURE_2D,e,M,y.width,y.height,0,v,T,y.data)}else if(i.isDataArrayTexture)C?(k&&n.texStorage3D(t.TEXTURE_2D_ARRAY,O,M,m.width,m.height,m.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,m.width,m.height,m.depth,v,T,m.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,M,m.width,m.height,m.depth,0,v,T,m.data);else if(i.isData3DTexture)C?(k&&n.texStorage3D(t.TEXTURE_3D,O,M,m.width,m.height,m.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,m.width,m.height,m.depth,v,T,m.data)):n.texImage3D(t.TEXTURE_3D,0,M,m.width,m.height,m.depth,0,v,T,m.data);else if(i.isFramebufferTexture){if(k)if(C)n.texStorage2D(t.TEXTURE_2D,O,M,m.width,m.height);else{let e=m.width,r=m.height;for(let i=0;i<O;i++)n.texImage2D(t.TEXTURE_2D,i,M,e,r,0,v,T,null),e>>=1,r>>=1}}else if(A.length>0&&g){C&&k&&n.texStorage2D(t.TEXTURE_2D,O,M,A[0].width,A[0].height);for(let e=0,r=A.length;e<r;e++)y=A[e],C?n.texSubImage2D(t.TEXTURE_2D,e,0,0,v,T,y):n.texImage2D(t.TEXTURE_2D,e,M,v,T,y);i.generateMipmaps=!1}else C?(k&&n.texStorage2D(t.TEXTURE_2D,O,M,m.width,m.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,v,T,m)):n.texImage2D(t.TEXTURE_2D,0,M,v,T,m);x(i,g)&&w(l),d.__version=h.version,i.onUpdate&&i.onUpdate(i)}e.__version=i.version}function j(e,i,a,s,l,c){const u=o.convert(a.format,a.colorSpace),h=o.convert(a.type),f=S(a.internalFormat,u,h,a.colorSpace);if(!r.get(i).__hasExternalTextures){const e=Math.max(1,i.width>>c),r=Math.max(1,i.height>>c);l===t.TEXTURE_3D||l===t.TEXTURE_2D_ARRAY?n.texImage3D(l,c,f,e,r,i.depth,0,u,h,null):n.texImage2D(l,c,f,e,r,0,u,h,null)}n.bindFramebuffer(t.FRAMEBUFFER,e),B(i)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,s,l,r.get(a).__webglTexture,0,z(i)):(l===t.TEXTURE_2D||l>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&l<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,s,l,r.get(a).__webglTexture,c),n.bindFramebuffer(t.FRAMEBUFFER,null)}function U(e,n,r){if(t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer){let i=!0===s?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(r||B(n)){const e=n.depthTexture;e&&e.isDepthTexture&&(e.type===FA?i=t.DEPTH_COMPONENT32F:e.type===UA&&(i=t.DEPTH_COMPONENT24));const r=z(n);B(n)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,r,i,n.width,n.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,r,i,n.width,n.height)}else t.renderbufferStorage(t.RENDERBUFFER,i,n.width,n.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)}else if(n.depthBuffer&&n.stencilBuffer){const i=z(n);r&&!1===B(n)?t.renderbufferStorageMultisample(t.RENDERBUFFER,i,t.DEPTH24_STENCIL8,n.width,n.height):B(n)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,i,t.DEPTH24_STENCIL8,n.width,n.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)}else{const e=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture];for(let i=0;i<e.length;i++){const a=e[i],s=o.convert(a.format,a.colorSpace),l=o.convert(a.type),c=S(a.internalFormat,s,l,a.colorSpace),u=z(n);r&&!1===B(n)?t.renderbufferStorageMultisample(t.RENDERBUFFER,u,c,n.width,n.height):B(n)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,u,c,n.width,n.height):t.renderbufferStorage(t.RENDERBUFFER,c,n.width,n.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function F(e){const i=r.get(e),o=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture&&!i.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),O(i.depthTexture,0);const o=r.get(i.depthTexture).__webglTexture,a=z(i);if(i.depthTexture.format===HA)B(i)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,o,0,a):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,o,0);else{if(i.depthTexture.format!==qA)throw new Error("Unknown depthTexture format");B(i)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,o,0,a):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,o,0)}}(i.__webglFramebuffer,e)}else if(o){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=t.createRenderbuffer(),U(i.__webglDepthbuffer[r],e,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=t.createRenderbuffer(),U(i.__webglDepthbuffer,e,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function z(t){return Math.min(h,t.samples)}function B(t){const n=r.get(t);return s&&t.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(t,n){const r=t.colorSpace,i=t.format,o=t.type;return!0===t.isCompressedTexture||!0===t.isVideoTexture||t.format===mC||r!==oC&&r!==rC&&(WC.getTransfer(r)===cC?!1===s?!0===e.has("EXT_sRGB")&&i===VA?(t.format=mC,t.minFilter=NA,t.generateMipmaps=!1):n=YC.sRGBToLinear(n):i===VA&&o===IA||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",r)),n}this.allocateTextureUnit=function(){const t=k;return t>=l&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+l),k+=1,t},this.resetTextureUnits=function(){k=0},this.setTexture2D=O,this.setTexture2DArray=function(e,i){const o=r.get(e);e.version>0&&o.__version!==e.version?D(o,e,i):n.bindTexture(t.TEXTURE_2D_ARRAY,o.__webglTexture,t.TEXTURE0+i)},this.setTexture3D=function(e,i){const o=r.get(e);e.version>0&&o.__version!==e.version?D(o,e,i):n.bindTexture(t.TEXTURE_3D,o.__webglTexture,t.TEXTURE0+i)},this.setTextureCube=function(e,i){const a=r.get(e);e.version>0&&a.__version!==e.version?function(e,i,a){if(6!==i.image.length)return;const l=I(e,i),u=i.source;n.bindTexture(t.TEXTURE_CUBE_MAP,e.__webglTexture,t.TEXTURE0+a);const h=r.get(u);if(u.version!==h.__version||!0===l){n.activeTexture(t.TEXTURE0+a);const e=WC.getPrimaries(WC.workingColorSpace),r=i.colorSpace===rC?null:WC.getPrimaries(i.colorSpace),d=i.colorSpace===rC||e===r?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,i.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,i.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);const f=i.isCompressedTexture||i.image[0].isCompressedTexture,p=i.image[0]&&i.image[0].isDataTexture,m=[];for(let t=0;t<6;t++)m[t]=f||p?p?i.image[t].image:i.image[t]:b(i.image[t],!1,!0,c),m[t]=V(i,m[t]);const g=m[0],v=_(g)||s,y=o.convert(i.format,i.colorSpace),T=o.convert(i.type),M=S(i.internalFormat,y,T,i.colorSpace),A=s&&!0!==i.isVideoTexture,C=void 0===h.__version||!0===l;let k,O=E(i,g,v);if(L(t.TEXTURE_CUBE_MAP,i,v),f){A&&C&&n.texStorage2D(t.TEXTURE_CUBE_MAP,O,M,g.width,g.height);for(let e=0;e<6;e++){k=m[e].mipmaps;for(let r=0;r<k.length;r++){const o=k[r];i.format!==VA?null!==y?A?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r,0,0,o.width,o.height,y,o.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r,M,o.width,o.height,0,o.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):A?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r,0,0,o.width,o.height,y,T,o.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r,M,o.width,o.height,0,y,T,o.data)}}}else{k=i.mipmaps,A&&C&&(k.length>0&&O++,n.texStorage2D(t.TEXTURE_CUBE_MAP,O,M,m[0].width,m[0].height));for(let e=0;e<6;e++)if(p){A?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,0,0,m[e].width,m[e].height,y,T,m[e].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,M,m[e].width,m[e].height,0,y,T,m[e].data);for(let r=0;r<k.length;r++){const i=k[r].image[e].image;A?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r+1,0,0,i.width,i.height,y,T,i.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r+1,M,i.width,i.height,0,y,T,i.data)}}else{A?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,0,0,y,T,m[e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,M,y,T,m[e]);for(let r=0;r<k.length;r++){const i=k[r];A?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r+1,0,0,y,T,i.image[e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r+1,M,y,T,i.image[e])}}}x(i,v)&&w(t.TEXTURE_CUBE_MAP),h.__version=u.version,i.onUpdate&&i.onUpdate(i)}e.__version=i.version}(a,e,i):n.bindTexture(t.TEXTURE_CUBE_MAP,a.__webglTexture,t.TEXTURE0+i)},this.rebindTextures=function(e,n,i){const o=r.get(e);void 0!==n&&j(o.__webglFramebuffer,e,e.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),void 0!==i&&F(e)},this.setupRenderTarget=function(e){const l=e.texture,c=r.get(e),u=r.get(l);e.addEventListener("dispose",A),!0!==e.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=t.createTexture()),u.__version=l.version,a.memory.textures++);const h=!0===e.isWebGLCubeRenderTarget,d=!0===e.isWebGLMultipleRenderTargets,f=_(e)||s;if(h){c.__webglFramebuffer=[];for(let e=0;e<6;e++)if(s&&l.mipmaps&&l.mipmaps.length>0){c.__webglFramebuffer[e]=[];for(let n=0;n<l.mipmaps.length;n++)c.__webglFramebuffer[e][n]=t.createFramebuffer()}else c.__webglFramebuffer[e]=t.createFramebuffer()}else{if(s&&l.mipmaps&&l.mipmaps.length>0){c.__webglFramebuffer=[];for(let e=0;e<l.mipmaps.length;e++)c.__webglFramebuffer[e]=t.createFramebuffer()}else c.__webglFramebuffer=t.createFramebuffer();if(d)if(i.drawBuffers){const n=e.texture;for(let e=0,i=n.length;e<i;e++){const i=r.get(n[e]);void 0===i.__webglTexture&&(i.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&e.samples>0&&!1===B(e)){const r=d?l:[l];c.__webglMultisampledFramebuffer=t.createFramebuffer(),c.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,c.__webglMultisampledFramebuffer);for(let n=0;n<r.length;n++){const i=r[n];c.__webglColorRenderbuffer[n]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,c.__webglColorRenderbuffer[n]);const a=o.convert(i.format,i.colorSpace),s=o.convert(i.type),l=S(i.internalFormat,a,s,i.colorSpace,!0===e.isXRRenderTarget),u=z(e);t.renderbufferStorageMultisample(t.RENDERBUFFER,u,l,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+n,t.RENDERBUFFER,c.__webglColorRenderbuffer[n])}t.bindRenderbuffer(t.RENDERBUFFER,null),e.depthBuffer&&(c.__webglDepthRenderbuffer=t.createRenderbuffer(),U(c.__webglDepthRenderbuffer,e,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(h){n.bindTexture(t.TEXTURE_CUBE_MAP,u.__webglTexture),L(t.TEXTURE_CUBE_MAP,l,f);for(let n=0;n<6;n++)if(s&&l.mipmaps&&l.mipmaps.length>0)for(let r=0;r<l.mipmaps.length;r++)j(c.__webglFramebuffer[n][r],e,l,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else j(c.__webglFramebuffer[n],e,l,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);x(l,f)&&w(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){const i=e.texture;for(let o=0,a=i.length;o<a;o++){const a=i[o],s=r.get(a);n.bindTexture(t.TEXTURE_2D,s.__webglTexture),L(t.TEXTURE_2D,a,f),j(c.__webglFramebuffer,e,a,t.COLOR_ATTACHMENT0+o,t.TEXTURE_2D,0),x(a,f)&&w(t.TEXTURE_2D)}n.unbindTexture()}else{let r=t.TEXTURE_2D;if((e.isWebGL3DRenderTarget||e.isWebGLArrayRenderTarget)&&(s?r=e.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(r,u.__webglTexture),L(r,l,f),s&&l.mipmaps&&l.mipmaps.length>0)for(let n=0;n<l.mipmaps.length;n++)j(c.__webglFramebuffer[n],e,l,t.COLOR_ATTACHMENT0,r,n);else j(c.__webglFramebuffer,e,l,t.COLOR_ATTACHMENT0,r,0);x(l,f)&&w(r),n.unbindTexture()}e.depthBuffer&&F(e)},this.updateRenderTargetMipmap=function(e){const i=_(e)||s,o=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture];for(let a=0,s=o.length;a<s;a++){const s=o[a];if(x(s,i)){const i=e.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,o=r.get(s).__webglTexture;n.bindTexture(i,o),w(i),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(e){if(s&&e.samples>0&&!1===B(e)){const i=e.isWebGLMultipleRenderTargets?e.texture:[e.texture],o=e.width,a=e.height;let s=t.COLOR_BUFFER_BIT;const l=[],c=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,u=r.get(e),h=!0===e.isWebGLMultipleRenderTargets;if(h)for(let e=0;e<i.length;e++)n.bindFramebuffer(t.FRAMEBUFFER,u.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,u.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<i.length;n++){l.push(t.COLOR_ATTACHMENT0+n),e.depthBuffer&&l.push(c);const d=void 0!==u.__ignoreDepthValues&&u.__ignoreDepthValues;if(!1===d&&(e.depthBuffer&&(s|=t.DEPTH_BUFFER_BIT),e.stencilBuffer&&(s|=t.STENCIL_BUFFER_BIT)),h&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,u.__webglColorRenderbuffer[n]),!0===d&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[c]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[c])),h){const e=r.get(i[n]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0)}t.blitFramebuffer(0,0,o,a,0,0,o,a,s,t.NEAREST),f&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,l)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),h)for(let e=0;e<i.length;e++){n.bindFramebuffer(t.FRAMEBUFFER,u.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.RENDERBUFFER,u.__webglColorRenderbuffer[e]);const o=r.get(i[e]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,u.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.TEXTURE_2D,o,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=F,this.setupFrameBufferTexture=j,this.useMultisampledRTT=B}function tL(t,e,n){const r=n.isWebGL2;return{convert:function(n){let i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rC;const a=WC.getTransfer(o);if(n===IA)return t.UNSIGNED_BYTE;if(1017===n)return t.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return t.UNSIGNED_SHORT_5_5_5_1;if(1010===n)return t.BYTE;if(1011===n)return t.SHORT;if(n===DA)return t.UNSIGNED_SHORT;if(n===jA)return t.INT;if(n===UA)return t.UNSIGNED_INT;if(n===FA)return t.FLOAT;if(n===zA)return r?t.HALF_FLOAT:(i=e.get("OES_texture_half_float"),null!==i?i.HALF_FLOAT_OES:null);if(1021===n)return t.ALPHA;if(n===VA)return t.RGBA;if(1024===n)return t.LUMINANCE;if(1025===n)return t.LUMINANCE_ALPHA;if(n===HA)return t.DEPTH_COMPONENT;if(n===qA)return t.DEPTH_STENCIL;if(n===mC)return i=e.get("EXT_sRGB"),null!==i?i.SRGB_ALPHA_EXT:null;if(1028===n)return t.RED;if(1029===n)return t.RED_INTEGER;if(1030===n)return t.RG;if(1031===n)return t.RG_INTEGER;if(1033===n)return t.RGBA_INTEGER;if(n===WA||n===GA||n===XA||n===KA)if(a===cC){if(i=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===i)return null;if(n===WA)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===GA)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===XA)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===KA)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=e.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(n===WA)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===GA)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===XA)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===KA)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===n||35841===n||35842===n||35843===n){if(i=e.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(35840===n)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===n)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===n)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===n)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n)return i=e.get("WEBGL_compressed_texture_etc1"),null!==i?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===n||37496===n){if(i=e.get("WEBGL_compressed_texture_etc"),null===i)return null;if(37492===n)return a===cC?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(37496===n)return a===cC?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n){if(i=e.get("WEBGL_compressed_texture_astc"),null===i)return null;if(37808===n)return a===cC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===n)return a===cC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===n)return a===cC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===n)return a===cC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===n)return a===cC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===n)return a===cC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===n)return a===cC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===n)return a===cC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===n)return a===cC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===n)return a===cC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===n)return a===cC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===n)return a===cC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===n)return a===cC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===n)return a===cC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===YA||36494===n||36495===n){if(i=e.get("EXT_texture_compression_bptc"),null===i)return null;if(n===YA)return a===cC?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===n)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===n)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===n||36284===n||36285===n||36286===n){if(i=e.get("EXT_texture_compression_rgtc"),null===i)return null;if(n===YA)return i.COMPRESSED_RED_RGTC1_EXT;if(36284===n)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===n)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===n)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===BA?r?t.UNSIGNED_INT_24_8:(i=e.get("WEBGL_depth_texture"),null!==i?i.UNSIGNED_INT_24_8_WEBGL:null):void 0!==t[n]?t[n]:null}}}class eL extends gP{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isArrayCamera=!0,this.cameras=t}}class nL extends lO{constructor(){super(),this.isGroup=!0,this.type="Group"}}const rL={type:"move"};class iL{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new nL,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new nL,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new sk,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new sk),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new nL,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new sk,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new sk),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const n of t.hand.values())this._getHandJoint(e,n)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,n){let r=null,i=null,o=null;const a=this._targetRay,s=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState){if(l&&t.hand){o=!0;for(const o of t.hand.values()){const t=e.getJointPose(o,n),r=this._getHandJoint(l,o);null!==t&&(r.matrix.fromArray(t.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=t.radius),r.visible=null!==t}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],a=r.position.distanceTo(i.position),s=.02,c=.005;l.inputState.pinching&&a>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&a<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==s&&t.gripSpace&&(i=e.getPose(t.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==a&&(r=e.getPose(t.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(rL)))}return null!==a&&(a.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==o),this}_getHandJoint(t,e){if(void 0===t.joints[e.jointName]){const n=new nL;n.matrixAutoUpdate=!1,n.visible=!1,t.joints[e.jointName]=n,t.add(n)}return t.joints[e.jointName]}}class oL extends tk{constructor(t,e,n,r,i,o,a,s,l,c){if((c=void 0!==c?c:HA)!==HA&&c!==qA)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===HA&&(n=UA),void 0===n&&c===qA&&(n=BA),super(null,r,i,o,a,s,c,n,l),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=void 0!==a?a:OA,this.minFilter=void 0!==s?s:OA,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return null!==this.compareFunction&&(e.compareFunction=this.compareFunction),e}}class aL extends yC{constructor(t,e){super();const n=this;let r=null,i=1,o=null,a="local-floor",s=1,l=null,c=null,u=null,h=null,d=null,f=null;const p=e.getContextAttributes();let m=null,g=null;const v=[],y=[],b=new gP;b.layers.enable(1),b.viewport=new ek;const _=new gP;_.layers.enable(2),_.viewport=new ek;const x=[b,_],w=new eL;w.layers.enable(1),w.layers.enable(2);let S=null,E=null;function T(t){const e=y.indexOf(t.inputSource);if(-1===e)return;const n=v[e];void 0!==n&&(n.update(t.inputSource,t.frame,l||o),n.dispatchEvent({type:t.type,data:t.inputSource}))}function M(){r.removeEventListener("select",T),r.removeEventListener("selectstart",T),r.removeEventListener("selectend",T),r.removeEventListener("squeeze",T),r.removeEventListener("squeezestart",T),r.removeEventListener("squeezeend",T),r.removeEventListener("end",M),r.removeEventListener("inputsourceschange",A);for(let t=0;t<v.length;t++){const e=y[t];null!==e&&(y[t]=null,v[t].disconnect(e))}S=null,E=null,t.setRenderTarget(m),d=null,h=null,u=null,r=null,g=null,R.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function A(t){for(let e=0;e<t.removed.length;e++){const n=t.removed[e],r=y.indexOf(n);r>=0&&(y[r]=null,v[r].disconnect(n))}for(let e=0;e<t.added.length;e++){const n=t.added[e];let r=y.indexOf(n);if(-1===r){for(let t=0;t<v.length;t++){if(t>=y.length){y.push(n),r=t;break}if(null===y[t]){y[t]=n,r=t;break}}if(-1===r)break}const i=v[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=v[t];return void 0===e&&(e=new iL,v[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=v[t];return void 0===e&&(e=new iL,v[t]=e),e.getGripSpace()},this.getHand=function(t){let e=v[t];return void 0===e&&(e=new iL,v[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){i=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){a=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(t){l=t},this.getBaseLayer=function(){return null!==h?h:d},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=async function(c){if(r=c,null!==r){if(m=t.getRenderTarget(),r.addEventListener("select",T),r.addEventListener("selectstart",T),r.addEventListener("selectend",T),r.addEventListener("squeeze",T),r.addEventListener("squeezestart",T),r.addEventListener("squeezeend",T),r.addEventListener("end",M),r.addEventListener("inputsourceschange",A),!0!==p.xrCompatible&&await e.makeXRCompatible(),void 0===r.renderState.layers||!1===t.capabilities.isWebGL2){const n={antialias:void 0!==r.renderState.layers||p.antialias,alpha:!0,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:i};d=new XRWebGLLayer(r,e,n),r.updateRenderState({baseLayer:d}),g=new rk(d.framebufferWidth,d.framebufferHeight,{format:VA,type:IA,colorSpace:t.outputColorSpace,stencilBuffer:p.stencil})}else{let n=null,o=null,a=null;p.depth&&(a=p.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,n=p.stencil?qA:HA,o=p.stencil?BA:UA);const s={colorFormat:e.RGBA8,depthFormat:a,scaleFactor:i};u=new XRWebGLBinding(r,e),h=u.createProjectionLayer(s),r.updateRenderState({layers:[h]}),g=new rk(h.textureWidth,h.textureHeight,{format:VA,type:IA,depthTexture:new oL(h.textureWidth,h.textureHeight,o,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:p.stencil,colorSpace:t.outputColorSpace,samples:p.antialias?4:0});t.properties.get(g).__ignoreDepthValues=h.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(s),l=null,o=await r.requestReferenceSpace(a),R.setContext(r),R.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const C=new sk,k=new sk;function O(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.updateCamera=function(t){if(null===r)return;w.near=_.near=b.near=t.near,w.far=_.far=b.far=t.far,S===w.near&&E===w.far||(r.updateRenderState({depthNear:w.near,depthFar:w.far}),S=w.near,E=w.far);const e=t.parent,n=w.cameras;O(w,e);for(let r=0;r<n.length;r++)O(n[r],e);2===n.length?function(t,e,n){C.setFromMatrixPosition(e.matrixWorld),k.setFromMatrixPosition(n.matrixWorld);const r=C.distanceTo(k),i=e.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],h=(o[8]+1)/o[0],d=a*u,f=a*h,p=r/(-u+h),m=p*-u;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(p),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const g=a+p,v=s+p,y=d-m,b=f+(r-m),_=l*s/v*g,x=c*s/v*g;t.projectionMatrix.makePerspective(y,b,_,x,g,v),t.projectionMatrixInverse.copy(t.projectionMatrix).invert()}(w,b,_):w.projectionMatrix.copy(b.projectionMatrix),function(t,e,n){null===n?t.matrix.copy(e.matrixWorld):(t.matrix.copy(n.matrixWorld),t.matrix.invert(),t.matrix.multiply(e.matrixWorld));t.matrix.decompose(t.position,t.quaternion,t.scale),t.updateMatrixWorld(!0),t.projectionMatrix.copy(e.projectionMatrix),t.projectionMatrixInverse.copy(e.projectionMatrixInverse),t.isPerspectiveCamera&&(t.fov=2*wC*Math.atan(1/t.projectionMatrix.elements[5]),t.zoom=1)}(t,w,e)},this.getCamera=function(){return w},this.getFoveation=function(){if(null!==h||null!==d)return s},this.setFoveation=function(t){s=t,null!==h&&(h.fixedFoveation=t),null!==d&&void 0!==d.fixedFoveation&&(d.fixedFoveation=t)};let P=null;const R=new CP;R.setAnimationLoop((function(e,r){if(c=r.getViewerPose(l||o),f=r,null!==c){const e=c.views;null!==d&&(t.setRenderTargetFramebuffer(g,d.framebuffer),t.setRenderTarget(g));let n=!1;e.length!==w.cameras.length&&(w.cameras.length=0,n=!0);for(let r=0;r<e.length;r++){const i=e[r];let o=null;if(null!==d)o=d.getViewport(i);else{const e=u.getViewSubImage(h,i);o=e.viewport,0===r&&(t.setRenderTargetTextures(g,e.colorTexture,h.ignoreDepthValues?void 0:e.depthStencilTexture),t.setRenderTarget(g))}let a=x[r];void 0===a&&(a=new gP,a.layers.enable(r),a.viewport=new ek,x[r]=a),a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.quaternion,a.scale),a.projectionMatrix.fromArray(i.projectionMatrix),a.projectionMatrixInverse.copy(a.projectionMatrix).invert(),a.viewport.set(o.x,o.y,o.width,o.height),0===r&&(w.matrix.copy(a.matrix),w.matrix.decompose(w.position,w.quaternion,w.scale)),!0===n&&w.cameras.push(a)}}for(let t=0;t<v.length;t++){const e=y[t],n=v[t];null!==e&&void 0!==n&&n.update(e,r,l||o)}P&&P(e,r),r.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:r}),f=null})),this.setAnimationLoop=function(t){P=t},this.dispose=function(){}}}function sL(t,e){function n(t,e){!0===t.matrixAutoUpdate&&t.updateMatrix(),e.value.copy(t.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,i.side===hA&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),i.side===hA&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);const o=e.get(i).envMap;if(o&&(r.envMap.value=o,r.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;const e=!0===t._useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*e,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(e,n){n.color.getRGB(e.fogColor.value,dP(t)),n.isFog?(e.fogNear.value=n.near,e.fogFar.value=n.far):n.isFogExp2&&(e.fogDensity.value=n.density)},refreshMaterialUniforms:function(t,i,o,a,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(t,i):i.isMeshToonMaterial?(r(t,i),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(t,i)):i.isMeshPhongMaterial?(r(t,i),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4)}(t,i)):i.isMeshStandardMaterial?(r(t,i),function(t,r){t.metalness.value=r.metalness,r.metalnessMap&&(t.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,t.metalnessMapTransform));t.roughness.value=r.roughness,r.roughnessMap&&(t.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,t.roughnessMapTransform));const i=e.get(r).envMap;i&&(t.envMapIntensity.value=r.envMapIntensity)}(t,i),i.isMeshPhysicalMaterial&&function(t,e,r){t.ior.value=e.ior,e.sheen>0&&(t.sheenColor.value.copy(e.sheenColor).multiplyScalar(e.sheen),t.sheenRoughness.value=e.sheenRoughness,e.sheenColorMap&&(t.sheenColorMap.value=e.sheenColorMap,n(e.sheenColorMap,t.sheenColorMapTransform)),e.sheenRoughnessMap&&(t.sheenRoughnessMap.value=e.sheenRoughnessMap,n(e.sheenRoughnessMap,t.sheenRoughnessMapTransform)));e.clearcoat>0&&(t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap,n(e.clearcoatMap,t.clearcoatMapTransform)),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap,n(e.clearcoatRoughnessMap,t.clearcoatRoughnessMapTransform)),e.clearcoatNormalMap&&(t.clearcoatNormalMap.value=e.clearcoatNormalMap,n(e.clearcoatNormalMap,t.clearcoatNormalMapTransform),t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),e.side===hA&&t.clearcoatNormalScale.value.negate()));e.iridescence>0&&(t.iridescence.value=e.iridescence,t.iridescenceIOR.value=e.iridescenceIOR,t.iridescenceThicknessMinimum.value=e.iridescenceThicknessRange[0],t.iridescenceThicknessMaximum.value=e.iridescenceThicknessRange[1],e.iridescenceMap&&(t.iridescenceMap.value=e.iridescenceMap,n(e.iridescenceMap,t.iridescenceMapTransform)),e.iridescenceThicknessMap&&(t.iridescenceThicknessMap.value=e.iridescenceThicknessMap,n(e.iridescenceThicknessMap,t.iridescenceThicknessMapTransform)));e.transmission>0&&(t.transmission.value=e.transmission,t.transmissionSamplerMap.value=r.texture,t.transmissionSamplerSize.value.set(r.width,r.height),e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap,n(e.transmissionMap,t.transmissionMapTransform)),t.thickness.value=e.thickness,e.thicknessMap&&(t.thicknessMap.value=e.thicknessMap,n(e.thicknessMap,t.thicknessMapTransform)),t.attenuationDistance.value=e.attenuationDistance,t.attenuationColor.value.copy(e.attenuationColor));e.anisotropy>0&&(t.anisotropyVector.value.set(e.anisotropy*Math.cos(e.anisotropyRotation),e.anisotropy*Math.sin(e.anisotropyRotation)),e.anisotropyMap&&(t.anisotropyMap.value=e.anisotropyMap,n(e.anisotropyMap,t.anisotropyMapTransform)));t.specularIntensity.value=e.specularIntensity,t.specularColor.value.copy(e.specularColor),e.specularColorMap&&(t.specularColorMap.value=e.specularColorMap,n(e.specularColorMap,t.specularColorMapTransform));e.specularIntensityMap&&(t.specularIntensityMap.value=e.specularIntensityMap,n(e.specularIntensityMap,t.specularIntensityMapTransform))}(t,i,s)):i.isMeshMatcapMaterial?(r(t,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap)}(t,i)):i.isMeshDepthMaterial?r(t,i):i.isMeshDistanceMaterial?(r(t,i),function(t,n){const r=e.get(n).light;t.referencePosition.value.setFromMatrixPosition(r.matrixWorld),t.nearDistance.value=r.shadow.camera.near,t.farDistance.value=r.shadow.camera.far}(t,i)):i.isMeshNormalMaterial?r(t,i):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,e.map&&(t.map.value=e.map,n(e.map,t.mapTransform))}(t,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,i)):i.isPointsMaterial?function(t,e,r,i){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*r,t.scale.value=.5*i,e.map&&(t.map.value=e.map,n(e.map,t.uvTransform));e.alphaMap&&(t.alphaMap.value=e.alphaMap,n(e.alphaMap,t.alphaMapTransform));e.alphaTest>0&&(t.alphaTest.value=e.alphaTest)}(t,i,o,a):i.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map,n(e.map,t.mapTransform));e.alphaMap&&(t.alphaMap.value=e.alphaMap,n(e.alphaMap,t.alphaMapTransform));e.alphaTest>0&&(t.alphaTest.value=e.alphaTest)}(t,i):i.isShadowMaterial?(t.color.value.copy(i.color),t.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function lL(t,e,n,r){let i={},o={},a=[];const s=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(t,e,n){const r=t.value;if(void 0===n[e]){if("number"===typeof r)n[e]=r;else{const t=Array.isArray(r)?r:[r],i=[];for(let e=0;e<t.length;e++)i.push(t[e].clone());n[e]=i}return!0}if("number"===typeof r){if(n[e]!==r)return n[e]=r,!0}else{const t=Array.isArray(n[e])?n[e]:[n[e]],i=Array.isArray(r)?r:[r];for(let e=0;e<t.length;e++){const n=t[e];if(!1===n.equals(i[e]))return n.copy(i[e]),!0}}return!1}function c(t){const e={boundary:0,storage:0};return"number"===typeof t?(e.boundary=4,e.storage=4):t.isVector2?(e.boundary=8,e.storage=8):t.isVector3||t.isColor?(e.boundary=16,e.storage=12):t.isVector4?(e.boundary=16,e.storage=16):t.isMatrix3?(e.boundary=48,e.storage=48):t.isMatrix4?(e.boundary=64,e.storage=64):t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",t),e}function u(e){const n=e.target;n.removeEventListener("dispose",u);const r=a.indexOf(n.__bindingPointIndex);a.splice(r,1),t.deleteBuffer(i[n.id]),delete i[n.id],delete o[n.id]}return{bind:function(t,e){const n=e.program;r.uniformBlockBinding(t,n)},update:function(n,h){let d=i[n.id];void 0===d&&(!function(t){const e=t.uniforms;let n=0;const r=16;let i=0;for(let o=0,a=e.length;o<a;o++){const t=e[o],a={boundary:0,storage:0},s=Array.isArray(t.value)?t.value:[t.value];for(let e=0,n=s.length;e<n;e++){const t=c(s[e]);a.boundary+=t.boundary,a.storage+=t.storage}if(t.__data=new Float32Array(a.storage/Float32Array.BYTES_PER_ELEMENT),t.__offset=n,o>0){i=n%r;0!==i&&r-i-a.boundary<0&&(n+=r-i,t.__offset=n)}n+=a.storage}i=n%r,i>0&&(n+=r-i);t.__size=n,t.__cache={}}(n),d=function(e){const n=function(){for(let t=0;t<s;t++)if(-1===a.indexOf(t))return a.push(t),t;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();e.__bindingPointIndex=n;const r=t.createBuffer(),i=e.__size,o=e.usage;return t.bindBuffer(t.UNIFORM_BUFFER,r),t.bufferData(t.UNIFORM_BUFFER,i,o),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=d,n.addEventListener("dispose",u));const f=h.program;r.updateUBOMapping(n,f);const p=e.render.frame;o[n.id]!==p&&(!function(e){const n=i[e.id],r=e.uniforms,o=e.__cache;t.bindBuffer(t.UNIFORM_BUFFER,n);for(let i=0,a=r.length;i<a;i++){const e=r[i];if(!0===l(e,i,o)){const n=e.__offset,r=Array.isArray(e.value)?e.value:[e.value];let i=0;for(let o=0;o<r.length;o++){const a=r[o],s=c(a);"number"===typeof a?(e.__data[0]=a,t.bufferSubData(t.UNIFORM_BUFFER,n+i,e.__data)):a.isMatrix3?(e.__data[0]=a.elements[0],e.__data[1]=a.elements[1],e.__data[2]=a.elements[2],e.__data[3]=a.elements[0],e.__data[4]=a.elements[3],e.__data[5]=a.elements[4],e.__data[6]=a.elements[5],e.__data[7]=a.elements[0],e.__data[8]=a.elements[6],e.__data[9]=a.elements[7],e.__data[10]=a.elements[8],e.__data[11]=a.elements[0]):(a.toArray(e.__data,i),i+=s.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,n,e.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}(n),o[n.id]=p)},dispose:function(){for(const e in i)t.deleteBuffer(i[e]);a=[],i={},o={}}}}class cL{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{canvas:e=UC(),context:n=null,depth:r=!0,stencil:i=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:s=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1}=t;let h;this.isWebGLRenderer=!0,h=null!==n?n.getContextAttributes().alpha:o;const d=new Uint32Array(4),f=new Int32Array(4);let p=null,m=null;const g=[],v=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=iC,this._useLegacyLights=!1,this.toneMapping=gA,this.toneMappingExposure=1;const y=this;let b=!1,_=0,x=0,w=null,S=-1,E=null;const T=new ek,M=new ek;let A=null;const C=new TO(0);let k=0,O=e.width,P=e.height,R=1,N=null,L=null;const I=new ek(0,0,O,P),D=new ek(0,0,O,P);let j=!1;const U=new AP;let F=!1,z=!1,B=null;const V=new jk,H=new NC,q=new sk,W={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function G(){return null===w?R:1}let X,K,Y,$,Q,Z,J,tt,et,nt,rt,it,ot,at,st,lt,ct,ut,ht,dt,ft,pt,mt,gt,vt=n;function yt(t,n){for(let r=0;r<t.length;r++){const i=t[r],o=e.getContext(i,n);if(null!==o)return o}return null}try{const t={alpha:!0,depth:r,stencil:i,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r".concat(eA)),e.addEventListener("webglcontextlost",xt,!1),e.addEventListener("webglcontextrestored",wt,!1),e.addEventListener("webglcontextcreationerror",St,!1),null===vt){const e=["webgl2","webgl","experimental-webgl"];if(!0===y.isWebGL1Renderer&&e.shift(),vt=yt(e,t),null===vt)throw yt(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}"undefined"!==typeof WebGLRenderingContext&&vt instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===vt.getShaderPrecisionFormat&&(vt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(jt){throw console.error("THREE.WebGLRenderer: "+jt.message),jt}function bt(){X=new iR(vt),K=new UP(vt,X,t),X.init(K),pt=new tL(vt,X,K),Y=new ZN(vt,X,K),$=new sR(vt),Q=new UN,Z=new JN(vt,X,Y,Q,K,pt,$),J=new zP(y),tt=new rR(y),et=new kP(vt,K),mt=new DP(vt,X,et,K),nt=new oR(vt,et,$,mt),rt=new hR(vt,nt,et,$),ht=new uR(vt,K,Z),lt=new FP(Q),it=new jN(y,J,tt,X,K,mt,lt),ot=new sL(y,Q),at=new VN,st=new KN(X,K),ut=new IP(y,J,tt,Y,rt,h,s),ct=new QN(y,rt,K),gt=new lL(vt,$,K,Y),dt=new jP(vt,X,$,K),ft=new aR(vt,X,$,K),$.programs=it.programs,y.capabilities=K,y.extensions=X,y.properties=Q,y.renderLists=at,y.shadowMap=ct,y.state=Y,y.info=$}bt();const _t=new aL(y,vt);function xt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function wt(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const t=$.autoReset,e=ct.enabled,n=ct.autoUpdate,r=ct.needsUpdate,i=ct.type;bt(),$.autoReset=t,ct.enabled=e,ct.autoUpdate=n,ct.needsUpdate=r,ct.type=i}function St(t){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",t.statusMessage)}function Et(t){const e=t.target;e.removeEventListener("dispose",Et),function(t){(function(t){const e=Q.get(t).programs;void 0!==e&&(e.forEach((function(t){it.releaseProgram(t)})),t.isShaderMaterial&&it.releaseShaderCache(t))})(t),Q.remove(t)}(e)}function Tt(t,e,n){!0===t.transparent&&2===t.side&&!1===t.forceSinglePass?(t.side=hA,t.needsUpdate=!0,Lt(t,e,n),t.side=uA,t.needsUpdate=!0,Lt(t,e,n),t.side=2):Lt(t,e,n)}this.xr=_t,this.getContext=function(){return vt},this.getContextAttributes=function(){return vt.getContextAttributes()},this.forceContextLoss=function(){const t=X.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=X.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(t){void 0!==t&&(R=t,this.setSize(O,P,!1))},this.getSize=function(t){return t.set(O,P)},this.setSize=function(t,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];_t.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(O=t,P=n,e.width=Math.floor(t*R),e.height=Math.floor(n*R),!0===r&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return t.set(O*R,P*R).floor()},this.setDrawingBufferSize=function(t,n,r){O=t,P=n,R=r,e.width=Math.floor(t*r),e.height=Math.floor(n*r),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return t.copy(T)},this.getViewport=function(t){return t.copy(I)},this.setViewport=function(t,e,n,r){t.isVector4?I.set(t.x,t.y,t.z,t.w):I.set(t,e,n,r),Y.viewport(T.copy(I).multiplyScalar(R).floor())},this.getScissor=function(t){return t.copy(D)},this.setScissor=function(t,e,n,r){t.isVector4?D.set(t.x,t.y,t.z,t.w):D.set(t,e,n,r),Y.scissor(M.copy(D).multiplyScalar(R).floor())},this.getScissorTest=function(){return j},this.setScissorTest=function(t){Y.setScissorTest(j=t)},this.setOpaqueSort=function(t){N=t},this.setTransparentSort=function(t){L=t},this.getClearColor=function(t){return t.copy(ut.getClearColor())},this.setClearColor=function(){ut.setClearColor.apply(ut,arguments)},this.getClearAlpha=function(){return ut.getClearAlpha()},this.setClearAlpha=function(){ut.setClearAlpha.apply(ut,arguments)},this.clear=function(){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){let t=!1;if(null!==w){const e=w.texture.format;t=1033===e||1031===e||1029===e}if(t){const t=w.texture.type,e=t===IA||t===UA||t===DA||t===BA||1017===t||1018===t,n=ut.getClearColor(),r=ut.getClearAlpha(),i=n.r,o=n.g,a=n.b;e?(d[0]=i,d[1]=o,d[2]=a,d[3]=r,vt.clearBufferuiv(vt.COLOR,0,d)):(f[0]=i,f[1]=o,f[2]=a,f[3]=r,vt.clearBufferiv(vt.COLOR,0,f))}else n|=vt.COLOR_BUFFER_BIT}t&&(n|=vt.DEPTH_BUFFER_BIT),e&&(n|=vt.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),vt.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",xt,!1),e.removeEventListener("webglcontextrestored",wt,!1),e.removeEventListener("webglcontextcreationerror",St,!1),at.dispose(),st.dispose(),Q.dispose(),J.dispose(),tt.dispose(),rt.dispose(),mt.dispose(),gt.dispose(),it.dispose(),_t.dispose(),_t.removeEventListener("sessionstart",At),_t.removeEventListener("sessionend",Ct),B&&(B.dispose(),B=null),kt.stop()},this.renderBufferDirect=function(t,e,n,r,i,o){null===e&&(e=W);const a=i.isMesh&&i.matrixWorld.determinant()<0,s=function(t,e,n,r,i){!0!==e.isScene&&(e=W);Z.resetTextureUnits();const o=e.fog,a=r.isMeshStandardMaterial?e.environment:null,s=null===w?y.outputColorSpace:!0===w.isXRRenderTarget?w.texture.colorSpace:oC,l=(r.isMeshStandardMaterial?tt:J).get(r.envMap||a),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),h=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,f=!!n.morphAttributes.color;let p=gA;r.toneMapped&&(null!==w&&!0!==w.isXRRenderTarget||(p=y.toneMapping));const g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,v=void 0!==g?g.length:0,b=Q.get(r),_=m.state.lights;if(!0===F&&(!0===z||t!==E)){const e=t===E&&r.id===S;lt.setState(r,t,e)}let x=!1;r.version===b.__version?b.needsLights&&b.lightsStateVersion!==_.state.version||b.outputColorSpace!==s||i.isInstancedMesh&&!1===b.instancing?x=!0:i.isInstancedMesh||!0!==b.instancing?i.isSkinnedMesh&&!1===b.skinning?x=!0:i.isSkinnedMesh||!0!==b.skinning?i.isInstancedMesh&&!0===b.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===b.instancingColor&&null!==i.instanceColor||b.envMap!==l||!0===r.fog&&b.fog!==o?x=!0:void 0===b.numClippingPlanes||b.numClippingPlanes===lt.numPlanes&&b.numIntersection===lt.numIntersection?(b.vertexAlphas!==c||b.vertexTangents!==u||b.morphTargets!==h||b.morphNormals!==d||b.morphColors!==f||b.toneMapping!==p||!0===K.isWebGL2&&b.morphTargetsCount!==v)&&(x=!0):x=!0:x=!0:x=!0:(x=!0,b.__version=r.version);let T=b.currentProgram;!0===x&&(T=Lt(r,e,i));let M=!1,A=!1,C=!1;const k=T.getUniforms(),O=b.uniforms;Y.useProgram(T.program)&&(M=!0,A=!0,C=!0);r.id!==S&&(S=r.id,A=!0);if(M||E!==t){k.setValue(vt,"projectionMatrix",t.projectionMatrix),k.setValue(vt,"viewMatrix",t.matrixWorldInverse);const e=k.map.cameraPosition;void 0!==e&&e.setValue(vt,q.setFromMatrixPosition(t.matrixWorld)),K.logarithmicDepthBuffer&&k.setValue(vt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&k.setValue(vt,"isOrthographic",!0===t.isOrthographicCamera),E!==t&&(E=t,A=!0,C=!0)}if(i.isSkinnedMesh){k.setOptional(vt,i,"bindMatrix"),k.setOptional(vt,i,"bindMatrixInverse");const t=i.skeleton;t&&(K.floatVertexTextures?(null===t.boneTexture&&t.computeBoneTexture(),k.setValue(vt,"boneTexture",t.boneTexture,Z),k.setValue(vt,"boneTextureSize",t.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const N=n.morphAttributes;(void 0!==N.position||void 0!==N.normal||void 0!==N.color&&!0===K.isWebGL2)&&ht.update(i,n,T);(A||b.receiveShadow!==i.receiveShadow)&&(b.receiveShadow=i.receiveShadow,k.setValue(vt,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(O.envMap.value=l,O.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);A&&(k.setValue(vt,"toneMappingExposure",y.toneMappingExposure),b.needsLights&&function(t,e){t.ambientLightColor.needsUpdate=e,t.lightProbe.needsUpdate=e,t.directionalLights.needsUpdate=e,t.directionalLightShadows.needsUpdate=e,t.pointLights.needsUpdate=e,t.pointLightShadows.needsUpdate=e,t.spotLights.needsUpdate=e,t.spotLightShadows.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}(O,C),o&&!0===r.fog&&ot.refreshFogUniforms(O,o),ot.refreshMaterialUniforms(O,r,R,P,B),mN.upload(vt,It(b),O,Z));r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(mN.upload(vt,It(b),O,Z),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&k.setValue(vt,"center",i.center);if(k.setValue(vt,"modelViewMatrix",i.modelViewMatrix),k.setValue(vt,"normalMatrix",i.normalMatrix),k.setValue(vt,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const t=r.uniformsGroups;for(let e=0,n=t.length;e<n;e++)if(K.isWebGL2){const n=t[e];gt.update(n,T),gt.bind(n,T)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return T}(t,e,n,r,i);Y.setMaterial(r,a);let l=n.index,c=1;if(!0===r.wireframe){if(l=nt.getWireframeAttribute(n),void 0===l)return;c=2}const u=n.drawRange,h=n.attributes.position;let d=u.start*c,f=(u.start+u.count)*c;null!==o&&(d=Math.max(d,o.start*c),f=Math.min(f,(o.start+o.count)*c)),null!==l?(d=Math.max(d,0),f=Math.min(f,l.count)):void 0!==h&&null!==h&&(d=Math.max(d,0),f=Math.min(f,h.count));const p=f-d;if(p<0||p===1/0)return;let g;mt.setup(i,r,s,n,l);let v=dt;if(null!==l&&(g=et.get(l),v=ft,v.setIndex(g)),i.isMesh)!0===r.wireframe?(Y.setLineWidth(r.wireframeLinewidth*G()),v.setMode(vt.LINES)):v.setMode(vt.TRIANGLES);else if(i.isLine){let t=r.linewidth;void 0===t&&(t=1),Y.setLineWidth(t*G()),i.isLineSegments?v.setMode(vt.LINES):i.isLineLoop?v.setMode(vt.LINE_LOOP):v.setMode(vt.LINE_STRIP)}else i.isPoints?v.setMode(vt.POINTS):i.isSprite&&v.setMode(vt.TRIANGLES);if(i.isInstancedMesh)v.renderInstances(d,p,i.count);else if(n.isInstancedBufferGeometry){const t=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,e=Math.min(n.instanceCount,t);v.renderInstances(d,p,e)}else v.render(d,p)},this.compile=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=t),m=st.get(n),m.init(),v.push(m),n.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(m.pushLight(t),t.castShadow&&m.pushShadow(t))})),t!==n&&t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(m.pushLight(t),t.castShadow&&m.pushShadow(t))})),m.setupLights(y._useLegacyLights);const r=new Set;return t.traverse((function(t){const e=t.material;if(e)if(Array.isArray(e))for(let i=0;i<e.length;i++){const o=e[i];Tt(o,n,t),r.add(o)}else Tt(e,n,t),r.add(e)})),v.pop(),m=null,r},this.compileAsync=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=this.compile(t,e,n);return new Promise((e=>{function n(){r.forEach((function(t){Q.get(t).currentProgram.isReady()&&r.delete(t)})),0!==r.size?setTimeout(n,10):e(t)}null!==X.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)}))};let Mt=null;function At(){kt.stop()}function Ct(){kt.start()}const kt=new CP;function Ot(t,e,n,r){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)m.pushLight(t),t.castShadow&&m.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||U.intersectsSprite(t)){r&&q.setFromMatrixPosition(t.matrixWorld).applyMatrix4(V);const e=rt.update(t),i=t.material;i.visible&&p.push(t,e,i,n,q.z,null)}}else if((t.isMesh||t.isLine||t.isPoints)&&(!t.frustumCulled||U.intersectsObject(t))){const e=rt.update(t),i=t.material;if(r&&(void 0!==t.boundingSphere?(null===t.boundingSphere&&t.computeBoundingSphere(),q.copy(t.boundingSphere.center)):(null===e.boundingSphere&&e.computeBoundingSphere(),q.copy(e.boundingSphere.center)),q.applyMatrix4(t.matrixWorld).applyMatrix4(V)),Array.isArray(i)){const r=e.groups;for(let o=0,a=r.length;o<a;o++){const a=r[o],s=i[a.materialIndex];s&&s.visible&&p.push(t,e,s,n,q.z,a)}}else i.visible&&p.push(t,e,i,n,q.z,null)}const i=t.children;for(let o=0,a=i.length;o<a;o++)Ot(i[o],e,n,r)}function Pt(t,e,n,r){const i=t.opaque,o=t.transmissive,a=t.transparent;m.setupLightsView(n),!0===F&&lt.setGlobalState(y.clippingPlanes,n),o.length>0&&function(t,e,n,r){const i=!0===n.isScene?n.overrideMaterial:null;if(null!==i)return;const o=K.isWebGL2;null===B&&(B=new rk(1,1,{generateMipmaps:!0,type:X.has("EXT_color_buffer_half_float")?zA:IA,minFilter:LA,samples:o?4:0}));y.getDrawingBufferSize(H),o?B.setSize(H.x,H.y):B.setSize(kC(H.x),kC(H.y));const a=y.getRenderTarget();y.setRenderTarget(B),y.getClearColor(C),k=y.getClearAlpha(),k<1&&y.setClearColor(16777215,.5);y.clear();const s=y.toneMapping;y.toneMapping=gA,Rt(t,n,r),Z.updateMultisampleRenderTarget(B),Z.updateRenderTargetMipmap(B);let l=!1;for(let c=0,u=e.length;c<u;c++){const t=e[c],i=t.object,o=t.geometry,a=t.material,s=t.group;if(2===a.side&&i.layers.test(r.layers)){const t=a.side;a.side=hA,a.needsUpdate=!0,Nt(i,n,r,o,a,s),a.side=t,a.needsUpdate=!0,l=!0}}!0===l&&(Z.updateMultisampleRenderTarget(B),Z.updateRenderTargetMipmap(B));y.setRenderTarget(a),y.setClearColor(C,k),y.toneMapping=s}(i,o,e,n),r&&Y.viewport(T.copy(r)),i.length>0&&Rt(i,e,n),o.length>0&&Rt(o,e,n),a.length>0&&Rt(a,e,n),Y.buffers.depth.setTest(!0),Y.buffers.depth.setMask(!0),Y.buffers.color.setMask(!0),Y.setPolygonOffset(!1)}function Rt(t,e,n){const r=!0===e.isScene?e.overrideMaterial:null;for(let i=0,o=t.length;i<o;i++){const o=t[i],a=o.object,s=o.geometry,l=null===r?o.material:r,c=o.group;a.layers.test(n.layers)&&Nt(a,e,n,s,l,c)}}function Nt(t,e,n,r,i,o){t.onBeforeRender(y,e,n,r,i,o),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),i.onBeforeRender(y,e,n,r,t,o),!0===i.transparent&&2===i.side&&!1===i.forceSinglePass?(i.side=hA,i.needsUpdate=!0,y.renderBufferDirect(n,e,r,i,t,o),i.side=uA,i.needsUpdate=!0,y.renderBufferDirect(n,e,r,i,t,o),i.side=2):y.renderBufferDirect(n,e,r,i,t,o),t.onAfterRender(y,e,n,r,i,o)}function Lt(t,e,n){!0!==e.isScene&&(e=W);const r=Q.get(t),i=m.state.lights,o=m.state.shadowsArray,a=i.state.version,s=it.getParameters(t,i.state,o,e,n),l=it.getProgramCacheKey(s);let c=r.programs;r.environment=t.isMeshStandardMaterial?e.environment:null,r.fog=e.fog,r.envMap=(t.isMeshStandardMaterial?tt:J).get(t.envMap||r.environment),void 0===c&&(t.addEventListener("dispose",Et),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===a)return Dt(t,s),u}else s.uniforms=it.getUniforms(t),t.onBuild(n,s,y),t.onBeforeCompile(s,y),u=it.acquireProgram(s,l),c.set(l,u),r.uniforms=s.uniforms;const h=r.uniforms;return(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(h.clippingPlanes=lt.uniform),Dt(t,s),r.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),r.lightsStateVersion=a,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotLightMatrix.value=i.state.spotLightMatrix,h.spotLightMap.value=i.state.spotLightMap,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=u,r.uniformsList=null,u}function It(t){if(null===t.uniformsList){const e=t.currentProgram.getUniforms();t.uniformsList=mN.seqWithValue(e.seq,t.uniforms)}return t.uniformsList}function Dt(t,e){const n=Q.get(t);n.outputColorSpace=e.outputColorSpace,n.instancing=e.instancing,n.instancingColor=e.instancingColor,n.skinning=e.skinning,n.morphTargets=e.morphTargets,n.morphNormals=e.morphNormals,n.morphColors=e.morphColors,n.morphTargetsCount=e.morphTargetsCount,n.numClippingPlanes=e.numClippingPlanes,n.numIntersection=e.numClipIntersection,n.vertexAlphas=e.vertexAlphas,n.vertexTangents=e.vertexTangents,n.toneMapping=e.toneMapping}kt.setAnimationLoop((function(t){Mt&&Mt(t)})),"undefined"!==typeof self&&kt.setContext(self),this.setAnimationLoop=function(t){Mt=t,_t.setAnimationLoop(t),null===t?kt.stop():kt.start()},_t.addEventListener("sessionstart",At),_t.addEventListener("sessionend",Ct),this.render=function(t,e){if(void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===b)return;!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),null===e.parent&&!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),!0===_t.enabled&&!0===_t.isPresenting&&(!0===_t.cameraAutoUpdate&&_t.updateCamera(e),e=_t.getCamera()),!0===t.isScene&&t.onBeforeRender(y,t,e,w),m=st.get(t,v.length),m.init(),v.push(m),V.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),U.setFromProjectionMatrix(V),z=this.localClippingEnabled,F=lt.init(this.clippingPlanes,z),p=at.get(t,g.length),p.init(),g.push(p),Ot(t,e,0,y.sortObjects),p.finish(),!0===y.sortObjects&&p.sort(N,L),this.info.render.frame++,!0===F&&lt.beginShadows();const n=m.state.shadowsArray;if(ct.render(n,t,e),!0===F&&lt.endShadows(),!0===this.info.autoReset&&this.info.reset(),ut.render(p,t),m.setupLights(y._useLegacyLights),e.isArrayCamera){const n=e.cameras;for(let e=0,r=n.length;e<r;e++){const r=n[e];Pt(p,t,r,r.viewport)}}else Pt(p,t,e);null!==w&&(Z.updateMultisampleRenderTarget(w),Z.updateRenderTargetMipmap(w)),!0===t.isScene&&t.onAfterRender(y,t,e),mt.resetDefaultState(),S=-1,E=null,v.pop(),m=v.length>0?v[v.length-1]:null,g.pop(),p=g.length>0?g[g.length-1]:null},this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(t,e,n){Q.get(t.texture).__webglTexture=e,Q.get(t.depthTexture).__webglTexture=n;const r=Q.get(t);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===X.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(t,e){const n=Q.get(t);n.__webglFramebuffer=e,n.__useDefaultFramebuffer=void 0===e},this.setRenderTarget=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;w=t,_=e,x=n;let r=!0,i=null,o=!1,a=!1;if(t){const s=Q.get(t);void 0!==s.__useDefaultFramebuffer?(Y.bindFramebuffer(vt.FRAMEBUFFER,null),r=!1):void 0===s.__webglFramebuffer?Z.setupRenderTarget(t):s.__hasExternalTextures&&Z.rebindTextures(t,Q.get(t.texture).__webglTexture,Q.get(t.depthTexture).__webglTexture);const l=t.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(a=!0);const c=Q.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=Array.isArray(c[e])?c[e][n]:c[e],o=!0):i=K.isWebGL2&&t.samples>0&&!1===Z.useMultisampledRTT(t)?Q.get(t).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,T.copy(t.viewport),M.copy(t.scissor),A=t.scissorTest}else T.copy(I).multiplyScalar(R).floor(),M.copy(D).multiplyScalar(R).floor(),A=j;if(Y.bindFramebuffer(vt.FRAMEBUFFER,i)&&K.drawBuffers&&r&&Y.drawBuffers(t,i),Y.viewport(T),Y.scissor(M),Y.setScissorTest(A),o){const r=Q.get(t.texture);vt.framebufferTexture2D(vt.FRAMEBUFFER,vt.COLOR_ATTACHMENT0,vt.TEXTURE_CUBE_MAP_POSITIVE_X+e,r.__webglTexture,n)}else if(a){const r=Q.get(t.texture),i=e||0;vt.framebufferTextureLayer(vt.FRAMEBUFFER,vt.COLOR_ATTACHMENT0,r.__webglTexture,n||0,i)}S=-1},this.readRenderTargetPixels=function(t,e,n,r,i,o,a){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=Q.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){Y.bindFramebuffer(vt.FRAMEBUFFER,s);try{const a=t.texture,s=a.format,l=a.type;if(s!==VA&&pt.convert(s)!==vt.getParameter(vt.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const c=l===zA&&(X.has("EXT_color_buffer_half_float")||K.isWebGL2&&X.has("EXT_color_buffer_float"));if(l!==IA&&pt.convert(l)!==vt.getParameter(vt.IMPLEMENTATION_COLOR_READ_TYPE)&&(l!==FA||!(K.isWebGL2||X.has("OES_texture_float")||X.has("WEBGL_color_buffer_float")))&&!c)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&vt.readPixels(e,n,r,i,pt.convert(s),pt.convert(l),o)}finally{const t=null!==w?Q.get(w).__webglFramebuffer:null;Y.bindFramebuffer(vt.FRAMEBUFFER,t)}}},this.copyFramebufferToTexture=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Math.pow(2,-n),i=Math.floor(e.image.width*r),o=Math.floor(e.image.height*r);Z.setTexture2D(e,0),vt.copyTexSubImage2D(vt.TEXTURE_2D,n,0,0,t.x,t.y,i,o),Y.unbindTexture()},this.copyTextureToTexture=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=e.image.width,o=e.image.height,a=pt.convert(n.format),s=pt.convert(n.type);Z.setTexture2D(n,0),vt.pixelStorei(vt.UNPACK_FLIP_Y_WEBGL,n.flipY),vt.pixelStorei(vt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),vt.pixelStorei(vt.UNPACK_ALIGNMENT,n.unpackAlignment),e.isDataTexture?vt.texSubImage2D(vt.TEXTURE_2D,r,t.x,t.y,i,o,a,s,e.image.data):e.isCompressedTexture?vt.compressedTexSubImage2D(vt.TEXTURE_2D,r,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,a,e.mipmaps[0].data):vt.texSubImage2D(vt.TEXTURE_2D,r,t.x,t.y,a,s,e.image),0===r&&n.generateMipmaps&&vt.generateMipmap(vt.TEXTURE_2D),Y.unbindTexture()},this.copyTextureToTexture3D=function(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(y.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const o=t.max.x-t.min.x+1,a=t.max.y-t.min.y+1,s=t.max.z-t.min.z+1,l=pt.convert(r.format),c=pt.convert(r.type);let u;if(r.isData3DTexture)Z.setTexture3D(r,0),u=vt.TEXTURE_3D;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Z.setTexture2DArray(r,0),u=vt.TEXTURE_2D_ARRAY}vt.pixelStorei(vt.UNPACK_FLIP_Y_WEBGL,r.flipY),vt.pixelStorei(vt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),vt.pixelStorei(vt.UNPACK_ALIGNMENT,r.unpackAlignment);const h=vt.getParameter(vt.UNPACK_ROW_LENGTH),d=vt.getParameter(vt.UNPACK_IMAGE_HEIGHT),f=vt.getParameter(vt.UNPACK_SKIP_PIXELS),p=vt.getParameter(vt.UNPACK_SKIP_ROWS),m=vt.getParameter(vt.UNPACK_SKIP_IMAGES),g=n.isCompressedTexture?n.mipmaps[0]:n.image;vt.pixelStorei(vt.UNPACK_ROW_LENGTH,g.width),vt.pixelStorei(vt.UNPACK_IMAGE_HEIGHT,g.height),vt.pixelStorei(vt.UNPACK_SKIP_PIXELS,t.min.x),vt.pixelStorei(vt.UNPACK_SKIP_ROWS,t.min.y),vt.pixelStorei(vt.UNPACK_SKIP_IMAGES,t.min.z),n.isDataTexture||n.isData3DTexture?vt.texSubImage3D(u,i,e.x,e.y,e.z,o,a,s,l,c,g.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),vt.compressedTexSubImage3D(u,i,e.x,e.y,e.z,o,a,s,l,g.data)):vt.texSubImage3D(u,i,e.x,e.y,e.z,o,a,s,l,c,g),vt.pixelStorei(vt.UNPACK_ROW_LENGTH,h),vt.pixelStorei(vt.UNPACK_IMAGE_HEIGHT,d),vt.pixelStorei(vt.UNPACK_SKIP_PIXELS,f),vt.pixelStorei(vt.UNPACK_SKIP_ROWS,p),vt.pixelStorei(vt.UNPACK_SKIP_IMAGES,m),0===i&&r.generateMipmaps&&vt.generateMipmap(u),Y.unbindTexture()},this.initTexture=function(t){t.isCubeTexture?Z.setTextureCube(t,0):t.isData3DTexture?Z.setTexture3D(t,0):t.isDataArrayTexture||t.isCompressedArrayTexture?Z.setTexture2DArray(t,0):Z.setTexture2D(t,0),Y.unbindTexture()},this.resetState=function(){_=0,x=0,w=null,Y.reset(),mt.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return gC}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorSpace=t===aC?"display-p3":"srgb",e.unpackColorSpace=WC.workingColorSpace===sC?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(t){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!t}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===iC?nC:3e3}set outputEncoding(t){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=t===nC?iC:oC}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(t){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=t}}(class extends cL{}).prototype.isWebGL1Renderer=!0;class uL extends lO{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e}}class hL{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=fC,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=SC()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this}set(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=SC()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=SC()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const dL=new sk;class fL{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,n=this.data.count;e<n;e++)dL.fromBufferAttribute(this,e),dL.applyMatrix4(t),this.setXYZ(e,dL.x,dL.y,dL.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)dL.fromBufferAttribute(this,e),dL.applyNormalMatrix(t),this.setXYZ(e,dL.x,dL.y,dL.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)dL.fromBufferAttribute(this,e),dL.transformDirection(t),this.setXYZ(e,dL.x,dL.y,dL.z);return this}setX(t,e){return this.normalized&&(e=PC(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=PC(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=PC(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=PC(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=OC(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=OC(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=OC(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=OC(e,this.array)),e}setXY(t,e,n){return t=t*this.data.stride+this.offset,this.normalized&&(e=PC(e,this.array),n=PC(n,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=PC(e,this.array),n=PC(n,this.array),r=PC(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this}setXYZW(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=PC(e,this.array),n=PC(n,this.array),r=PC(r,this.array),i=PC(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}clone(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return new RO(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new fL(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class pL extends CO{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new TO(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let mL;const gL=new sk,vL=new sk,yL=new sk,bL=new NC,_L=new NC,xL=new jk,wL=new sk,SL=new sk,EL=new sk,TL=new NC,ML=new NC,AL=new NC;class CL extends lO{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new pL;if(super(),this.isSprite=!0,this.type="Sprite",void 0===mL){mL=new HO;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),e=new hL(t,5);mL.setIndex([0,1,2,0,2,3]),mL.setAttribute("position",new fL(e,3,0,!1)),mL.setAttribute("uv",new fL(e,2,3,!1))}this.geometry=mL,this.material=t,this.center=new NC(.5,.5)}raycast(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),vL.setFromMatrixScale(this.matrixWorld),xL.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),yL.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&vL.multiplyScalar(-yL.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const o=this.center;kL(wL.set(-.5,-.5,0),yL,o,vL,r,i),kL(SL.set(.5,-.5,0),yL,o,vL,r,i),kL(EL.set(.5,.5,0),yL,o,vL,r,i),TL.set(0,0),ML.set(1,0),AL.set(1,1);let a=t.ray.intersectTriangle(wL,SL,EL,!1,gL);if(null===a&&(kL(SL.set(-.5,.5,0),yL,o,vL,r,i),ML.set(0,1),a=t.ray.intersectTriangle(wL,EL,SL,!1,gL),null===a))return;const s=t.ray.origin.distanceTo(gL);s<t.near||s>t.far||e.push({distance:s,point:gL.clone(),uv:_O.getInterpolation(gL,wL,SL,EL,TL,ML,AL,new NC),face:null,object:this})}copy(t,e){return super.copy(t,e),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}function kL(t,e,n,r,i,o){bL.subVectors(t,n).addScalar(.5).multiply(r),void 0!==i?(_L.x=o*bL.x-i*bL.y,_L.y=i*bL.x+o*bL.y):_L.copy(bL),t.copy(e),t.x+=_L.x,t.y+=_L.y,t.applyMatrix4(xL)}class OL extends CO{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new TO(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const PL=new sk,RL=new sk,NL=new jk,LL=new Dk,IL=new Ck;class DL extends lO{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new HO,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new OL;super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,n=[0];for(let t=1,r=e.count;t<r;t++)PL.fromBufferAttribute(e,t-1),RL.fromBufferAttribute(e,t),n[t]=n[t-1],n[t]+=PL.distanceTo(RL);t.setAttribute("lineDistance",new IO(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const n=this.geometry,r=this.matrixWorld,i=t.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),IL.copy(n.boundingSphere),IL.applyMatrix4(r),IL.radius+=i,!1===t.ray.intersectsSphere(IL))return;NL.copy(r).invert(),LL.copy(t.ray).applyMatrix4(NL);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=new sk,c=new sk,u=new sk,h=new sk,d=this.isLineSegments?2:1,f=n.index,p=n.attributes.position;if(null!==f){for(let n=Math.max(0,o.start),r=Math.min(f.count,o.start+o.count)-1;n<r;n+=d){const r=f.getX(n),i=f.getX(n+1);l.fromBufferAttribute(p,r),c.fromBufferAttribute(p,i);if(LL.distanceSqToSegment(l,c,h,u)>s)continue;h.applyMatrix4(this.matrixWorld);const o=t.ray.origin.distanceTo(h);o<t.near||o>t.far||e.push({distance:o,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else{for(let n=Math.max(0,o.start),r=Math.min(p.count,o.start+o.count)-1;n<r;n+=d){l.fromBufferAttribute(p,n),c.fromBufferAttribute(p,n+1);if(LL.distanceSqToSegment(l,c,h,u)>s)continue;h.applyMatrix4(this.matrixWorld);const r=t.ray.origin.distanceTo(h);r<t.near||r>t.far||e.push({distance:r,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=n.length;t<e;t++){const e=n[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}class jL extends tk{constructor(t,e,n,r,i,o,a,s,l){super(t,e,n,r,i,o,a,s,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class UL{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)}getPoints(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}getSpacedPoints(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,r=this.getPoint(0),i=0;e.push(0);for(let o=1;o<=t;o++)n=this.getPoint(o/t),i+=n.distanceTo(r),e.push(i),r=n;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const n=this.getLengths();let r=0;const i=n.length;let o;o=e||t*n[i-1];let a,s=0,l=i-1;for(;s<=l;)if(r=Math.floor(s+(l-s)/2),a=n[r]-o,a<0)s=r+1;else{if(!(a>0)){l=r;break}l=r-1}if(r=l,n[r]===o)return r/(i-1);const c=n[r];return(r+(o-c)/(n[r+1]-c))/(i-1)}getTangent(t,e){const n=1e-4;let r=t-n,i=t+n;r<0&&(r=0),i>1&&(i=1);const o=this.getPoint(r),a=this.getPoint(i),s=e||(o.isVector2?new NC:new sk);return s.copy(a).sub(o).normalize(),s}getTangentAt(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)}computeFrenetFrames(t,e){const n=new sk,r=[],i=[],o=[],a=new sk,s=new jk;for(let d=0;d<=t;d++){const e=d/t;r[d]=this.getTangentAt(e,new sk)}i[0]=new sk,o[0]=new sk;let l=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),h=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),h<=l&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(let d=1;d<=t;d++){if(i[d]=i[d-1].clone(),o[d]=o[d-1].clone(),a.crossVectors(r[d-1],r[d]),a.length()>Number.EPSILON){a.normalize();const t=Math.acos(EC(r[d-1].dot(r[d]),-1,1));i[d].applyMatrix4(s.makeRotationAxis(a,t))}o[d].crossVectors(r[d],i[d])}if(!0===e){let e=Math.acos(EC(i[0].dot(i[t]),-1,1));e/=t,r[0].dot(a.crossVectors(i[0],i[t]))>0&&(e=-e);for(let n=1;n<=t;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],e*n)),o[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class FL extends UL{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s}getPoint(t,e){const n=e||new NC,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const o=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);const a=this.aStartAngle+t*i;let s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),n=s-this.aX,r=l-this.aY;s=n*t-r*e+this.aX,l=n*e+r*t+this.aY}return n.set(s,l)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}function zL(){let t=0,e=0,n=0,r=0;function i(i,o,a,s){t=i,e=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(t,e,n,r,o){i(e,n,o*(n-t),o*(r-e))},initNonuniformCatmullRom:function(t,e,n,r,o,a,s){let l=(e-t)/o-(n-t)/(o+a)+(n-e)/a,c=(n-e)/a-(r-e)/(a+s)+(r-n)/s;l*=a,c*=a,i(e,n,l,c)},calc:function(i){const o=i*i;return t+e*i+n*o+r*(o*i)}}}const BL=new sk,VL=new zL,HL=new zL,qL=new zL;function WL(t,e,n,r,i){const o=.5*(r-e),a=.5*(i-n),s=t*t;return(2*n-2*r+o+a)*(t*s)+(-3*n+3*r-2*o-a)*s+o*t+n}function GL(t,e,n,r){return function(t,e){const n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,r)}function XL(t,e,n,r,i){return function(t,e){const n=1-t;return n*n*n*e}(t,e)+function(t,e){const n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,i)}class KL extends UL{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new NC,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new NC,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new NC,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new NC;super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=r}getPoint(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new NC,n=this.v0,r=this.v1,i=this.v2,o=this.v3;return e.set(XL(t,n.x,r.x,i.x,o.x),XL(t,n.y,r.y,i.y,o.y)),e}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class YL extends UL{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sk,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sk,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new sk,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new sk;super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=r}getPoint(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sk,n=this.v0,r=this.v1,i=this.v2,o=this.v3;return e.set(XL(t,n.x,r.x,i.x,o.x),XL(t,n.y,r.y,i.y,o.y),XL(t,n.z,r.z,i.z,o.z)),e}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class $L extends UL{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new NC,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new NC;super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new NC;return 1===t?e.copy(this.v2):(e.copy(this.v2).sub(this.v1),e.multiplyScalar(t).add(this.v1)),e}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new NC).subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class QL extends UL{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new NC,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new NC,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new NC;super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}getPoint(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new NC,n=this.v0,r=this.v1,i=this.v2;return e.set(GL(t,n.x,r.x,i.x),GL(t,n.y,r.y,i.y)),e}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class ZL extends UL{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sk,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sk,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new sk;super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}getPoint(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sk,n=this.v0,r=this.v1,i=this.v2;return e.set(GL(t,n.x,r.x,i.x),GL(t,n.y,r.y,i.y),GL(t,n.z,r.z,i.z)),e}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class JL extends UL{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new NC,n=this.points,r=(n.length-1)*t,i=Math.floor(r),o=r-i,a=n[0===i?i:i-1],s=n[i],l=n[i>n.length-2?n.length-1:i+1],c=n[i>n.length-3?n.length-1:i+2];return e.set(WL(o,a.x,s.x,l.x,c.x),WL(o,a.y,s.y,l.y,c.y)),e}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new NC).fromArray(n))}return this}}var tI=Object.freeze({__proto__:null,ArcCurve:class extends FL{constructor(t,e,n,r,i,o){super(t,e,n,n,r,i,o),this.isArcCurve=!0,this.type="ArcCurve"}},CatmullRomCurve3:class extends UL{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=r}getPoint(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sk,n=this.points,r=n.length,i=(r-(this.closed?0:1))*t;let o,a,s=Math.floor(i),l=i-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/r)+1)*r:0===l&&s===r-1&&(s=r-2,l=1),this.closed||s>0?o=n[(s-1)%r]:(BL.subVectors(n[0],n[1]).add(n[0]),o=BL);const c=n[s%r],u=n[(s+1)%r];if(this.closed||s+2<r?a=n[(s+2)%r]:(BL.subVectors(n[r-1],n[r-2]).add(n[r-1]),a=BL),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let e=Math.pow(o.distanceToSquared(c),t),n=Math.pow(c.distanceToSquared(u),t),r=Math.pow(u.distanceToSquared(a),t);n<1e-4&&(n=1),e<1e-4&&(e=n),r<1e-4&&(r=n),VL.initNonuniformCatmullRom(o.x,c.x,u.x,a.x,e,n,r),HL.initNonuniformCatmullRom(o.y,c.y,u.y,a.y,e,n,r),qL.initNonuniformCatmullRom(o.z,c.z,u.z,a.z,e,n,r)}else"catmullrom"===this.curveType&&(VL.initCatmullRom(o.x,c.x,u.x,a.x,this.tension),HL.initCatmullRom(o.y,c.y,u.y,a.y,this.tension),qL.initCatmullRom(o.z,c.z,u.z,a.z,this.tension));return e.set(VL.calc(l),HL.calc(l),qL.calc(l)),e}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new sk).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}},CubicBezierCurve:KL,CubicBezierCurve3:YL,EllipseCurve:FL,LineCurve:$L,LineCurve3:class extends UL{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sk,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sk;super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sk;return 1===t?e.copy(this.v2):(e.copy(this.v2).sub(this.v1),e.multiplyScalar(t).add(this.v1)),e}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sk).subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}},QuadraticBezierCurve:QL,QuadraticBezierCurve3:ZL,SplineCurve:JL});class eI extends HO{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};const l=this;r=Math.floor(r),i=Math.floor(i);const c=[],u=[],h=[],d=[];let f=0;const p=[],m=n/2;let g=0;function v(n){const i=f,o=new NC,p=new sk;let v=0;const y=!0===n?t:e,b=!0===n?1:-1;for(let t=1;t<=r;t++)u.push(0,m*b,0),h.push(0,b,0),d.push(.5,.5),f++;const _=f;for(let t=0;t<=r;t++){const e=t/r*s+a,n=Math.cos(e),i=Math.sin(e);p.x=y*i,p.y=m*b,p.z=y*n,u.push(p.x,p.y,p.z),h.push(0,b,0),o.x=.5*n+.5,o.y=.5*i*b+.5,d.push(o.x,o.y),f++}for(let t=0;t<r;t++){const e=i+t,r=_+t;!0===n?c.push(r,r+1,e):c.push(r+1,r,e),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}!function(){const o=new sk,v=new sk;let y=0;const b=(e-t)/n;for(let l=0;l<=i;l++){const c=[],g=l/i,y=g*(e-t)+t;for(let t=0;t<=r;t++){const e=t/r,i=e*s+a,l=Math.sin(i),p=Math.cos(i);v.x=y*l,v.y=-g*n+m,v.z=y*p,u.push(v.x,v.y,v.z),o.set(l,b,p).normalize(),h.push(o.x,o.y,o.z),d.push(e,1-g),c.push(f++)}p.push(c)}for(let t=0;t<r;t++)for(let e=0;e<i;e++){const n=p[e][t],r=p[e+1][t],i=p[e+1][t+1],o=p[e][t+1];c.push(n,r,o),c.push(r,i,o),y+=6}l.addGroup(g,y,0),g+=y}(),!1===o&&(t>0&&v(!0),e>0&&v(!1)),this.setIndex(c),this.setAttribute("position",new IO(u,3)),this.setAttribute("normal",new IO(h,3)),this.setAttribute("uv",new IO(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new eI(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class nI extends eI{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;super(0,t,e,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}static fromJSON(t){return new nI(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class rI extends HO{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=Math.max(3,Math.floor(e)),n=Math.max(2,Math.floor(n));const s=Math.min(o+a,Math.PI);let l=0;const c=[],u=new sk,h=new sk,d=[],f=[],p=[],m=[];for(let g=0;g<=n;g++){const d=[],v=g/n;let y=0;0===g&&0===o?y=.5/e:g===n&&s===Math.PI&&(y=-.5/e);for(let n=0;n<=e;n++){const s=n/e;u.x=-t*Math.cos(r+s*i)*Math.sin(o+v*a),u.y=t*Math.cos(o+v*a),u.z=t*Math.sin(r+s*i)*Math.sin(o+v*a),f.push(u.x,u.y,u.z),h.copy(u).normalize(),p.push(h.x,h.y,h.z),m.push(s+y,1-v),d.push(l++)}c.push(d)}for(let g=0;g<n;g++)for(let t=0;t<e;t++){const e=c[g][t+1],r=c[g][t],i=c[g+1][t],a=c[g+1][t+1];(0!==g||o>0)&&d.push(e,r,a),(g!==n-1||s<Math.PI)&&d.push(r,i,a)}this.setIndex(d),this.setAttribute("position",new IO(f,3)),this.setAttribute("normal",new IO(p,3)),this.setAttribute("uv",new IO(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new rI(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class iI extends HO{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ZL(new sk(-1,-1,0),new sk(-1,1,0),new sk(1,1,0)),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i};const o=t.computeFrenetFrames(e,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new sk,s=new sk,l=new NC;let c=new sk;const u=[],h=[],d=[],f=[];function p(i){c=t.getPointAt(i/e,c);const l=o.normals[i],d=o.binormals[i];for(let t=0;t<=r;t++){const e=t/r*Math.PI*2,i=Math.sin(e),o=-Math.cos(e);s.x=o*l.x+i*d.x,s.y=o*l.y+i*d.y,s.z=o*l.z+i*d.z,s.normalize(),h.push(s.x,s.y,s.z),a.x=c.x+n*s.x,a.y=c.y+n*s.y,a.z=c.z+n*s.z,u.push(a.x,a.y,a.z)}}!function(){for(let t=0;t<e;t++)p(t);p(!1===i?e:0),function(){for(let t=0;t<=e;t++)for(let n=0;n<=r;n++)l.x=t/e,l.y=n/r,d.push(l.x,l.y)}(),function(){for(let t=1;t<=e;t++)for(let e=1;e<=r;e++){const n=(r+1)*(t-1)+(e-1),i=(r+1)*t+(e-1),o=(r+1)*t+e,a=(r+1)*(t-1)+e;f.push(n,i,a),f.push(i,o,a)}}()}(),this.setIndex(f),this.setAttribute("position",new IO(u,3)),this.setAttribute("normal",new IO(h,3)),this.setAttribute("uv",new IO(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new iI((new tI[t.path.type]).fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class oI extends CO{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new TO(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new TO(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new NC(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=fA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}function aI(t,e,n){return!t||!n&&t.constructor===e?t:"number"===typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)}function sI(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}class lI{constructor(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{let o;n:{r:if(!(t<r)){for(let o=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,r=e[++n],t<r)break e}o=e.length;break n}if(t>=i)break t;{const a=e[1];t<a&&(n=2,i=a);for(let o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===o)break;if(r=i,i=e[--n-1],t>=i)break e}o=n,n=0}}for(;n<o;){const r=n+o>>>1;t<e[r]?o=r:n=r+1}if(r=e[n],i=e[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r;for(let o=0;o!==r;++o)e[o]=n[i+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class cI extends lI{constructor(t,e,n,r){super(t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:JA,endingEnd:JA}}intervalChanged_(t,e,n){const r=this.parameterPositions;let i=t-2,o=t+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case tC:i=t,a=2*e-n;break;case eC:i=r.length-2,a=e+r[i]-r[i+1];break;default:i=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case tC:o=t,s=2*n-e;break;case eC:o=1,s=n+r[1]-r[0];break;default:o=t-1,s=e}const l=.5*(n-e),c=this.valueSize;this._weightPrev=l/(e-a),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c}interpolate_(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-e)/(r-e),p=f*f,m=p*f,g=-h*m+2*h*p-h*f,v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*m+(1.5+d)*p+.5*f,b=d*m-d*p;for(let _=0;_!==a;++_)i[_]=g*o[c+_]+v*o[l+_]+y*o[s+_]+b*o[u+_];return i}}class uI extends lI{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,c=(n-e)/(r-e),u=1-c;for(let h=0;h!==a;++h)i[h]=o[l+h]*u+o[s+h]*c;return i}}class hI extends lI{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class dI{constructor(t,e,n,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=aI(e,this.TimeBufferType),this.values=aI(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:aI(t.times,Array),values:aI(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(n.interpolation=e)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new hI(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new uI(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new cI(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case $A:e=this.InterpolantFactoryMethodDiscrete;break;case QA:e=this.InterpolantFactoryMethodLinear;break;case ZA:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return $A;case this.InterpolantFactoryMethodLinear:return QA;case this.InterpolantFactoryMethodSmooth:return ZA}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]*=t}return this}trim(t,e){const n=this.times,r=n.length;let i=0,o=r-1;for(;i!==r&&n[i]<t;)++i;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);const t=this.getValueSize();this.times=n.slice(i,o),this.values=this.values.slice(i*t,o*t)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let a=0;a!==i;a++){const e=n[a];if("number"===typeof e&&isNaN(e)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,e),t=!1;break}if(null!==o&&o>e){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,e,o),t=!1;break}o=e}if(void 0!==r&&sI(r))for(let a=0,s=r.length;a!==s;++a){const e=r[a];if(isNaN(e)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,e),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===ZA,i=t.length-1;let o=1;for(let a=1;a<i;++a){let i=!1;const s=t[a];if(s!==t[a+1]&&(1!==a||s!==t[0]))if(r)i=!0;else{const t=a*n,r=t-n,o=t+n;for(let a=0;a!==n;++a){const n=e[t+a];if(n!==e[r+a]||n!==e[o+a]){i=!0;break}}}if(i){if(a!==o){t[o]=t[a];const r=a*n,i=o*n;for(let t=0;t!==n;++t)e[i+t]=e[r+t]}++o}}if(i>0){t[o]=t[i];for(let t=i*n,r=o*n,a=0;a!==n;++a)e[r+a]=e[t+a];++o}return o!==t.length?(this.times=t.slice(0,o),this.values=e.slice(0,o*n)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}dI.prototype.TimeBufferType=Float32Array,dI.prototype.ValueBufferType=Float32Array,dI.prototype.DefaultInterpolation=QA;class fI extends dI{}fI.prototype.ValueTypeName="bool",fI.prototype.ValueBufferType=Array,fI.prototype.DefaultInterpolation=$A,fI.prototype.InterpolantFactoryMethodLinear=void 0,fI.prototype.InterpolantFactoryMethodSmooth=void 0;class pI extends dI{}pI.prototype.ValueTypeName="color";class mI extends dI{}mI.prototype.ValueTypeName="number";class gI extends lI{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-e)/(r-e);let l=t*a;for(let c=l+a;l!==c;l+=4)ak.slerpFlat(i,0,o,l-a,o,l,s);return i}}class vI extends dI{InterpolantFactoryMethodLinear(t){return new gI(this.times,this.values,this.getValueSize(),t)}}vI.prototype.ValueTypeName="quaternion",vI.prototype.DefaultInterpolation=QA,vI.prototype.InterpolantFactoryMethodSmooth=void 0;class yI extends dI{}yI.prototype.ValueTypeName="string",yI.prototype.ValueBufferType=Array,yI.prototype.DefaultInterpolation=$A,yI.prototype.InterpolantFactoryMethodLinear=void 0,yI.prototype.InterpolantFactoryMethodSmooth=void 0;class bI extends dI{}bI.prototype.ValueTypeName="vector";const _I={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class xI{constructor(t,e,n){const r=this;let i,o=!1,a=0,s=0;const l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){s++,!1===o&&void 0!==r.onStart&&r.onStart(t,a,s),o=!0},this.itemEnd=function(t){a++,void 0!==r.onProgress&&r.onProgress(t,a,s),a===s&&(o=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return i?i(t):t},this.setURLModifier=function(t){return i=t,this},this.addHandler=function(t,e){return l.push(t,e),this},this.removeHandler=function(t){const e=l.indexOf(t);return-1!==e&&l.splice(e,2),this},this.getHandler=function(t){for(let e=0,n=l.length;e<n;e+=2){const n=l[e],r=l[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return r}return null}}}const wI=new xI;class SI{constructor(t){this.manager=void 0!==t?t:wI,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise((function(r,i){n.load(t,r,e,i)}))}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}SI.DEFAULT_MATERIAL_NAME="__DEFAULT";class EI extends SI{constructor(t){super(t)}load(t,e,n,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=this,o=_I.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout((function(){e&&e(o),i.manager.itemEnd(t)}),0),o;const a=jC("img");function s(){c(),_I.add(t,this),e&&e(this),i.manager.itemEnd(t)}function l(e){c(),r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)}function c(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a}}class TI extends lO{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),this.isLight=!0,this.type="Light",this.color=new TO(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}const MI=new jk,AI=new sk,CI=new sk;class kI{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new NC(512,512),this.map=null,this.mapPass=null,this.matrix=new jk,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new AP,this._frameExtents=new NC(1,1),this._viewportCount=1,this._viewports=[new ek(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,n=this.matrix;AI.setFromMatrixPosition(t.matrixWorld),e.position.copy(AI),CI.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(CI),e.updateMatrixWorld(),MI.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(MI),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(MI)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class OI extends kI{constructor(){super(new BP(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class PI extends TI{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(lO.DEFAULT_UP),this.updateMatrix(),this.target=new lO,this.shadow=new OI}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class RI extends TI{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class NI{constructor(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=LI(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=LI();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function LI(){return("undefined"===typeof performance?Date:performance).now()}const II="\\[\\]\\.:\\/",DI=new RegExp("["+II+"]","g"),jI="[^"+II+"]",UI="[^"+II.replace("\\.","")+"]",FI=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",jI)+/(WCOD+)?/.source.replace("WCOD",UI)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",jI)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",jI)+"$"),zI=["material","materials","bones","map"];class BI{constructor(t,e,n){this.path=e,this.parsedPath=n||BI.parseTrackName(e),this.node=BI.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,n){return t&&t.isAnimationObjectGroup?new BI.Composite(t,e,n):new BI(t,e,n)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(DI,"")}static parseTrackName(t){const e=FI.exec(t);if(null===e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const t=n.nodeName.substring(r+1);-1!==zI.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}static findNode(t,e){if(void 0===e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let r=0;r<t.length;r++){const i=t[r];if(i.name===e||i.uuid===e)return i;const o=n(i.children);if(o)return o}return null},r=n(t.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)t[e++]=n[r]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,n=e.objectName,r=e.propertyName;let i=e.propertyIndex;if(t||(t=BI.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let r=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===r){r=e;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==r){if(void 0===t[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[r]}}const o=t[r];if(void 0===o){const n=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",t)}let a=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[i]&&(i=t.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(s=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}BI.Composite=class{constructor(t,e,n){const r=n||BI.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},BI.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},BI.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},BI.prototype.GetterByBindingType=[BI.prototype._getValue_direct,BI.prototype._getValue_array,BI.prototype._getValue_arrayElement,BI.prototype._getValue_toArray],BI.prototype.SetterByBindingTypeAndVersioning=[[BI.prototype._setValue_direct,BI.prototype._setValue_direct_setNeedsUpdate,BI.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[BI.prototype._setValue_array,BI.prototype._setValue_array_setNeedsUpdate,BI.prototype._setValue_array_setMatrixWorldNeedsUpdate],[BI.prototype._setValue_arrayElement,BI.prototype._setValue_arrayElement_setNeedsUpdate,BI.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[BI.prototype._setValue_fromArray,BI.prototype._setValue_fromArray_setNeedsUpdate,BI.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];new Float32Array(1);class VI{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;this.ray=new Dk(t,e),this.near=n,this.far=r,this.camera=null,this.layers=new Kk,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}intersectObject(t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return qI(t,this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),e.sort(HI),e}intersectObjects(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let r=0,i=t.length;r<i;r++)qI(t[r],this,n,e);return n.sort(HI),n}}function HI(t,e){return t.distance-e.distance}function qI(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===r){const r=t.children;for(let t=0,i=r.length;t<i;t++)qI(r[t],e,n,!0)}}class WI{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=t,this.phi=e,this.theta=n,this}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(EC(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:eA}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=eA);const GI=new EP,XI=new VI,KI=new NC,YI=new sk,$I=new sk,QI=new sk,ZI=new jk;class JI extends yC{constructor(t,e,n){super(),n.style.touchAction="none";let r=null,i=null;const o=[],a=this;function s(){n.addEventListener("pointermove",c),n.addEventListener("pointerdown",u),n.addEventListener("pointerup",h),n.addEventListener("pointerleave",h)}function l(){n.removeEventListener("pointermove",c),n.removeEventListener("pointerdown",u),n.removeEventListener("pointerup",h),n.removeEventListener("pointerleave",h),n.style.cursor=""}function c(s){if(!1!==a.enabled){if(d(s),XI.setFromCamera(KI,e),r)return XI.ray.intersectPlane(GI,$I)&&r.position.copy($I.sub(YI).applyMatrix4(ZI)),void a.dispatchEvent({type:"drag",object:r});if("mouse"===s.pointerType||"pen"===s.pointerType)if(o.length=0,XI.setFromCamera(KI,e),XI.intersectObjects(t,a.recursive,o),o.length>0){const t=o[0].object;GI.setFromNormalAndCoplanarPoint(e.getWorldDirection(GI.normal),QI.setFromMatrixPosition(t.matrixWorld)),i!==t&&null!==i&&(a.dispatchEvent({type:"hoveroff",object:i}),n.style.cursor="auto",i=null),i!==t&&(a.dispatchEvent({type:"hoveron",object:t}),n.style.cursor="pointer",i=t)}else null!==i&&(a.dispatchEvent({type:"hoveroff",object:i}),n.style.cursor="auto",i=null)}}function u(i){!1!==a.enabled&&(d(i),o.length=0,XI.setFromCamera(KI,e),XI.intersectObjects(t,a.recursive,o),o.length>0&&(r=!0===a.transformGroup?t[0]:o[0].object,GI.setFromNormalAndCoplanarPoint(e.getWorldDirection(GI.normal),QI.setFromMatrixPosition(r.matrixWorld)),XI.ray.intersectPlane(GI,$I)&&(ZI.copy(r.parent.matrixWorld).invert(),YI.copy($I).sub(QI.setFromMatrixPosition(r.matrixWorld))),n.style.cursor="move",a.dispatchEvent({type:"dragstart",object:r})))}function h(){!1!==a.enabled&&(r&&(a.dispatchEvent({type:"dragend",object:r}),r=null),n.style.cursor=i?"pointer":"auto")}function d(t){const e=n.getBoundingClientRect();KI.x=(t.clientX-e.left)/e.width*2-1,KI.y=-(t.clientY-e.top)/e.height*2+1}s(),this.enabled=!0,this.recursive=!0,this.transformGroup=!1,this.activate=s,this.deactivate=l,this.dispose=function(){l()},this.getObjects=function(){return t},this.getRaycaster=function(){return XI}}}var tD={value:()=>{}};function eD(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new nD(r)}function nD(t){this._=t}function rD(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function iD(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=tD,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}nD.prototype=eD.prototype={constructor:nD,on:function(t,e){var n,r=this._,i=function(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=iD(r[n],t.name,e);else if(null==e)for(n in r)r[n]=iD(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=rD(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new nD(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const oD=eD;var aD,sD,lD=0,cD=0,uD=0,hD=1e3,dD=0,fD=0,pD=0,mD="object"===typeof performance&&performance.now?performance:Date,gD="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function vD(){return fD||(gD(yD),fD=mD.now()+pD)}function yD(){fD=0}function bD(){this._call=this._time=this._next=null}function _D(t,e,n){var r=new bD;return r.restart(t,e,n),r}function xD(){fD=(dD=mD.now())+pD,lD=cD=0;try{!function(){vD(),++lD;for(var t,e=aD;e;)(t=fD-e._time)>=0&&e._call.call(void 0,t),e=e._next;--lD}()}finally{lD=0,function(){var t,e,n=aD,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:aD=e);sD=t,SD(r)}(),fD=0}}function wD(){var t=mD.now(),e=t-dD;e>hD&&(pD-=e,dD=t)}function SD(t){lD||(cD&&(cD=clearTimeout(cD)),t-fD>24?(t<1/0&&(cD=setTimeout(xD,t-mD.now()-pD)),uD&&(uD=clearInterval(uD))):(uD||(dD=mD.now(),uD=setInterval(wD,hD)),lD=1,gD(xD)))}bD.prototype=_D.prototype={constructor:bD,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?vD():+n)+(null==e?0:+e),this._next||sD===this||(sD?sD._next=this:aD=this,sD=this),this._call=t,this._time=n,SD()},stop:function(){this._call&&(this._call=null,this._time=1/0,SD())}};const ED=1664525,TD=1013904223,MD=4294967296;function AD(t){return t.x}function CD(t){return t.y}function kD(t){return t.z}var OD=Math.PI*(3-Math.sqrt(5)),PD=20*Math.PI/(9+Math.sqrt(221));function RD(t,e){e=e||2;var n,r=Math.min(3,Math.max(1,Math.round(e))),i=1,o=.001,a=1-Math.pow(o,1/300),s=0,l=.6,c=new Map,u=_D(f),h=oD("tick","end"),d=function(){let t=1;return()=>(t=(ED*t+TD)%MD)/MD}();function f(){p(),h.call("tick",n),i<o&&(u.stop(),h.call("end",n))}function p(e){var o,u,h=t.length;void 0===e&&(e=1);for(var d=0;d<e;++d)for(i+=(s-i)*a,c.forEach((function(t){t(i)})),o=0;o<h;++o)null==(u=t[o]).fx?u.x+=u.vx*=l:(u.x=u.fx,u.vx=0),r>1&&(null==u.fy?u.y+=u.vy*=l:(u.y=u.fy,u.vy=0)),r>2&&(null==u.fz?u.z+=u.vz*=l:(u.z=u.fz,u.vz=0));return n}function m(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),null!=e.fz&&(e.z=e.fz),isNaN(e.x)||r>1&&isNaN(e.y)||r>2&&isNaN(e.z)){var o=10*(r>2?Math.cbrt(.5+n):r>1?Math.sqrt(.5+n):n),a=n*OD,s=n*PD;1===r?e.x=o:2===r?(e.x=o*Math.cos(a),e.y=o*Math.sin(a)):(e.x=o*Math.sin(a)*Math.cos(s),e.y=o*Math.cos(a),e.z=o*Math.sin(a)*Math.sin(s))}(isNaN(e.vx)||r>1&&isNaN(e.vy)||r>2&&isNaN(e.vz))&&(e.vx=0,r>1&&(e.vy=0),r>2&&(e.vz=0))}}function g(e){return e.initialize&&e.initialize(t,d,r),e}return null==t&&(t=[]),m(),n={tick:p,restart:function(){return u.restart(f),n},stop:function(){return u.stop(),n},numDimensions:function(t){return arguments.length?(r=Math.min(3,Math.max(1,Math.round(t))),c.forEach(g),n):r},nodes:function(e){return arguments.length?(t=e,m(),c.forEach(g),n):t},alpha:function(t){return arguments.length?(i=+t,n):i},alphaMin:function(t){return arguments.length?(o=+t,n):o},alphaDecay:function(t){return arguments.length?(a=+t,n):+a},alphaTarget:function(t){return arguments.length?(s=+t,n):s},velocityDecay:function(t){return arguments.length?(l=1-t,n):1-l},randomSource:function(t){return arguments.length?(d=t,c.forEach(g),n):d},force:function(t,e){return arguments.length>1?(null==e?c.delete(t):c.set(t,g(e)),n):c.get(t)},find:function(){var e,n,i,o,a,s,l=Array.prototype.slice.call(arguments),c=l.shift()||0,u=(r>1?l.shift():null)||0,h=(r>2?l.shift():null)||0,d=l.shift()||1/0,f=0,p=t.length;for(d*=d,f=0;f<p;++f)(o=(e=c-(a=t[f]).x)*e+(n=u-(a.y||0))*n+(i=h-(a.z||0))*i)<d&&(s=a,d=o);return s},on:function(t,e){return arguments.length>1?(h.on(t,e),n):h.on(t)}}}function ND(t){return function(){return t}}function LD(t){return 1e-6*(t()-.5)}function ID(t){return t.index}function DD(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function jD(t){var e,n,r,i,o,a,s,l=ID,c=function(t){return 1/Math.min(o[t.source.index],o[t.target.index])},u=ND(30),h=1;function d(r){for(var o=0,l=t.length;o<h;++o)for(var c,u,d,f,p,m=0,g=0,v=0,y=0;m<l;++m)u=(c=t[m]).source,g=(d=c.target).x+d.vx-u.x-u.vx||LD(s),i>1&&(v=d.y+d.vy-u.y-u.vy||LD(s)),i>2&&(y=d.z+d.vz-u.z-u.vz||LD(s)),g*=f=((f=Math.sqrt(g*g+v*v+y*y))-n[m])/f*r*e[m],v*=f,y*=f,d.vx-=g*(p=a[m]),i>1&&(d.vy-=v*p),i>2&&(d.vz-=y*p),u.vx+=g*(p=1-p),i>1&&(u.vy+=v*p),i>2&&(u.vz+=y*p)}function f(){if(r){var i,s,c=r.length,u=t.length,h=new Map(r.map(((t,e)=>[l(t,e,r),t])));for(i=0,o=new Array(c);i<u;++i)(s=t[i]).index=i,"object"!==typeof s.source&&(s.source=DD(h,s.source)),"object"!==typeof s.target&&(s.target=DD(h,s.target)),o[s.source.index]=(o[s.source.index]||0)+1,o[s.target.index]=(o[s.target.index]||0)+1;for(i=0,a=new Array(u);i<u;++i)s=t[i],a[i]=o[s.source.index]/(o[s.source.index]+o[s.target.index]);e=new Array(u),p(),n=new Array(u),m()}}function p(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+c(t[n],n,t)}function m(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),d.initialize=function(t){r=t;for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];s=n.find((t=>"function"===typeof t))||Math.random,i=n.find((t=>[1,2,3].includes(t)))||2,f()},d.links=function(e){return arguments.length?(t=e,f(),d):t},d.id=function(t){return arguments.length?(l=t,d):l},d.iterations=function(t){return arguments.length?(h=+t,d):h},d.strength=function(t){return arguments.length?(c="function"===typeof t?t:ND(+t),p(),d):c},d.distance=function(t){return arguments.length?(u="function"===typeof t?t:ND(+t),m(),d):u},d}function UD(t,e,n){if(isNaN(e))return t;var r,i,o,a,s,l,c=t._root,u={data:n},h=t._x0,d=t._x1;if(!c)return t._root=u,t;for(;c.length;)if((a=e>=(i=(h+d)/2))?h=i:d=i,r=c,!(c=c[s=+a]))return r[s]=u,t;if(e===(o=+t._x.call(null,c.data)))return u.next=c,r?r[s]=u:t._root=u,t;do{r=r?r[s]=new Array(2):t._root=new Array(2),(a=e>=(i=(h+d)/2))?h=i:d=i}while((s=+a)===(l=+(o>=i)));return r[l]=c,r[s]=u,t}function FD(t,e,n){this.node=t,this.x0=e,this.x1=n}function zD(t){return t[0]}function BD(t,e){var n=new VD(null==e?zD:e,NaN,NaN);return null==t?n:n.addAll(t)}function VD(t,e,n){this._x=t,this._x0=e,this._x1=n,this._root=void 0}function HD(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var qD=BD.prototype=VD.prototype;function WD(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,l,c,u,h,d,f=t._root,p={data:r},m=t._x0,g=t._y0,v=t._x1,y=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((c=e>=(o=(m+v)/2))?m=o:v=o,(u=n>=(a=(g+y)/2))?g=a:y=a,i=f,!(f=f[h=u<<1|c]))return i[h]=p,t;if(s=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===s&&n===l)return p.next=f,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(m+v)/2))?m=o:v=o,(u=n>=(a=(g+y)/2))?g=a:y=a}while((h=u<<1|c)===(d=(l>=a)<<1|s>=o));return i[d]=f,i[h]=p,t}function GD(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function XD(t){return t[0]}function KD(t){return t[1]}function YD(t,e,n){var r=new $D(null==e?XD:e,null==n?KD:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function $D(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function QD(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}qD.copy=function(){var t,e,n=new VD(this._x,this._x0,this._x1),r=this._root;if(!r)return n;if(!r.length)return n._root=HD(r),n;for(t=[{source:r,target:n._root=new Array(2)}];r=t.pop();)for(var i=0;i<2;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(2)}):r.target[i]=HD(e));return n},qD.add=function(t){const e=+this._x.call(null,t);return UD(this.cover(e),e,t)},qD.addAll=function(t){Array.isArray(t)||(t=Array.from(t));const e=t.length,n=new Float64Array(e);let r=1/0,i=-1/0;for(let o,a=0;a<e;++a)isNaN(o=+this._x.call(null,t[a]))||(n[a]=o,o<r&&(r=o),o>i&&(i=o));if(r>i)return this;this.cover(r).cover(i);for(let o=0;o<e;++o)UD(this,n[o],t[o]);return this},qD.cover=function(t){if(isNaN(t=+t))return this;var e=this._x0,n=this._x1;if(isNaN(e))n=(e=Math.floor(t))+1;else{for(var r,i,o=n-e||1,a=this._root;e>t||t>=n;)switch(i=+(t<e),(r=new Array(2))[i]=a,a=r,o*=2,i){case 0:n=e+o;break;case 1:e=n-o}this._root&&this._root.length&&(this._root=a)}return this._x0=e,this._x1=n,this},qD.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},qD.extent=function(t){return arguments.length?this.cover(+t[0][0]).cover(+t[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]},qD.find=function(t,e){var n,r,i,o,a,s=this._x0,l=this._x1,c=[],u=this._root;for(u&&c.push(new FD(u,s,l)),null==e?e=1/0:(s=t-e,l=t+e);o=c.pop();)if(!(!(u=o.node)||(r=o.x0)>l||(i=o.x1)<s))if(u.length){var h=(r+i)/2;c.push(new FD(u[1],h,i),new FD(u[0],r,h)),(a=+(t>=h))&&(o=c[c.length-1],c[c.length-1]=c[c.length-1-a],c[c.length-1-a]=o)}else{var d=Math.abs(t-+this._x.call(null,u.data));d<e&&(e=d,s=t-d,l=t+d,n=u.data)}return n},qD.remove=function(t){if(isNaN(o=+this._x.call(null,t)))return this;var e,n,r,i,o,a,s,l,c,u=this._root,h=this._x0,d=this._x1;if(!u)return this;if(u.length)for(;;){if((s=o>=(a=(h+d)/2))?h=a:d=a,e=u,!(u=u[l=+s]))return this;if(!u.length)break;e[l+1&1]&&(n=e,c=l)}for(;u.data!==t;)if(r=u,!(u=u.next))return this;return(i=u.next)&&delete u.next,r?(i?r.next=i:delete r.next,this):e?(i?e[l]=i:delete e[l],(u=e[0]||e[1])&&u===(e[1]||e[0])&&!u.length&&(n?n[c]=u:this._root=u),this):(this._root=i,this)},qD.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},qD.root=function(){return this._root},qD.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},qD.visit=function(t){var e,n,r,i,o=[],a=this._root;for(a&&o.push(new FD(a,this._x0,this._x1));e=o.pop();)if(!t(a=e.node,r=e.x0,i=e.x1)&&a.length){var s=(r+i)/2;(n=a[1])&&o.push(new FD(n,s,i)),(n=a[0])&&o.push(new FD(n,r,s))}return this},qD.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new FD(this._root,this._x0,this._x1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.x1,l=(a+s)/2;(o=i[0])&&n.push(new FD(o,a,l)),(o=i[1])&&n.push(new FD(o,l,s))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.x1);return this},qD.x=function(t){return arguments.length?(this._x=t,this):this._x};var ZD=YD.prototype=$D.prototype;function JD(t,e,n,r,i){if(isNaN(e)||isNaN(n)||isNaN(r))return t;var o,a,s,l,c,u,h,d,f,p,m,g,v=t._root,y={data:i},b=t._x0,_=t._y0,x=t._z0,w=t._x1,S=t._y1,E=t._z1;if(!v)return t._root=y,t;for(;v.length;)if((d=e>=(a=(b+w)/2))?b=a:w=a,(f=n>=(s=(_+S)/2))?_=s:S=s,(p=r>=(l=(x+E)/2))?x=l:E=l,o=v,!(v=v[m=p<<2|f<<1|d]))return o[m]=y,t;if(c=+t._x.call(null,v.data),u=+t._y.call(null,v.data),h=+t._z.call(null,v.data),e===c&&n===u&&r===h)return y.next=v,o?o[m]=y:t._root=y,t;do{o=o?o[m]=new Array(8):t._root=new Array(8),(d=e>=(a=(b+w)/2))?b=a:w=a,(f=n>=(s=(_+S)/2))?_=s:S=s,(p=r>=(l=(x+E)/2))?x=l:E=l}while((m=p<<2|f<<1|d)===(g=(h>=l)<<2|(u>=s)<<1|c>=a));return o[g]=v,o[m]=y,t}function tj(t,e,n,r,i,o,a){this.node=t,this.x0=e,this.y0=n,this.z0=r,this.x1=i,this.y1=o,this.z1=a}function ej(t){return t[0]}function nj(t){return t[1]}function rj(t){return t[2]}function ij(t,e,n,r){var i=new oj(null==e?ej:e,null==n?nj:n,null==r?rj:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function oj(t,e,n,r,i,o,a,s,l){this._x=t,this._y=e,this._z=n,this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=l,this._root=void 0}function aj(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}ZD.copy=function(){var t,e,n=new $D(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=QD(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=QD(e));return n},ZD.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return WD(this.cover(e,n),e,n,t)},ZD.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>h&&(h=i));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<o;++n)WD(this,a[n],s[n],t[n]);return this},ZD.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,l=i-n||1,c=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=c,c=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},ZD.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},ZD.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ZD.find=function(t,e,n){var r,i,o,a,s,l,c,u=this._x0,h=this._y0,d=this._x1,f=this._y1,p=[],m=this._root;for(m&&p.push(new GD(m,u,h,d,f)),null==n?n=1/0:(u=t-n,h=e-n,d=t+n,f=e+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(i=l.x0)>d||(o=l.y0)>f||(a=l.x1)<u||(s=l.y1)<h))if(m.length){var g=(i+a)/2,v=(o+s)/2;p.push(new GD(m[3],g,v,a,s),new GD(m[2],i,v,g,s),new GD(m[1],g,o,a,v),new GD(m[0],i,o,g,v)),(c=(e>=v)<<1|t>=g)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var y=t-+this._x.call(null,m.data),b=e-+this._y.call(null,m.data),_=y*y+b*b;if(_<n){var x=Math.sqrt(n=_);u=t-x,h=e-x,d=t+x,f=e+x,r=m.data}}return r},ZD.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,l,c,u,h,d,f=this._root,p=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!f)return this;if(f.length)for(;;){if((c=o>=(s=(p+g)/2))?p=s:g=s,(u=a>=(l=(m+v)/2))?m=l:v=l,e=f,!(f=f[h=u<<1|c]))return this;if(!f.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;f.data!==t;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=i,this)},ZD.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},ZD.root=function(){return this._root},ZD.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},ZD.visit=function(t){var e,n,r,i,o,a,s=[],l=this._root;for(l&&s.push(new GD(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&l.length){var c=(r+o)/2,u=(i+a)/2;(n=l[3])&&s.push(new GD(n,c,u,o,a)),(n=l[2])&&s.push(new GD(n,r,u,c,a)),(n=l[1])&&s.push(new GD(n,c,i,o,u)),(n=l[0])&&s.push(new GD(n,r,i,c,u))}return this},ZD.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new GD(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,l=e.x1,c=e.y1,u=(a+l)/2,h=(s+c)/2;(o=i[0])&&n.push(new GD(o,a,s,u,h)),(o=i[1])&&n.push(new GD(o,u,s,l,h)),(o=i[2])&&n.push(new GD(o,a,h,u,c)),(o=i[3])&&n.push(new GD(o,u,h,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},ZD.x=function(t){return arguments.length?(this._x=t,this):this._x},ZD.y=function(t){return arguments.length?(this._y=t,this):this._y};var sj=ij.prototype=oj.prototype;function lj(){var t,e,n,r,i,o,a=ND(-30),s=1,l=1/0,c=.81;function u(r){var o,a=t.length,s=(1===e?BD(t,AD):2===e?YD(t,AD,CD):3===e?ij(t,AD,CD,kD):null).visitAfter(d);for(i=r,o=0;o<a;++o)n=t[o],s.visit(f)}function h(){if(t){var e,n,r=t.length;for(o=new Array(r),e=0;e<r;++e)n=t[e],o[n.index]=+a(n,e,t)}}function d(t){var n,r,i,a,s,l,c=0,u=0,h=t.length;if(h){for(i=a=s=l=0;l<h;++l)(n=t[l])&&(r=Math.abs(n.value))&&(c+=n.value,u+=r,i+=r*(n.x||0),a+=r*(n.y||0),s+=r*(n.z||0));c*=Math.sqrt(4/h),t.x=i/u,e>1&&(t.y=a/u),e>2&&(t.z=s/u)}else{(n=t).x=n.data.x,e>1&&(n.y=n.data.y),e>2&&(n.z=n.data.z);do{c+=o[n.data.index]}while(n=n.next)}t.value=c}function f(t,a,u,h,d){if(!t.value)return!0;var f=[u,h,d][e-1],p=t.x-n.x,m=e>1?t.y-n.y:0,g=e>2?t.z-n.z:0,v=f-a,y=p*p+m*m+g*g;if(v*v/c<y)return y<l&&(0===p&&(y+=(p=LD(r))*p),e>1&&0===m&&(y+=(m=LD(r))*m),e>2&&0===g&&(y+=(g=LD(r))*g),y<s&&(y=Math.sqrt(s*y)),n.vx+=p*t.value*i/y,e>1&&(n.vy+=m*t.value*i/y),e>2&&(n.vz+=g*t.value*i/y)),!0;if(!(t.length||y>=l)){(t.data!==n||t.next)&&(0===p&&(y+=(p=LD(r))*p),e>1&&0===m&&(y+=(m=LD(r))*m),e>2&&0===g&&(y+=(g=LD(r))*g),y<s&&(y=Math.sqrt(s*y)));do{t.data!==n&&(v=o[t.data.index]*i/y,n.vx+=p*v,e>1&&(n.vy+=m*v),e>2&&(n.vz+=g*v))}while(t=t.next)}}return u.initialize=function(n){t=n;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];r=o.find((t=>"function"===typeof t))||Math.random,e=o.find((t=>[1,2,3].includes(t)))||2,h()},u.strength=function(t){return arguments.length?(a="function"===typeof t?t:ND(+t),h(),u):a},u.distanceMin=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)},u.distanceMax=function(t){return arguments.length?(l=t*t,u):Math.sqrt(l)},u.theta=function(t){return arguments.length?(c=t*t,u):Math.sqrt(c)},u}function cj(t,e,n){var r,i=1;function o(){var o,a,s=r.length,l=0,c=0,u=0;for(o=0;o<s;++o)l+=(a=r[o]).x||0,c+=a.y||0,u+=a.z||0;for(l=(l/s-t)*i,c=(c/s-e)*i,u=(u/s-n)*i,o=0;o<s;++o)a=r[o],l&&(a.x-=l),c&&(a.y-=c),u&&(a.z-=u)}return null==t&&(t=0),null==e&&(e=0),null==n&&(n=0),o.initialize=function(t){r=t},o.x=function(e){return arguments.length?(t=+e,o):t},o.y=function(t){return arguments.length?(e=+t,o):e},o.z=function(t){return arguments.length?(n=+t,o):n},o.strength=function(t){return arguments.length?(i=+t,o):i},o}sj.copy=function(){var t,e,n=new oj(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root;if(!r)return n;if(!r.length)return n._root=aj(r),n;for(t=[{source:r,target:n._root=new Array(8)}];r=t.pop();)for(var i=0;i<8;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(8)}):r.target[i]=aj(e));return n},sj.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t),r=+this._z.call(null,t);return JD(this.cover(e,n,r),e,n,r,t)},sj.addAll=function(t){Array.isArray(t)||(t=Array.from(t));const e=t.length,n=new Float64Array(e),r=new Float64Array(e),i=new Float64Array(e);let o=1/0,a=1/0,s=1/0,l=-1/0,c=-1/0,u=-1/0;for(let h,d,f,p,m=0;m<e;++m)isNaN(d=+this._x.call(null,h=t[m]))||isNaN(f=+this._y.call(null,h))||isNaN(p=+this._z.call(null,h))||(n[m]=d,r[m]=f,i[m]=p,d<o&&(o=d),d>l&&(l=d),f<a&&(a=f),f>c&&(c=f),p<s&&(s=p),p>u&&(u=p));if(o>l||a>c||s>u)return this;this.cover(o,a,s).cover(l,c,u);for(let h=0;h<e;++h)JD(this,n[h],r[h],i[h],t[h]);return this},sj.cover=function(t,e,n){if(isNaN(t=+t)||isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,o=this._z0,a=this._x1,s=this._y1,l=this._z1;if(isNaN(r))a=(r=Math.floor(t))+1,s=(i=Math.floor(e))+1,l=(o=Math.floor(n))+1;else{for(var c,u,h=a-r||1,d=this._root;r>t||t>=a||i>e||e>=s||o>n||n>=l;)switch(u=(n<o)<<2|(e<i)<<1|t<r,(c=new Array(8))[u]=d,d=c,h*=2,u){case 0:a=r+h,s=i+h,l=o+h;break;case 1:r=a-h,s=i+h,l=o+h;break;case 2:a=r+h,i=s-h,l=o+h;break;case 3:r=a-h,i=s-h,l=o+h;break;case 4:a=r+h,s=i+h,o=l-h;break;case 5:r=a-h,s=i+h,o=l-h;break;case 6:a=r+h,i=s-h,o=l-h;break;case 7:r=a-h,i=s-h,o=l-h}this._root&&this._root.length&&(this._root=d)}return this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=l,this},sj.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},sj.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1],+t[0][2]).cover(+t[1][0],+t[1][1],+t[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},sj.find=function(t,e,n,r){var i,o,a,s,l,c,u,h,d,f=this._x0,p=this._y0,m=this._z0,g=this._x1,v=this._y1,y=this._z1,b=[],_=this._root;for(_&&b.push(new tj(_,f,p,m,g,v,y)),null==r?r=1/0:(f=t-r,p=e-r,m=n-r,g=t+r,v=e+r,y=n+r,r*=r);h=b.pop();)if(!(!(_=h.node)||(o=h.x0)>g||(a=h.y0)>v||(s=h.z0)>y||(l=h.x1)<f||(c=h.y1)<p||(u=h.z1)<m))if(_.length){var x=(o+l)/2,w=(a+c)/2,S=(s+u)/2;b.push(new tj(_[7],x,w,S,l,c,u),new tj(_[6],o,w,S,x,c,u),new tj(_[5],x,a,S,l,w,u),new tj(_[4],o,a,S,x,w,u),new tj(_[3],x,w,s,l,c,S),new tj(_[2],o,w,s,x,c,S),new tj(_[1],x,a,s,l,w,S),new tj(_[0],o,a,s,x,w,S)),(d=(n>=S)<<2|(e>=w)<<1|t>=x)&&(h=b[b.length-1],b[b.length-1]=b[b.length-1-d],b[b.length-1-d]=h)}else{var E=t-+this._x.call(null,_.data),T=e-+this._y.call(null,_.data),M=n-+this._z.call(null,_.data),A=E*E+T*T+M*M;if(A<r){var C=Math.sqrt(r=A);f=t-C,p=e-C,m=n-C,g=t+C,v=e+C,y=n+C,i=_.data}}return i},sj.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t))||isNaN(s=+this._z.call(null,t)))return this;var e,n,r,i,o,a,s,l,c,u,h,d,f,p,m,g=this._root,v=this._x0,y=this._y0,b=this._z0,_=this._x1,x=this._y1,w=this._z1;if(!g)return this;if(g.length)for(;;){if((h=o>=(l=(v+_)/2))?v=l:_=l,(d=a>=(c=(y+x)/2))?y=c:x=c,(f=s>=(u=(b+w)/2))?b=u:w=u,e=g,!(g=g[p=f<<2|d<<1|h]))return this;if(!g.length)break;(e[p+1&7]||e[p+2&7]||e[p+3&7]||e[p+4&7]||e[p+5&7]||e[p+6&7]||e[p+7&7])&&(n=e,m=p)}for(;g.data!==t;)if(r=g,!(g=g.next))return this;return(i=g.next)&&delete g.next,r?(i?r.next=i:delete r.next,this):e?(i?e[p]=i:delete e[p],(g=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&g===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!g.length&&(n?n[m]=g:this._root=g),this):(this._root=i,this)},sj.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},sj.root=function(){return this._root},sj.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},sj.visit=function(t){var e,n,r,i,o,a,s,l,c=[],u=this._root;for(u&&c.push(new tj(u,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));e=c.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.z0,a=e.x1,s=e.y1,l=e.z1)&&u.length){var h=(r+a)/2,d=(i+s)/2,f=(o+l)/2;(n=u[7])&&c.push(new tj(n,h,d,f,a,s,l)),(n=u[6])&&c.push(new tj(n,r,d,f,h,s,l)),(n=u[5])&&c.push(new tj(n,h,i,f,a,d,l)),(n=u[4])&&c.push(new tj(n,r,i,f,h,d,l)),(n=u[3])&&c.push(new tj(n,h,d,o,a,s,f)),(n=u[2])&&c.push(new tj(n,r,d,o,h,s,f)),(n=u[1])&&c.push(new tj(n,h,i,o,a,d,f)),(n=u[0])&&c.push(new tj(n,r,i,o,h,d,f))}return this},sj.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new tj(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,l=e.z0,c=e.x1,u=e.y1,h=e.z1,d=(a+c)/2,f=(s+u)/2,p=(l+h)/2;(o=i[0])&&n.push(new tj(o,a,s,l,d,f,p)),(o=i[1])&&n.push(new tj(o,d,s,l,c,f,p)),(o=i[2])&&n.push(new tj(o,a,f,l,d,u,p)),(o=i[3])&&n.push(new tj(o,d,f,l,c,u,p)),(o=i[4])&&n.push(new tj(o,a,s,p,d,f,h)),(o=i[5])&&n.push(new tj(o,d,s,p,c,f,h)),(o=i[6])&&n.push(new tj(o,a,f,p,d,u,h)),(o=i[7])&&n.push(new tj(o,d,f,p,c,u,h))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.z0,e.x1,e.y1,e.z1);return this},sj.x=function(t){return arguments.length?(this._x=t,this):this._x},sj.y=function(t){return arguments.length?(this._y=t,this):this._y},sj.z=function(t){return arguments.length?(this._z=t,this):this._z};var uj=n(1700),hj=n(2070);const dj=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};const fj="object"==typeof global&&global&&global.Object===Object&&global;var pj="object"==typeof self&&self&&self.Object===Object&&self;const mj=fj||pj||Function("return this")();const gj=function(){return mj.Date.now()};var vj=/\s/;const yj=function(t){for(var e=t.length;e--&&vj.test(t.charAt(e)););return e};var bj=/^\s+/;const _j=function(t){return t?t.slice(0,yj(t)+1).replace(bj,""):t};const xj=mj.Symbol;var wj=Object.prototype,Sj=wj.hasOwnProperty,Ej=wj.toString,Tj=xj?xj.toStringTag:void 0;const Mj=function(t){var e=Sj.call(t,Tj),n=t[Tj];try{t[Tj]=void 0;var r=!0}catch(o){}var i=Ej.call(t);return r&&(e?t[Tj]=n:delete t[Tj]),i};var Aj=Object.prototype.toString;const Cj=function(t){return Aj.call(t)};var kj=xj?xj.toStringTag:void 0;const Oj=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":kj&&kj in Object(t)?Mj(t):Cj(t)};const Pj=function(t){return null!=t&&"object"==typeof t};const Rj=function(t){return"symbol"==typeof t||Pj(t)&&"[object Symbol]"==Oj(t)};var Nj=/^[-+]0x[0-9a-f]+$/i,Lj=/^0b[01]+$/i,Ij=/^0o[0-7]+$/i,Dj=parseInt;const jj=function(t){if("number"==typeof t)return t;if(Rj(t))return NaN;if(dj(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=dj(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=_j(t);var n=Lj.test(t);return n||Ij.test(t)?Dj(t.slice(2),n?2:8):Nj.test(t)?NaN:+t};var Uj=Math.max,Fj=Math.min;const zj=function(t,e,n){var r,i,o,a,s,l,c=0,u=!1,h=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=r,o=i;return r=i=void 0,c=e,a=t.apply(o,n)}function p(t){var n=t-l;return void 0===l||n>=e||n<0||h&&t-c>=o}function m(){var t=gj();if(p(t))return g(t);s=setTimeout(m,function(t){var n=e-(t-l);return h?Fj(n,o-(t-c)):n}(t))}function g(t){return s=void 0,d&&r?f(t):(r=i=void 0,a)}function v(){var t=gj(),n=p(t);if(r=arguments,i=this,l=t,n){if(void 0===s)return function(t){return c=t,s=setTimeout(m,e),u?f(t):a}(l);if(h)return clearTimeout(s),s=setTimeout(m,e),f(l)}return void 0===s&&(s=setTimeout(m,e)),a}return e=jj(e)||0,dj(n)&&(u=!!n.leading,o=(h="maxWait"in n)?Uj(jj(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d),v.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?a:g(gj())},v};function Bj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wj(r.key),r)}}function Vj(t,e,n){return e&&Bj(t.prototype,e),n&&Bj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hj(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return qj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qj(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qj(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wj(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}var Gj=Vj((function t(e,n){var r=n.default,i=void 0===r?null:r,o=n.triggerUpdate,a=void 0===o||o,s=n.onChange,l=void 0===s?function(t,e){}:s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.defaultVal=i,this.triggerUpdate=a,this.onChange=l}));function Xj(t){var e=t.stateInit,n=void 0===e?function(){return{}}:e,r=t.props,i=void 0===r?{}:r,o=t.methods,a=void 0===o?{}:o,s=t.aliases,l=void 0===s?{}:s,c=t.init,u=void 0===c?function(){}:c,h=t.update,d=void 0===h?function(){}:h,f=Object.keys(i).map((function(t){return new Gj(t,i[t])}));return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},n instanceof Function?n(t):n,{initialised:!1}),r={};function i(e){return o(e,t),s(),i}var o=function(t,n){u.call(i,t,e,n),e.initialised=!0},s=zj((function(){e.initialised&&(d.call(i,e,r),r={})}),1);return f.forEach((function(t){i[t.name]=function(t){var n=t.name,o=t.triggerUpdate,a=void 0!==o&&o,l=t.onChange,c=void 0===l?function(t,e){}:l,u=t.defaultVal,h=void 0===u?null:u;return function(t){var o=e[n];if(!arguments.length)return o;var l=void 0===t?h:t;return e[n]=l,c.call(i,l,e,o),!r.hasOwnProperty(n)&&(r[n]=o),a&&s(),i}}(t)})),Object.keys(a).forEach((function(t){i[t]=function(){for(var n,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=a[t]).call.apply(n,[i,e].concat(o))}})),Object.entries(l).forEach((function(t){var e=Hj(t,2),n=e[0],r=e[1];return i[n]=i[r]})),i.resetProps=function(){return f.forEach((function(t){i[t.name](t.defaultVal)})),i},i.resetProps(),e._rerender=s,i}}var Kj=function(t){return"function"===typeof t?t:"string"===typeof t?function(e){return e[t]}:function(e){return t}};function Yj(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function $j(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function Qj(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zj(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(oct){c=!0,i=oct}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||tU(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jj(t){return function(t){if(Array.isArray(t))return eU(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||tU(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tU(t,e){if(t){if("string"===typeof t)return eU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eU(t,e):void 0}}function eU(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nU(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}var rU=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(e instanceof Array?e.length?e:[void 0]:[e]).map((function(t){return{keyAccessor:t,isProp:!(t instanceof Function)}})),o=t.reduce((function(t,e){var r=t,o=e;return i.forEach((function(t,e){var a,s=t.keyAccessor;if(t.isProp){var l=o,c=l[s],u=Qj(l,[s].map(nU));a=c,o=u}else a=s(o,e);e+1<i.length?(r.hasOwnProperty(a)||(r[a]={}),r=r[a]):n?(r.hasOwnProperty(a)||(r[a]=[]),r[a].push(o)):r[a]=o})),t}),{});n instanceof Function&&function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;r===i.length?Object.keys(e).forEach((function(t){return e[t]=n(e[t])})):Object.values(e).forEach((function(e){return t(e,r+1)}))}(o);var a=o;return r&&(a=[],function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.length===i.length?a.push({keys:n,vals:e}):Object.entries(e).forEach((function(e){var r=Zj(e,2),i=r[0],o=r[1];return t(o,[].concat(Jj(n),[i]))}))}(o),e instanceof Array&&0===e.length&&1===a.length&&(a[0].keys=[])),a};function iU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oU(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aU(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sU(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(oct){c=!0,i=oct}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||cU(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lU(t){return function(t){if(Array.isArray(t))return uU(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||cU(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cU(t,e){if(t){if("string"===typeof t)return uU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uU(t,e):void 0}}function uU(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hU=["createObj","updateObj","exitObj","objBindAttr","dataBindAttr"];function dU(t,e,n){var r=n.objBindAttr,i=void 0===r?"__obj":r,o=n.dataBindAttr,a=void 0===o?"__data":o,s=n.idAccessor,l=n.purge,c=void 0!==l&&l,u=function(t){return t.hasOwnProperty(a)},h=e.filter((function(t){return!u(t)})),d=e.filter(u).map((function(t){return t[a]})),f=c?{enter:t,exit:d,update:[]}:function(t,e,n){var r={enter:[],update:[],exit:[]};if(n){var i=rU(t,n,!1),o=rU(e,n,!1),a=Object.assign({},i,o);Object.entries(a).forEach((function(t){var e=sU(t,2),n=e[0],a=e[1],s=i.hasOwnProperty(n)?o.hasOwnProperty(n)?"update":"exit":"enter";r[s].push("update"===s?[i[n],o[n]]:a)}))}else{var s=new Set(t),l=new Set(e);new Set([].concat(lU(s),lU(l))).forEach((function(t){var e=s.has(t)?l.has(t)?"update":"exit":"enter";r[e].push("update"===e?[t,t]:t)}))}return r}(d,t,s);return f.update=f.update.map((function(t){var e=sU(t,2),n=e[0],r=e[1];return n!==r&&(r[i]=n[i],r[i][a]=r),r})),f.exit=f.exit.concat(h.map((function(t){return oU({},i,t)}))),f}function fU(t,e,n,r,i){var o=i.createObj,a=void 0===o?function(t){return{}}:o,s=i.updateObj,l=void 0===s?function(t,e){}:s,c=i.exitObj,u=void 0===c?function(t){}:c,h=i.objBindAttr,d=void 0===h?"__obj":h,f=i.dataBindAttr,p=void 0===f?"__data":f,m=aU(i,hU),g=dU(t,e,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iU(Object(n),!0).forEach((function(e){oU(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({objBindAttr:d,dataBindAttr:p},m)),v=g.enter,y=g.update;g.exit.forEach((function(t){var e=t[d];delete t[d],u(e),r(e)}));var b=function(t){var e=[];return t.forEach((function(t){var n=a(t);n&&(n[p]=t,t[d]=n,e.push(n))})),e}(v);!function(t){t.forEach((function(t){var e=t[d];e&&(e[p]=t,l(e,t))}))}([].concat(lU(v),lU(y))),b.forEach(n)}class pU extends Map{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yU;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(mU(this,t))}has(t){return super.has(mU(this,t))}set(t,e){return super.set(gU(this,t),e)}delete(t){return super.delete(vU(this,t))}}function mU(t,e){let{_intern:n,_key:r}=t;const i=r(e);return n.has(i)?n.get(i):e}function gU(t,e){let{_intern:n,_key:r}=t;const i=r(e);return n.has(i)?n.get(i):(n.set(i,e),e)}function vU(t,e){let{_intern:n,_key:r}=t;const i=r(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}function yU(t){return null!==t&&"object"===typeof t?t.valueOf():t}const bU=Symbol("implicit");function _U(){var t=new pU,e=[],n=[],r=bU;function i(i){let o=t.get(i);if(void 0===o){if(r!==bU)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new pU;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return _U(e,n).unknown(r)},vS.apply(i,arguments),i}const xU=function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function wU(t){return wU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wU(t)}var SU=/^\s+/,EU=/\s+$/;function TU(t,e){if(e=e||{},(t=t||"")instanceof TU)return t;if(!(this instanceof TU))return new TU(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;"string"==typeof t&&(t=function(t){t=t.replace(SU,"").replace(EU,"").toLowerCase();var e,n=!1;if(VU[t])t=VU[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=ZU.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=ZU.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=ZU.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=ZU.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=ZU.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=ZU.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=ZU.hex8.exec(t))return{r:XU(e[1]),g:XU(e[2]),b:XU(e[3]),a:QU(e[4]),format:n?"name":"hex8"};if(e=ZU.hex6.exec(t))return{r:XU(e[1]),g:XU(e[2]),b:XU(e[3]),format:n?"name":"hex"};if(e=ZU.hex4.exec(t))return{r:XU(e[1]+""+e[1]),g:XU(e[2]+""+e[2]),b:XU(e[3]+""+e[3]),a:QU(e[4]+""+e[4]),format:n?"name":"hex8"};if(e=ZU.hex3.exec(t))return{r:XU(e[1]+""+e[1]),g:XU(e[2]+""+e[2]),b:XU(e[3]+""+e[3]),format:n?"name":"hex"};return!1}(t));"object"==wU(t)&&(JU(t.r)&&JU(t.g)&&JU(t.b)?(e=function(t,e,n){return{r:255*WU(t,255),g:255*WU(e,255),b:255*WU(n,255)}}(t.r,t.g,t.b),a=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):JU(t.h)&&JU(t.s)&&JU(t.v)?(r=YU(t.s),i=YU(t.v),e=function(t,e,n){t=6*WU(t,360),e=WU(e,100),n=WU(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),l=r%6,c=[n,a,o,o,s,n][l],u=[s,n,n,a,o,o][l],h=[o,o,s,n,n,a][l];return{r:255*c,g:255*u,b:255*h}}(t.h,r,i),a=!0,s="hsv"):JU(t.h)&&JU(t.s)&&JU(t.l)&&(r=YU(t.s),o=YU(t.l),e=function(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=WU(t,360),e=WU(e,100),n=WU(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=a(l,s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(t.h,r,o),a=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a));return n=qU(n),{ok:a,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function MU(t,e,n){t=WU(t,255),e=WU(e,255),n=WU(n,255);var r,i,o=Math.max(t,e,n),a=Math.min(t,e,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,l:s}}function AU(t,e,n){t=WU(t,255),e=WU(e,255),n=WU(n,255);var r,i,o=Math.max(t,e,n),a=Math.min(t,e,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,v:s}}function CU(t,e,n,r){var i=[KU(Math.round(t).toString(16)),KU(Math.round(e).toString(16)),KU(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function kU(t,e,n,r){return[KU($U(r)),KU(Math.round(t).toString(16)),KU(Math.round(e).toString(16)),KU(Math.round(n).toString(16))].join("")}function OU(t,e){e=0===e?0:e||10;var n=TU(t).toHsl();return n.s-=e/100,n.s=GU(n.s),TU(n)}function PU(t,e){e=0===e?0:e||10;var n=TU(t).toHsl();return n.s+=e/100,n.s=GU(n.s),TU(n)}function RU(t){return TU(t).desaturate(100)}function NU(t,e){e=0===e?0:e||10;var n=TU(t).toHsl();return n.l+=e/100,n.l=GU(n.l),TU(n)}function LU(t,e){e=0===e?0:e||10;var n=TU(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),TU(n)}function IU(t,e){e=0===e?0:e||10;var n=TU(t).toHsl();return n.l-=e/100,n.l=GU(n.l),TU(n)}function DU(t,e){var n=TU(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,TU(n)}function jU(t){var e=TU(t).toHsl();return e.h=(e.h+180)%360,TU(e)}function UU(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=TU(t).toHsl(),r=[TU(t)],i=360/e,o=1;o<e;o++)r.push(TU({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function FU(t){var e=TU(t).toHsl(),n=e.h;return[TU(t),TU({h:(n+72)%360,s:e.s,l:e.l}),TU({h:(n+216)%360,s:e.s,l:e.l})]}function zU(t,e,n){e=e||6,n=n||30;var r=TU(t).toHsl(),i=360/n,o=[TU(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(TU(r));return o}function BU(t,e){e=e||6;for(var n=TU(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(TU({h:r,s:i,v:o})),o=(o+s)%1;return a}TU.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return t=r.r/255,e=r.g/255,n=r.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=qU(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=AU(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=AU(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=MU(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=MU(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return CU(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){var o=[KU(Math.round(t).toString(16)),KU(Math.round(e).toString(16)),KU(Math.round(n).toString(16)),KU($U(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*WU(this._r,255))+"%",g:Math.round(100*WU(this._g,255))+"%",b:Math.round(100*WU(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*WU(this._r,255))+"%, "+Math.round(100*WU(this._g,255))+"%, "+Math.round(100*WU(this._b,255))+"%)":"rgba("+Math.round(100*WU(this._r,255))+"%, "+Math.round(100*WU(this._g,255))+"%, "+Math.round(100*WU(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(HU[CU(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+kU(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=TU(t);n="#"+kU(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return TU(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(NU,arguments)},brighten:function(){return this._applyModification(LU,arguments)},darken:function(){return this._applyModification(IU,arguments)},desaturate:function(){return this._applyModification(OU,arguments)},saturate:function(){return this._applyModification(PU,arguments)},greyscale:function(){return this._applyModification(RU,arguments)},spin:function(){return this._applyModification(DU,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(zU,arguments)},complement:function(){return this._applyCombination(jU,arguments)},monochromatic:function(){return this._applyCombination(BU,arguments)},splitcomplement:function(){return this._applyCombination(FU,arguments)},triad:function(){return this._applyCombination(UU,[3])},tetrad:function(){return this._applyCombination(UU,[4])}},TU.fromRatio=function(t,e){if("object"==wU(t)){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:YU(t[r]));t=n}return TU(t,e)},TU.equals=function(t,e){return!(!t||!e)&&TU(t).toRgbString()==TU(e).toRgbString()},TU.random=function(){return TU.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},TU.mix=function(t,e,n){n=0===n?0:n||50;var r=TU(t).toRgb(),i=TU(e).toRgb(),o=n/100;return TU({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},TU.readability=function(t,e){var n=TU(t),r=TU(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},TU.isReadable=function(t,e,n){var r,i,o=TU.readability(t,e);switch(i=!1,r=function(t){var e,n;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==n&&"large"!==n&&(n="small");return{level:e,size:n}}(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},TU.mostReadable=function(t,e,n){var r,i,o,a,s=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<e.length;c++)(r=TU.readability(t,e[c]))>l&&(l=r,s=TU(e[c]));return TU.isReadable(t,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,TU.mostReadable(t,["#fff","#000"],n))};var VU=TU.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},HU=TU.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(VU);function qU(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function WU(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"===typeof t&&-1!=t.indexOf("%")}(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function GU(t){return Math.min(1,Math.max(0,t))}function XU(t){return parseInt(t,16)}function KU(t){return 1==t.length?"0"+t:""+t}function YU(t){return t<=1&&(t=100*t+"%"),t}function $U(t){return Math.round(255*parseFloat(t)).toString(16)}function QU(t){return XU(t)/255}var ZU=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function JU(t){return!!ZU.CSS_UNIT.exec(t)}function tF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function eF(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tF(Object(n),!0).forEach((function(e){iF(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tF(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nF(t){return nF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nF(t)}function rF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gF(r.key),r)}}function iF(t,e,n){return(e=gF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oF(t){return oF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oF(t)}function aF(t,e){return aF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},aF(t,e)}function sF(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function lF(t,e,n){return lF=sF()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&aF(i,n.prototype),i},lF.apply(null,arguments)}function cF(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uF(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hF(t){var e=sF();return function(){var n,r=oF(t);if(e){var i=oF(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return uF(t)}(this,n)}}function dF(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(oct){c=!0,i=oct}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||pF(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fF(t){return function(t){if(Array.isArray(t))return mF(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||pF(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pF(t,e){if(t){if("string"===typeof t)return mF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mF(t,e):void 0}}function mF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gF(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}var vF=function t(e){e instanceof Array?e.forEach(t):(e.map&&e.map.dispose(),e.dispose())},yF=function t(e){e.geometry&&e.geometry.dispose(),e.material&&vF(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(t)},bF=function(t){for(;t.children.length;){var e=t.children[0];t.remove(e),yF(e)}},_F=["objFilter"];function xF(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.objFilter,i=void 0===r?function(){return!0}:r,o=cF(n,_F);return fU(t,e.children.filter(i),(function(t){return e.add(t)}),(function(t){e.remove(t),bF(t)}),eF({objBindAttr:"__threeObj"},o))}var wF=function(t){return isNaN(t)?parseInt(TU(t).toHex(),16):t},SF=function(t){return isNaN(t)?TU(t).getAlpha():1},EF=_U(xU);function TF(t,e,n){e&&"string"===typeof n&&t.filter((function(t){return!t[n]})).forEach((function(t){t[n]=EF(e(t))}))}var MF=window.THREE?window.THREE:{Group:nL,Mesh:sP,MeshLambertMaterial:oI,Color:TO,BufferGeometry:HO,BufferAttribute:RO,Matrix4:jk,Vector3:sk,SphereGeometry:rI,CylinderGeometry:eI,TubeGeometry:iI,ConeGeometry:nI,Line:DL,LineBasicMaterial:OL,QuadraticBezierCurve3:ZL,CubicBezierCurve3:YL,Box3:uk},AF={graph:uj,forcelayout:hj},CF=(new MF.BufferGeometry).setAttribute?"setAttribute":"addAttribute",kF=(new MF.BufferGeometry).applyMatrix4?"applyMatrix4":"applyMatrix",OF=Xj({props:{jsonUrl:{onChange:function(t,e){var n=this;t&&!e.fetchingJson&&(e.fetchingJson=!0,e.onLoading(),fetch(t).then((function(t){return t.json()})).then((function(t){e.fetchingJson=!1,e.onFinishLoading(t),n.graphData(t)})))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(t,e){e.engineRunning=!1}},numDimensions:{default:3,onChange:function(t,e){var n=e.d3ForceLayout.force("charge");function r(t,e){t.forEach((function(t){delete t[e],delete t["v".concat(e)]}))}n&&n.strength(t>2?-60:-30),t<3&&r(e.graphData.nodes,"z"),t<2&&r(e.graphData.nodes,"y")}},dagMode:{onChange:function(t,e){!t&&"d3"===e.forceEngine&&(e.graphData.nodes||[]).forEach((function(t){return t.fx=t.fy=t.fz=void 0}))}},dagLevelDistance:{},dagNodeFilter:{default:function(t){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},nodePositionUpdate:{triggerUpdate:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(t,e){e.d3ForceLayout.alphaDecay(t)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(t,e){e.d3ForceLayout.alphaTarget(t)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(t,e){e.d3ForceLayout.velocityDecay(t)}},ngraphPhysics:{default:{timeStep:20,gravity:-1.2,theta:.8,springLength:30,springCoefficient:8e-4,dragCoefficient:.02}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(t){return t._flushObjects=!0,t._rerender(),this},d3Force:function(t,e,n){return void 0===n?t.d3ForceLayout.force(e):(t.d3ForceLayout.force(e,n),this)},d3ReheatSimulation:function(t){return t.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(t){return t.cntTicks=0,t.startTickTime=new Date,t.engineRunning=!0,this},tickFrame:function(t){var e="ngraph"!==t.forceEngine;return t.engineRunning&&function(){++t.cntTicks>t.cooldownTicks||new Date-t.startTickTime>t.cooldownTime||e&&t.d3AlphaMin>0&&t.d3ForceLayout.alpha()<t.d3AlphaMin?(t.engineRunning=!1,t.onEngineStop()):(t.layout[e?"tick":"step"](),t.onEngineTick());var n=Kj(t.nodeThreeObjectExtend);t.graphData.nodes.forEach((function(r){var i=r.__threeObj;if(i){var o=e?r:t.layout.getNodePosition(r[t.nodeId]),a=n(r);t.nodePositionUpdate&&t.nodePositionUpdate(a?i.children[0]:i,{x:o.x,y:o.y,z:o.z},r)&&!a||(i.position.x=o.x,i.position.y=o.y||0,i.position.z=o.z||0)}}));var r=Kj(t.linkWidth),i=Kj(t.linkCurvature),o=Kj(t.linkCurveRotation),a=Kj(t.linkThreeObjectExtend);function s(n){var r=e?n:t.layout.getLinkPosition(t.layout.graph.getLink(n.source,n.target).id),a=r[e?"source":"from"],s=r[e?"target":"to"];if(a&&s&&a.hasOwnProperty("x")&&s.hasOwnProperty("x")){var l=i(n);if(l){var c,u=new MF.Vector3(a.x,a.y||0,a.z||0),h=new MF.Vector3(s.x,s.y||0,s.z||0),d=u.distanceTo(h),f=o(n);if(d>0){var p=s.x-a.x,m=s.y-a.y||0,g=(new MF.Vector3).subVectors(h,u),v=g.clone().multiplyScalar(l).cross(0!==p||0!==m?new MF.Vector3(0,0,1):new MF.Vector3(0,1,0)).applyAxisAngle(g.normalize(),f).add((new MF.Vector3).addVectors(u,h).divideScalar(2));c=new MF.QuadraticBezierCurve3(u,v,h)}else{var y=70*l,b=-f,_=b+Math.PI/2;c=new MF.CubicBezierCurve3(u,new MF.Vector3(y*Math.cos(_),y*Math.sin(_),0).add(u),new MF.Vector3(y*Math.cos(b),y*Math.sin(b),0).add(u),h)}n.__curve=c}else n.__curve=null}}t.graphData.links.forEach((function(n){var i=n.__lineObj;if(i){var o=e?n:t.layout.getLinkPosition(t.layout.graph.getLink(n.source,n.target).id),l=o[e?"source":"from"],c=o[e?"target":"to"];if(l&&c&&l.hasOwnProperty("x")&&c.hasOwnProperty("x")){s(n);var u=a(n);if(!t.linkPositionUpdate||!t.linkPositionUpdate(u?i.children[1]:i,{start:{x:l.x,y:l.y,z:l.z},end:{x:c.x,y:c.y,z:c.z}},n)||u){var h=30,d=n.__curve,f=i.children.length?i.children[0]:i;if("Line"===f.type){if(d)f.geometry.setFromPoints(d.getPoints(h));else{var p=f.geometry.getAttribute("position");p&&p.array&&6===p.array.length||f.geometry[CF]("position",p=new MF.BufferAttribute(new Float32Array(6),3)),p.array[0]=l.x,p.array[1]=l.y||0,p.array[2]=l.z||0,p.array[3]=c.x,p.array[4]=c.y||0,p.array[5]=c.z||0,p.needsUpdate=!0}f.geometry.computeBoundingSphere()}else if("Mesh"===f.type)if(d){f.geometry.type.match(/^Tube(Buffer)?Geometry$/)||(f.position.set(0,0,0),f.rotation.set(0,0,0),f.scale.set(1,1,1));var m=Math.ceil(10*r(n))/10/2,g=new MF.TubeGeometry(d,h,m,t.linkResolution,!1);f.geometry.dispose(),f.geometry=g}else{if(!f.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)){var v=Math.ceil(10*r(n))/10/2,y=new MF.CylinderGeometry(v,v,1,t.linkResolution,1,!1);y[kF]((new MF.Matrix4).makeTranslation(0,.5,0)),y[kF]((new MF.Matrix4).makeRotationX(Math.PI/2)),f.geometry.dispose(),f.geometry=y}var b=new MF.Vector3(l.x,l.y||0,l.z||0),_=new MF.Vector3(c.x,c.y||0,c.z||0),x=b.distanceTo(_);f.position.x=b.x,f.position.y=b.y,f.position.z=b.z,f.scale.z=x,f.parent.localToWorld(_),f.lookAt(_)}}}}}))}(),function(){var n=Kj(t.linkDirectionalArrowRelPos),r=Kj(t.linkDirectionalArrowLength),i=Kj(t.nodeVal);t.graphData.links.forEach((function(o){var a=o.__arrowObj;if(a){var s=e?o:t.layout.getLinkPosition(t.layout.graph.getLink(o.source,o.target).id),l=s[e?"source":"from"],c=s[e?"target":"to"];if(l&&c&&l.hasOwnProperty("x")&&c.hasOwnProperty("x")){var u=Math.cbrt(Math.max(0,i(l)||1))*t.nodeRelSize,h=Math.cbrt(Math.max(0,i(c)||1))*t.nodeRelSize,d=r(o),f=n(o),p=o.__curve?function(t){return o.__curve.getPoint(t)}:function(t){var e=function(t,e,n,r){return e[t]+(n[t]-e[t])*r||0};return{x:e("x",l,c,t),y:e("y",l,c,t),z:e("z",l,c,t)}},m=o.__curve?o.__curve.getLength():Math.sqrt(["x","y","z"].map((function(t){return Math.pow((c[t]||0)-(l[t]||0),2)})).reduce((function(t,e){return t+e}),0)),g=u+d+(m-u-h-d)*f,v=p(g/m),y=p((g-d)/m);["x","y","z"].forEach((function(t){return a.position[t]=y[t]}));var b=lF(MF.Vector3,fF(["x","y","z"].map((function(t){return v[t]}))));a.parent.localToWorld(b),a.lookAt(b)}}}))}(),function(){var n=Kj(t.linkDirectionalParticleSpeed);t.graphData.links.forEach((function(r){var i=r.__photonsObj&&r.__photonsObj.children,o=r.__singleHopPhotonsObj&&r.__singleHopPhotonsObj.children;if(o&&o.length||i&&i.length){var a=e?r:t.layout.getLinkPosition(t.layout.graph.getLink(r.source,r.target).id),s=a[e?"source":"from"],l=a[e?"target":"to"];if(s&&l&&s.hasOwnProperty("x")&&l.hasOwnProperty("x")){var c=n(r),u=r.__curve?function(t){return r.__curve.getPoint(t)}:function(t){var e=function(t,e,n,r){return e[t]+(n[t]-e[t])*r||0};return{x:e("x",s,l,t),y:e("y",s,l,t),z:e("z",s,l,t)}};[].concat(fF(i||[]),fF(o||[])).forEach((function(t,e){var n="singleHopPhotons"===t.parent.__linkThreeObjType;if(t.hasOwnProperty("__progressRatio")||(t.__progressRatio=n?0:e/i.length),t.__progressRatio+=c,t.__progressRatio>=1){if(n)return t.parent.remove(t),void bF(t);t.__progressRatio=t.__progressRatio%1}var r=t.__progressRatio,o=u(r);["x","y","z"].forEach((function(e){return t.position[e]=o[e]}))}))}}}))}(),this},emitParticle:function(t,e){if(e&&t.graphData.links.includes(e)){if(!e.__singleHopPhotonsObj){var n=new MF.Group;n.__linkThreeObjType="singleHopPhotons",e.__singleHopPhotonsObj=n,t.graphScene.add(n)}var r=Kj(t.linkDirectionalParticleWidth),i=Math.ceil(10*r(e))/10/2,o=t.linkDirectionalParticleResolution,a=new MF.SphereGeometry(i,o,o),s=Kj(t.linkColor),l=Kj(t.linkDirectionalParticleColor)(e)||s(e)||"#f0f0f0",c=new MF.Color(wF(l)),u=3*t.linkOpacity,h=new MF.MeshLambertMaterial({color:c,transparent:!0,opacity:u});e.__singleHopPhotonsObj.add(new MF.Mesh(a,h))}return this},getGraphBbox:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(!t.initialised)return null;var n=function t(n){var r=[];if(n.geometry){n.geometry.computeBoundingBox();var i=new MF.Box3;i.copy(n.geometry.boundingBox).applyMatrix4(n.matrixWorld),r.push(i)}return r.concat.apply(r,fF((n.children||[]).filter((function(t){return!t.hasOwnProperty("__graphObjType")||"node"===t.__graphObjType&&e(t.__data)})).map(t)))}(t.graphScene);return n.length?Object.assign.apply(Object,fF(["x","y","z"].map((function(t){return iF({},t,[Yj(n,(function(e){return e.min[t]})),$j(n,(function(e){return e.max[t]}))])})))):null}},stateInit:function(){return{d3ForceLayout:RD().force("link",jD()).force("charge",lj()).force("center",cj()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(t,e){e.graphScene=t},update:function(t,e){var n=function(t){return t.some((function(t){return e.hasOwnProperty(t)}))};if(t.engineRunning=!1,t.onUpdate(),null!==t.nodeAutoColorBy&&n(["nodeAutoColorBy","graphData","nodeColor"])&&TF(t.graphData.nodes,Kj(t.nodeAutoColorBy),t.nodeColor),null!==t.linkAutoColorBy&&n(["linkAutoColorBy","graphData","linkColor"])&&TF(t.graphData.links,Kj(t.linkAutoColorBy),t.linkColor),t._flushObjects||n(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var r=Kj(t.nodeThreeObject),i=Kj(t.nodeThreeObjectExtend),o=Kj(t.nodeVal),a=Kj(t.nodeColor),s=Kj(t.nodeVisibility),l={},c={};xF(t.graphData.nodes.filter(s),t.graphScene,{purge:t._flushObjects||n(["nodeThreeObject","nodeThreeObjectExtend"]),objFilter:function(t){return"node"===t.__graphObjType},createObj:function(e){var n,o=r(e),a=i(e);return o&&t.nodeThreeObject===o&&(o=o.clone()),o&&!a?n=o:((n=new MF.Mesh).__graphDefaultObj=!0,o&&a&&n.add(o)),n.__graphObjType="node",n},updateObj:function(e,n){if(e.__graphDefaultObj){var r=o(n)||1,i=Math.cbrt(r)*t.nodeRelSize,s=t.nodeResolution;e.geometry.type.match(/^Sphere(Buffer)?Geometry$/)&&e.geometry.parameters.radius===i&&e.geometry.parameters.widthSegments===s||(l.hasOwnProperty(r)||(l[r]=new MF.SphereGeometry(i,s,s)),e.geometry.dispose(),e.geometry=l[r]);var u=a(n),h=new MF.Color(wF(u||"#ffffaa")),d=t.nodeOpacity*SF(u);"MeshLambertMaterial"===e.material.type&&e.material.color.equals(h)&&e.material.opacity===d||(c.hasOwnProperty(u)||(c[u]=new MF.MeshLambertMaterial({color:h,transparent:!0,opacity:d})),e.material.dispose(),e.material=c[u])}}})}if(t._flushObjects||n(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution"])){var u=Kj(t.linkThreeObject),h=Kj(t.linkThreeObjectExtend),d=Kj(t.linkMaterial),f=Kj(t.linkVisibility),p=Kj(t.linkColor),m=Kj(t.linkWidth),g={},v={},y={},b=t.graphData.links.filter(f);if(xF(b,t.graphScene,{objBindAttr:"__lineObj",purge:t._flushObjects||n(["linkThreeObject","linkThreeObjectExtend","linkWidth"]),objFilter:function(t){return"link"===t.__graphObjType},exitObj:function(t){var e=t.__data&&t.__data.__singleHopPhotonsObj;e&&(e.parent.remove(e),bF(e),delete t.__data.__singleHopPhotonsObj)},createObj:function(e){var n,r,i=u(e),o=h(e);if(i&&t.linkThreeObject===i&&(i=i.clone()),!i||o)if(!!m(e))n=new MF.Mesh;else{var a=new MF.BufferGeometry;a[CF]("position",new MF.BufferAttribute(new Float32Array(6),3)),n=new MF.Line(a)}return i?o?((r=new MF.Group).__graphDefaultObj=!0,r.add(n),r.add(i)):r=i:(r=n).__graphDefaultObj=!0,r.renderOrder=10,r.__graphObjType="link",r},updateObj:function(e,n){if(e.__graphDefaultObj){var r=e.children.length?e.children[0]:e,i=Math.ceil(10*m(n))/10,o=!!i;if(o){var a=i/2,s=t.linkResolution;if(!r.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)||r.geometry.parameters.radiusTop!==a||r.geometry.parameters.radialSegments!==s){if(!g.hasOwnProperty(i)){var l=new MF.CylinderGeometry(a,a,1,s,1,!1);l[kF]((new MF.Matrix4).makeTranslation(0,.5,0)),l[kF]((new MF.Matrix4).makeRotationX(Math.PI/2)),g[i]=l}r.geometry.dispose(),r.geometry=g[i]}}var c=d(n);if(c)r.material=c;else{var u=p(n),h=new MF.Color(wF(u||"#f0f0f0")),f=t.linkOpacity*SF(u),b=o?"MeshLambertMaterial":"LineBasicMaterial";if(r.material.type!==b||!r.material.color.equals(h)||r.material.opacity!==f){var _=o?v:y;_.hasOwnProperty(u)||(_[u]=new MF[b]({color:h,transparent:f<1,opacity:f,depthWrite:f>=1})),r.material.dispose(),r.material=_[u]}}}}}),t.linkDirectionalArrowLength||e.hasOwnProperty("linkDirectionalArrowLength")){var _=Kj(t.linkDirectionalArrowLength),x=Kj(t.linkDirectionalArrowColor);xF(b.filter(_),t.graphScene,{objBindAttr:"__arrowObj",objFilter:function(t){return"arrow"===t.__linkThreeObjType},createObj:function(){var t=new MF.Mesh(void 0,new MF.MeshLambertMaterial({transparent:!0}));return t.__linkThreeObjType="arrow",t},updateObj:function(e,n){var r=_(n),i=t.linkDirectionalArrowResolution;if(!e.geometry.type.match(/^Cone(Buffer)?Geometry$/)||e.geometry.parameters.height!==r||e.geometry.parameters.radialSegments!==i){var o=new MF.ConeGeometry(.25*r,r,i);o.translate(0,r/2,0),o.rotateX(Math.PI/2),e.geometry.dispose(),e.geometry=o}var a=x(n)||p(n)||"#f0f0f0";e.material.color=new MF.Color(wF(a)),e.material.opacity=3*t.linkOpacity*SF(a)}})}if(t.linkDirectionalParticles||e.hasOwnProperty("linkDirectionalParticles")){var w=Kj(t.linkDirectionalParticles),S=Kj(t.linkDirectionalParticleWidth),E=Kj(t.linkDirectionalParticleColor),T={},M={};xF(b.filter(w),t.graphScene,{objBindAttr:"__photonsObj",objFilter:function(t){return"photons"===t.__linkThreeObjType},createObj:function(){var t=new MF.Group;return t.__linkThreeObjType="photons",t},updateObj:function(e,n){var r,i=Math.round(Math.abs(w(n))),o=!!e.children.length&&e.children[0],a=Math.ceil(10*S(n))/10/2,s=t.linkDirectionalParticleResolution;o&&o.geometry.parameters.radius===a&&o.geometry.parameters.widthSegments===s?r=o.geometry:(M.hasOwnProperty(a)||(M[a]=new MF.SphereGeometry(a,s,s)),r=M[a],o&&o.geometry.dispose());var l,c=E(n)||p(n)||"#f0f0f0",u=new MF.Color(wF(c)),h=3*t.linkOpacity;o&&o.material.color.equals(u)&&o.material.opacity===h?l=o.material:(T.hasOwnProperty(c)||(T[c]=new MF.MeshLambertMaterial({color:u,transparent:!0,opacity:h})),l=T[c],o&&o.material.dispose()),xF(fF(new Array(i)).map((function(t,e){return{idx:e}})),e,{idAccessor:function(t){return t.idx},createObj:function(){return new MF.Mesh(r,l)},updateObj:function(t){t.geometry=r,t.material=l}})}})}}if(t._flushObjects=!1,n(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){t.engineRunning=!1,t.graphData.links.forEach((function(e){e.source=e[t.linkSource],e.target=e[t.linkTarget]}));var A,C="ngraph"!==t.forceEngine;if(C){(A=t.d3ForceLayout).stop().alpha(1).numDimensions(t.numDimensions).nodes(t.graphData.nodes);var k=t.d3ForceLayout.force("link");k&&k.id((function(e){return e[t.nodeId]})).links(t.graphData.links);var O=t.dagMode&&function(t,e){var n=t.nodes,r=t.links,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.nodeFilter,a=void 0===o?function(){return!0}:o,s=i.onLoopError,l=void 0===s?function(t){throw"Invalid DAG structure! Found cycle in node path: ".concat(t.join(" -> "),".")}:s,c={};n.forEach((function(t){return c[e(t)]={data:t,out:[],depth:-1,skip:!a(t)}})),r.forEach((function(t){var n=t.source,r=t.target,i=l(n),o=l(r);if(!c.hasOwnProperty(i))throw"Missing source node with id: ".concat(i);if(!c.hasOwnProperty(o))throw"Missing target node with id: ".concat(o);var a=c[i],s=c[o];function l(t){return"object"===nF(t)?e(t):t}a.out.push(s)}));var u=[];return function t(n){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=function(){var o=n[a];if(-1!==r.indexOf(o)){var s=[].concat(fF(r.slice(r.indexOf(o))),[o]).map((function(t){return e(t.data)}));return u.some((function(t){return t.length===s.length&&t.every((function(t,e){return t===s[e]}))}))||(u.push(s),l(s)),"continue"}i>o.depth&&(o.depth=i,t(o.out,[].concat(fF(r),[o]),i+(o.skip?0:1)))},a=0,s=n.length;a<s;a++)o()}(Object.values(c)),Object.assign.apply(Object,[{}].concat(fF(Object.entries(c).filter((function(t){return!dF(t,2)[1].skip})).map((function(t){var e=dF(t,2);return iF({},e[0],e[1].depth)})))))}(t.graphData,(function(e){return e[t.nodeId]}),{nodeFilter:t.dagNodeFilter,onLoopError:t.onDagError||void 0}),P=Math.max.apply(Math,fF(Object.values(O||[]))),R=t.dagLevelDistance||t.graphData.nodes.length/(P||1)*2*(-1!==["radialin","radialout"].indexOf(t.dagMode)?.7:1);if(t.dagMode){var N=function(e,n){return function(r){return e?(O[r[t.nodeId]]-P/2)*R*(n?-1:1):void 0}},L=N(-1!==["lr","rl"].indexOf(t.dagMode),"rl"===t.dagMode),I=N(-1!==["td","bu"].indexOf(t.dagMode),"td"===t.dagMode),D=N(-1!==["zin","zout"].indexOf(t.dagMode),"zout"===t.dagMode);t.graphData.nodes.filter(t.dagNodeFilter).forEach((function(t){t.fx=L(t),t.fy=I(t),t.fz=D(t)}))}t.d3ForceLayout.force("dagRadial",-1!==["radialin","radialout"].indexOf(t.dagMode)?function(t,e,n,r){var i,o,a,s,l=ND(.1);function c(t){for(var l=0,c=i.length;l<c;++l){var u=i[l],h=u.x-e||1e-6,d=(u.y||0)-n||1e-6,f=(u.z||0)-r||1e-6,p=Math.sqrt(h*h+d*d+f*f),m=(s[l]-p)*a[l]*t/p;u.vx+=h*m,o>1&&(u.vy+=d*m),o>2&&(u.vz+=f*m)}}function u(){if(i){var e,n=i.length;for(a=new Array(n),s=new Array(n),e=0;e<n;++e)s[e]=+t(i[e],e,i),a[e]=isNaN(s[e])?0:+l(i[e],e,i)}}return"function"!==typeof t&&(t=ND(+t)),null==e&&(e=0),null==n&&(n=0),null==r&&(r=0),c.initialize=function(t){i=t;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];o=n.find((t=>[1,2,3].includes(t)))||2,u()},c.strength=function(t){return arguments.length?(l="function"===typeof t?t:ND(+t),u(),c):l},c.radius=function(e){return arguments.length?(t="function"===typeof e?e:ND(+e),u(),c):t},c.x=function(t){return arguments.length?(e=+t,c):e},c.y=function(t){return arguments.length?(n=+t,c):n},c.z=function(t){return arguments.length?(r=+t,c):r},c}((function(e){var n=O[e[t.nodeId]]||-1;return("radialin"===t.dagMode?P-n:n)*R})).strength((function(e){return t.dagNodeFilter(e)?1:0})):null)}else{var j=AF.graph();t.graphData.nodes.forEach((function(e){j.addNode(e[t.nodeId])})),t.graphData.links.forEach((function(t){j.addLink(t.source,t.target)})),(A=AF.forcelayout(j,eF({dimensions:t.numDimensions},t.ngraphPhysics))).graph=j}for(var U=0;U<t.warmupTicks&&!(C&&t.d3AlphaMin>0&&t.d3ForceLayout.alpha()<t.d3AlphaMin);U++)A[C?"tick":"step"]();t.layout=A,this.resetCountdown()}t.engineRunning=!0,t.onFinishUpdate()}});var PF=function(t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=function(n){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aF(t,e)}(s,n);var r,i,o,a=hF(s);function s(){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=a.call.apply(a,[this].concat(i))).__kapsuleInstance=t().apply(void 0,[].concat(fF(e?[uF(n)]:[]),i)),n}return r=s,i&&rF(r.prototype,i),o&&rF(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object);return Object.keys(t()).forEach((function(t){return n.prototype[t]=function(){var e,n=(e=this.__kapsuleInstance)[t].apply(e,arguments);return n===this.__kapsuleInstance?this:n}})),n}(OF,(window.THREE?window.THREE:{Group:nL}).Group,!0);const RF={type:"change"},NF={type:"start"},LF={type:"end"};class IF extends yC{constructor(t,e){super();const n=this,r=-1,i=0,o=1,a=2,s=3,l=4;this.object=t,this.domElement=e,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:nA.ROTATE,MIDDLE:nA.DOLLY,RIGHT:nA.PAN},this.target=new sk;const c=1e-6,u=new sk;let h=1,d=r,f=r,p=0,m=0,g=0;const v=new sk,y=new NC,b=new NC,_=new sk,x=new NC,w=new NC,S=new NC,E=new NC,T=[],M={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const t=n.domElement.getBoundingClientRect(),e=n.domElement.ownerDocument.documentElement;n.screen.left=t.left+window.pageXOffset-e.clientLeft,n.screen.top=t.top+window.pageYOffset-e.clientTop,n.screen.width=t.width,n.screen.height=t.height};const A=function(){const t=new NC;return function(e,r){return t.set((e-n.screen.left)/n.screen.width,(r-n.screen.top)/n.screen.height),t}}(),C=function(){const t=new NC;return function(e,r){return t.set((e-.5*n.screen.width-n.screen.left)/(.5*n.screen.width),(n.screen.height+2*(n.screen.top-r))/n.screen.width),t}}();function k(t){!1!==n.enabled&&(0===T.length&&(n.domElement.setPointerCapture(t.pointerId),n.domElement.addEventListener("pointermove",O),n.domElement.addEventListener("pointerup",P)),function(t){T.push(t)}(t),"touch"===t.pointerType?function(t){if(1===(U(t),T.length))d=s,b.copy(C(T[0].pageX,T[0].pageY)),y.copy(b);else{d=l;const t=T[0].pageX-T[1].pageX,e=T[0].pageY-T[1].pageY;m=p=Math.sqrt(t*t+e*e);const n=(T[0].pageX+T[1].pageX)/2,r=(T[0].pageY+T[1].pageY)/2;S.copy(A(n,r)),E.copy(S)}n.dispatchEvent(NF)}(t):function(t){if(d===r)switch(t.button){case n.mouseButtons.LEFT:d=i;break;case n.mouseButtons.MIDDLE:d=o;break;case n.mouseButtons.RIGHT:d=a}const e=f!==r?f:d;e!==i||n.noRotate?e!==o||n.noZoom?e!==a||n.noPan||(S.copy(A(t.pageX,t.pageY)),E.copy(S)):(x.copy(A(t.pageX,t.pageY)),w.copy(x)):(b.copy(C(t.pageX,t.pageY)),y.copy(b));n.dispatchEvent(NF)}(t))}function O(t){!1!==n.enabled&&("touch"===t.pointerType?function(t){if(1===(U(t),T.length))y.copy(b),b.copy(C(t.pageX,t.pageY));else{const e=function(t){const e=t.pointerId===T[0].pointerId?T[1]:T[0];return M[e.pointerId]}(t),n=t.pageX-e.x,r=t.pageY-e.y;m=Math.sqrt(n*n+r*r);const i=(t.pageX+e.x)/2,o=(t.pageY+e.y)/2;E.copy(A(i,o))}}(t):function(t){const e=f!==r?f:d;e!==i||n.noRotate?e!==o||n.noZoom?e!==a||n.noPan||E.copy(A(t.pageX,t.pageY)):w.copy(A(t.pageX,t.pageY)):(y.copy(b),b.copy(C(t.pageX,t.pageY)))}(t))}function P(t){!1!==n.enabled&&("touch"===t.pointerType?function(t){switch(T.length){case 0:d=r;break;case 1:d=s,b.copy(C(t.pageX,t.pageY)),y.copy(b);break;case 2:d=l;for(let e=0;e<T.length;e++)if(T[e].pointerId!==t.pointerId){const t=M[T[e].pointerId];b.copy(C(t.x,t.y)),y.copy(b);break}}n.dispatchEvent(LF)}(t):(d=r,n.dispatchEvent(LF)),j(t),0===T.length&&(n.domElement.releasePointerCapture(t.pointerId),n.domElement.removeEventListener("pointermove",O),n.domElement.removeEventListener("pointerup",P)))}function R(t){j(t)}function N(t){!1!==n.enabled&&(window.removeEventListener("keydown",N),f===r&&(t.code!==n.keys[i]||n.noRotate?t.code!==n.keys[o]||n.noZoom?t.code!==n.keys[a]||n.noPan||(f=a):f=o:f=i))}function L(){!1!==n.enabled&&(f=r,window.addEventListener("keydown",N))}function I(t){if(!1!==n.enabled&&!0!==n.noZoom){switch(t.preventDefault(),t.deltaMode){case 2:x.y-=.025*t.deltaY;break;case 1:x.y-=.01*t.deltaY;break;default:x.y-=25e-5*t.deltaY}n.dispatchEvent(NF),n.dispatchEvent(LF)}}function D(t){!1!==n.enabled&&t.preventDefault()}function j(t){delete M[t.pointerId];for(let e=0;e<T.length;e++)if(T[e].pointerId==t.pointerId)return void T.splice(e,1)}function U(t){let e=M[t.pointerId];void 0===e&&(e=new NC,M[t.pointerId]=e),e.set(t.pageX,t.pageY)}this.rotateCamera=function(){const t=new sk,e=new ak,r=new sk,i=new sk,o=new sk,a=new sk;return function(){a.set(b.x-y.x,b.y-y.y,0);let s=a.length();s?(v.copy(n.object.position).sub(n.target),r.copy(v).normalize(),i.copy(n.object.up).normalize(),o.crossVectors(i,r).normalize(),i.setLength(b.y-y.y),o.setLength(b.x-y.x),a.copy(i.add(o)),t.crossVectors(a,v).normalize(),s*=n.rotateSpeed,e.setFromAxisAngle(t,s),v.applyQuaternion(e),n.object.up.applyQuaternion(e),_.copy(t),g=s):!n.staticMoving&&g&&(g*=Math.sqrt(1-n.dynamicDampingFactor),v.copy(n.object.position).sub(n.target),e.setFromAxisAngle(_,g),v.applyQuaternion(e),n.object.up.applyQuaternion(e)),y.copy(b)}}(),this.zoomCamera=function(){let t;d===l?(t=p/m,p=m,n.object.isPerspectiveCamera?v.multiplyScalar(t):n.object.isOrthographicCamera?(n.object.zoom=RC.clamp(n.object.zoom/t,n.minZoom,n.maxZoom),h!==n.object.zoom&&n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(t=1+(w.y-x.y)*n.zoomSpeed,1!==t&&t>0&&(n.object.isPerspectiveCamera?v.multiplyScalar(t):n.object.isOrthographicCamera?(n.object.zoom=RC.clamp(n.object.zoom/t,n.minZoom,n.maxZoom),h!==n.object.zoom&&n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),n.staticMoving?x.copy(w):x.y+=(w.y-x.y)*this.dynamicDampingFactor)},this.panCamera=function(){const t=new NC,e=new sk,r=new sk;return function(){if(t.copy(E).sub(S),t.lengthSq()){if(n.object.isOrthographicCamera){const e=(n.object.right-n.object.left)/n.object.zoom/n.domElement.clientWidth,r=(n.object.top-n.object.bottom)/n.object.zoom/n.domElement.clientWidth;t.x*=e,t.y*=r}t.multiplyScalar(v.length()*n.panSpeed),r.copy(v).cross(n.object.up).setLength(t.x),r.add(e.copy(n.object.up).setLength(t.y)),n.object.position.add(r),n.target.add(r),n.staticMoving?S.copy(E):S.add(t.subVectors(E,S).multiplyScalar(n.dynamicDampingFactor))}}}(),this.checkDistances=function(){n.noZoom&&n.noPan||(v.lengthSq()>n.maxDistance*n.maxDistance&&(n.object.position.addVectors(n.target,v.setLength(n.maxDistance)),x.copy(w)),v.lengthSq()<n.minDistance*n.minDistance&&(n.object.position.addVectors(n.target,v.setLength(n.minDistance)),x.copy(w)))},this.update=function(){v.subVectors(n.object.position,n.target),n.noRotate||n.rotateCamera(),n.noZoom||n.zoomCamera(),n.noPan||n.panCamera(),n.object.position.addVectors(n.target,v),n.object.isPerspectiveCamera?(n.checkDistances(),n.object.lookAt(n.target),u.distanceToSquared(n.object.position)>c&&(n.dispatchEvent(RF),u.copy(n.object.position))):n.object.isOrthographicCamera?(n.object.lookAt(n.target),(u.distanceToSquared(n.object.position)>c||h!==n.object.zoom)&&(n.dispatchEvent(RF),u.copy(n.object.position),h=n.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){d=r,f=r,n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.up.copy(n.up0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),v.subVectors(n.object.position,n.target),n.object.lookAt(n.target),n.dispatchEvent(RF),u.copy(n.object.position),h=n.object.zoom},this.dispose=function(){n.domElement.removeEventListener("contextmenu",D),n.domElement.removeEventListener("pointerdown",k),n.domElement.removeEventListener("pointercancel",R),n.domElement.removeEventListener("wheel",I),n.domElement.removeEventListener("pointermove",O),n.domElement.removeEventListener("pointerup",P),window.removeEventListener("keydown",N),window.removeEventListener("keyup",L)},this.domElement.addEventListener("contextmenu",D),this.domElement.addEventListener("pointerdown",k),this.domElement.addEventListener("pointercancel",R),this.domElement.addEventListener("wheel",I,{passive:!1}),window.addEventListener("keydown",N),window.addEventListener("keyup",L),this.handleResize(),this.update()}}const DF={type:"change"},jF={type:"start"},UF={type:"end"},FF=new Dk,zF=new EP,BF=Math.cos(70*RC.DEG2RAD);class VF extends yC{constructor(t,e){super(),this.object=t,this.domElement=e,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new sk,this.cursor=new sk,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:nA.ROTATE,MIDDLE:nA.DOLLY,RIGHT:nA.PAN},this.touches={ONE:rA,TWO:oA},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(t){t.addEventListener("keydown",G),this._domElementKeyEvents=t},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",G),this._domElementKeyEvents=null},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(DF),n.update(),i=r.NONE},this.update=function(){const e=new sk,u=(new ak).setFromUnitVectors(t.up,new sk(0,1,0)),h=u.clone().invert(),d=new sk,f=new ak,p=new sk,m=2*Math.PI;return function(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const v=n.object.position;e.copy(v).sub(n.target),e.applyQuaternion(u),a.setFromVector3(e),n.autoRotate&&i===r.NONE&&T(function(t){return null!==t?2*Math.PI/60*n.autoRotateSpeed*t:2*Math.PI/60/60*n.autoRotateSpeed}(g)),n.enableDamping?(a.theta+=s.theta*n.dampingFactor,a.phi+=s.phi*n.dampingFactor):(a.theta+=s.theta,a.phi+=s.phi);let y=n.minAzimuthAngle,w=n.maxAzimuthAngle;isFinite(y)&&isFinite(w)&&(y<-Math.PI?y+=m:y>Math.PI&&(y-=m),w<-Math.PI?w+=m:w>Math.PI&&(w-=m),a.theta=y<=w?Math.max(y,Math.min(w,a.theta)):a.theta>(y+w)/2?Math.max(y,a.theta):Math.min(w,a.theta)),a.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,a.phi)),a.makeSafe(),!0===n.enableDamping?n.target.addScaledVector(c,n.dampingFactor):n.target.add(c),n.target.sub(n.cursor),n.target.clampLength(n.minTargetRadius,n.maxTargetRadius),n.target.add(n.cursor),n.zoomToCursor&&x||n.object.isOrthographicCamera?a.radius=N(a.radius):a.radius=N(a.radius*l),e.setFromSpherical(a),e.applyQuaternion(h),v.copy(n.target).add(e),n.object.lookAt(n.target),!0===n.enableDamping?(s.theta*=1-n.dampingFactor,s.phi*=1-n.dampingFactor,c.multiplyScalar(1-n.dampingFactor)):(s.set(0,0,0),c.set(0,0,0));let S=!1;if(n.zoomToCursor&&x){let r=null;if(n.object.isPerspectiveCamera){const t=e.length();r=N(t*l);const i=t-r;n.object.position.addScaledVector(b,i),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const t=new sk(_.x,_.y,0);t.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/l)),n.object.updateProjectionMatrix(),S=!0;const i=new sk(_.x,_.y,0);i.unproject(n.object),n.object.position.sub(i).add(t),n.object.updateMatrixWorld(),r=e.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;null!==r&&(this.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(r).add(n.object.position):(FF.origin.copy(n.object.position),FF.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(FF.direction))<BF?t.lookAt(n.target):(zF.setFromNormalAndCoplanarPoint(n.object.up,n.target),FF.intersectPlane(zF,n.target))))}else n.object.isOrthographicCamera&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/l)),n.object.updateProjectionMatrix(),S=!0);return l=1,x=!1,!!(S||d.distanceToSquared(n.object.position)>o||8*(1-f.dot(n.object.quaternion))>o||p.distanceToSquared(n.target)>0)&&(n.dispatchEvent(DF),d.copy(n.object.position),f.copy(n.object.quaternion),p.copy(n.target),S=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",X),n.domElement.removeEventListener("pointerdown",V),n.domElement.removeEventListener("pointercancel",q),n.domElement.removeEventListener("wheel",W),n.domElement.removeEventListener("pointermove",H),n.domElement.removeEventListener("pointerup",q),null!==n._domElementKeyEvents&&(n._domElementKeyEvents.removeEventListener("keydown",G),n._domElementKeyEvents=null)};const n=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let i=r.NONE;const o=1e-6,a=new WI,s=new WI;let l=1;const c=new sk,u=new NC,h=new NC,d=new NC,f=new NC,p=new NC,m=new NC,g=new NC,v=new NC,y=new NC,b=new sk,_=new NC;let x=!1;const w=[],S={};function E(){return Math.pow(.95,n.zoomSpeed)}function T(t){s.theta-=t}function M(t){s.phi-=t}const A=function(){const t=new sk;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),c.add(t)}}(),C=function(){const t=new sk;return function(e,r){!0===n.screenSpacePanning?t.setFromMatrixColumn(r,1):(t.setFromMatrixColumn(r,0),t.crossVectors(n.object.up,t)),t.multiplyScalar(e),c.add(t)}}(),k=function(){const t=new sk;return function(e,r){const i=n.domElement;if(n.object.isPerspectiveCamera){const o=n.object.position;t.copy(o).sub(n.target);let a=t.length();a*=Math.tan(n.object.fov/2*Math.PI/180),A(2*e*a/i.clientHeight,n.object.matrix),C(2*r*a/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(A(e*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),C(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function O(t){n.object.isPerspectiveCamera||n.object.isOrthographicCamera?l/=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function P(t){n.object.isPerspectiveCamera||n.object.isOrthographicCamera?l*=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function R(t){if(!n.zoomToCursor)return;x=!0;const e=n.domElement.getBoundingClientRect(),r=t.clientX-e.left,i=t.clientY-e.top,o=e.width,a=e.height;_.x=r/o*2-1,_.y=-i/a*2+1,b.set(_.x,_.y,1).unproject(n.object).sub(n.object.position).normalize()}function N(t){return Math.max(n.minDistance,Math.min(n.maxDistance,t))}function L(t){u.set(t.clientX,t.clientY)}function I(t){f.set(t.clientX,t.clientY)}function D(){if(1===w.length)u.set(w[0].pageX,w[0].pageY);else{const t=.5*(w[0].pageX+w[1].pageX),e=.5*(w[0].pageY+w[1].pageY);u.set(t,e)}}function j(){if(1===w.length)f.set(w[0].pageX,w[0].pageY);else{const t=.5*(w[0].pageX+w[1].pageX),e=.5*(w[0].pageY+w[1].pageY);f.set(t,e)}}function U(){const t=w[0].pageX-w[1].pageX,e=w[0].pageY-w[1].pageY,n=Math.sqrt(t*t+e*e);g.set(0,n)}function F(t){if(1==w.length)h.set(t.pageX,t.pageY);else{const e=Y(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);h.set(n,r)}d.subVectors(h,u).multiplyScalar(n.rotateSpeed);const e=n.domElement;T(2*Math.PI*d.x/e.clientHeight),M(2*Math.PI*d.y/e.clientHeight),u.copy(h)}function z(t){if(1===w.length)p.set(t.pageX,t.pageY);else{const e=Y(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);p.set(n,r)}m.subVectors(p,f).multiplyScalar(n.panSpeed),k(m.x,m.y),f.copy(p)}function B(t){const e=Y(t),r=t.pageX-e.x,i=t.pageY-e.y,o=Math.sqrt(r*r+i*i);v.set(0,o),y.set(0,Math.pow(v.y/g.y,n.zoomSpeed)),O(y.y),g.copy(v)}function V(t){!1!==n.enabled&&(0===w.length&&(n.domElement.setPointerCapture(t.pointerId),n.domElement.addEventListener("pointermove",H),n.domElement.addEventListener("pointerup",q)),function(t){w.push(t)}(t),"touch"===t.pointerType?function(t){switch(K(t),w.length){case 1:switch(n.touches.ONE){case rA:if(!1===n.enableRotate)return;D(),i=r.TOUCH_ROTATE;break;case iA:if(!1===n.enablePan)return;j(),i=r.TOUCH_PAN;break;default:i=r.NONE}break;case 2:switch(n.touches.TWO){case oA:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&U(),n.enablePan&&j(),i=r.TOUCH_DOLLY_PAN;break;case aA:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&U(),n.enableRotate&&D(),i=r.TOUCH_DOLLY_ROTATE;break;default:i=r.NONE}break;default:i=r.NONE}i!==r.NONE&&n.dispatchEvent(jF)}(t):function(t){let e;switch(t.button){case 0:e=n.mouseButtons.LEFT;break;case 1:e=n.mouseButtons.MIDDLE;break;case 2:e=n.mouseButtons.RIGHT;break;default:e=-1}switch(e){case nA.DOLLY:if(!1===n.enableZoom)return;!function(t){R(t),g.set(t.clientX,t.clientY)}(t),i=r.DOLLY;break;case nA.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===n.enablePan)return;I(t),i=r.PAN}else{if(!1===n.enableRotate)return;L(t),i=r.ROTATE}break;case nA.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===n.enableRotate)return;L(t),i=r.ROTATE}else{if(!1===n.enablePan)return;I(t),i=r.PAN}break;default:i=r.NONE}i!==r.NONE&&n.dispatchEvent(jF)}(t))}function H(t){!1!==n.enabled&&("touch"===t.pointerType?function(t){switch(K(t),i){case r.TOUCH_ROTATE:if(!1===n.enableRotate)return;F(t),n.update();break;case r.TOUCH_PAN:if(!1===n.enablePan)return;z(t),n.update();break;case r.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(t){n.enableZoom&&B(t),n.enablePan&&z(t)}(t),n.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(t){n.enableZoom&&B(t),n.enableRotate&&F(t)}(t),n.update();break;default:i=r.NONE}}(t):function(t){switch(i){case r.ROTATE:if(!1===n.enableRotate)return;!function(t){h.set(t.clientX,t.clientY),d.subVectors(h,u).multiplyScalar(n.rotateSpeed);const e=n.domElement;T(2*Math.PI*d.x/e.clientHeight),M(2*Math.PI*d.y/e.clientHeight),u.copy(h),n.update()}(t);break;case r.DOLLY:if(!1===n.enableZoom)return;!function(t){v.set(t.clientX,t.clientY),y.subVectors(v,g),y.y>0?O(E()):y.y<0&&P(E()),g.copy(v),n.update()}(t);break;case r.PAN:if(!1===n.enablePan)return;!function(t){p.set(t.clientX,t.clientY),m.subVectors(p,f).multiplyScalar(n.panSpeed),k(m.x,m.y),f.copy(p),n.update()}(t)}}(t))}function q(t){!function(t){delete S[t.pointerId];for(let e=0;e<w.length;e++)if(w[e].pointerId==t.pointerId)return void w.splice(e,1)}(t),0===w.length&&(n.domElement.releasePointerCapture(t.pointerId),n.domElement.removeEventListener("pointermove",H),n.domElement.removeEventListener("pointerup",q)),n.dispatchEvent(UF),i=r.NONE}function W(t){!1!==n.enabled&&!1!==n.enableZoom&&i===r.NONE&&(t.preventDefault(),n.dispatchEvent(jF),function(t){R(t),t.deltaY<0?P(E()):t.deltaY>0&&O(E()),n.update()}(t),n.dispatchEvent(UF))}function G(t){!1!==n.enabled&&!1!==n.enablePan&&function(t){let e=!1;switch(t.code){case n.keys.UP:t.ctrlKey||t.metaKey||t.shiftKey?M(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):k(0,n.keyPanSpeed),e=!0;break;case n.keys.BOTTOM:t.ctrlKey||t.metaKey||t.shiftKey?M(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):k(0,-n.keyPanSpeed),e=!0;break;case n.keys.LEFT:t.ctrlKey||t.metaKey||t.shiftKey?T(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):k(n.keyPanSpeed,0),e=!0;break;case n.keys.RIGHT:t.ctrlKey||t.metaKey||t.shiftKey?T(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):k(-n.keyPanSpeed,0),e=!0}e&&(t.preventDefault(),n.update())}(t)}function X(t){!1!==n.enabled&&t.preventDefault()}function K(t){let e=S[t.pointerId];void 0===e&&(e=new NC,S[t.pointerId]=e),e.set(t.pageX,t.pageY)}function Y(t){const e=t.pointerId===w[0].pointerId?w[1]:w[0];return S[e.pointerId]}n.domElement.addEventListener("contextmenu",X),n.domElement.addEventListener("pointerdown",V),n.domElement.addEventListener("pointercancel",q),n.domElement.addEventListener("wheel",W,{passive:!1}),this.update()}}const HF={type:"change"};class qF extends yC{constructor(t,e){super(),this.object=t,this.domElement=e,this.enabled=!0,this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1;const n=this,r=1e-6,i=new ak,o=new sk;this.tmpQuaternion=new ak,this.status=0,this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.moveVector=new sk(0,0,0),this.rotationVector=new sk(0,0,0),this.keydown=function(t){if(!t.altKey&&!1!==this.enabled){switch(t.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=.1;break;case"KeyW":this.moveState.forward=1;break;case"KeyS":this.moveState.back=1;break;case"KeyA":this.moveState.left=1;break;case"KeyD":this.moveState.right=1;break;case"KeyR":this.moveState.up=1;break;case"KeyF":this.moveState.down=1;break;case"ArrowUp":this.moveState.pitchUp=1;break;case"ArrowDown":this.moveState.pitchDown=1;break;case"ArrowLeft":this.moveState.yawLeft=1;break;case"ArrowRight":this.moveState.yawRight=1;break;case"KeyQ":this.moveState.rollLeft=1;break;case"KeyE":this.moveState.rollRight=1}this.updateMovementVector(),this.updateRotationVector()}},this.keyup=function(t){if(!1!==this.enabled){switch(t.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=1;break;case"KeyW":this.moveState.forward=0;break;case"KeyS":this.moveState.back=0;break;case"KeyA":this.moveState.left=0;break;case"KeyD":this.moveState.right=0;break;case"KeyR":this.moveState.up=0;break;case"KeyF":this.moveState.down=0;break;case"ArrowUp":this.moveState.pitchUp=0;break;case"ArrowDown":this.moveState.pitchDown=0;break;case"ArrowLeft":this.moveState.yawLeft=0;break;case"ArrowRight":this.moveState.yawRight=0;break;case"KeyQ":this.moveState.rollLeft=0;break;case"KeyE":this.moveState.rollRight=0}this.updateMovementVector(),this.updateRotationVector()}},this.pointerdown=function(t){if(!1!==this.enabled)if(this.dragToLook)this.status++;else{switch(t.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1}this.updateMovementVector()}},this.pointermove=function(t){if(!1!==this.enabled&&(!this.dragToLook||this.status>0)){const e=this.getContainerDimensions(),n=e.size[0]/2,r=e.size[1]/2;this.moveState.yawLeft=-(t.pageX-e.offset[0]-n)/n,this.moveState.pitchDown=(t.pageY-e.offset[1]-r)/r,this.updateRotationVector()}},this.pointerup=function(t){if(!1!==this.enabled){if(this.dragToLook)this.status--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(t.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0}this.updateMovementVector()}this.updateRotationVector()}},this.pointercancel=function(){!1!==this.enabled&&(this.dragToLook?(this.status=0,this.moveState.yawLeft=this.moveState.pitchDown=0):(this.moveState.forward=0,this.moveState.back=0,this.updateMovementVector()),this.updateRotationVector())},this.contextMenu=function(t){!1!==this.enabled&&t.preventDefault()},this.update=function(t){if(!1===this.enabled)return;const e=t*n.movementSpeed,a=t*n.rollSpeed;n.object.translateX(n.moveVector.x*e),n.object.translateY(n.moveVector.y*e),n.object.translateZ(n.moveVector.z*e),n.tmpQuaternion.set(n.rotationVector.x*a,n.rotationVector.y*a,n.rotationVector.z*a,1).normalize(),n.object.quaternion.multiply(n.tmpQuaternion),(o.distanceToSquared(n.object.position)>r||8*(1-i.dot(n.object.quaternion))>r)&&(n.dispatchEvent(HF),i.copy(n.object.quaternion),o.copy(n.object.position))},this.updateMovementVector=function(){const t=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-t+this.moveState.back},this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.dispose=function(){this.domElement.removeEventListener("contextmenu",a),this.domElement.removeEventListener("pointerdown",l),this.domElement.removeEventListener("pointermove",s),this.domElement.removeEventListener("pointerup",c),this.domElement.removeEventListener("pointercancel",u),window.removeEventListener("keydown",h),window.removeEventListener("keyup",d)};const a=this.contextMenu.bind(this),s=this.pointermove.bind(this),l=this.pointerdown.bind(this),c=this.pointerup.bind(this),u=this.pointercancel.bind(this),h=this.keydown.bind(this),d=this.keyup.bind(this);this.domElement.addEventListener("contextmenu",a),this.domElement.addEventListener("pointerdown",l),this.domElement.addEventListener("pointermove",s),this.domElement.addEventListener("pointerup",c),this.domElement.addEventListener("pointercancel",u),window.addEventListener("keydown",h),window.addEventListener("keyup",d),this.updateMovementVector(),this.updateRotationVector()}}const WF={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor = opacity * texel;\n\n\n\t\t}"};class GF{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const XF=new BP(-1,1,1,-1,0,1);const KF=new class extends HO{constructor(){super(),this.setAttribute("position",new IO([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new IO([0,2,0,0,2,0],2))}};class YF{constructor(t){this._mesh=new sP(KF,t)}dispose(){this._mesh.geometry.dispose()}render(t){t.render(this._mesh,XF)}get material(){return this._mesh.material}set material(t){this._mesh.material=t}}class $F extends GF{constructor(t,e){super(),this.textureID=void 0!==e?e:"tDiffuse",t instanceof pP?(this.uniforms=t.uniforms,this.material=t):t&&(this.uniforms=fP.clone(t.uniforms),this.material=new pP({name:void 0!==t.name?t.name:"unspecified",defines:Object.assign({},t.defines),uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader})),this.fsQuad=new YF(this.material)}render(t,e,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(e),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),this.fsQuad.render(t))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class QF extends GF{constructor(t,e){super(),this.scene=t,this.camera=e,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(t,e,n){const r=t.getContext(),i=t.state;let o,a;i.buffers.color.setMask(!1),i.buffers.depth.setMask(!1),i.buffers.color.setLocked(!0),i.buffers.depth.setLocked(!0),this.inverse?(o=0,a=1):(o=1,a=0),i.buffers.stencil.setTest(!0),i.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),i.buffers.stencil.setFunc(r.ALWAYS,o,4294967295),i.buffers.stencil.setClear(a),i.buffers.stencil.setLocked(!0),t.setRenderTarget(n),this.clear&&t.clear(),t.render(this.scene,this.camera),t.setRenderTarget(e),this.clear&&t.clear(),t.render(this.scene,this.camera),i.buffers.color.setLocked(!1),i.buffers.depth.setLocked(!1),i.buffers.color.setMask(!0),i.buffers.depth.setMask(!0),i.buffers.stencil.setLocked(!1),i.buffers.stencil.setFunc(r.EQUAL,1,4294967295),i.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),i.buffers.stencil.setLocked(!0)}}class ZF extends GF{constructor(){super(),this.needsSwap=!1}render(t){t.state.buffers.stencil.setLocked(!1),t.state.buffers.stencil.setTest(!1)}}class JF{constructor(t,e){if(this.renderer=t,this._pixelRatio=t.getPixelRatio(),void 0===e){const n=t.getSize(new NC);this._width=n.width,this._height=n.height,(e=new rk(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:zA})).texture.name="EffectComposer.rt1"}else this._width=e.width,this._height=e.height;this.renderTarget1=e,this.renderTarget2=e.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new $F(WF),this.copyPass.material.blending=0,this.clock=new NI}swapBuffers(){const t=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=t}addPass(t){this.passes.push(t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(t,e){this.passes.splice(e,0,t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(t){const e=this.passes.indexOf(t);-1!==e&&this.passes.splice(e,1)}isLastEnabledPass(t){for(let e=t+1;e<this.passes.length;e++)if(this.passes[e].enabled)return!1;return!0}render(t){void 0===t&&(t=this.clock.getDelta());const e=this.renderer.getRenderTarget();let n=!1;for(let r=0,i=this.passes.length;r<i;r++){const e=this.passes[r];if(!1!==e.enabled){if(e.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),e.render(this.renderer,this.writeBuffer,this.readBuffer,t,n),e.needsSwap){if(n){const e=this.renderer.getContext(),n=this.renderer.state.buffers.stencil;n.setFunc(e.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,t),n.setFunc(e.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==QF&&(e instanceof QF?n=!0:e instanceof ZF&&(n=!1))}}this.renderer.setRenderTarget(e)}reset(t){if(void 0===t){const e=this.renderer.getSize(new NC);this._pixelRatio=this.renderer.getPixelRatio(),this._width=e.width,this._height=e.height,(t=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=t,this.renderTarget2=t.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(t,e){this._width=t,this._height=e;const n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(let i=0;i<this.passes.length;i++)this.passes[i].setSize(n,r)}setPixelRatio(t){this._pixelRatio=t,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class tz extends GF{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;super(),this.scene=t,this.camera=e,this.overrideMaterial=n,this.clearColor=r,this.clearAlpha=i,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new TO}render(t,e,n){const r=t.autoClear;let i,o;t.autoClear=!1,null!==this.overrideMaterial&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),null!==this.clearColor&&(t.getClearColor(this._oldClearColor),t.setClearColor(this.clearColor)),null!==this.clearAlpha&&(i=t.getClearAlpha(),t.setClearAlpha(this.clearAlpha)),1==this.clearDepth&&t.clearDepth(),t.setRenderTarget(this.renderToScreen?null:n),!0===this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),t.render(this.scene,this.camera),null!==this.clearColor&&t.setClearColor(this._oldClearColor),null!==this.clearAlpha&&t.setClearAlpha(i),null!==this.overrideMaterial&&(this.scene.overrideMaterial=o),t.autoClear=r}}function ez(t){return ez=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ez(t)}function nz(t,e,n){return nz=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&qE(i,n.prototype),i},nz.apply(null,arguments)}function rz(t){var e="function"===typeof Map?new Map:void 0;return rz=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"===typeof t}}(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return nz(t,arguments,ez(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),qE(n,t)},rz(t)}var iz=function(t){function e(e){return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+e+" for more information.")||this)}return WE(e,t),e}(rz(Error));function oz(t){return Math.round(255*t)}function az(t,e,n){return oz(t)+","+oz(e)+","+oz(n)}function sz(t,e,n,r){if(void 0===r&&(r=az),0===e)return r(n,n,n);var i=(t%360+360)%360/60,o=(1-Math.abs(2*n-1))*e,a=o*(1-Math.abs(i%2-1)),s=0,l=0,c=0;i>=0&&i<1?(s=o,l=a):i>=1&&i<2?(s=a,l=o):i>=2&&i<3?(l=o,c=a):i>=3&&i<4?(l=a,c=o):i>=4&&i<5?(s=a,c=o):i>=5&&i<6&&(s=o,c=a);var u=n-o/2;return r(s+u,l+u,c+u)}var lz={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var cz=/^#[a-fA-F0-9]{6}$/,uz=/^#[a-fA-F0-9]{8}$/,hz=/^#[a-fA-F0-9]{3}$/,dz=/^#[a-fA-F0-9]{4}$/,fz=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,pz=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,mz=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,gz=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function vz(t){if("string"!==typeof t)throw new iz(3);var e=function(t){if("string"!==typeof t)return t;var e=t.toLowerCase();return lz[e]?"#"+lz[e]:t}(t);if(e.match(cz))return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16)};if(e.match(uz)){var n=parseFloat((parseInt(""+e[7]+e[8],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16),alpha:n}}if(e.match(hz))return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16)};if(e.match(dz)){var r=parseFloat((parseInt(""+e[4]+e[4],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16),alpha:r}}var i=fz.exec(e);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var o=pz.exec(e.substring(0,50));if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10),alpha:parseFloat(""+o[4])>1?parseFloat(""+o[4])/100:parseFloat(""+o[4])};var a=mz.exec(e);if(a){var s="rgb("+sz(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",l=fz.exec(s);if(!l)throw new iz(4,e,s);return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10)}}var c=gz.exec(e.substring(0,50));if(c){var u="rgb("+sz(parseInt(""+c[1],10),parseInt(""+c[2],10)/100,parseInt(""+c[3],10)/100)+")",h=fz.exec(u);if(!h)throw new iz(4,e,u);return{red:parseInt(""+h[1],10),green:parseInt(""+h[2],10),blue:parseInt(""+h[3],10),alpha:parseFloat(""+c[4])>1?parseFloat(""+c[4])/100:parseFloat(""+c[4])}}throw new iz(5)}var yz=function(t){return 7===t.length&&t[1]===t[2]&&t[3]===t[4]&&t[5]===t[6]?"#"+t[1]+t[3]+t[5]:t};function bz(t){var e=t.toString(16);return 1===e.length?"0"+e:e}function _z(t,e,n){if("number"===typeof t&&"number"===typeof e&&"number"===typeof n)return yz("#"+bz(t)+bz(e)+bz(n));if("object"===typeof t&&void 0===e&&void 0===n)return yz("#"+bz(t.red)+bz(t.green)+bz(t.blue));throw new iz(6)}function xz(t,e,n,r){if("string"===typeof t&&"number"===typeof e){var i=vz(t);return"rgba("+i.red+","+i.green+","+i.blue+","+e+")"}if("number"===typeof t&&"number"===typeof e&&"number"===typeof n&&"number"===typeof r)return r>=1?_z(t,e,n):"rgba("+t+","+e+","+n+","+r+")";if("object"===typeof t&&void 0===e&&void 0===n&&void 0===r)return t.alpha>=1?_z(t.red,t.green,t.blue):"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")";throw new iz(7)}function wz(t,e,n){return function(){var r=n.concat(Array.prototype.slice.call(arguments));return r.length>=e?t.apply(this,r):wz(t,e,r)}}function Sz(t){return wz(t,t.length,[])}function Ez(t,e,n){return Math.max(t,Math.min(e,n))}function Tz(t,e){if("transparent"===e)return e;var n=vz(e);return xz(dt({},n,{alpha:Ez(0,1,(100*("number"===typeof n.alpha?n.alpha:1)+100*parseFloat(t))/100)}))}var Mz=Sz(Tz);var Az=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return this.None(t)},Out:function(t){return this.None(t)},InOut:function(t){return this.None(t)}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}}),Back:Object.freeze({In:function(t){var e=1.70158;return 1===t?1:t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return 0===t?0:--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In:function(t){return 1-Az.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*Az.Bounce.In(2*t):.5*Az.Bounce.Out(2*t-1)+.5}}),generatePow:function(t){return void 0===t&&(t=4),t=(t=t<Number.EPSILON?Number.EPSILON:t)>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(2*e,t)/2:(1-Math.pow(2-2*e,t))/2+.5}}}}),Cz=function(){return performance.now()},kz=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map((function(e){return t._tweens[e]}))},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){void 0===t&&(t=Cz()),void 0===e&&(e=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]],o=!e;i&&!1===i.update(t,o)&&!e&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),Oz={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=Oz.Utils.Linear;return e<0?o(t[0],t[1],r):e>1?o(t[n],t[n-1],n-r):o(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,o=Oz.Utils.Bernstein,a=0;a<=r;a++)n+=i(1-e,r-a)*i(e,a)*t[a]*o(r,a);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=Oz.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),o(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):o(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=Oz.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var r=e;r>1;r--)n*=r;return t[e]=n,n}}(),CatmullRom:function(t,e,n,r,i){var o=.5*(n-t),a=.5*(r-e),s=i*i;return(2*e-2*n+o+a)*(i*s)+(-3*e+3*n-2*o-a)*s+o*i+e}}},Pz=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),Rz=new kz,Nz=function(){function t(t,e){void 0===e&&(e=Rz),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Az.Linear.None,this._interpolationFunction=Oz.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Pz.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){if(void 0===e&&(e=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=t,this._propertiesAreSetUp=!1,this._duration=e,this},t.prototype.duration=function(t){return void 0===t&&(t=1e3),this._duration=t,this},t.prototype.dynamic=function(t){return void 0===t&&(t=!1),this._isDynamic=t,this},t.prototype.start=function(t,e){if(void 0===t&&(t=Cz()),void 0===e&&(e=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var n in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=t,this._startTime+=this._delayTime,!this._propertiesAreSetUp||e){if(this._propertiesAreSetUp=!0,!this._isDynamic){var r={};for(var i in this._valuesEnd)r[i]=this._valuesEnd[i];this._valuesEnd=r}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,e)}return this},t.prototype.startFromCurrentValues=function(t){return this.start(t,!0)},t.prototype._setupProperties=function(t,e,n,r,i){for(var o in n){var a=t[o],s=Array.isArray(a),l=s?"array":typeof a,c=!s&&Array.isArray(n[o]);if("undefined"!==l&&"function"!==l){if(c){if(0===(g=n[o]).length)continue;for(var u=[a],h=0,d=g.length;h<d;h+=1){var f=this._handleRelativeValue(a,g[h]);if(isNaN(f)){c=!1,console.warn("Found invalid interpolation list. Skipping.");break}u.push(f)}c&&(n[o]=u)}if("object"!==l&&!s||!a||c)("undefined"===typeof e[o]||i)&&(e[o]=a),s||(e[o]*=1),r[o]=c?n[o].slice().reverse():e[o]||0;else{e[o]=s?[]:{};var p=a;for(var m in p)e[o][m]=p[m];r[o]=s?[]:{};var g=n[o];if(!this._isDynamic){var v={};for(var m in g)v[m]=g[m];n[o]=g=v}this._setupProperties(p,e[o],g,r[o],i)}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(t){return void 0===t&&(t=Cz()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this)),this},t.prototype.resume=function(t){return void 0===t&&(t=Cz()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return void 0===t&&(t=Rz),this._group=t,this},t.prototype.delay=function(t){return void 0===t&&(t=0),this._delayTime=t,this},t.prototype.repeat=function(t){return void 0===t&&(t=0),this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return void 0===t&&(t=!1),this._yoyo=t,this},t.prototype.easing=function(t){return void 0===t&&(t=Az.Linear.None),this._easingFunction=t,this},t.prototype.interpolation=function(t){return void 0===t&&(t=Oz.Linear),this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this},t.prototype.onStart=function(t){return this._onStartCallback=t,this},t.prototype.onEveryStart=function(t){return this._onEveryStartCallback=t,this},t.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype.onStop=function(t){return this._onStopCallback=t,this},t.prototype.update=function(t,e){if(void 0===t&&(t=Cz()),void 0===e&&(e=!0),this._isPaused)return!0;var n,r,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>i)return!1;e&&this.start(t,!0)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),!1===this._onEveryStartCallbackFired&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),r=(t-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var o=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!==typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,s=this._chainedTweens.length;a<s;a++)this._chainedTweens[a].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,n,r){for(var i in n)if(void 0!==e[i]){var o=e[i]||0,a=n[i],s=Array.isArray(t[i]),l=Array.isArray(a);!s&&l?t[i]=this._interpolationFunction(a,r):"object"===typeof a&&a?this._updateProperties(t[i],o,a,r):"number"===typeof(a=this._handleRelativeValue(o,a))&&(t[i]=o+(a-o)*r)}},t.prototype._handleRelativeValue=function(t,e){return"string"!==typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t],n=this._valuesEnd[t];this._valuesStartRepeat[t]="string"===typeof n?this._valuesStartRepeat[t]+parseFloat(n):this._valuesEnd[t],this._valuesEnd[t]=e},t}(),Lz=(Pz.nextId,Rz),Iz=(Lz.getAll.bind(Lz),Lz.removeAll.bind(Lz),Lz.add.bind(Lz),Lz.remove.bind(Lz),Lz.update.bind(Lz));function Dz(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jz(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||Fz(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uz(t){return function(t){if(Array.isArray(t))return zz(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Fz(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fz(t,e){if(t){if("string"===typeof t)return zz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zz(t,e):void 0}}function zz(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}(".scene-nav-info {\n  bottom: 5px;\n  width: 100%;\n  text-align: center;\n  color: slategrey;\n  opacity: 0.7;\n  font-size: 10px;\n}\n\n.scene-tooltip {\n  top: 0;\n  color: lavender;\n  font-size: 15px;\n}\n\n.scene-nav-info, .scene-tooltip {\n  position: absolute;\n  font-family: sans-serif;\n  pointer-events: none;\n  user-select: none;\n}\n\n.scene-container canvas:focus {\n  outline: none;\n}");var Bz=window.THREE?window.THREE:{WebGLRenderer:cL,Scene:uL,PerspectiveCamera:gP,Raycaster:VI,SRGBColorSpace:iC,TextureLoader:class extends SI{constructor(t){super(t)}load(t,e,n,r){const i=new tk,o=new EI(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(t){i.image=t,i.needsUpdate=!0,void 0!==e&&e(i)}),n,r),i}},Vector2:NC,Vector3:sk,Box3:uk,Color:TO,Mesh:sP,SphereGeometry:rI,MeshBasicMaterial:kO,BackSide:hA,EventDispatcher:yC,MOUSE:nA,Quaternion:ak,Spherical:WI,Clock:NI},Vz=Xj({props:{width:{default:window.innerWidth,onChange:function(t,e,n){isNaN(t)&&(e.width=n)}},height:{default:window.innerHeight,onChange:function(t,e,n){isNaN(t)&&(e.height=n)}},backgroundColor:{default:"#000011"},backgroundImageUrl:{},onBackgroundImageLoaded:{},showNavInfo:{default:!0},skyRadius:{default:5e4},objects:{default:[]},lights:{default:[]},enablePointerInteraction:{default:!0,onChange:function(t,e){e.hoverObj=null,e.toolTipElem&&(e.toolTipElem.innerHTML="")},triggerUpdate:!1},lineHoverPrecision:{default:1,triggerUpdate:!1},hoverOrderComparator:{default:function(){return-1},triggerUpdate:!1},hoverFilter:{default:function(){return!0},triggerUpdate:!1},tooltipContent:{triggerUpdate:!1},hoverDuringDrag:{default:!1,triggerUpdate:!1},clickAfterDrag:{default:!1,triggerUpdate:!1},onHover:{default:function(){},triggerUpdate:!1},onClick:{default:function(){},triggerUpdate:!1},onRightClick:{triggerUpdate:!1}},methods:{tick:function(t){if(t.initialised){if(t.controls.update&&t.controls.update(t.clock.getDelta()),t.postProcessingComposer?t.postProcessingComposer.render():t.renderer.render(t.scene,t.camera),t.extraRenderers.forEach((function(e){return e.render(t.scene,t.camera)})),t.enablePointerInteraction){var e=null;if(t.hoverDuringDrag||!t.isPointerDragging){var n=this.intersectingObjects(t.pointerPos.x,t.pointerPos.y).filter((function(e){return t.hoverFilter(e.object)})).sort((function(e,n){return t.hoverOrderComparator(e.object,n.object)})),r=n.length?n[0]:null;e=r?r.object:null,t.intersectionPoint=r?r.point:null}e!==t.hoverObj&&(t.onHover(e,t.hoverObj),t.toolTipElem.innerHTML=e&&Kj(t.tooltipContent)(e)||"",t.hoverObj=e)}Iz()}return this},getPointerPos:function(t){var e=t.pointerPos;return{x:e.x,y:e.y}},cameraPosition:function(t,e,n,r){var i=t.camera;if(e&&t.initialised){var o=e,a=n||{x:0,y:0,z:0};if(r){var s=Object.assign({},i.position),l=h();new Nz(s).to(o,r).easing(Az.Quadratic.Out).onUpdate(c).start(),new Nz(l).to(a,r/3).easing(Az.Quadratic.Out).onUpdate(u).start()}else c(o),u(a);return this}return Object.assign({},i.position,{lookAt:h()});function c(t){var e=t.x,n=t.y,r=t.z;void 0!==e&&(i.position.x=e),void 0!==n&&(i.position.y=n),void 0!==r&&(i.position.z=r)}function u(e){var n=new Bz.Vector3(e.x,e.y,e.z);t.controls.target?t.controls.target=n:i.lookAt(n)}function h(){return Object.assign(new Bz.Vector3(0,0,-1e3).applyQuaternion(i.quaternion).add(i.position))}},zoomToFit:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];return this.fitToBbox(this.getBbox.apply(this,i),e,n)},fitToBbox:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,i=t.camera;if(e){var o=new Bz.Vector3(0,0,0),a=2*Math.max.apply(Math,Uz(Object.entries(e).map((function(t){var e=jz(t,2),n=e[0],r=e[1];return Math.max.apply(Math,Uz(r.map((function(t){return Math.abs(o[n]-t)}))))})))),s=(1-2*r/t.height)*i.fov,l=a/Math.atan(s*Math.PI/180),c=l/i.aspect,u=Math.max(l,c);if(u>0){var h=o.clone().sub(i.position).normalize().multiplyScalar(-u);this.cameraPosition(h,o,n)}}return this},getBbox:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=new Bz.Box3(new Bz.Vector3(0,0,0),new Bz.Vector3(0,0,0)),r=t.objects.filter(e);return r.length?(r.forEach((function(t){return n.expandByObject(t)})),Object.assign.apply(Object,Uz(["x","y","z"].map((function(t){return Dz({},t,[n.min[t],n.max[t]])}))))):null},getScreenCoords:function(t,e,n,r){var i=new Bz.Vector3(e,n,r);return i.project(this.camera()),{x:(i.x+1)*t.width/2,y:-(i.y-1)*t.height/2}},getSceneCoords:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=new Bz.Vector2(e/t.width*2-1,-n/t.height*2+1),o=new Bz.Raycaster;return o.setFromCamera(i,t.camera),Object.assign({},o.ray.at(r,new Bz.Vector3))},intersectingObjects:function(t,e,n){var r=new Bz.Vector2(e/t.width*2-1,-n/t.height*2+1),i=new Bz.Raycaster;return i.params.Line.threshold=t.lineHoverPrecision,i.setFromCamera(r,t.camera),i.intersectObjects(t.objects,!0)},renderer:function(t){return t.renderer},scene:function(t){return t.scene},camera:function(t){return t.camera},postProcessingComposer:function(t){return t.postProcessingComposer},controls:function(t){return t.controls},tbControls:function(t){return t.controls}},stateInit:function(){return{scene:new Bz.Scene,camera:new Bz.PerspectiveCamera,clock:new Bz.Clock}},init:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.controlType,i=void 0===r?"trackball":r,o=n.rendererConfig,a=void 0===o?{}:o,s=n.extraRenderers,l=void 0===s?[]:s,c=n.waitForLoadComplete,u=void 0===c||c;t.innerHTML="",t.appendChild(e.container=document.createElement("div")),e.container.className="scene-container",e.container.style.position="relative",e.container.appendChild(e.navInfo=document.createElement("div")),e.navInfo.className="scene-nav-info",e.navInfo.textContent={orbit:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",trackball:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",fly:"WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw"}[i]||"",e.navInfo.style.display=e.showNavInfo?null:"none",e.toolTipElem=document.createElement("div"),e.toolTipElem.classList.add("scene-tooltip"),e.container.appendChild(e.toolTipElem),e.pointerPos=new Bz.Vector2,e.pointerPos.x=-2,e.pointerPos.y=-2,["pointermove","pointerdown"].forEach((function(t){return e.container.addEventListener(t,(function(n){if("pointerdown"===t&&(e.isPointerPressed=!0),!e.isPointerDragging&&"pointermove"===n.type&&(n.pressure>0||e.isPointerPressed)&&("touch"!==n.pointerType||void 0===n.movementX||[n.movementX,n.movementY].some((function(t){return Math.abs(t)>1})))&&(e.isPointerDragging=!0),e.enablePointerInteraction){var r=function(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+r,left:e.left+n}}(e.container);e.pointerPos.x=n.pageX-r.left,e.pointerPos.y=n.pageY-r.top,e.toolTipElem.style.top="".concat(e.pointerPos.y,"px"),e.toolTipElem.style.left="".concat(e.pointerPos.x,"px"),e.toolTipElem.style.transform="translate(-".concat(e.pointerPos.x/e.width*100,"%, ").concat(e.height-e.pointerPos.y<100?"calc(-100% - 8px)":"21px",")")}}),{passive:!0})})),e.container.addEventListener("pointerup",(function(t){e.isPointerPressed=!1,e.isPointerDragging&&(e.isPointerDragging=!1,!e.clickAfterDrag)||requestAnimationFrame((function(){0===t.button&&e.onClick(e.hoverObj||null,t,e.intersectionPoint),2===t.button&&e.onRightClick&&e.onRightClick(e.hoverObj||null,t,e.intersectionPoint)}))}),{passive:!0,capture:!0}),e.container.addEventListener("contextmenu",(function(t){e.onRightClick&&t.preventDefault()})),e.renderer=new Bz.WebGLRenderer(Object.assign({antialias:!0,alpha:!0},a)),e.renderer.setPixelRatio(Math.min(2,window.devicePixelRatio)),e.container.appendChild(e.renderer.domElement),e.extraRenderers=l,e.extraRenderers.forEach((function(t){t.domElement.style.position="absolute",t.domElement.style.top="0px",t.domElement.style.pointerEvents="none",e.container.appendChild(t.domElement)})),e.postProcessingComposer=new JF(e.renderer),e.postProcessingComposer.addPass(new tz(e.scene,e.camera)),e.controls=new{trackball:IF,orbit:VF,fly:qF}[i](e.camera,e.renderer.domElement),"fly"===i&&(e.controls.movementSpeed=300,e.controls.rollSpeed=Math.PI/6,e.controls.dragToLook=!0),"trackball"!==i&&"orbit"!==i||(e.controls.minDistance=.1,e.controls.maxDistance=e.skyRadius,e.controls.addEventListener("start",(function(){e.controlsEngaged=!0})),e.controls.addEventListener("change",(function(){e.controlsEngaged&&(e.controlsDragging=!0)})),e.controls.addEventListener("end",(function(){e.controlsEngaged=!1,e.controlsDragging=!1}))),[e.renderer,e.postProcessingComposer].concat(Uz(e.extraRenderers)).forEach((function(t){return t.setSize(e.width,e.height)})),e.camera.aspect=e.width/e.height,e.camera.updateProjectionMatrix(),e.camera.position.z=1e3,e.scene.add(e.skysphere=new Bz.Mesh),e.skysphere.visible=!1,e.loadComplete=e.scene.visible=!u,window.scene=e.scene},update:function(t,e){if(t.width&&t.height&&(e.hasOwnProperty("width")||e.hasOwnProperty("height"))&&(t.container.style.width="".concat(t.width,"px"),t.container.style.height="".concat(t.height,"px"),[t.renderer,t.postProcessingComposer].concat(Uz(t.extraRenderers)).forEach((function(e){return e.setSize(t.width,t.height)})),t.camera.aspect=t.width/t.height,t.camera.updateProjectionMatrix()),e.hasOwnProperty("skyRadius")&&t.skyRadius&&(t.controls.hasOwnProperty("maxDistance")&&e.skyRadius&&(t.controls.maxDistance=Math.min(t.controls.maxDistance,t.skyRadius)),t.camera.far=2.5*t.skyRadius,t.camera.updateProjectionMatrix(),t.skysphere.geometry=new Bz.SphereGeometry(t.skyRadius)),e.hasOwnProperty("backgroundColor")){var n=vz(t.backgroundColor).alpha;void 0===n&&(n=1),t.renderer.setClearColor(new Bz.Color(Mz(1,t.backgroundColor)),n)}function r(){t.loadComplete=t.scene.visible=!0}e.hasOwnProperty("backgroundImageUrl")&&(t.backgroundImageUrl?(new Bz.TextureLoader).load(t.backgroundImageUrl,(function(e){e.colorSpace=Bz.SRGBColorSpace,t.skysphere.material=new Bz.MeshBasicMaterial({map:e,side:Bz.BackSide}),t.skysphere.visible=!0,t.onBackgroundImageLoaded&&setTimeout(t.onBackgroundImageLoaded),!t.loadComplete&&r()})):(t.skysphere.visible=!1,t.skysphere.material.map=null,!t.loadComplete&&r())),e.hasOwnProperty("showNavInfo")&&(t.navInfo.style.display=t.showNavInfo?null:"none"),e.hasOwnProperty("lights")&&((e.lights||[]).forEach((function(e){return t.scene.remove(e)})),t.lights.forEach((function(e){return t.scene.add(e)}))),e.hasOwnProperty("objects")&&((e.objects||[]).forEach((function(e){return t.scene.remove(e)})),t.objects.forEach((function(e){return t.scene.add(e)})))}});function Hz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qz(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hz(Object(n),!0).forEach((function(e){Wz(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hz(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wz(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gz(t){return function(t){if(Array.isArray(t))return Xz(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Xz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xz(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xz(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kz(t,e){var n=new e;return n._destructor&&n._destructor(),{linkProp:function(e){return{default:n[e](),onChange:function(n,r){r[t][e](n)},triggerUpdate:!1}},linkMethod:function(e){return function(n){for(var r=n[t],i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=r[e].apply(r,o);return s===r?this:s}}}}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}(".graph-info-msg {\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  color: lavender;\n  opacity: 0.7;\n  font-size: 22px;\n  position: absolute;\n  font-family: Sans-serif;\n}\n\n.scene-container .clickable {\n  cursor: pointer;\n}\n\n.scene-container .grabbable {\n  cursor: move;\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\n.scene-container .grabbable:active {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}");var Yz=window.THREE?window.THREE:{AmbientLight:RI,DirectionalLight:PI,Vector3:sk},$z=Kz("forceGraph",PF),Qz=Object.assign.apply(Object,Gz(["jsonUrl","graphData","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeColor","nodeAutoColorBy","nodeOpacity","nodeVisibility","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaDecay","d3VelocityDecay","d3AlphaMin","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map((function(t){return Wz({},t,$z.linkProp(t))})))),Zz=Object.assign.apply(Object,Gz(["refresh","getGraphBbox","d3Force","d3ReheatSimulation","emitParticle"].map((function(t){return Wz({},t,$z.linkMethod(t))})))),Jz=Kz("renderObjs",Vz),tB=Object.assign.apply(Object,Gz(["width","height","backgroundColor","showNavInfo","enablePointerInteraction"].map((function(t){return Wz({},t,Jz.linkProp(t))})))),eB=Object.assign.apply(Object,Gz(["lights","cameraPosition","postProcessingComposer"].map((function(t){return Wz({},t,Jz.linkMethod(t))}))).concat([{graph2ScreenCoords:Jz.linkMethod("getScreenCoords"),screen2GraphCoords:Jz.linkMethod("getSceneCoords")}])),nB=Xj({props:qz(qz({nodeLabel:{default:"name",triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:1,onChange:function(t,e){return e.renderObjs.lineHoverPrecision(t)},triggerUpdate:!1},enableNavigationControls:{default:!0,onChange:function(t,e){var n=e.renderObjs.controls();n&&(n.enabled=t,t&&n.domElement&&n.domElement.dispatchEvent(new PointerEvent("pointerup")))},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1}},Qz),tB),methods:qz(qz({zoomToFit:function(t,e,n){for(var r,i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return t.renderObjs.fitToBbox((r=t.forceGraph).getGraphBbox.apply(r,o),e,n),this},pauseAnimation:function(t){return null!==t.animationFrameRequestId&&(cancelAnimationFrame(t.animationFrameRequestId),t.animationFrameRequestId=null),this},resumeAnimation:function(t){return null===t.animationFrameRequestId&&this._animationCycle(),this},_animationCycle:function(t){t.enablePointerInteraction&&(this.renderer().domElement.style.cursor=null),t.forceGraph.tickFrame(),t.renderObjs.tick(),t.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},scene:function(t){return t.renderObjs.scene()},camera:function(t){return t.renderObjs.camera()},renderer:function(t){return t.renderObjs.renderer()},controls:function(t){return t.renderObjs.controls()},tbControls:function(t){return t.renderObjs.tbControls()},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},Zz),eB),stateInit:function(t){var e=t.controlType,n=t.rendererConfig,r=t.extraRenderers,i=new PF;return{forceGraph:i,renderObjs:Vz({controlType:e,rendererConfig:n,extraRenderers:r}).objects([i]).lights([new Yz.AmbientLight(13421772,Math.PI),new Yz.DirectionalLight(16777215,.6*Math.PI)])}},init:function(t,e){t.innerHTML="",t.appendChild(e.container=document.createElement("div")),e.container.style.position="relative";var n=document.createElement("div");e.container.appendChild(n),e.renderObjs(n);var r,i=e.renderObjs.camera(),o=e.renderObjs.renderer(),a=e.renderObjs.controls();a.enabled=!!e.enableNavigationControls,e.lastSetCameraZ=i.position.z,e.container.appendChild(r=document.createElement("div")),r.className="graph-info-msg",r.textContent="",e.forceGraph.onLoading((function(){r.textContent="Loading..."})).onFinishLoading((function(){r.textContent=""})).onUpdate((function(){e.graphData=e.forceGraph.graphData(),0===i.position.x&&0===i.position.y&&i.position.z===e.lastSetCameraZ&&e.graphData.nodes.length&&(i.lookAt(e.forceGraph.position),e.lastSetCameraZ=i.position.z=170*Math.cbrt(e.graphData.nodes.length))})).onFinishUpdate((function(){if(e._dragControls){var t=e.graphData.nodes.find((function(t){return t.__initialFixedPos&&!t.__disposeControlsAfterDrag}));t?t.__disposeControlsAfterDrag=!0:e._dragControls.dispose(),e._dragControls=void 0}if(e.enableNodeDrag&&e.enablePointerInteraction&&"d3"===e.forceEngine){var n=e._dragControls=new JI(e.graphData.nodes.map((function(t){return t.__threeObj})).filter((function(t){return t})),i,o.domElement);n.addEventListener("dragstart",(function(t){a.enabled=!1,t.object.__initialPos=t.object.position.clone(),t.object.__prevPos=t.object.position.clone();var e=rB(t.object).__data;!e.__initialFixedPos&&(e.__initialFixedPos={fx:e.fx,fy:e.fy,fz:e.fz}),!e.__initialPos&&(e.__initialPos={x:e.x,y:e.y,z:e.z}),["x","y","z"].forEach((function(t){return e["f".concat(t)]=e[t]})),o.domElement.classList.add("grabbable")})),n.addEventListener("drag",(function(t){var n=rB(t.object);if(!t.object.hasOwnProperty("__graphObjType")){var r=t.object.__initialPos,i=t.object.__prevPos,o=t.object.position;n.position.add(o.clone().sub(i)),i.copy(o),o.copy(r)}var a=n.__data,s=n.position,l={x:s.x-a.x,y:s.y-a.y,z:s.z-a.z};["x","y","z"].forEach((function(t){return a["f".concat(t)]=a[t]=s[t]})),e.forceGraph.d3AlphaTarget(.3).resetCountdown(),a.__dragged=!0,e.onNodeDrag(a,l)})),n.addEventListener("dragend",(function(t){delete t.object.__initialPos,delete t.object.__prevPos;var r=rB(t.object).__data;r.__disposeControlsAfterDrag&&(n.dispose(),delete r.__disposeControlsAfterDrag);var i=r.__initialFixedPos,s=r.__initialPos,l={x:s.x-r.x,y:s.y-r.y,z:s.z-r.z};i&&(["x","y","z"].forEach((function(t){var e="f".concat(t);void 0===i[e]&&delete r[e]})),delete r.__initialFixedPos,delete r.__initialPos,r.__dragged&&(delete r.__dragged,e.onNodeDragEnd(r,l))),e.forceGraph.d3AlphaTarget(0).resetCountdown(),e.enableNavigationControls&&(a.enabled=!0,a.domElement&&a.domElement.ownerDocument&&a.domElement.ownerDocument.dispatchEvent(new PointerEvent("pointerup",{pointerType:"touch"}))),o.domElement.classList.remove("grabbable")}))}})),e.renderObjs.renderer().useLegacyLights=!1,e.renderObjs.hoverOrderComparator((function(t,e){var n=rB(t);if(!n)return 1;var r=rB(e);if(!r)return-1;var i=function(t){return"node"===t.__graphObjType};return i(r)-i(n)})).tooltipContent((function(t){var n=rB(t);return n&&Kj(e["".concat(n.__graphObjType,"Label")])(n.__data)||""})).hoverDuringDrag(!1).onHover((function(t){var n=rB(t);if(n!==e.hoverObj){var r=e.hoverObj?e.hoverObj.__graphObjType:null,i=e.hoverObj?e.hoverObj.__data:null,a=n?n.__graphObjType:null,s=n?n.__data:null;if(r&&r!==a){var l=e["on".concat("node"===r?"Node":"Link","Hover")];l&&l(null,i)}if(a){var c=e["on".concat("node"===a?"Node":"Link","Hover")];c&&c(s,r===a?i:null)}o.domElement.classList[n&&e["on".concat("node"===a?"Node":"Link","Click")]||!n&&e.onBackgroundClick?"add":"remove"]("clickable"),e.hoverObj=n}})).clickAfterDrag(!1).onClick((function(t,n){var r=rB(t);if(r){var i=e["on".concat("node"===r.__graphObjType?"Node":"Link","Click")];i&&i(r.__data,n)}else e.onBackgroundClick&&e.onBackgroundClick(n)})).onRightClick((function(t,n){var r=rB(t);if(r){var i=e["on".concat("node"===r.__graphObjType?"Node":"Link","RightClick")];i&&i(r.__data,n)}else e.onBackgroundRightClick&&e.onBackgroundRightClick(n)})),this._animationCycle()}});function rB(t){for(var e=t;e&&!e.hasOwnProperty("__graphObjType");)e=e.parent;return e}const iB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},oB={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],o=i+1<t.length,a=o?t[i+1]:0,s=i+2<t.length,l=s?t[i+2]:0,c=e>>2,u=(3&e)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const a=i<t.length?n[t.charAt(i)]:64;++i;const s=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==o||null==a||null==s)throw new aB;const l=e<<2|o>>4;if(r.push(l),64!==a){const t=o<<4&240|a>>2;if(r.push(t),64!==s){const t=a<<6&192|s;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sB=function(t){return function(t){const e=iB(t);return oB.encodeByteArray(e,!0)}(t).replace(/\./g,"")},lB=function(t){try{return oB.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const cB=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,uB=()=>{try{return cB()||(()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",PUBLIC_URL:"/ming-mind-web",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&lB(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(t))}},hB=t=>{const e=(t=>{var e,n;return null===(n=null===(e=uB())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dB=()=>{var t;return null===(t=uB())||void 0===t?void 0:t.config};class fB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}class pB extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,pB.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mB.prototype.create)}}class mB{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),r=this.errors[t],i=r?function(t,e){return t.replace(gB,((t,n)=>{const r=e[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,e):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new pB(n,o,e)}}const gB=/\{\$([^}]+)}/g;function vB(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],o=e[i];if(yB(n)&&yB(o)){if(!vB(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yB(t){return null!==t&&"object"===typeof t}class bB{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const _B="[DEFAULT]";class xB{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new fB;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:_B})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:r});n.resolve(t)}catch(e){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_B;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_B;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_B;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(Jo){}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(Jo){}return r||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_B;return this.component?this.component.multipleInstances?t:_B:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function wB(t){return t===_B?void 0:t}class SB{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new xB(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const EB=[];var TB;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(TB||(TB={}));const MB={debug:TB.DEBUG,verbose:TB.VERBOSE,info:TB.INFO,warn:TB.WARN,error:TB.ERROR,silent:TB.SILENT},AB=TB.INFO,CB={[TB.DEBUG]:"log",[TB.VERBOSE]:"log",[TB.INFO]:"info",[TB.WARN]:"warn",[TB.ERROR]:"error"},kB=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),r=CB[e];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(t.name,":"),...o)};class OB{constructor(t){this.name=t,this._logLevel=AB,this._logHandler=kB,this._userLogHandler=null,EB.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in TB))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?MB[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,TB.DEBUG,...e),this._logHandler(this,TB.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,TB.VERBOSE,...e),this._logHandler(this,TB.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,TB.INFO,...e),this._logHandler(this,TB.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,TB.WARN,...e),this._logHandler(this,TB.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,TB.ERROR,...e),this._logHandler(this,TB.ERROR,...e)}}const PB=(t,e)=>e.some((e=>t instanceof e));let RB,NB;const LB=new WeakMap,IB=new WeakMap,DB=new WeakMap,jB=new WeakMap,UB=new WeakMap;let FB={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return IB.get(t);if("objectStoreNames"===e)return t.objectStoreNames||DB.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return VB(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function zB(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(NB||(NB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(HB(this),n),VB(LB.get(this))}:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return VB(t.apply(HB(this),n))}:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=t.call(HB(this),e,...r);return DB.set(o,e.sort?e.sort():[e]),VB(o)}}function BB(t){return"function"===typeof t?zB(t):(t instanceof IDBTransaction&&function(t){if(IB.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{e(),r()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)}));IB.set(t,e)}(t),PB(t,RB||(RB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,FB):t)}function VB(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{e(VB(t.result)),r()},o=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)}));return e.then((e=>{e instanceof IDBCursor&&LB.set(e,t)})).catch((()=>{})),UB.set(e,t),e}(t);if(jB.has(t))return jB.get(t);const e=BB(t);return e!==t&&(jB.set(t,e),UB.set(e,t)),e}const HB=t=>UB.get(t);const qB=["get","getKey","getAll","getAllKeys","count"],WB=["put","add","delete","clear"],GB=new Map;function XB(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(GB.get(e))return GB.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=WB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!qB.includes(n))return;const o=async function(t){const e=this.transaction(t,i?"readwrite":"readonly");let o=e.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&e.done]))[0]};return GB.set(e,o),o}FB=(t=>({...t,get:(e,n,r)=>XB(e,n)||t.get(e,n,r),has:(e,n)=>!!XB(e,n)||t.has(e,n)}))(FB);class KB{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null})).filter((t=>t)).join(" ")}}const YB="@firebase/app",$B="0.9.23",QB=new OB("@firebase/app"),ZB="[DEFAULT]",JB={[YB]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tV=new Map,eV=new Map;function nV(t,e){try{t.container.addComponent(e)}catch(n){QB.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function rV(t){const e=t.name;if(eV.has(e))return QB.debug("There were multiple attempts to register component ".concat(e,".")),!1;eV.set(e,t);for(const n of tV.values())nV(n,t);return!0}function iV(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const oV=new mB("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class aV{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new bB("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw oV.create("app-deleted",{appName:this._name})}}function sV(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!==typeof e){e={name:e}}const r=Object.assign({name:ZB,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!==typeof i||!i)throw oV.create("bad-app-name",{appName:String(i)});if(n||(n=dB()),!n)throw oV.create("no-options");const o=tV.get(i);if(o){if(vB(n,o.options)&&vB(r,o.config))return o;throw oV.create("duplicate-app",{appName:i})}const a=new SB(i);for(const l of eV.values())a.addComponent(l);const s=new aV(n,r,a);return tV.set(i,s),s}function lV(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ZB;const e=tV.get(t);if(!e&&t===ZB&&dB())return sV();if(!e)throw oV.create("no-app",{appName:t});return e}function cV(t,e,n){var r;let i=null!==(r=JB[t])&&void 0!==r?r:t;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=['Unable to register library "'.concat(i,'" with version "').concat(e,'":')];return o&&t.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&t.push("and"),a&&t.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void QB.warn(t.join(" "))}rV(new bB("".concat(i,"-version"),(()=>({library:i,version:e})),"VERSION"))}const uV="firebase-heartbeat-database",hV=1,dV="firebase-heartbeat-store";let fV=null;function pV(){return fV||(fV=function(t,e){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(t,e),s=VB(a);return r&&a.addEventListener("upgradeneeded",(t=>{r(VB(a.result),t.oldVersion,t.newVersion,VB(a.transaction),t)})),n&&a.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),s.then((t=>{o&&t.addEventListener("close",(()=>o())),i&&t.addEventListener("versionchange",(t=>i(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),s}(uV,hV,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(dV)}}).catch((t=>{throw oV.create("idb-open",{originalErrorMessage:t.message})}))),fV}async function mV(t,e){try{const n=(await pV()).transaction(dV,"readwrite"),r=n.objectStore(dV);await r.put(e,gV(t)),await n.done}catch(n){if(n instanceof pB)QB.warn(n.message);else{const t=oV.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});QB.warn(t.message)}}}function gV(t){return"".concat(t.name,"!").concat(t.options.appId)}class vV{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new bV(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t;const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=yV();if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((t=>t.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=yV(),{heartbeatsToSend:n,unsentEntries:r}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=t.slice();for(const i of t){const t=n.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),_V(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_V(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=sB(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function yV(){return(new Date).toISOString().substring(0,10)}class bV{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(t){return!1}}()&&new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=await pV();return await e.transaction(dV).objectStore(dV).get(gV(t))}catch(e){if(e instanceof pB)QB.warn(e.message);else{const t=oV.create("idb-get",{originalErrorMessage:null===e||void 0===e?void 0:e.message});QB.warn(t.message)}}}(this.app);return t||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return mV(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return mV(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function _V(t){return sB(JSON.stringify({version:2,heartbeats:t})).length}var xV;xV="",rV(new bB("platform-logger",(t=>new KB(t)),"PRIVATE")),rV(new bB("heartbeat",(t=>new vV(t)),"PRIVATE")),cV(YB,$B,xV),cV(YB,$B,"esm2017"),cV("fire-js","");cV("firebase","10.6.0","app");var wV,SV="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},EV={},TV=TV||{},MV=SV||self;function AV(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function CV(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var kV="closure_uid_"+(1e9*Math.random()>>>0),OV=0;function PV(t,e,n){return t.call.apply(t.bind,arguments)}function RV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function NV(t,e,n){return(NV=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?PV:RV).apply(null,arguments)}function LV(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function IV(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function DV(){this.s=this.s,this.o=this.o}DV.prototype.s=!1,DV.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,kV)&&t[kV]||(t[kV]=++OV)}(this)},DV.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jV=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function UV(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function FV(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(AV(e)){const n=t.length||0,r=e.length||0;t.length=n+r;for(let i=0;i<r;i++)t[n+i]=e[i]}else t.push(e)}}function zV(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zV.prototype.h=function(){this.defaultPrevented=!0};var BV=function(){if(!MV.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{MV.addEventListener("test",(()=>{}),e),MV.removeEventListener("test",(()=>{}),e)}catch(TD){}return t}();function VV(t){return/^[\s\xa0]*$/.test(t)}function HV(){var t=MV.navigator;return t&&(t=t.userAgent)?t:""}function qV(t){return-1!=HV().indexOf(t)}function WV(t){return WV[" "](t),t}WV[" "]=function(){};var GV,XV,KV=qV("Opera"),YV=qV("Trident")||qV("MSIE"),$V=qV("Edge"),QV=$V||YV,ZV=qV("Gecko")&&!(-1!=HV().toLowerCase().indexOf("webkit")&&!qV("Edge"))&&!(qV("Trident")||qV("MSIE"))&&!qV("Edge"),JV=-1!=HV().toLowerCase().indexOf("webkit")&&!qV("Edge");function tH(){var t=MV.document;return t?t.documentMode:void 0}t:{var eH="",nH=function(){var t=HV();return ZV?/rv:([^\);]+)(\)|;)/.exec(t):$V?/Edge\/([\d\.]+)/.exec(t):YV?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):JV?/WebKit\/(\S+)/.exec(t):KV?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(nH&&(eH=nH?nH[1]:""),YV){var rH=tH();if(null!=rH&&rH>parseFloat(eH)){GV=String(rH);break t}}GV=eH}if(MV.document&&YV){var iH=tH();XV=iH||(parseInt(GV,10)||void 0)}else XV=void 0;var oH=XV;function aH(t,e){if(zV.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ZV){t:{try{WV(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:sH[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&aH.$.h.call(this)}}IV(aH,zV);var sH={2:"touch",3:"pen",4:"mouse"};aH.prototype.h=function(){aH.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var lH="closure_listenable_"+(1e6*Math.random()|0),cH=0;function uH(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++cH,this.fa=this.ia=!1}function hH(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function dH(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function fH(t){const e={};for(const n in t)e[n]=t[n];return e}const pH="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mH(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<pH.length;e++)n=pH[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function gH(t){this.src=t,this.g={},this.h=0}function vH(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=jV(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(hH(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function yH(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}gH.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=yH(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):((e=new uH(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var bH="closure_lm_"+(1e6*Math.random()|0),_H={};function xH(t,e,n,r,i){if(r&&r.once)return SH(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)xH(t,e[o],n,r,i);return null}return n=OH(n),t&&t[lH]?t.O(e,n,CV(r)?!!r.capture:!!r,i):wH(t,e,n,!1,r,i)}function wH(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=CV(i)?!!i.capture:!!i,s=CH(t);if(s||(t[bH]=s=new gH(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}const e=AH;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)BV||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(MH(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function SH(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)SH(t,e[o],n,r,i);return null}return n=OH(n),t&&t[lH]?t.P(e,n,CV(r)?!!r.capture:!!r,i):wH(t,e,n,!0,r,i)}function EH(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)EH(t,e[o],n,r,i);else r=CV(r)?!!r.capture:!!r,n=OH(n),t&&t[lH]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=yH(o=t.g[e],n,r,i))&&(hH(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=CH(t))&&(e=t.g[e.toString()],t=-1,e&&(t=yH(e,n,r,i)),(n=-1<t?e[t]:null)&&TH(n))}function TH(t){if("number"!==typeof t&&t&&!t.fa){var e=t.src;if(e&&e[lH])vH(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(MH(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=CH(e))?(vH(n,t),0==n.h&&(n.src=null,e[bH]=null)):hH(t)}}}function MH(t){return t in _H?_H[t]:_H[t]="on"+t}function AH(t,e){if(t.fa)t=!0;else{e=new aH(e,this);var n=t.listener,r=t.la||t.src;t.ia&&TH(t),t=n.call(r,e)}return t}function CH(t){return(t=t[bH])instanceof gH?t:null}var kH="__closure_events_fn_"+(1e9*Math.random()>>>0);function OH(t){return"function"===typeof t?t:(t[kH]||(t[kH]=function(e){return t.handleEvent(e)}),t[kH])}function PH(){DV.call(this),this.i=new gH(this),this.S=this,this.J=null}function RH(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"===typeof e)e=new zV(e,t);else if(e instanceof zV)e.target=e.target||t;else{var i=e;mH(e=new zV(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=NH(a,r,!0,e)&&i}if(i=NH(a=e.g=t,r,!0,e)&&i,i=NH(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=NH(a=e.g=n[o],r,!1,e)&&i}function NH(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,l=a.la||a.src;a.ia&&vH(t.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}IV(PH,DV),PH.prototype[lH]=!0,PH.prototype.removeEventListener=function(t,e,n,r){EH(this,t,e,n,r)},PH.prototype.N=function(){if(PH.$.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)hH(n[r]);delete e.g[t],e.h--}}this.J=null},PH.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},PH.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var LH=MV.JSON.stringify;function IH(){var t=VH;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var DH=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new jH),(t=>t.reset()));class jH{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function UH(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function FH(t){MV.setTimeout((()=>{throw t}),0)}let zH,BH=!1,VH=new class{constructor(){this.h=this.g=null}add(t,e){const n=DH.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},HH=()=>{const t=MV.Promise.resolve(void 0);zH=()=>{t.then(qH)}};var qH=()=>{for(var t;t=IH();){try{t.h.call(t.g)}catch(TD){FH(TD)}var e=DH;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}BH=!1};function WH(t,e){PH.call(this),this.h=t||1,this.g=e||MV,this.j=NV(this.qb,this),this.l=Date.now()}function GH(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function XH(t,e,n){if("function"===typeof t)n&&(t=NV(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=NV(t.handleEvent,t)}return 2147483647<Number(e)?-1:MV.setTimeout(t,e||0)}function KH(t){t.g=XH((()=>{t.g=null,t.i&&(t.i=!1,KH(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}IV(WH,PH),(wV=WH.prototype).ga=!1,wV.T=null,wV.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),RH(this,"tick"),this.ga&&(GH(this),this.start()))}},wV.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wV.N=function(){WH.$.N.call(this),GH(this),delete this.g};class YH extends DV{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:KH(this)}N(){super.N(),this.g&&(MV.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $H(t){DV.call(this),this.h=t,this.g={}}IV($H,DV);var QH=[];function ZH(t,e,n,r){Array.isArray(n)||(n&&(QH[0]=n.toString()),n=QH);for(var i=0;i<n.length;i++){var o=xH(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function JH(t){dH(t.g,(function(t,e){this.g.hasOwnProperty(e)&&TH(t)}),t),t.g={}}function tq(){this.g=!0}function eq(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return LH(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}$H.prototype.N=function(){$H.$.N.call(this),JH(this)},$H.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tq.prototype.Ea=function(){this.g=!1},tq.prototype.info=function(){};var nq={},rq=null;function iq(){return rq=rq||new PH}function oq(t){zV.call(this,nq.Ta,t)}function aq(t){const e=iq();RH(e,new oq(e))}function sq(t,e){zV.call(this,nq.STAT_EVENT,t),this.stat=e}function lq(t){const e=iq();RH(e,new sq(e,t))}function cq(t,e){zV.call(this,nq.Ua,t),this.size=e}function uq(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return MV.setTimeout((function(){t()}),e)}nq.Ta="serverreachability",IV(oq,zV),nq.STAT_EVENT="statevent",IV(sq,zV),nq.Ua="timingevent",IV(cq,zV);var hq={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},dq={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function fq(){}function pq(t){return t.h||(t.h=t.i())}function mq(){}fq.prototype.h=null;var gq,vq={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function yq(){zV.call(this,"d")}function bq(){zV.call(this,"c")}function _q(){}function xq(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new $H(this),this.P=Sq,t=QV?125:void 0,this.V=new WH(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new wq}function wq(){this.i=null,this.g="",this.h=!1}IV(yq,zV),IV(bq,zV),IV(_q,fq),_q.prototype.g=function(){return new XMLHttpRequest},_q.prototype.i=function(){return{}},gq=new _q;var Sq=45e3,Eq={},Tq={};function Mq(t,e,n){t.L=1,t.v=Wq(zq(e)),t.s=n,t.S=!0,Aq(t,null)}function Aq(t,e){t.G=Date.now(),Pq(t),t.A=zq(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),iW(n.i,"t",r),t.C=0,n=t.l.J,t.h=new wq,t.g=iG(t.l,n?e:null,!t.s),0<t.O&&(t.M=new YH(NV(t.Pa,t,t.g),t.O)),ZH(t.U,t.g,"readystatechange",t.nb),e=t.I?fH(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),aq(),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.W,t.s)}function Cq(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.l.Ha)}function kq(t,e,n){let r,i=!0;for(;!t.J&&t.C<n.length;){if(r=Oq(t,n),r==Tq){4==e&&(t.o=4,lq(14),i=!1),eq(t.j,t.m,null,"[Incomplete Response]");break}if(r==Eq){t.o=4,lq(15),eq(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}eq(t.j,t.m,r,null),Dq(t,r)}Cq(t)&&r!=Tq&&r!=Eq&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,lq(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),$W(e),e.M=!0,lq(11))):(eq(t.j,t.m,n,"[Invalid Chunked Response]"),Iq(t),Lq(t))}function Oq(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Tq:(n=Number(e.substring(n,r)),isNaN(n)?Eq:(r+=1)+n>e.length?Tq:(e=e.slice(r,r+n),t.C=r+n,e))}function Pq(t){t.Y=Date.now()+t.P,Rq(t,t.P)}function Rq(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=uq(NV(t.lb,t),e)}function Nq(t){t.B&&(MV.clearTimeout(t.B),t.B=null)}function Lq(t){0==t.l.H||t.J||JW(t.l,t)}function Iq(t){Nq(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,GH(t.V),JH(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Dq(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||hW(n.i,t)))if(!t.K&&hW(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch(MD){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break t;ZW(n),VW(n)}YW(n),lq(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=uq(NV(n.ib,n),6e3));if(1>=uW(n.i)&&n.oa){try{n.oa()}catch(MD){}n.oa=void 0}}else eG(n,11)}else if((t.K||n.g==t)&&ZW(n),!VV(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const e=c[3];null!=e&&(n.ra=e,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var o=r.i;o.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(dW(o,o.h),o.h=null))}if(r.F){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.Da=t,qq(r.I,r.F,t))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=t;if((r=n).wa=rG(r,r.J?r.pa:null,r.Y),a.K){fW(r.i,a);var s=a,l=r.L;l&&s.setTimeout(l),s.B&&(Nq(s),Pq(s)),r.g=a}else KW(r);0<n.j.length&&qW(n)}else"stop"!=c[0]&&"close"!=c[0]||eG(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?eG(n,7):BW(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}aq()}catch(MD){}}function jq(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(AV(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(AV(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(AV(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(wV=xq.prototype).setTimeout=function(t){this.P=t},wV.nb=function(t){t=t.target;const e=this.M;e&&3==IW(t)?e.l():this.Pa(t)},wV.Pa=function(t){try{if(t==this.g)t:{const u=IW(this.g);var e=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||QV||this.g&&(this.h.h||this.g.ja()||DW(this.g)))){this.J||4!=u||7==e||aq(),Nq(this);var n=this.g.da();this.ca=n;e:if(Cq(this)){var r=DW(this.g);t="";var i=r.length,o=4==IW(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Iq(this),Lq(this);var a="";break e}this.h.i=new MV.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!VV(s)){var c=s;break e}}c=null}if(!(n=c)){this.i=!1,this.o=3,lq(12),Iq(this),Lq(this);break t}eq(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dq(this,n)}this.S?(kq(this,u,a),QV&&this.i&&3==u&&(ZH(this.U,this.V,"tick",this.mb),this.V.start())):(eq(this.j,this.m,a,null),Dq(this,a)),4==u&&Iq(this),this.i&&!this.J&&(4==u?JW(this.l,this):(this.i=!1,Pq(this)))}else(function(t){const e={};t=(t.g&&2<=IW(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(VV(t[r]))continue;var n=UH(t[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,lq(12)):(this.o=0,lq(13)),Iq(this),Lq(this)}}}catch(u){}},wV.mb=function(){if(this.g){var t=IW(this.g),e=this.g.ja();this.C<e.length&&(Nq(this),kq(this,t,e),this.i&&4!=t&&Pq(this))}},wV.cancel=function(){this.J=!0,Iq(this)},wV.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.L&&(aq(),lq(17)),Iq(this),this.o=2,Lq(this)):Rq(this,this.Y-t)};var Uq=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fq(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Fq){this.h=t.h,Bq(this,t.j),this.s=t.s,this.g=t.g,Vq(this,t.m),this.l=t.l;var e=t.i,n=new tW;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Hq(this,n),this.o=t.o}else t&&(e=String(t).match(Uq))?(this.h=!1,Bq(this,e[1]||"",!0),this.s=Gq(e[2]||""),this.g=Gq(e[3]||"",!0),Vq(this,e[4]),this.l=Gq(e[5]||"",!0),Hq(this,e[6]||"",!0),this.o=Gq(e[7]||"")):(this.h=!1,this.i=new tW(null,this.h))}function zq(t){return new Fq(t)}function Bq(t,e,n){t.j=n?Gq(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Vq(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Hq(t,e,n){e instanceof tW?(t.i=e,function(t,e){e&&!t.j&&(eW(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(nW(this,e),iW(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=Xq(e,Zq)),t.i=new tW(e,t.h))}function qq(t,e,n){t.i.set(e,n)}function Wq(t){return qq(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Gq(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xq(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Kq),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Kq(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Fq.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Xq(e,Yq,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Xq(e,Yq,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Xq(n,"/"==n.charAt(0)?Qq:$q,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Xq(n,Jq)),t.join("")};var Yq=/[#\/\?@]/g,$q=/[#\?:]/g,Qq=/[#\?]/g,Zq=/[#\?@]/g,Jq=/#/g;function tW(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function eW(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function nW(t,e){eW(t),e=oW(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function rW(t,e){return eW(t),e=oW(t,e),t.g.has(e)}function iW(t,e,n){nW(t,e),0<n.length&&(t.i=null,t.g.set(oW(t,e),UV(n)),t.h+=n.length)}function oW(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(wV=tW.prototype).add=function(t,e){eW(this),this.i=null,t=oW(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},wV.forEach=function(t,e){eW(this),this.g.forEach((function(n,r){n.forEach((function(n){t.call(e,n,r,this)}),this)}),this)},wV.ta=function(){eW(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let t=0;t<i.length;t++)n.push(e[r])}return n},wV.Z=function(t){eW(this);let e=[];if("string"===typeof t)rW(this,t)&&(e=e.concat(this.g.get(oW(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},wV.set=function(t,e){return eW(this),this.i=null,rW(this,t=oW(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},wV.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},wV.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};var aW=class{constructor(t,e){this.g=t,this.map=e}};function sW(t){this.l=t||lW,MV.PerformanceNavigationTiming?t=0<(t=MV.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(MV.g&&MV.g.Ka&&MV.g.Ka()&&MV.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lW=10;function cW(t){return!!t.h||!!t.g&&t.g.size>=t.j}function uW(t){return t.h?1:t.g?t.g.size:0}function hW(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function dW(t,e){t.g?t.g.add(e):t.h=e}function fW(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function pW(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return UV(t.i)}sW.prototype.cancel=function(){if(this.i=pW(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var mW=class{stringify(t){return MV.JSON.stringify(t,void 0)}parse(t){return MV.JSON.parse(t,void 0)}};function gW(){this.g=new mW}function vW(t,e,n){const r=n||"";try{jq(t,(function(t,n){let i=t;CV(t)&&(i=LH(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yW(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function bW(t){this.l=t.ec||null,this.j=t.ob||!1}function _W(t,e){PH.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=xW,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}IV(bW,fq),bW.prototype.g=function(){return new _W(this.l,this.j)},bW.prototype.i=function(t){return function(){return t}}({}),IV(_W,PH);var xW=0;function wW(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function SW(t){t.readyState=4,t.l=null,t.j=null,t.A=null,EW(t)}function EW(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(wV=_W.prototype).open=function(t,e){if(this.readyState!=xW)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,EW(this)},wV.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||MV).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},wV.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,SW(this)),this.readyState=xW},wV.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,EW(this)),this.g&&(this.readyState=3,EW(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof MV.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wW(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},wV.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?SW(this):EW(this),3==this.readyState&&wW(this)}},wV.Za=function(t){this.g&&(this.response=this.responseText=t,SW(this))},wV.Ya=function(t){this.g&&(this.response=t,SW(this))},wV.ka=function(){this.g&&SW(this)},wV.setRequestHeader=function(t,e){this.v.append(t,e)},wV.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},wV.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(_W.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var TW=MV.JSON.parse;function MW(t){PH.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=AW,this.L=this.M=!1}IV(MW,PH);var AW="",CW=/^https?$/i,kW=["POST","PUT"];function OW(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,PW(t),NW(t)}function PW(t){t.F||(t.F=!0,RH(t,"complete"),RH(t,"error"))}function RW(t){if(t.h&&"undefined"!=typeof TV&&(!t.C[1]||4!=IW(t)||2!=t.da()))if(t.v&&4==IW(t))XH(t.La,0,t);else if(RH(t,"readystatechange"),4==IW(t)){t.h=!1;try{const s=t.da();t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(Uq)[1]||null;!i&&MV.self&&MV.self.location&&(i=MV.self.location.protocol.slice(0,-1)),r=!CW.test(i?i.toLowerCase():"")}n=r}if(n)RH(t,"complete"),RH(t,"success");else{t.m=6;try{var o=2<IW(t)?t.g.statusText:""}catch(a){o=""}t.j=o+" ["+t.da()+"]",PW(t)}}finally{NW(t)}}}function NW(t,e){if(t.g){LW(t);const r=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||RH(t,"ready");try{r.onreadystatechange=i}catch(n){}}}function LW(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(MV.clearTimeout(t.A),t.A=null)}function IW(t){return t.g?t.g.readyState:0}function DW(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case AW:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(HG){return null}}function jW(t){let e="";return dH(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function UW(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=jW(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):qq(t,e,n))}function FW(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function zW(t){this.Ga=0,this.j=[],this.l=new tq,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=FW("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=FW("baseRetryDelayMs",5e3,t),this.hb=FW("retryDelaySeedMs",1e4,t),this.eb=FW("forwardChannelMaxRetries",2,t),this.xa=FW("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new sW(t&&t.concurrentRequestLimit),this.Ja=new gW,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function BW(t){if(HW(t),3==t.H){var e=t.W++,n=zq(t.I);if(qq(n,"SID",t.K),qq(n,"RID",e),qq(n,"TYPE","terminate"),GW(t,n),(e=new xq(t,t.l,e)).L=2,e.v=Wq(zq(n)),n=!1,MV.navigator&&MV.navigator.sendBeacon)try{n=MV.navigator.sendBeacon(e.v.toString(),"")}catch(r){}!n&&MV.Image&&((new Image).src=e.v,n=!0),n||(e.g=iG(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Pq(e)}nG(t)}function VW(t){t.g&&($W(t),t.g.cancel(),t.g=null)}function HW(t){VW(t),t.u&&(MV.clearTimeout(t.u),t.u=null),ZW(t),t.i.cancel(),t.m&&("number"===typeof t.m&&MV.clearTimeout(t.m),t.m=null)}function qW(t){if(!cW(t.i)&&!t.m){t.m=!0;var e=t.Na;zH||HH(),BH||(zH(),BH=!0),VH.add(e,t),t.C=0}}function WW(t,e){var n;n=e?e.m:t.W++;const r=zq(t.I);qq(r,"SID",t.K),qq(r,"RID",n),qq(r,"AID",t.V),GW(t,r),t.o&&t.s&&UW(r,t.o,t.s),n=new xq(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=XW(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),dW(t.i,n),Mq(n,r,e)}function GW(t,e){t.na&&dH(t.na,(function(t,n){qq(e,n,t)})),t.h&&jq({},(function(t,n){qq(e,n,t)}))}function XW(t,e,n){n=Math.min(t.j.length,n);var r=t.h?NV(t.h.Va,t.h,t):null;t:{var i=t.j;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=e,0>n)e=Math.max(0,i[s].g-100),a=!1;else try{vW(l,t,"req"+n+"_")}catch(o){r&&r(l)}}if(a){r=t.join("&");break t}}}return t=t.j.splice(0,n),e.F=t,r}function KW(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;zH||HH(),BH||(zH(),BH=!0),VH.add(e,t),t.A=0}}function YW(t){return!(t.g||t.u||3<=t.A)&&(t.ba++,t.u=uq(NV(t.Ma,t),tG(t,t.A)),t.A++,!0)}function $W(t){null!=t.B&&(MV.clearTimeout(t.B),t.B=null)}function QW(t){t.g=new xq(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=zq(t.wa);qq(e,"RID","rpc"),qq(e,"SID",t.K),qq(e,"AID",t.V),qq(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qq(e,"TO",t.qa),qq(e,"TYPE","xmlhttp"),GW(t,e),t.o&&t.s&&UW(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Wq(zq(e)),n.s=null,n.S=!0,Aq(n,t)}function ZW(t){null!=t.v&&(MV.clearTimeout(t.v),t.v=null)}function JW(t,e){var n=null;if(t.g==e){ZW(t),$W(t),t.g=null;var r=2}else{if(!hW(t.i,e))return;n=e.F,fW(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;RH(r=iq(),new cq(r,n)),qW(t)}else KW(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function(t,e){return!(uW(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.j=e.F.concat(t.j),!0):!(1==t.H||2==t.H||t.C>=(t.cb?0:t.eb))&&(t.m=uq(NV(t.Na,t,e),tG(t,t.C)),t.C++,!0))}(t,e)||2==r&&YW(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:eG(t,5);break;case 4:eG(t,10);break;case 3:eG(t,6);break;default:eG(t,2)}}function tG(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function eG(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=NV(t.pb,t);n||(n=new Fq("//www.google.com/images/cleardot.gif"),MV.location&&"http"==MV.location.protocol||Bq(n,"https"),Wq(n)),function(t,e){const n=new tq;if(MV.Image){const r=new Image;r.onload=LV(yW,n,r,"TestLoadImage: loaded",!0,e),r.onerror=LV(yW,n,r,"TestLoadImage: error",!1,e),r.onabort=LV(yW,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=LV(yW,n,r,"TestLoadImage: timeout",!1,e),MV.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else lq(2);t.H=0,t.h&&t.h.za(e),nG(t),HW(t)}function nG(t){if(t.H=0,t.ma=[],t.h){const e=pW(t.i);0==e.length&&0==t.j.length||(FV(t.ma,e),FV(t.ma,t.j),t.i.i.length=0,UV(t.j),t.j.length=0),t.h.ya()}}function rG(t,e,n){var r=n instanceof Fq?zq(n):new Fq(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Vq(r,r.m);else{var i=MV.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Fq(null);r&&Bq(o,r),e&&(o.g=e),i&&Vq(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&qq(r,n,e),qq(r,"VER",t.ra),GW(t,r),r}function iG(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ha&&!t.va?new MW(new bW({ob:!0})):new MW(t.va)).Oa(t.J),e}function oG(){}function aG(){if(YV&&!(10<=Number(oH)))throw Error("Environmental error: no available transport.")}function sG(t,e){PH.call(this),this.g=new zW(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!VV(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!VV(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new uG(this)}function lG(t){yq.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function cG(){bq.call(this),this.status=1}function uG(t){this.g=t}function hG(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function dG(t,e,n){n||(n=0);var r=Array(16);if("string"===typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],a=e+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(a<<7&4294967295|a>>>25))+((a=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(e=n+((a=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function fG(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(wV=MW.prototype).Oa=function(t){this.M=t},wV.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():gq.g(),this.C=this.u?pq(this.u):pq(gq),this.g.onreadystatechange=NV(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void OW(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),i=MV.FormData&&t instanceof MV.FormData,!(0<=jV(kW,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{LW(this),0<this.B&&((this.L=function(t){return YV&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=NV(this.ua,this)):this.A=XH(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){OW(this,o)}},wV.ua=function(){"undefined"!=typeof TV&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,RH(this,"timeout"),this.abort(8))},wV.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,RH(this,"complete"),RH(this,"abort"),NW(this))},wV.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),NW(this,!0)),MW.$.N.call(this)},wV.La=function(){this.s||(this.G||this.v||this.l?RW(this):this.kb())},wV.kb=function(){RW(this)},wV.isActive=function(){return!!this.g},wV.da=function(){try{return 2<IW(this)?this.g.status:-1}catch(ED){return-1}},wV.ja=function(){try{return this.g?this.g.responseText:""}catch(ED){return""}},wV.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),TW(e)}},wV.Ia=function(){return this.m},wV.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(wV=zW.prototype).ra=8,wV.H=1,wV.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new xq(this,this.l,t);let o=this.s;if(this.U&&(o?(o=fH(o),mH(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)t:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.j.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=XW(this,i,e),qq(n=zq(this.I),"RID",t),qq(n,"CVER",22),this.F&&qq(n,"X-HTTP-Session-Id",this.F),GW(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(jW(o)))+"&"+e:this.o&&UW(n,this.o,o)),dW(this.i,i),this.bb&&qq(n,"TYPE","init"),this.P?(qq(n,"$req",e),qq(n,"SID","null"),i.aa=!0,Mq(i,n,null)):Mq(i,n,e),this.H=2}}else 3==this.H&&(t?WW(this,t):0==this.j.length||cW(this.i)||WW(this))},wV.Ma=function(){if(this.u=null,QW(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=uq(NV(this.jb,this),t)}},wV.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,lq(10),VW(this),QW(this))},wV.ib=function(){null!=this.v&&(this.v=null,VW(this),YW(this),lq(19))},wV.pb=function(t){t?(this.l.info("Successfully pinged google.com"),lq(2)):(this.l.info("Failed to ping google.com"),lq(1))},wV.isActive=function(){return!!this.h&&this.h.isActive(this)},(wV=oG.prototype).Ba=function(){},wV.Aa=function(){},wV.za=function(){},wV.ya=function(){},wV.isActive=function(){return!0},wV.Va=function(){},aG.prototype.g=function(t,e){return new sG(t,e)},IV(sG,PH),sG.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;lq(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=rG(t,null,t.Y),qW(t)},sG.prototype.close=function(){BW(this.g)},sG.prototype.u=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=LH(t),t=n);e.j.push(new aW(e.fb++,t)),3==e.H&&qW(e)},sG.prototype.N=function(){this.g.h=null,delete this.j,BW(this.g),delete this.g,sG.$.N.call(this)},IV(lG,yq),IV(cG,bq),IV(uG,oG),uG.prototype.Ba=function(){RH(this.g,"a")},uG.prototype.Aa=function(t){RH(this.g,new lG(t))},uG.prototype.za=function(t){RH(this.g,new cG)},uG.prototype.ya=function(){RH(this.g,"b")},IV(hG,(function(){this.blockSize=-1})),hG.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},hG.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)dG(this,t,o),o+=this.blockSize;if("string"===typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){dG(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){dG(this,r),i=0;break}}this.h=i,this.i+=e},hG.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var pG={};function mG(t){return-128<=t&&128>t?function(t,e){var n=pG;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(t){return new fG([0|t],0>t?-1:0)})):new fG([0|t],0>t?-1:0)}function gG(t){if(isNaN(t)||!isFinite(t))return yG;if(0>t)return SG(gG(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=vG;return new fG(e,0)}var vG=4294967296,yG=mG(0),bG=mG(1),_G=mG(16777216);function xG(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function wG(t){return-1==t.h}function SG(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new fG(n,~t.h).add(bG)}function EG(t,e){return t.add(SG(e))}function TG(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function MG(t,e){this.g=t,this.h=e}function AG(t,e){if(xG(e))throw Error("division by zero");if(xG(t))return new MG(yG,yG);if(wG(t))return e=AG(SG(t),e),new MG(SG(e.g),SG(e.h));if(wG(e))return e=AG(t,SG(e)),new MG(SG(e.g),e.h);if(30<t.g.length){if(wG(t)||wG(e))throw Error("slowDivide_ only works with positive integers.");for(var n=bG,r=e;0>=r.X(t);)n=CG(n),r=CG(r);var i=kG(n,1),o=kG(r,1);for(r=kG(r,2),n=kG(n,2);!xG(r);){var a=o.add(r);0>=a.X(t)&&(i=i.add(n),o=a),r=kG(r,1),n=kG(n,1)}return e=EG(t,i.R(e)),new MG(i,e)}for(i=yG;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=gG(n)).R(e);wG(a)||0<a.X(t);)a=(o=gG(n-=r)).R(e);xG(o)&&(o=bG),i=i.add(o),t=EG(t,a)}return new MG(i,t)}function CG(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new fG(n,t.h)}function kG(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new fG(i,t.h)}(wV=fG.prototype).ea=function(){if(wG(this))return-SG(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:vG+r)*e,e*=vG}return t},wV.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(xG(this))return"0";if(wG(this))return"-"+SG(this).toString(t);for(var e=gG(Math.pow(t,6)),n=this,r="";;){var i=AG(n,e).g,o=((0<(n=EG(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(xG(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},wV.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},wV.X=function(t){return wG(t=EG(this,t))?-1:xG(t)?0:1},wV.abs=function(){return wG(this)?SG(this):this},wV.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),a=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new fG(n,-2147483648&n[n.length-1]?-1:0)},wV.R=function(t){if(xG(this)||xG(t))return yG;if(wG(this))return wG(t)?SG(this).R(SG(t)):SG(SG(this).R(t));if(wG(t))return SG(this.R(SG(t)));if(0>this.X(_G)&&0>t.X(_G))return gG(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,a=65535&this.D(r),s=t.D(i)>>>16,l=65535&t.D(i);n[2*r+2*i]+=a*l,TG(n,2*r+2*i),n[2*r+2*i+1]+=o*l,TG(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,TG(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,TG(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new fG(n,0)},wV.gb=function(t){return AG(this,t).h},wV.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new fG(n,this.h&t.h)},wV.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new fG(n,this.h|t.h)},wV.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new fG(n,this.h^t.h)},aG.prototype.createWebChannel=aG.prototype.g,sG.prototype.send=sG.prototype.u,sG.prototype.open=sG.prototype.m,sG.prototype.close=sG.prototype.close,hq.NO_ERROR=0,hq.TIMEOUT=8,hq.HTTP_ERROR=6,dq.COMPLETE="complete",mq.EventType=vq,vq.OPEN="a",vq.CLOSE="b",vq.ERROR="c",vq.MESSAGE="d",PH.prototype.listen=PH.prototype.O,MW.prototype.listenOnce=MW.prototype.P,MW.prototype.getLastError=MW.prototype.Sa,MW.prototype.getLastErrorCode=MW.prototype.Ia,MW.prototype.getStatus=MW.prototype.da,MW.prototype.getResponseJson=MW.prototype.Wa,MW.prototype.getResponseText=MW.prototype.ja,MW.prototype.send=MW.prototype.ha,MW.prototype.setWithCredentials=MW.prototype.Oa,hG.prototype.digest=hG.prototype.l,hG.prototype.reset=hG.prototype.reset,hG.prototype.update=hG.prototype.j,fG.prototype.add=fG.prototype.add,fG.prototype.multiply=fG.prototype.R,fG.prototype.modulo=fG.prototype.gb,fG.prototype.compare=fG.prototype.X,fG.prototype.toNumber=fG.prototype.ea,fG.prototype.toString=fG.prototype.toString,fG.prototype.getBits=fG.prototype.D,fG.fromNumber=gG,fG.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return SG(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=gG(Math.pow(n,8)),i=yG,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),s=parseInt(e.substring(o,o+a),n);8>a?(a=gG(Math.pow(n,a)),i=i.R(a).add(gG(s))):i=(i=i.R(r)).add(gG(s))}return i};var OG=EV.createWebChannelTransport=function(){return new aG},PG=EV.getStatEventTarget=function(){return iq()},RG=EV.ErrorCode=hq,NG=EV.EventType=dq,LG=EV.Event=nq,IG=EV.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},DG=EV.FetchXmlHttpFactory=bW,jG=EV.WebChannel=mq,UG=EV.XhrIo=MW,FG=EV.Md5=hG,zG=EV.Integer=fG;const BG="@firebase/firestore";class VG{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}VG.UNAUTHENTICATED=new VG(null),VG.GOOGLE_CREDENTIALS=new VG("google-credentials-uid"),VG.FIRST_PARTY=new VG("first-party-uid"),VG.MOCK_USER=new VG("mock-user");let HG="10.5.2";const qG=new OB("@firebase/firestore");function WG(){return qG.logLevel}function GG(t){if(qG.logLevel<=TB.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map(YG);qG.debug("Firestore (".concat(HG,"): ").concat(t),...i)}}function XG(t){if(qG.logLevel<=TB.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map(YG);qG.error("Firestore (".concat(HG,"): ").concat(t),...i)}}function KG(t){if(qG.logLevel<=TB.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map(YG);qG.warn("Firestore (".concat(HG,"): ").concat(t),...i)}}function YG(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(Se){return t}}function $G(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const e="FIRESTORE (".concat(HG,") INTERNAL ASSERTION FAILED: ")+t;throw XG(e),new Error(e)}function QG(t,e){t||$G()}function ZG(t,e){return t}const JG={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tX extends pB{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class eX{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class nX{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))}}class rX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(VG.UNAUTHENTICATED)))}shutdown(){}}class iX{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class oX{constructor(t){this.t=t,this.currentUser=VG.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new eX;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new eX,t.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},a=t=>{GG("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((t=>a(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?a(t):(GG("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new eX)}}),0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(GG("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(QG("string"==typeof e.accessToken),new nX(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return QG(null===t||"string"==typeof t),new VG(t)}}class aX{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=VG.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sX{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new aX(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(VG.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lX{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cX{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const n=t=>{null!=t.error&&GG("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message));const n=t.token!==this.R;return this.R=t.token,GG("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const r=t=>{GG("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.A.onInit((t=>r(t))),setTimeout((()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?r(t):GG("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(QG("string"==typeof t.token),this.R=t.token,new lX(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function uX(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class hX{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=uX(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%62))}return n}}function dX(t,e){return t<e?-1:t>e?1:0}function fX(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}class pX{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new tX(JG.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new tX(JG.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new tX(JG.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new tX(JG.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return pX.fromMillis(Date.now())}static fromDate(t){return pX.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new pX(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?dX(this.nanoseconds,t.nanoseconds):dX(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mX{constructor(t){this.timestamp=t}static fromTimestamp(t){return new mX(t)}static min(){return new mX(new pX(0,0))}static max(){return new mX(new pX(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gX{constructor(t,e,n){void 0===e?e=0:e>t.length&&$G(),void 0===n?n=t.length-e:n>t.length-e&&$G(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===gX.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof gX?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class vX extends gX{construct(t,e,n){return new vX(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const t=[];for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new tX(JG.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));t.push(...i.split("/").filter((t=>t.length>0)))}return new vX(t)}static emptyPath(){return new vX([])}}const yX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bX extends gX{construct(t,e,n){return new bX(t,e,n)}static isValidIdentifier(t){return yX.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bX.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bX(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new tX(JG.INVALID_ARGUMENT,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(n),n=""};let o=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new tX(JG.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new tX(JG.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(o=!o,r++):"."!==e||o?(n+=e,r++):(i(),r++)}if(i(),o)throw new tX(JG.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new bX(e)}static emptyPath(){return new bX([])}}class _X{constructor(t){this.path=t}static fromPath(t){return new _X(vX.fromString(t))}static fromName(t){return new _X(vX.fromString(t).popFirst(5))}static empty(){return new _X(vX.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===vX.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return vX.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _X(new vX(t.slice()))}}class xX{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}}xX.UNKNOWN_ID=-1;function wX(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=mX.fromTimestamp(1e9===r?new pX(n+1,0):new pX(n,r));return new EX(i,_X.empty(),e)}function SX(t){return new EX(t.readTime,t.key,-1)}class EX{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new EX(mX.min(),_X.empty(),-1)}static max(){return new EX(mX.max(),_X.empty(),-1)}}function TX(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=_X.comparator(t.documentKey,e.documentKey),0!==n?n:dX(t.largestBatchId,e.largestBatchId))}const MX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function CX(t){if(t.code!==JG.FAILED_PRECONDITION||t.message!==MX)throw t;GG("LocalStore","Unexpectedly lost primary lease")}class kX{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&$G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new kX(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof kX?e:kX.resolve(e)}catch(t){return kX.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):kX.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):kX.reject(e)}static resolve(t){return new kX(((e,n)=>{e(t)}))}static reject(t){return new kX(((e,n)=>{n(t)}))}static waitFor(t){return new kX(((e,n)=>{let r=0,i=0,o=!1;t.forEach((t=>{++r,t.next((()=>{++i,o&&i===r&&e()}),(t=>n(t)))})),o=!0,i===r&&e()}))}static or(t){let e=kX.resolve(!1);for(const n of t)e=e.next((t=>t?kX.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}static mapArray(t,e){return new kX(((n,r)=>{const i=t.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;e(t[l]).next((t=>{o[l]=t,++a,a===i&&n(o)}),(t=>r(t)))}}))}static doWhile(t,e){return new kX(((n,r)=>{const i=()=>{!0===t()?e().next((()=>{i()}),r):n()};i()}))}}function OX(t){return"IndexedDbTransactionError"===t.name}class PX{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.se(t),this.oe=t=>e.writeSequenceNumber(t))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}function RX(t){return null==t}function NX(t){return 0===t&&1/t==-1/0}PX._e=-1;const LX=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],IX=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DX=IX;function jX(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function UX(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FX(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class zX{constructor(t,e){this.comparator=t,this.root=e||VX.EMPTY}insert(t,e){return new zX(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,VX.BLACK,null,null))}remove(t){return new zX(this.comparator,this.root.remove(t,this.comparator).copy(null,null,VX.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push("".concat(e,":").concat(n)),!1))),"{".concat(t.join(", "),"}")}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new BX(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new BX(this.root,t,this.comparator,!1)}getReverseIterator(){return new BX(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new BX(this.root,t,this.comparator,!0)}}class BX{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class VX{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:VX.RED,this.left=null!=r?r:VX.EMPTY,this.right=null!=i?i:VX.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new VX(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return VX.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return VX.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,VX.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,VX.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $G();if(this.right.isRed())throw $G();const t=this.left.check();if(t!==this.right.check())throw $G();return t+(this.isRed()?0:1)}}VX.EMPTY=null,VX.RED=!0,VX.BLACK=!1,VX.EMPTY=new class{constructor(){this.size=0}get key(){throw $G()}get value(){throw $G()}get color(){throw $G()}get left(){throw $G()}get right(){throw $G()}copy(t,e,n,r,i){return this}insert(t,e,n){return new VX(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class HX{constructor(t){this.comparator=t,this.data=new zX(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new qX(this.data.getIterator())}getIteratorFrom(t){return new qX(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof HX))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new HX(this.comparator);return e.data=t,e}}class qX{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class WX{constructor(t){this.fields=t,t.sort(bX.comparator)}static empty(){return new WX([])}unionWith(t){let e=new HX(bX.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new WX(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return fX(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class GX extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class XX{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new GX("Invalid base64 string: "+t):t}}(t);return new XX(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new XX(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return dX(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}XX.EMPTY_BYTE_STRING=new XX("");const KX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function YX(t){if(QG(!!t),"string"==typeof t){let e=0;const n=KX.exec(t);if(QG(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$X(t.seconds),nanos:$X(t.nanos)}}function $X(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function QX(t){return"string"==typeof t?XX.fromBase64String(t):XX.fromUint8Array(t)}function ZX(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function JX(t){const e=t.mapValue.fields.__previous_value__;return ZX(e)?JX(e):e}function tK(t){const e=YX(t.mapValue.fields.__local_write_time__.timestampValue);return new pX(e.seconds,e.nanos)}class eK{constructor(t,e,n,r,i,o,a,s,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class nK{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new nK("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof nK&&t.projectId===this.projectId&&t.database===this.database}}const rK={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function iK(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ZX(t)?4:vK(t)?9007199254740991:10:$G()}function oK(t,e){if(t===e)return!0;const n=iK(t);if(n!==iK(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tK(t).isEqual(tK(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=YX(t.timestampValue),r=YX(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return QX(t.bytesValue).isEqual(QX(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return $X(t.geoPointValue.latitude)===$X(e.geoPointValue.latitude)&&$X(t.geoPointValue.longitude)===$X(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return $X(t.integerValue)===$X(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=$X(t.doubleValue),r=$X(e.doubleValue);return n===r?NX(n)===NX(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return fX(t.arrayValue.values||[],e.arrayValue.values||[],oK);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(jX(n)!==jX(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!oK(n[i],r[i])))return!1;return!0}(t,e);default:return $G()}}function aK(t,e){return void 0!==(t.values||[]).find((t=>oK(t,e)))}function sK(t,e){if(t===e)return 0;const n=iK(t),r=iK(e);if(n!==r)return dX(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dX(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=$X(t.integerValue||t.doubleValue),r=$X(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return lK(t.timestampValue,e.timestampValue);case 4:return lK(tK(t),tK(e));case 5:return dX(t.stringValue,e.stringValue);case 6:return function(t,e){const n=QX(t),r=QX(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=dX(n[i],r[i]);if(0!==t)return t}return dX(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=dX($X(t.latitude),$X(e.latitude));return 0!==n?n:dX($X(t.longitude),$X(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=sK(n[i],r[i]);if(t)return t}return dX(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===rK.mapValue&&e===rK.mapValue)return 0;if(t===rK.mapValue)return 1;if(e===rK.mapValue)return-1;const n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const t=dX(r[a],o[a]);if(0!==t)return t;const e=sK(n[r[a]],i[o[a]]);if(0!==e)return e}return dX(r.length,o.length)}(t.mapValue,e.mapValue);default:throw $G()}}function lK(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return dX(t,e);const n=YX(t),r=YX(e),i=dX(n.seconds,r.seconds);return 0!==i?i:dX(n.nanos,r.nanos)}function cK(t){return uK(t)}function uK(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=YX(t);return"time(".concat(e.seconds,",").concat(e.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return QX(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return _X.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return"geo(".concat(t.latitude,",").concat(t.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=uK(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+="".concat(i,":").concat(uK(t.fields[i]));return n+"}"}(t.mapValue):$G()}function hK(t){return!!t&&"integerValue"in t}function dK(t){return!!t&&"arrayValue"in t}function fK(t){return!!t&&"nullValue"in t}function pK(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mK(t){return!!t&&"mapValue"in t}function gK(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return UX(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=gK(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gK(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vK(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class yK{constructor(t){this.value=t}static empty(){return new yK({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!mK(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=gK(e)}setAll(t){let e=bX.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=gK(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());mK(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return oK(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];mK(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){UX(e,((e,n)=>t[e]=n));for(const r of n)delete t[r]}clone(){return new yK(gK(this.value))}}class bK{constructor(t,e,n,r,i,o,a){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(t){return new bK(t,0,mX.min(),mX.min(),mX.min(),yK.empty(),0)}static newFoundDocument(t,e,n,r){return new bK(t,1,e,mX.min(),n,r,0)}static newNoDocument(t,e){return new bK(t,2,e,mX.min(),mX.min(),yK.empty(),0)}static newUnknownDocument(t,e){return new bK(t,3,e,mX.min(),mX.min(),yK.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(mX.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yK.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yK.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mX.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof bK&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new bK(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class _K{constructor(t,e){this.position=t,this.inclusive=e}}function xK(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(r=o.field.isKeyField()?_X.comparator(_X.fromName(a.referenceValue),n.key):sK(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function wK(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!oK(t.position[n],e.position[n]))return!1;return!0}class SK{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=t,this.dir=e}}function EK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class TK{}class MK extends TK{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new LK(t,e,n):"array-contains"===e?new UK(t,n):"in"===e?new FK(t,n):"not-in"===e?new zK(t,n):"array-contains-any"===e?new BK(t,n):new MK(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new IK(t,n):new DK(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(sK(e,this.value)):null!==e&&iK(this.value)===iK(e)&&this.matchesComparison(sK(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return $G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class AK extends TK{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new AK(t,e)}matches(t){return CK(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function CK(t){return"and"===t.op}function kK(t){return OK(t)&&CK(t)}function OK(t){for(const e of t.filters)if(e instanceof AK)return!1;return!0}function PK(t){if(t instanceof MK)return t.field.canonicalString()+t.op.toString()+cK(t.value);if(kK(t))return t.filters.map((t=>PK(t))).join(",");{const e=t.filters.map((t=>PK(t))).join(",");return"".concat(t.op,"(").concat(e,")")}}function RK(t,e){return t instanceof MK?function(t,e){return e instanceof MK&&t.op===e.op&&t.field.isEqual(e.field)&&oK(t.value,e.value)}(t,e):t instanceof AK?function(t,e){return e instanceof AK&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,r)=>t&&RK(n,e.filters[r])),!0)}(t,e):void $G()}function NK(t){return t instanceof MK?function(t){return"".concat(t.field.canonicalString()," ").concat(t.op," ").concat(cK(t.value))}(t):t instanceof AK?function(t){return t.op.toString()+" {"+t.getFilters().map(NK).join(" ,")+"}"}(t):"Filter"}class LK extends MK{constructor(t,e,n){super(t,e,n),this.key=_X.fromName(n.referenceValue)}matches(t){const e=_X.comparator(t.key,this.key);return this.matchesComparison(e)}}class IK extends MK{constructor(t,e){super(t,"in",e),this.keys=jK("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class DK extends MK{constructor(t,e){super(t,"not-in",e),this.keys=jK("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function jK(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>_X.fromName(t.referenceValue)))}class UK extends MK{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return dK(e)&&aK(e.arrayValue,this.value)}}class FK extends MK{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&aK(this.value.arrayValue,e)}}class zK extends MK{constructor(t,e){super(t,"not-in",e)}matches(t){if(aK(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!aK(this.value.arrayValue,e)}}class BK extends MK{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!dK(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>aK(this.value.arrayValue,t)))}}class VK{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function HK(t){return new VK(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function qK(t){const e=ZG(t);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>PK(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),RX(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>cK(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>cK(t))).join(",")),e.ce=t}return e.ce}function WK(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RK(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wK(t.startAt,e.startAt)&&wK(t.endAt,e.endAt)}function GK(t){return _X.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class XK{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function KK(t,e,n,r,i,o,a,s){return new XK(t,e,n,r,i,o,a,s)}function YK(t){return new XK(t)}function $K(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function QK(t){return null!==t.collectionGroup}function ZK(t){const e=ZG(t);if(null===e.le){e.le=[];const t=new Set;for(const i of e.explicitOrderBy)e.le.push(i),t.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",r=function(t){let e=new HX(bX.comparator);return t.filters.forEach((t=>{t.getFlattenedFilters().forEach((t=>{t.isInequality()&&(e=e.add(t.field))}))})),e}(e);r.forEach((r=>{t.has(r.canonicalString())||r.isKeyField()||e.le.push(new SK(r,n))})),t.has(bX.keyField().canonicalString())||e.le.push(new SK(bX.keyField(),n))}return e.le}function JK(t){const e=ZG(t);return e.he||(e.he=tY(e,ZK(t))),e.he}function tY(t,e){if("F"===t.limitType)return HK(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((t=>{const e="desc"===t.dir?"asc":"desc";return new SK(t.field,e)}));const n=t.endAt?new _K(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _K(t.startAt.position,t.startAt.inclusive):null;return HK(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eY(t,e,n){return new XK(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nY(t,e){return WK(JK(t),JK(e))&&t.limitType===e.limitType}function rY(t){return"".concat(qK(JK(t)),"|lt:").concat(t.limitType)}function iY(t){return"Query(target=".concat(function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: [".concat(t.filters.map((t=>NK(t))).join(", "),"]")),RX(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: [".concat(t.orderBy.map((t=>function(t){return"".concat(t.field.canonicalString()," (").concat(t.dir,")")}(t))).join(", "),"]")),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>cK(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>cK(t))).join(",")),"Target(".concat(e,")")}(JK(t)),"; limitType=").concat(t.limitType,")")}function oY(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):_X.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of ZK(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const r=xK(t,e,n);return t.inclusive?r<=0:r<0}(t.startAt,ZK(t),e))&&!(t.endAt&&!function(t,e,n){const r=xK(t,e,n);return t.inclusive?r>=0:r>0}(t.endAt,ZK(t),e))}(t,e)}function aY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sY(t){return(e,n)=>{let r=!1;for(const i of ZK(t)){const t=lY(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function lY(t,e,n){const r=t.field.isKeyField()?_X.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?sK(r,i):$G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $G()}}class cY{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){UX(this.inner,((e,n)=>{for(const[r,i]of n)t(r,i)}))}isEmpty(){return FX(this.inner)}size(){return this.innerSize}}const uY=new zX(_X.comparator);function hY(){return uY}const dY=new zX(_X.comparator);function fY(){let t=dY;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n)t=t.insert(i.key,i);return t}function pY(t){let e=dY;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function mY(){return vY()}function gY(){return vY()}function vY(){return new cY((t=>t.toString()),((t,e)=>t.isEqual(e)))}new zX(_X.comparator);const yY=new HX(_X.comparator);function bY(){let t=yY;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n)t=t.add(i);return t}const _Y=new HX(dX);function xY(){return _Y}function wY(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:NX(e)?"-0":e}}function SY(t){return{integerValue:""+t}}class EY{constructor(){this._=void 0}}function TY(t,e,n){return t instanceof CY?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&ZX(e)&&(e=JX(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof kY?OY(t,e):t instanceof PY?RY(t,e):function(t,e){const n=AY(t,e),r=LY(n)+LY(t.Ie);return hK(n)&&hK(t.Ie)?SY(r):wY(t.serializer,r)}(t,e)}function MY(t,e,n){return t instanceof kY?OY(t,e):t instanceof PY?RY(t,e):n}function AY(t,e){return t instanceof NY?function(t){return hK(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class CY extends EY{}class kY extends EY{constructor(t){super(),this.elements=t}}function OY(t,e){const n=IY(e);for(const r of t.elements)n.some((t=>oK(t,r)))||n.push(r);return{arrayValue:{values:n}}}class PY extends EY{constructor(t){super(),this.elements=t}}function RY(t,e){let n=IY(e);for(const r of t.elements)n=n.filter((t=>!oK(t,r)));return{arrayValue:{values:n}}}class NY extends EY{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function LY(t){return $X(t.integerValue||t.doubleValue)}function IY(t){return dK(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class DY{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new DY}static exists(t){return new DY(void 0,t)}static updateTime(t){return new DY(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jY(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class UY{}function FY(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new KY(t.key,DY.none()):new HY(t.key,t.data,DY.none());{const n=t.data,r=yK.empty();let i=new HX(bX.comparator);for(let t of e.fields)if(!i.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),i=i.add(t)}return new qY(t.key,r,new WX(i.toArray()),DY.none())}}function zY(t,e,n){t instanceof HY?function(t,e,n){const r=t.value.clone(),i=GY(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof qY?function(t,e,n){if(!jY(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=GY(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(WY(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function BY(t,e,n,r){return t instanceof HY?function(t,e,n,r){if(!jY(t.precondition,e))return n;const i=t.value.clone(),o=XY(t.fieldTransforms,r,e);return i.setAll(o),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,n,r):t instanceof qY?function(t,e,n,r){if(!jY(t.precondition,e))return n;const i=XY(t.fieldTransforms,r,e),o=e.data;return o.setAll(WY(t)),o.setAll(i),e.convertToFoundDocument(e.version,o).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,r):function(t,e,n){return jY(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function VY(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&fX(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof kY&&e instanceof kY||t instanceof PY&&e instanceof PY?fX(t.elements,e.elements,oK):t instanceof NY&&e instanceof NY?oK(t.Ie,e.Ie):t instanceof CY&&e instanceof CY}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class HY extends UY{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class qY extends UY{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function WY(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function GY(t,e,n){const r=new Map;QG(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,MY(a,s,n[i]))}return r}function XY(t,e,n){const r=new Map;for(const i of t){const t=i.transform,o=n.data.field(i.field);r.set(i.field,TY(t,o,e))}return r}class KY extends UY{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YY{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&zY(e,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=BY(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=BY(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=gY();return this.mutations.forEach((r=>{const i=t.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=e.has(r.key)?null:a;const s=FY(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(mX.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),bY())}isEqual(t){return this.batchId===t.batchId&&fX(this.mutations,t.mutations,((t,e)=>VY(t,e)))&&fX(this.baseMutations,t.baseMutations,((t,e)=>VY(t,e)))}}class $Y{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class QY{constructor(t,e){this.count=t,this.unchangedNames=e}}var ZY,JY;function t$(t){if(void 0===t)return XG("GRPC error has no .code"),JG.UNKNOWN;switch(t){case ZY.OK:return JG.OK;case ZY.CANCELLED:return JG.CANCELLED;case ZY.UNKNOWN:return JG.UNKNOWN;case ZY.DEADLINE_EXCEEDED:return JG.DEADLINE_EXCEEDED;case ZY.RESOURCE_EXHAUSTED:return JG.RESOURCE_EXHAUSTED;case ZY.INTERNAL:return JG.INTERNAL;case ZY.UNAVAILABLE:return JG.UNAVAILABLE;case ZY.UNAUTHENTICATED:return JG.UNAUTHENTICATED;case ZY.INVALID_ARGUMENT:return JG.INVALID_ARGUMENT;case ZY.NOT_FOUND:return JG.NOT_FOUND;case ZY.ALREADY_EXISTS:return JG.ALREADY_EXISTS;case ZY.PERMISSION_DENIED:return JG.PERMISSION_DENIED;case ZY.FAILED_PRECONDITION:return JG.FAILED_PRECONDITION;case ZY.ABORTED:return JG.ABORTED;case ZY.OUT_OF_RANGE:return JG.OUT_OF_RANGE;case ZY.UNIMPLEMENTED:return JG.UNIMPLEMENTED;case ZY.DATA_LOSS:return JG.DATA_LOSS;default:return $G()}}(JY=ZY||(ZY={}))[JY.OK=0]="OK",JY[JY.CANCELLED=1]="CANCELLED",JY[JY.UNKNOWN=2]="UNKNOWN",JY[JY.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",JY[JY.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",JY[JY.NOT_FOUND=5]="NOT_FOUND",JY[JY.ALREADY_EXISTS=6]="ALREADY_EXISTS",JY[JY.PERMISSION_DENIED=7]="PERMISSION_DENIED",JY[JY.UNAUTHENTICATED=16]="UNAUTHENTICATED",JY[JY.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",JY[JY.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",JY[JY.ABORTED=10]="ABORTED",JY[JY.OUT_OF_RANGE=11]="OUT_OF_RANGE",JY[JY.UNIMPLEMENTED=12]="UNIMPLEMENTED",JY[JY.INTERNAL=13]="INTERNAL",JY[JY.UNAVAILABLE=14]="UNAVAILABLE",JY[JY.DATA_LOSS=15]="DATA_LOSS";let e$=null;function n$(){return new TextEncoder}const r$=new zG([4294967295,4294967295],0);function i$(t){const e=n$().encode(t),n=new FG;return n.update(e),new Uint8Array(n.digest())}function o$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zG([n,r],0),new zG([i,o],0)]}class a${constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new s$("Invalid padding: ".concat(e));if(n<0)throw new s$("Invalid hash count: ".concat(n));if(t.length>0&&0===this.hashCount)throw new s$("Invalid hash count: ".concat(n));if(0===t.length&&0!==e)throw new s$("Invalid padding when bitmap length is 0: ".concat(e));this.Te=8*t.length-e,this.Ee=zG.fromNumber(this.Te)}de(t,e,n){let r=t.add(e.multiply(zG.fromNumber(n)));return 1===r.compare(r$)&&(r=new zG([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=i$(t),[n,r]=o$(e);for(let i=0;i<this.hashCount;i++){const t=this.de(n,r,i);if(!this.Ae(t))return!1}return!0}static create(t,e,n){const r=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new a$(i,r,e);return n.forEach((t=>o.insert(t))),o}insert(t){if(0===this.Te)return;const e=i$(t),[n,r]=o$(e);for(let i=0;i<this.hashCount;i++){const t=this.de(n,r,i);this.Re(t)}}Re(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class s$ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class l${constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,c$.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new l$(mX.min(),r,new zX(dX),hY(),bY())}}class c${constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new c$(n,e,bY(),bY(),bY())}}class u${constructor(t,e,n,r){this.Ve=t,this.removedTargetIds=e,this.key=n,this.me=r}}class h${constructor(t,e){this.targetId=t,this.fe=e}}class d${constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:XX.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class f${constructor(){this.ge=0,this.pe=g$(),this.ye=XX.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=bY(),e=bY(),n=bY();return this.pe.forEach(((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:$G()}})),new c$(this.ye,this.we,t,e,n)}Fe(){this.Se=!1,this.pe=g$()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class p${constructor(t){this.Le=t,this.ke=new Map,this.qe=hY(),this.Qe=m$(),this.Ke=new zX(dX)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,(e=>{const n=this.ze(e);switch(t.state){case 0:this.je(e)&&n.Ce(t.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(t.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(e);break;case 3:this.je(e)&&(n.Be(),n.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),n.Ce(t.resumeToken));break;default:$G()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach(((t,n)=>{this.je(n)&&e(n)}))}Je(t){const e=t.targetId,n=t.fe.count,r=this.Ye(e);if(r){const i=r.target;if(GK(i))if(0===n){const t=new _X(i.path);this.We(e,t,bK.newNoDocument(t,mX.min()))}else QG(1===n);else{const r=this.Ze(e);if(r!==n){const n=this.Xe(t),i=n?this.et(n,t,r):1;if(0!==i){this.He(e);const t=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,t)}null==e$||e$.tt(function(t,e,n,r,i){var o,a,s,l,c,u;const h={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},d=e.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:t=>{var e;return null!==(e=null==r?void 0:r.mightContain(t))&&void 0!==e&&e}}),h}(r,t.fe,this.Le.nt(),n,i))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=e;let o,a;try{o=QX(n).toUint8Array()}catch(t){if(t instanceof GX)return KG("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{a=new a$(o,r,i)}catch(t){return KG(t instanceof s$?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===a.Te?null:a}et(t,e,n){return e.fe.count===n-this.rt(t,e.targetId)?0:2}rt(t,e){const n=this.Le.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.mightContain(o)||(this.We(e,n,null),r++)})),r}it(t){const e=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&GK(i.target)){const e=new _X(i.target.path);null!==this.qe.get(e)||this.st(r,e)||this.We(r,e,bK.newNoDocument(e,t))}n.De&&(e.set(r,n.ve()),n.Fe())}}));let n=bY();this.Qe.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.Ye(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))})),this.qe.forEach(((e,n)=>n.setReadTime(t)));const r=new l$(t,e,this.Ke,this.qe,n);return this.qe=hY(),this.Qe=m$(),this.Ke=new zX(dX),r}Ue(t,e){if(!this.je(t))return;const n=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,n),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,n){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),n&&(this.qe=this.qe.insert(e,n))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new f$,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new HX(dX),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||GG("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new f$),this.Le.getRemoteKeysForTarget(t).forEach((e=>{this.We(t,e,null)}))}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function m$(){return new zX(_X.comparator)}function g$(){return new zX(_X.comparator)}const v$={asc:"ASCENDING",desc:"DESCENDING"},y$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b$={and:"AND",or:"OR"};class _${constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function x$(t,e){return t.useProto3Json||RX(e)?e:{value:e}}function w$(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function S$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function E$(t){return QG(!!t),mX.fromTimestamp(function(t){const e=YX(t);return new pX(e.seconds,e.nanos)}(t))}function T$(t,e){return function(t){return new vX(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function M$(t){const e=vX.fromString(t);return QG(V$(e)),e}function A$(t,e){const n=M$(e);if(n.get(1)!==t.databaseId.projectId)throw new tX(JG.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new tX(JG.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _X(P$(n))}function C$(t,e){return T$(t.databaseId,e)}function k$(t){const e=M$(t);return 4===e.length?vX.emptyPath():P$(e)}function O$(t){return new vX(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function P$(t){return QG(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function R$(t,e){return{documents:[C$(t,e.path)]}}function N$(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=C$(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=C$(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(t){if(0!==t.length)return B$(AK.create(t,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:F$(t.field),direction:D$(t.dir)}}(t)))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=x$(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function L$(t){let e=k$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){QG(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let o=[];n.where&&(o=function(t){const e=I$(t);return e instanceof AK&&kK(e)?e.getFilters():[e]}(n.where));let a=[];n.orderBy&&(a=function(t){return t.map((t=>function(t){return new SK(z$(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(n.orderBy));let s=null;n.limit&&(s=function(t){let e;return e="object"==typeof t?t.value:t,RX(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new _K(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new _K(n,e)}(n.endAt)),KK(e,i,a,o,s,"F",l,c)}function I$(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=z$(t.unaryFilter.field);return MK.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=z$(t.unaryFilter.field);return MK.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=z$(t.unaryFilter.field);return MK.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=z$(t.unaryFilter.field);return MK.create(i,"!=",{nullValue:"NULL_VALUE"});default:return $G()}}(t):void 0!==t.fieldFilter?function(t){return MK.create(z$(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $G()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return AK.create(t.compositeFilter.filters.map((t=>I$(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return $G()}}(t.compositeFilter.op))}(t):$G()}function D$(t){return v$[t]}function j$(t){return y$[t]}function U$(t){return b$[t]}function F$(t){return{fieldPath:t.canonicalString()}}function z$(t){return bX.fromServerFormat(t.fieldPath)}function B$(t){return t instanceof MK?function(t){if("=="===t.op){if(pK(t.value))return{unaryFilter:{field:F$(t.field),op:"IS_NAN"}};if(fK(t.value))return{unaryFilter:{field:F$(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(pK(t.value))return{unaryFilter:{field:F$(t.field),op:"IS_NOT_NAN"}};if(fK(t.value))return{unaryFilter:{field:F$(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:F$(t.field),op:j$(t.op),value:t.value}}}(t):t instanceof AK?function(t){const e=t.getFilters().map((t=>B$(t)));return 1===e.length?e[0]:{compositeFilter:{op:U$(t.op),filters:e}}}(t):$G()}function V$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class H${constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mX.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:mX.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:XX.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(t){return new H$(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new H$(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new H$(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new H$(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class q${constructor(t){this.ut=t}}function W$(t){const e=L$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?eY(e,e.limit,"L"):e}class G${constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et($X(t.integerValue));else if("doubleValue"in t){const n=$X(t.doubleValue);isNaN(n)?this.Tt(e,13):(this.Tt(e,15),NX(n)?e.Et(0):e.Et(n))}else if("timestampValue"in t){const n=t.timestampValue;this.Tt(e,20),"string"==typeof n?e.dt(n):(e.dt("".concat(n.seconds||"")),e.Et(n.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(QX(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Tt(e,45),e.Et(n.latitude||0),e.Et(n.longitude||0)}else"mapValue"in t?vK(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):$G()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const n=t.fields||{};this.Tt(e,55);for(const r of Object.keys(n))this.At(r,e),this.Pt(n[r],e)}yt(t,e){const n=t.values||[];this.Tt(e,50);for(const r of n)this.Pt(r,e)}ft(t,e){this.Tt(e,37),_X.fromName(t).path.forEach((t=>{this.Tt(e,60),this.wt(t,e)}))}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}G$.St=new G$;class X${constructor(){this.on=new K$}addToCollectionParentIndex(t,e){return this.on.add(e),kX.resolve()}getCollectionParents(t,e){return kX.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return kX.resolve()}deleteFieldIndex(t,e){return kX.resolve()}deleteAllFieldIndexes(t){return kX.resolve()}createTargetIndexes(t,e){return kX.resolve()}getDocumentsMatchingTarget(t,e){return kX.resolve(null)}getIndexType(t,e){return kX.resolve(0)}getFieldIndexes(t,e){return kX.resolve([])}getNextCollectionGroupToUpdate(t){return kX.resolve(null)}getMinOffset(t,e){return kX.resolve(EX.min())}getMinOffsetFromCollectionGroup(t,e){return kX.resolve(EX.min())}updateCollectionGroup(t,e,n){return kX.resolve()}updateIndexEntries(t,e){return kX.resolve()}}class K${constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new HX(vX.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new HX(vX.comparator)).toArray()}}new Uint8Array(0);class Y${constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new Y$(t,Y$.DEFAULT_COLLECTION_PERCENTILE,Y$.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Y$.DEFAULT_COLLECTION_PERCENTILE=10,Y$.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Y$.DEFAULT=new Y$(41943040,Y$.DEFAULT_COLLECTION_PERCENTILE,Y$.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Y$.DISABLED=new Y$(-1,0,0);class $${constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new $$(0)}static Nn(){return new $$(-1)}}class Q${constructor(){this.changes=new cY((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,bK.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?kX.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Z${constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class J${constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(n=r,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&BY(n.mutation,t,WX.empty(),pX.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,bY()).next((()=>e))))}getLocalViewOfDocuments(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bY();const r=mY();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,n).next((t=>{let e=fY();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=mY();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,bY())))}populateOverlays(t,e,n){const r=[];return n.forEach((t=>{e.has(t)||r.push(t)})),this.documentOverlayCache.getOverlays(t,r).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,r){let i=hY();const o=vY(),a=vY();return e.forEach(((t,e)=>{const a=n.get(e.key);r.has(e.key)&&(void 0===a||a.mutation instanceof qY)?i=i.insert(e.key,e):void 0!==a?(o.set(e.key,a.mutation.getFieldMask()),BY(a.mutation,e,a.mutation.getFieldMask(),pX.now())):o.set(e.key,WX.empty())})),this.recalculateAndSaveOverlays(t,i).next((t=>(t.forEach(((t,e)=>o.set(t,e))),e.forEach(((t,e)=>{var n;return a.set(t,new Z$(e,null!==(n=o.get(t))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(t,e){const n=vY();let r=new zX(((t,e)=>t-e)),i=bY();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const i of t)i.keys().forEach((t=>{const o=e.get(t);if(null===o)return;let a=n.get(t)||WX.empty();a=i.applyToLocalView(o,a),n.set(t,a);const s=(r.get(i.batchId)||bY()).add(t);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=gY();l.forEach((t=>{if(!i.has(t)){const r=FY(e.get(t),n.get(t));null!==r&&c.set(t,r),i=i.add(t)}})),o.push(this.documentOverlayCache.saveOverlays(t,s,c))}return kX.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n,r){return function(t){return _X.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):QK(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,r):this.getDocumentsMatchingCollectionQuery(t,e,n,r)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-i.size):kX.resolve(mY());let a=-1,s=i;return o.next((e=>kX.forEach(e,((e,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(e)?kX.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{s=s.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,i))).next((()=>this.computeViews(t,s,e,bY()))).next((t=>({batchId:a,changes:pY(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new _X(e)).next((t=>{let e=fY();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,r){const i=e.collectionGroup;let o=fY();return this.indexManager.getCollectionParents(t,i).next((a=>kX.forEach(a,(a=>{const s=function(t,e){return new XK(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,s,n,r).next((t=>{t.forEach(((t,e)=>{o=o.insert(t,e)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(t,e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i,r)))).next((t=>{i.forEach(((e,n)=>{const r=n.getKey();null===t.get(r)&&(t=t.insert(r,bK.newInvalidDocument(r)))}));let n=fY();return t.forEach(((t,r)=>{const o=i.get(t);void 0!==o&&BY(o.mutation,r,WX.empty(),pX.now()),oY(e,r)&&(n=n.insert(t,r))})),n}))}}class tQ{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return kX.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,function(t){return{id:t.id,version:t.version,createTime:E$(t.createTime)}}(e)),kX.resolve()}getNamedQuery(t,e){return kX.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,function(t){return{name:t.name,query:W$(t.bundledQuery),readTime:E$(t.readTime)}}(e)),kX.resolve()}}class eQ{constructor(){this.overlays=new zX(_X.comparator),this.lr=new Map}getOverlay(t,e){return kX.resolve(this.overlays.get(e))}getOverlays(t,e){const n=mY();return kX.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,r)=>{this.lt(t,e,r)})),kX.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((t=>this.overlays=this.overlays.remove(t))),this.lr.delete(n)),kX.resolve()}getOverlaysForCollection(t,e,n){const r=mY(),i=e.length+1,o=new _X(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const t=a.getNext().value,o=t.getKey();if(!e.isPrefixOf(o.path))break;o.path.length===i&&t.largestBatchId>n&&r.set(t.getKey(),t)}return kX.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new zX(((t,e)=>t-e));const o=this.overlays.getIterator();for(;o.hasNext();){const t=o.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=mY(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const a=mY(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((t,e)=>a.set(t,e))),!(a.size()>=r)););return kX.resolve(a)}lt(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new $Y(e,n));let i=this.lr.get(e);void 0===i&&(i=bY(),this.lr.set(e,i)),this.lr.set(e,i.add(n.key))}}class nQ{constructor(){this.hr=new HX(rQ.Pr),this.Ir=new HX(rQ.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const n=new rQ(t,e);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.dr(new rQ(t,e))}Ar(t,e){t.forEach((t=>this.removeReference(t,e)))}Rr(t){const e=new _X(new vX([])),n=new rQ(e,t),r=new rQ(e,t+1),i=[];return this.Ir.forEachInRange([n,r],(t=>{this.dr(t),i.push(t.key)})),i}Vr(){this.hr.forEach((t=>this.dr(t)))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new _X(new vX([])),n=new rQ(e,t),r=new rQ(e,t+1);let i=bY();return this.Ir.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new rQ(t,0),n=this.hr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class rQ{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return _X.comparator(t.key,e.key)||dX(t.gr,e.gr)}static Tr(t,e){return dX(t.gr,e.gr)||_X.comparator(t.key,e.key)}}class iQ{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new HX(rQ.Pr)}checkEmpty(t){return kX.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new YY(i,e,n,r);this.mutationQueue.push(o);for(const a of r)this.yr=this.yr.add(new rQ(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return kX.resolve(o)}lookupMutationBatch(t,e){return kX.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.Sr(n),i=r<0?0:r;return kX.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return kX.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return kX.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new rQ(e,0),r=new rQ(e,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(t=>{const e=this.wr(t.gr);i.push(e)})),kX.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new HX(dX);return e.forEach((t=>{const e=new rQ(t,0),r=new rQ(t,Number.POSITIVE_INFINITY);this.yr.forEachInRange([e,r],(t=>{n=n.add(t.gr)}))})),kX.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;_X.isDocumentKey(i)||(i=i.child(""));const o=new rQ(new _X(i),0);let a=new HX(dX);return this.yr.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.gr)),!0)}),o),kX.resolve(this.br(a))}br(t){const e=[];return t.forEach((t=>{const n=this.wr(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){QG(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return kX.forEach(e.mutations,(r=>{const i=new rQ(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.yr=n}))}Fn(t){}containsKey(t,e){const n=new rQ(e,0),r=this.yr.firstAfterOrEqual(n);return kX.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,kX.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class oQ{constructor(t){this.Cr=t,this.docs=new zX(_X.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),i=r?r.size:0,o=this.Cr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return kX.resolve(n?n.document.mutableCopy():bK.newInvalidDocument(e))}getEntries(t,e){let n=hY();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():bK.newInvalidDocument(t))})),kX.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let i=hY();const o=e.path,a=new _X(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:t,value:{document:a}}=s.getNext();if(!o.isPrefixOf(t.path))break;t.path.length>o.length+1||TX(SX(a),n)<=0||(r.has(a.key)||oY(e,a))&&(i=i.insert(a.key,a.mutableCopy()))}return kX.resolve(i)}getAllFromCollectionGroup(t,e,n,r){$G()}vr(t,e){return kX.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new aQ(this)}getSize(t){return kX.resolve(this.size)}}class aQ extends Q${constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(n)})),kX.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class sQ{constructor(t){this.persistence=t,this.Fr=new cY((t=>qK(t)),WK),this.lastRemoteSnapshotVersion=mX.min(),this.highestTargetId=0,this.Mr=0,this.Or=new nQ,this.targetCount=0,this.Nr=$$.On()}forEachTarget(t,e){return this.Fr.forEach(((t,n)=>e(n))),kX.resolve()}getLastRemoteSnapshotVersion(t){return kX.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return kX.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),kX.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Mr&&(this.Mr=e),kX.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new $$(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,kX.resolve()}updateTargetData(t,e){return this.kn(e),kX.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,kX.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Fr.forEach(((o,a)=>{a.sequenceNumber<=e&&null===n.get(a.targetId)&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)})),kX.waitFor(i).next((()=>r))}getTargetCount(t){return kX.resolve(this.targetCount)}getTargetData(t,e){const n=this.Fr.get(e)||null;return kX.resolve(n)}addMatchingKeys(t,e,n){return this.Or.Er(e,n),kX.resolve()}removeMatchingKeys(t,e,n){this.Or.Ar(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),kX.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),kX.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Or.mr(e);return kX.resolve(n)}containsKey(t,e){return kX.resolve(this.Or.containsKey(e))}}class lQ{constructor(t,e){this.Br={},this.overlays={},this.Lr=new PX(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new sQ(this),this.indexManager=new X$,this.remoteDocumentCache=function(t){return new oQ(t)}((t=>this.referenceDelegate.Qr(t))),this.serializer=new q$(e),this.Kr=new tQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new eQ,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Br[t.toKey()];return n||(n=new iQ(e,this.referenceDelegate),this.Br[t.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,n){GG("MemoryPersistence","Starting transaction:",t);const r=new cQ(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((t=>this.referenceDelegate.Ur(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Wr(t,e){return kX.or(Object.values(this.Br).map((n=>()=>n.containsKey(t,e))))}}class cQ extends AX{constructor(t){super(),this.currentSequenceNumber=t}}class uQ{constructor(t){this.persistence=t,this.Gr=new nQ,this.zr=null}static jr(t){return new uQ(t)}get Hr(){if(this.zr)return this.zr;throw $G()}addReference(t,e,n){return this.Gr.addReference(n,e),this.Hr.delete(n.toString()),kX.resolve()}removeReference(t,e,n){return this.Gr.removeReference(n,e),this.Hr.add(n.toString()),kX.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),kX.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach((t=>this.Hr.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Hr.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return kX.forEach(this.Hr,(n=>{const r=_X.fromPath(n);return this.Jr(t,r).next((t=>{t||e.removeEntry(r,mX.min())}))})).next((()=>(this.zr=null,e.apply(t))))}updateLimboDocument(t,e){return this.Jr(t,e).next((t=>{t?this.Hr.delete(e.toString()):this.Hr.add(e.toString())}))}Qr(t){return 0}Jr(t,e){return kX.or([()=>kX.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class hQ{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.ki=n,this.qi=r}static Qi(t,e){let n=bY(),r=bY();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new hQ(t,e.fromCache,n,r)}}class dQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fQ{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,n,r){const i={result:null};return this.zi(t,e).next((t=>{i.result=t})).next((()=>{if(!i.result)return this.ji(t,e,r,n).next((t=>{i.result=t}))})).next((()=>{if(i.result)return;const n=new dQ;return this.Hi(t,e,n).next((r=>{if(i.result=r,this.$i)return this.Ji(t,e,n,r.size)}))})).next((()=>i.result))}Ji(t,e,n,r){return n.documentReadCount<this.Ui?(WG()<=TB.DEBUG&&GG("QueryEngine","SDK will not create cache indexes for query:",iY(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),kX.resolve()):(WG()<=TB.DEBUG&&GG("QueryEngine","Query:",iY(e),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(WG()<=TB.DEBUG&&GG("QueryEngine","The SDK decides to create cache indexes for query:",iY(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,JK(e))):kX.resolve())}zi(t,e){if($K(e))return kX.resolve(null);let n=JK(e);return this.indexManager.getIndexType(t,n).next((r=>0===r?null:(null!==e.limit&&1===r&&(e=eY(e,null,"F"),n=JK(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((r=>{const i=bY(...r);return this.Gi.getDocuments(t,i).next((r=>this.indexManager.getMinOffset(t,n).next((n=>{const o=this.Yi(e,r);return this.Zi(e,o,i,n.readTime)?this.zi(t,eY(e,null,"F")):this.Xi(t,o,e,n)}))))})))))}ji(t,e,n,r){return $K(e)||r.isEqual(mX.min())?kX.resolve(null):this.Gi.getDocuments(t,n).next((i=>{const o=this.Yi(e,i);return this.Zi(e,o,n,r)?kX.resolve(null):(WG()<=TB.DEBUG&&GG("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),iY(e)),this.Xi(t,o,e,wX(r,-1)).next((t=>t)))}))}Yi(t,e){let n=new HX(sY(t));return e.forEach(((e,r)=>{oY(t,r)&&(n=n.add(r))})),n}Zi(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(t,e,n){return WG()<=TB.DEBUG&&GG("QueryEngine","Using full collection scan to execute query:",iY(e)),this.Gi.getDocumentsMatchingQuery(t,e,EX.min(),n)}Xi(t,e,n,r){return this.Gi.getDocumentsMatchingQuery(t,n,r).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class pQ{constructor(t,e,n,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new zX(dX),this.ns=new cY((t=>qK(t)),WK),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(n)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new J$(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.ts)))}}function mQ(t,e,n,r){return new pQ(t,e,n,r)}async function gQ(t,e){const n=ZG(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next((i=>(r=i,n.os(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const i=[],o=[];let a=bY();for(const t of r){i.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}for(const t of e){o.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}return n.localDocuments.getDocuments(t,a).next((t=>({_s:t,removedBatchIds:i,addedBatchIds:o})))}))}))}function vQ(t){const e=ZG(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.qr.getLastRemoteSnapshotVersion(t)))}function yQ(t,e,n){let r=bY(),i=bY();return n.forEach((t=>r=r.add(t))),e.getEntries(t,r).next((t=>{let r=hY();return n.forEach(((n,o)=>{const a=t.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(mX.min())?(e.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o),r=r.insert(n,o)):GG("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{us:r,cs:i}}))}function bQ(t,e){const n=ZG(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.qr.getTargetData(t,e).next((i=>i?(r=i,kX.resolve(r)):n.qr.allocateTargetId(t).next((i=>(r=new H$(e,i,"TargetPurposeListen",t.currentSequenceNumber),n.qr.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.ts.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(t.targetId,t),n.ns.set(e,t.targetId)),t}))}async function _Q(t,e,n){const r=ZG(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!OX(t))throw t;GG("LocalStore","Failed to update sequence numbers for target ".concat(e,": ").concat(t))}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function xQ(t,e,n){const r=ZG(t);let i=mX.min(),o=bY();return r.persistence.runTransaction("Execute query","readwrite",(t=>function(t,e,n){const r=ZG(t),i=r.ns.get(n);return void 0!==i?kX.resolve(r.ts.get(i)):r.qr.getTargetData(e,n)}(r,t,JK(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(t,e.targetId).next((t=>{o=t}))})).next((()=>r.es.getDocumentsMatchingQuery(t,e,n?i:mX.min(),n?o:bY()))).next((t=>(wQ(r,aY(e),t),{documents:t,ls:o})))))}function wQ(t,e,n){let r=t.rs.get(e)||mX.min();n.forEach(((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)})),t.rs.set(e,r)}class SQ{constructor(){this.activeTargetIds=xY()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EQ{constructor(){this.eo=new SQ,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,n){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new SQ,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class TQ{ro(t){}shutdown(){}}class MQ{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){GG("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){GG("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let AQ=null;function CQ(){return null===AQ?AQ=268435456+Math.round(2147483648*Math.random()):AQ++,"0x"+AQ.toString(16)}const kQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OQ{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const PQ="WebChannelConnection";class RQ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=e+"://"+t.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(t,e,n,r,i){const o=CQ(),a=this.So(t,e);GG("RestConnection","Sending RPC '".concat(t,"' ").concat(o,":"),a,n);const s={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(s,r,i),this.Do(t,a,s,n).then((e=>(GG("RestConnection","Received RPC '".concat(t,"' ").concat(o,": "),e),e)),(e=>{throw KG("RestConnection","RPC '".concat(t,"' ").concat(o," failed with error: "),e,"url: ",a,"request:",n),e}))}Co(t,e,n,r,i,o){return this.wo(t,e,n,r,i)}bo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+HG,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}So(t,e){const n=kQ[t];return"".concat(this.mo,"/v1/").concat(e,":").concat(n)}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,n,r){const i=CQ();return new Promise(((o,a)=>{const s=new UG;s.setWithCredentials(!0),s.listenOnce(NG.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case RG.NO_ERROR:const e=s.getResponseJson();GG(PQ,"XHR for RPC '".concat(t,"' ").concat(i," received:"),JSON.stringify(e)),o(e);break;case RG.TIMEOUT:GG(PQ,"RPC '".concat(t,"' ").concat(i," timed out")),a(new tX(JG.DEADLINE_EXCEEDED,"Request time out"));break;case RG.HTTP_ERROR:const n=s.getStatus();if(GG(PQ,"RPC '".concat(t,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){let t=s.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(JG).indexOf(e)>=0?e:JG.UNKNOWN}(e.status);a(new tX(t,e.message))}else a(new tX(JG.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new tX(JG.UNAVAILABLE,"Connection failed."));break;default:$G()}}finally{GG(PQ,"RPC '".concat(t,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);GG(PQ,"RPC '".concat(t,"' ").concat(i," sending request:"),r),s.send(e,"POST",l,n,15)}))}vo(t,e,n){const r=CQ(),i=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=OG(),a=PG(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.xmlHttpFactory=new DG({})),this.bo(s.initMessageHeaders,e,n),s.encodeInitMessageHeaders=!0;const c=i.join("");GG(PQ,"Creating RPC '".concat(t,"' stream ").concat(r,": ").concat(c),s);const u=o.createWebChannel(c,s);let h=!1,d=!1;const f=new OQ({co:e=>{d?GG(PQ,"Not sending because RPC '".concat(t,"' stream ").concat(r," is closed:"),e):(h||(GG(PQ,"Opening RPC '".concat(t,"' stream ").concat(r," transport.")),u.open(),h=!0),GG(PQ,"RPC '".concat(t,"' stream ").concat(r," sending:"),e),u.send(e))},lo:()=>u.close()}),p=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(u,jG.EventType.OPEN,(()=>{d||GG(PQ,"RPC '".concat(t,"' stream ").concat(r," transport opened."))})),p(u,jG.EventType.CLOSE,(()=>{d||(d=!0,GG(PQ,"RPC '".concat(t,"' stream ").concat(r," transport closed")),f.Ro())})),p(u,jG.EventType.ERROR,(e=>{d||(d=!0,KG(PQ,"RPC '".concat(t,"' stream ").concat(r," transport errored:"),e),f.Ro(new tX(JG.UNAVAILABLE,"The operation could not be completed")))})),p(u,jG.EventType.MESSAGE,(e=>{var n;if(!d){const i=e.data[0];QG(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){GG(PQ,"RPC '".concat(t,"' stream ").concat(r," received error:"),a);const e=a.status;let n=function(t){const e=ZY[t];if(void 0!==e)return t$(e)}(e),i=a.message;void 0===n&&(n=JG.INTERNAL,i="Unknown error status: "+e+" with message "+a.message),d=!0,f.Ro(new tX(n,i)),u.close()}else GG(PQ,"RPC '".concat(t,"' stream ").concat(r," received:"),i),f.Vo(i)}})),p(a,LG.STAT_EVENT,(e=>{e.stat===IG.PROXY?GG(PQ,"RPC '".concat(t,"' stream ").concat(r," detected buffering proxy")):e.stat===IG.NOPROXY&&GG(PQ,"RPC '".concat(t,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function NQ(){return"undefined"!=typeof document?document:null}function LQ(t){return new _$(t,!0)}class IQ{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=t,this.timerId=e,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-n);r>0&&GG("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(e," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),t()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class DQ{constructor(t,e,n,r,i,o,a,s){this.si=t,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new IQ(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,e){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==t?this.zo.reset():e&&e.code===JG.RESOURCE_EXHAUSTED?(XG(e.toString()),XG("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):e&&e.code===JG.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(e)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((t=>{let[n,r]=t;this.Uo===e&&this.s_(n,r)}),(e=>{t((()=>{const t=new tX(JG.UNKNOWN,"Fetching auth token failed: "+e.message);return this.o_(t)}))}))}s_(t,e){const n=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((t=>{n((()=>this.o_(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(t){return GG("PersistentStream","close with error: ".concat(t)),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget((()=>this.Uo===t?e():(GG("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jQ extends DQ{constructor(t,e,n,r,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,o),this.serializer=i}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:$G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.useProto3Json?(QG(void 0===e||"string"==typeof e),XX.fromBase64String(e||"")):(QG(void 0===e||e instanceof Uint8Array),XX.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){const e=void 0===t.code?JG.UNKNOWN:t$(t.code);return new tX(e,t.message||"")}(a);n=new d$(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=A$(t,r.document.name),o=E$(r.document.updateTime),a=r.document.createTime?E$(r.document.createTime):mX.min(),s=new yK({mapValue:{fields:r.document.fields}}),l=bK.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new u$(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=A$(t,r.document),o=r.readTime?E$(r.readTime):mX.min(),a=bK.newNoDocument(i,o),s=r.removedTargetIds||[];n=new u$([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=A$(t,r.document),o=r.removedTargetIds||[];n=new u$([],o,i,null)}else{if(!("filter"in e))return $G();{e.filter;const t=e.filter;t.targetId;const{count:r=0,unchangedNames:i}=t,o=new QY(r,i),a=t.targetId;n=new h$(a,o)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return mX.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?mX.min():e.readTime?E$(e.readTime):mX.min()}(t);return this.listener.a_(e,n)}u_(t){const e={};e.database=O$(this.serializer),e.addTarget=function(t,e){let n;const r=e.target;if(n=GK(r)?{documents:R$(t,r)}:{query:N$(t,r)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=S$(t,e.resumeToken);const r=x$(t,e.expectedCount);null!==r&&(n.expectedCount=r)}else if(e.snapshotVersion.compareTo(mX.min())>0){n.readTime=w$(t,e.snapshotVersion.toTimestamp());const r=x$(t,e.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $G()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.e_(e)}c_(t){const e={};e.database=O$(this.serializer),e.removeTarget=t,this.e_(e)}}class UQ extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new tX(JG.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.wo(t,e,n,i,o)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===JG.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new tX(JG.UNKNOWN,t.toString())}))}Co(t,e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.Co(t,e,n,o,a,r)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===JG.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new tX(JG.UNKNOWN,t.toString())}))}terminate(){this.d_=!0}}class FQ{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(t.toString())),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e="Could not reach Cloud Firestore backend. ".concat(t,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(XG(e),this.f_=!1):GG("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class zQ{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((t=>{n.enqueueAndForget((async()=>{YQ(this)&&(GG("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=ZG(t);e.C_.add(4),await VQ(e),e.M_.set("Unknown"),e.C_.delete(4),await BQ(e)}(this))}))})),this.M_=new FQ(n,r)}}async function BQ(t){if(YQ(t))for(const e of t.v_)await e(!0)}async function VQ(t){for(const e of t.v_)await e(!1)}function HQ(t,e){const n=ZG(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),KQ(n)?XQ(n):rZ(n).Ho()&&WQ(n,e))}function qQ(t,e){const n=ZG(t),r=rZ(n);n.D_.delete(e),r.Ho()&&GQ(n,e),0===n.D_.size&&(r.Ho()?r.Zo():YQ(n)&&n.M_.set("Unknown"))}function WQ(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mX.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rZ(t).u_(e)}function GQ(t,e){t.x_.Oe(e),rZ(t).c_(e)}function XQ(t){t.x_=new p$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),rZ(t).start(),t.M_.g_()}function KQ(t){return YQ(t)&&!rZ(t).jo()&&t.D_.size>0}function YQ(t){return 0===ZG(t).C_.size}function $Q(t){t.x_=void 0}async function QQ(t){t.D_.forEach(((e,n)=>{WQ(t,e)}))}async function ZQ(t,e){$Q(t),KQ(t)?(t.M_.w_(e),XQ(t)):t.M_.set("Unknown")}async function JQ(t,e,n){if(t.M_.set("Online"),e instanceof d$&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.D_.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.D_.delete(r),t.x_.removeTarget(r))}(t,e)}catch(n){GG("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await tZ(t,n)}else if(e instanceof u$?t.x_.$e(e):e instanceof h$?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(mX.min()))try{const e=await vQ(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.x_.it(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.D_.get(r);i&&t.D_.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach(((e,n)=>{const r=t.D_.get(e);if(!r)return;t.D_.set(e,r.withResumeToken(XX.EMPTY_BYTE_STRING,r.snapshotVersion)),GQ(t,e);const i=new H$(r.target,e,n,r.sequenceNumber);WQ(t,i)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){GG("RemoteStore","Failed to raise snapshot:",e),await tZ(t,e)}}async function tZ(t,e,n){if(!OX(e))throw e;t.C_.add(1),await VQ(t),t.M_.set("Offline"),n||(n=()=>vQ(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{GG("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await BQ(t)}))}async function eZ(t,e){const n=ZG(t);n.asyncQueue.verifyOperationInProgress(),GG("RemoteStore","RemoteStore received new credentials");const r=YQ(n);n.C_.add(3),await VQ(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await BQ(n)}async function nZ(t,e){const n=ZG(t);e?(n.C_.delete(2),await BQ(n)):e||(n.C_.add(2),await VQ(n),n.M_.set("Unknown"))}function rZ(t){return t.O_||(t.O_=function(t,e,n){const r=ZG(t);return r.A_(),new jQ(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{ho:QQ.bind(null,t),Io:ZQ.bind(null,t),a_:JQ.bind(null,t)}),t.v_.push((async e=>{e?(t.O_.Yo(),KQ(t)?XQ(t):t.M_.set("Unknown")):(await t.O_.stop(),$Q(t))}))),t.O_}class iZ{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new eX,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,i){const o=Date.now()+n,a=new iZ(t,e,o,r,i);return a.start(n),a}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tX(JG.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oZ(t,e){if(XG("AsyncQueue","".concat(e,": ").concat(t)),OX(t))return new tX(JG.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}class aZ{constructor(t){this.comparator=t?(e,n)=>t(e,n)||_X.comparator(e.key,n.key):(t,e)=>_X.comparator(t.key,e.key),this.keyedMap=fY(),this.sortedSet=new zX(this.comparator)}static emptySet(t){return new aZ(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof aZ))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new aZ;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class sZ{constructor(){this.B_=new zX(_X.comparator)}track(t){const e=t.doc.key,n=this.B_.get(e);n?0!==t.type&&3===n.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==n.type?this.B_=this.B_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.B_=this.B_.remove(e):1===t.type&&2===n.type?this.B_=this.B_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):$G():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal(((e,n)=>{t.push(n)})),t}}class lZ{constructor(t,e,n,r,i,o,a,s,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,r,i){const o=[];return e.forEach((t=>{o.push({type:0,doc:t})})),new lZ(t,e,aZ.emptySet(e),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nY(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class cZ{constructor(){this.k_=void 0,this.listeners=[]}}class uZ{constructor(){this.queries=new cY((t=>rY(t)),nY),this.onlineState="Unknown",this.q_=new Set}}async function hZ(t,e){const n=ZG(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new cZ),i)try{o.k_=await n.onListen(r)}catch(t){const n=oZ(t,"Initialization of query '".concat(iY(e.query),"' failed"));return void e.onError(n)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&mZ(n)}async function dZ(t,e){const n=ZG(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const t=o.listeners.indexOf(e);t>=0&&(o.listeners.splice(t,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function fZ(t,e){const n=ZG(t);let r=!1;for(const i of e){const t=i.query,e=n.queries.get(t);if(e){for(const t of e.listeners)t.K_(i)&&(r=!0);e.k_=i}}r&&mZ(n)}function pZ(t,e,n){const r=ZG(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function mZ(t){t.q_.forEach((t=>{t.next()}))}class gZ{constructor(t,e,n){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new lZ(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.J_||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){if(t.docChanges.length>0)return!0;const e=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}H_(t){t=lZ.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class vZ{constructor(t){this.key=t}}class yZ{constructor(t){this.key=t}}class bZ{constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=bY(),this.mutatedKeys=bY(),this._a=sY(t),this.aa=new aZ(this._a)}get ua(){return this.ia}ca(t,e){const n=e?e.la:new sZ,r=e?e.aa:this.aa;let i=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const c=r.get(t),u=oY(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ha(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this._a(u,s)>0||l&&this._a(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=d?i.add(t):i.delete(t)):(o=o.delete(t),i=i.delete(t)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const t="F"===this.query.limitType?o.last():o.first();o=o.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{aa:o,la:n,Zi:a,mutatedKeys:i}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const r=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const i=t.la.L_();i.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $G()}};return n(t)-n(e)}(t.type,e.type)||this._a(t.doc,e.doc))),this.Pa(n);const o=e?this.Ia():[],a=0===this.oa.size&&this.current?1:0,s=a!==this.sa;return this.sa=a,0!==i.length||s?{snapshot:new lZ(this.query,t.aa,r,i,t.mutatedKeys,0===a,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new sZ,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach((t=>this.ia=this.ia.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.ia=this.ia.delete(t))),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=bY(),this.aa.forEach((t=>{this.Ea(t.key)&&(this.oa=this.oa.add(t.key))}));const e=[];return t.forEach((t=>{this.oa.has(t)||e.push(new yZ(t))})),this.oa.forEach((n=>{t.has(n)||e.push(new vZ(n))})),e}da(t){this.ia=t.ls,this.oa=bY();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return lZ.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class _Z{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class xZ{constructor(t){this.key=t,this.Ra=!1}}class wZ{constructor(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new cY((t=>rY(t)),nY),this.fa=new Map,this.ga=new Set,this.pa=new zX(_X.comparator),this.ya=new Map,this.wa=new nQ,this.Sa={},this.ba=new Map,this.Da=$$.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function SZ(t,e){const n=jZ(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const t=await bQ(n.localStore,JK(e)),o=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,i=await EZ(n,e,r,"current"===o,t.resumeToken),n.isPrimaryClient&&HQ(n.remoteStore,t)}return i}async function EZ(t,e,n,r,i){t.va=(e,n,r)=>async function(t,e,n,r){let i=e.view.ca(n);i.Zi&&(i=await xQ(t.localStore,e.query,!1).then((t=>{let{documents:n}=t;return e.view.ca(n,i)})));const o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o);return PZ(t,e.targetId,a.Ta),a.snapshot}(t,e,n,r);const o=await xQ(t.localStore,e,!0),a=new bZ(e,o.ls),s=a.ca(o.documents),l=c$.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=a.applyChanges(s,t.isPrimaryClient,l);PZ(t,n,c.Ta);const u=new _Z(e,n,a);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot}async function TZ(t,e){const n=ZG(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((t=>!nY(t,e)))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await _Q(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),qQ(n.remoteStore,r.targetId),kZ(n,r.targetId)})).catch(CX)):(kZ(n,r.targetId),await _Q(n.localStore,r.targetId,!0))}async function MZ(t,e){const n=ZG(t);try{const t=await function(t,e){const n=ZG(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.qr.removeMatchingKeys(t,o.removedDocuments,s).next((()=>n.qr.addMatchingKeys(t,o.addedDocuments,s))));let c=l.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(s)?c=c.withResumeToken(XX.EMPTY_BYTE_STRING,mX.min()).withLastLimboFreeSnapshotVersion(mX.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.qr.updateTargetData(t,c))}));let s=hY(),l=bY();if(e.documentUpdates.forEach((r=>{e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(yQ(t,o,e.documentUpdates).next((t=>{s=t.us,l=t.cs}))),!r.isEqual(mX.min())){const e=n.qr.getLastRemoteSnapshotVersion(t).next((e=>n.qr.setTargetsMetadata(t,t.currentSequenceNumber,r)));a.push(e)}return kX.waitFor(a).next((()=>o.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,s,l))).next((()=>s))})).then((t=>(n.ts=i,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.ya.get(e);r&&(QG(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Ra=!0:t.modifiedDocuments.size>0?QG(r.Ra):t.removedDocuments.size>0&&(QG(r.Ra),r.Ra=!1))})),await LZ(n,t,e)}catch(t){await CX(t)}}function AZ(t,e,n){const r=ZG(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=ZG(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const i of n.listeners)i.Q_(e)&&(r=!0)})),r&&mZ(n)}(r.eventManager,e),t.length&&r.Va.a_(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function CZ(t,e,n){const r=ZG(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let t=new zX(_X.comparator);t=t.insert(o,bK.newNoDocument(o,mX.min()));const n=bY().add(o),i=new l$(mX.min(),new Map,new zX(dX),t,n);await MZ(r,i),r.pa=r.pa.remove(o),r.ya.delete(e),NZ(r)}else await _Q(r.localStore,e,!1).then((()=>kZ(r,e,n))).catch(CX)}function kZ(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach((e=>{t.wa.containsKey(e)||OZ(t,e)}))}function OZ(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(qQ(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),NZ(t))}function PZ(t,e,n){for(const r of n)r instanceof vZ?(t.wa.addReference(r.key,e),RZ(t,r)):r instanceof yZ?(GG("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||OZ(t,r.key)):$G()}function RZ(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(GG("SyncEngine","New document in limbo: "+n),t.ga.add(r),NZ(t))}function NZ(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new _X(vX.fromString(e)),r=t.Da.next();t.ya.set(r,new xZ(n)),t.pa=t.pa.insert(n,r),HQ(t.remoteStore,new H$(JK(YK(n.path)),r,"TargetPurposeLimboResolution",PX._e))}}async function LZ(t,e,n){const r=ZG(t),i=[],o=[],a=[];r.ma.isEmpty()||(r.ma.forEach(((t,s)=>{a.push(r.va(s,e,n).then((t=>{if((t||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){i.push(t);const e=hQ.Qi(s.targetId,t);o.push(e)}})))})),await Promise.all(a),r.Va.a_(i),await async function(t,e){const n=ZG(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>kX.forEach(e,(e=>kX.forEach(e.ki,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>kX.forEach(e.qi,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!OX(t))throw t;GG("LocalStore","Failed to update sequence numbers: "+t)}for(const r of e){const t=r.targetId;if(!r.fromCache){const e=n.ts.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(t,i)}}}(r.localStore,o))}async function IZ(t,e){const n=ZG(t);if(!n.currentUser.isEqual(e)){GG("SyncEngine","User change. New user:",e.toKey());const t=await gQ(n.localStore,e);n.currentUser=e,function(t,e){t.ba.forEach((t=>{t.forEach((t=>{t.reject(new tX(JG.CANCELLED,e))}))})),t.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await LZ(n,t._s)}}function DZ(t,e){const n=ZG(t),r=n.ya.get(e);if(r&&r.Ra)return bY().add(r.key);{let t=bY();const r=n.fa.get(e);if(!r)return t;for(const e of r){const r=n.ma.get(e);t=t.unionWith(r.view.ua)}return t}}function jZ(t){const e=ZG(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MZ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CZ.bind(null,e),e.Va.a_=fZ.bind(null,e.eventManager),e.Va.Fa=pZ.bind(null,e.eventManager),e}class UZ{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=LQ(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return mQ(this.persistence,new fQ,t.initialUser,this.serializer)}createPersistence(t){return new lQ(uQ.jr,this.serializer)}createSharedClientState(t){return new EQ}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class FZ{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>AZ(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=IZ.bind(null,this.syncEngine),await nZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new uZ}createDatastore(t){const e=LQ(t.databaseInfo.databaseId),n=function(t){return new RQ(t)}(t.databaseInfo);return function(t,e,n,r){return new UQ(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,r,i){return new zQ(t,e,n,r,i)}(this.localStore,this.datastore,t.asyncQueue,(t=>AZ(this.syncEngine,t,0)),MQ.D()?new MQ:new TQ)}createSyncEngine(t,e){return function(t,e,n,r,i,o,a){const s=new wZ(t,e,n,r,i,o);return a&&(s.Ca=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=ZG(t);GG("RemoteStore","RemoteStore shutting down."),e.C_.add(5),await VQ(e),e.F_.shutdown(),e.M_.set("Unknown")}(this.remoteStore)}}class zZ{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):XG("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}class BZ{constructor(t,e,n,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=VG.UNAUTHENTICATED,this.clientId=hX.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{GG("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(GG("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tX(JG.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new eX;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(Se){const n=oZ(Se,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function VZ(t,e){t.asyncQueue.verifyOperationInProgress(),GG("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await gQ(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function HZ(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WZ(t);GG("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener((t=>eZ(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>eZ(e.remoteStore,n))),t._onlineComponents=e}function qZ(t){return"FirebaseError"===t.name?t.code===JG.FAILED_PRECONDITION||t.code===JG.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}async function WZ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){GG("FirestoreClient","Using user provided OfflineComponentProvider");try{await VZ(t,t._uninitializedComponentsProvider._offline)}catch(Se){const n=Se;if(!qZ(n))throw n;KG("Error using user provided cache. Falling back to memory cache: "+n),await VZ(t,new UZ)}}else GG("FirestoreClient","Using default OfflineComponentProvider"),await VZ(t,new UZ);return t._offlineComponents}async function GZ(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(GG("FirestoreClient","Using user provided OnlineComponentProvider"),await HZ(t,t._uninitializedComponentsProvider._online)):(GG("FirestoreClient","Using default OnlineComponentProvider"),await HZ(t,new FZ))),t._onlineComponents}async function XZ(t){const e=await GZ(t),n=e.eventManager;return n.onListen=SZ.bind(null,e.syncEngine),n.onUnlisten=TZ.bind(null,e.syncEngine),n}function KZ(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new eX;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const o=new zZ({next:n=>{e.enqueueAndForget((()=>dZ(t,a))),n.fromCache&&"server"===r.source?i.reject(new tX(JG.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),a=new gZ(n,o,{includeMetadataChanges:!0,J_:!0});return hZ(t,a)}(await XZ(t),t.asyncQueue,e,n,r))),r.promise}function YZ(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const $Z=new Map;function QZ(t,e,n){if(!n)throw new tX(JG.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function ZZ(t){if(_X.isDocumentKey(t))throw new tX(JG.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function JZ(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return"function"==typeof t?"a function":$G()}function tJ(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new tX(JG.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=JZ(t);throw new tX(JG.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}class eJ{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new tX(JG.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new tX(JG.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,r){if(!0===e&&!0===r)throw new tX(JG.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YZ(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new tX(JG.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (must not be NaN)"));if(t.timeoutSeconds<5)throw new tX(JG.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (minimum allowed value is 5)"));if(t.timeoutSeconds>30)throw new tX(JG.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class nJ{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eJ({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tX(JG.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new tX(JG.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eJ(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new rX;switch(t.type){case"firstParty":return new sX(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new tX(JG.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=$Z.get(t);e&&(GG("ComponentProvider","Removing Datastore"),$Z.delete(t),e.terminate())}(this),Promise.resolve()}}function rJ(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(t=tJ(t,nJ))._getSettings(),a="".concat(e,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&KG("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=VG.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sB(JSON.stringify({alg:"none",type:"JWT"})),sB(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new tX(JG.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new VG(o)}t._authCredentials=new iX(new nX(e,n))}}class iJ{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new iJ(this.firestore,t,this._query)}}class oJ{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aJ(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new oJ(this.firestore,t,this._key)}}class aJ extends iJ{constructor(t,e,n){super(t,e,YK(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new oJ(this.firestore,null,new _X(t))}withConverter(t){return new aJ(this.firestore,t,this._path)}}function sJ(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t=(o=t)&&o._delegate?o._delegate:o,QZ("collection","path",e),t instanceof nJ){const n=vX.fromString(e,...r);return ZZ(n),new aJ(t,null,n)}var o;{if(!(t instanceof oJ||t instanceof aJ))throw new tX(JG.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(vX.fromString(e,...r));return ZZ(n),new aJ(t.firestore,null,n)}}class lJ{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new IQ(this,"async_queue_retry"),this.iu=()=>{const t=NQ();t&&GG("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const t=NQ();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=NQ();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise((()=>{}));const e=new eX;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Ya.push(t),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!OX(t))throw t;GG("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(t){const e=this.Ja.then((()=>(this.tu=!0,t().catch((t=>{this.eu=t,this.tu=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw XG("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.tu=!1,t))))));return this.Ja=e,e}enqueueAfterDelay(t,e,n){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=iZ.createAndSchedule(this,t,e,n,(t=>this.au(t)));return this.Xa.push(r),r}su(){this.eu&&$G()}verifyOperationInProgress(){}async uu(){let t;do{t=this.Ja,await t}while(t!==this.Ja)}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then((()=>{this.Xa.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()}))}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}class cJ extends nJ{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new lJ,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hJ(this),this._firestoreClient.terminate()}}function uJ(t){return t._firestoreClient||hJ(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hJ(t){var e,n,r;const i=t._freezeSettings(),o=function(t,e,n,r){return new eK(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,YZ(r.experimentalLongPollingOptions),r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new BZ(t._authCredentials,t._appCheckCredentials,t._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class dJ{constructor(t){this._byteString=t}static fromBase64String(t){try{return new dJ(XX.fromBase64String(t))}catch(t){throw new tX(JG.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new dJ(XX.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class fJ{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(let r=0;r<e.length;++r)if(0===e[r].length)throw new tX(JG.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bX(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class pJ{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new tX(JG.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new tX(JG.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return dX(this._lat,t._lat)||dX(this._long,t._long)}}const mJ=new RegExp("[~\\*/\\[\\]]");function gJ(t,e,n){if(e.search(mJ)>=0)throw vJ("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new fJ(...e.split("."))._internalPath}catch(Gi){throw vJ("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function vJ(t,e,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(e,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new tX(JG.INVALID_ARGUMENT,s+t+l)}class yJ{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new oJ(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new bJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(_J("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class bJ extends yJ{data(){return super.data()}}function _J(t,e){return"string"==typeof e?gJ(t,e):e instanceof fJ?e._internalPath:e._delegate._internalPath}function xJ(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new tX(JG.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wJ{convertValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(iK(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $X(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(QX(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw $G()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return UX(t,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertGeoPoint(t){return new pJ($X(t.latitude),$X(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=JX(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(tK(t));default:return null}}convertTimestamp(t){const e=YX(t);return new pX(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=vX.fromString(t);QG(V$(n));const r=new nK(n.get(1),n.get(3)),i=new _X(n.popFirst(5));return r.isEqual(e)||XG("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),i}}class SJ{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class EJ extends yJ{constructor(t,e,n,r,i,o){super(t,e,n,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const e=new TJ(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(_J("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class TJ extends EJ{data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(t)}}class MJ{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new SJ(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new TJ(this._firestore,this._userDataWriter,n.key,n,new SJ(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tX(JG.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const r=new TJ(t._firestore,t._userDataWriter,n.doc.key,n.doc,new SJ(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new TJ(t._firestore,t._userDataWriter,e.doc.key,e.doc,new SJ(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,o=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),o=n.indexOf(e.doc.key)),{type:AJ(e.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function AJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $G()}}class CJ extends wJ{constructor(t){super(),this.firestore=t}convertBytes(t){return new dJ(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new oJ(this.firestore,null,e)}}function kJ(t){t=tJ(t,iJ);const e=tJ(t.firestore,cJ),n=uJ(e),r=new CJ(e);return xJ(t._query),KZ(n,t._query).then((n=>new MJ(e,r,t,n)))}new WeakMap;!function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){HG=t}("10.6.0"),rV(new bB("firestore",((t,n)=>{let{instanceIdentifier:r,options:i}=n;const o=t.getProvider("app").getImmediate(),a=new cJ(new oX(t.getProvider("auth-internal")),new cX(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new tX(JG.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nK(t.options.projectId,e)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),cV(BG,"4.3.2",t),cV(BG,"4.3.2","esm2017")}();const OJ=function(t,e){const n="string"==typeof t?t:e||"(default)",r=iV("object"==typeof t?t:lV(),"firestore").getImmediate({identifier:n});if(!r._initialized){const t=hB("firestore");t&&rJ(r,...t)}return r}(Array.from(tV.values()).length?lV():sV({apiKey:"AIzaSyDaLUX0xrk1hND1r3PJ1tiAzG80jmKAFYg",authDomain:"ming-527ed.firebaseapp.com",projectId:"ming-527ed",storageBucket:"ming-527ed.appspot.com",messagingSenderId:"78727120574",appId:"1:78727120574:web:95eed43cc7579dacdf80ef"})),PJ=DS().domain([0,.4]).range(["green","red"]),RJ=async(t,e,n,r)=>{let i=[...e.nodes],o=[...e.links];const a=i.some((e=>e.id.startsWith("".concat(t,"-conv"))));if(a)i=i.filter((e=>!e.id.startsWith("".concat(t,"-conv")))),o=o.filter((e=>!(e.source,e.source).startsWith("".concat(t,"-conv"))&&!(e.target,e.target).startsWith("".concat(t,"-conv"))));else{const e=await async function(t,e){let n=[],r=[];const i=await kJ(sJ(OJ,"topics1/".concat(t,"/convosations"))),o=i.docs.map((e=>kJ(sJ(OJ,"topics1/".concat(t,"/convosations/").concat(e.id,"/speakers")))));return(await Promise.all(o)).forEach(((e,o)=>{const a=i.docs[o].id,s=e.docs.map((t=>t.data().emoji)),l=s.join(" vs ");n.push({id:"".concat(t,"-conv-").concat(a),name:l,color:"white",x:0,y:0,z:0,average_toxicity_score:0}),r.push({source:t,target:"".concat(t,"-conv-").concat(a),strength:1,color:"white"})})),{newNodes:n,newLinks:r}}(t);i=[...i,...e.newNodes],o=[...o,...e.newLinks]}n({nodes:i,links:o})};const NJ=t=>{let{onFetchConversation:e,onNodeClick:n}=t;const r=(0,a.useRef)(null),[i,o]=(0,a.useState)({nodes:[],links:[]}),[s,l]=(0,a.useState)({}),c=(0,a.useRef)(!1);return(0,a.useEffect)((()=>{(async()=>{const t=await kJ(sJ(OJ,"topics1"));let e={};t.forEach((t=>{const n=t.id,r=t.data();e[n]=r})),o((t=>{let e=[],n=[];const r=DS().domain([0,1]).range(["green","red"]);let i=0;return Object.entries(t).forEach((o=>{let[a,s]=o;if("-1"===a)return;const l=s.topic_name||"Topic ".concat(a),c=s.average_toxicity||0,u=50*i;i++,e.push({id:a,name:l,color:r(c),average_toxicity_score:c,x:u,y:0,z:0}),Object.entries(s).forEach((e=>{let[i,o]=e;if(!isNaN(Number(i))&&"-1"!==i&&"convosations"!==i){var s;const e=(null===(s=t[i])||void 0===s?void 0:s.average_toxicity)||0,l=r((c+e)/2);n.push({source:a,target:i,strength:"number"===typeof o?o:0,color:l})}}))})),n.sort(((t,e)=>e.strength-t.strength)),n=n.slice(0,Math.ceil(.2*n.length)),{nodes:e,links:n}})(e)),l(e)})()}),[]),(0,a.useEffect)((()=>{if(!r.current||0===i.nodes.length)return;const t=nB()(r.current).graphData(i).nodeThreeObject((t=>{const e=new CL((t=>{const e=PJ(t.average_toxicity_score||0),n=document.createElement("canvas"),r=n.getContext("2d");if(r){r.font="16px Arial",r.fillStyle=e,r.fillText(t.name,0,16);const i=new jL(n);return new pL({map:i,transparent:!0})}})(t));return e.scale.set(40,20,1),e})).onNodeClick((t=>{RJ(t.id,i,o),c.current=!0})),e=((t,e)=>{let n=0;return setInterval((()=>{if(!e.current&&t.camera&&t.camera.position){n+=.002;const e=t.camera,r=1e3,i=500;e.position.x=r*Math.sin(n),e.position.z=r*Math.cos(n),e.position.y=i,e.lookAt(new sk(0,0,0)),t.renderer&&t.renderer().render(t.scene(),e)}}),100)})(t,c),n=new VI,a=new NC,s=e=>{a.x=e.clientX/window.innerWidth*2-1,a.y=-e.clientY/window.innerHeight*2+1,n.setFromCamera(a,t.camera());const r=n.intersectObjects(t.scene().children);if(r.length>0){const e=r[0].object;!function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;const i=(new sk).copy(t.position),o=new sk(e.x,e.y,e.z+r),a=r=>{const l=(r-s)/n;l<1?(t.position.lerpVectors(i,o,l),t.lookAt(e.x,e.y,e.z),requestAnimationFrame(a)):(t.position.set(o.x,o.y,o.z),t.lookAt(e.x,e.y,e.z))},s=performance.now();requestAnimationFrame(a)}(t.camera(),{x:e.position.x,y:e.position.y,z:e.position.z},2e3,100),c.current=!0}else c.current=!1};return window.addEventListener("mousemove",s),()=>{clearInterval(e),window.removeEventListener("mousemove",s)}}),[i,e,n]),(0,Bt.jsx)("div",{ref:r,style:{width:"100%",height:"100%",position:"absolute"}})};const LJ=function(t){let{isOpen:e,onClose:n,onFetchConversation:r}=t;const i=DS().domain([0,1]).range(["aqua","magenta"]),o=t=>t.map((t=>{const e=i(t["meta.toxicity"]),n=t["meta.comment_has_personal_attack"]?"font-weight: bold;":"";return'<p><span style="color: '.concat(e,"; ").concat(n,'"><b>').concat(t.speaker,":</b> ").concat(t.text,"</span></p>")})).join(""),a={modalContent:{backgroundColor:"#333",color:"white",width:"100vw",height:"100vh",margin:0,borderRadius:0,maxW:"100vw",maxH:"100vh"},header:{borderBottom:"1px solid #444",paddingBottom:"0.5rem"},footer:{borderTop:"1px solid #444",paddingTop:"0.5rem"}};return(0,Bt.jsxs)(tE,{isOpen:e,onClose:n,size:"full",children:[(0,Bt.jsx)(pE,{}),(0,Bt.jsxs)(YM,{sx:a.modalContent,children:[(0,Bt.jsx)($M,{sx:a.header,children:"Fetch Conversation"}),(0,Bt.jsx)(QM,{}),(0,Bt.jsx)(ZM,{children:(0,Bt.jsxs)(Xb,{spacing:4,children:[(0,Bt.jsx)(JM,{fontSize:"md",children:"This tool fetches conversations from the Conversations Gone Awry (CGA) corpus..."}),(0,Bt.jsx)(NJ,{onFetchConversation:r,onNodeClick:async t=>{try{const e=(await Yx.get("https://arcane-castle-52297-3d5535782e12.herokuapp.com/get-convo-by-id/".concat(t))).data,n=o(e),i=e.map((t=>"".concat(t.speaker,": ").concat(t.text))).join("\n");r({formattedText:n,plainText:i,json:e})}catch(e){console.error("Error fetching conversation:",e)}}})]})}),(0,Bt.jsx)(tA,{children:(0,Bt.jsx)(e_,{colorScheme:"blue",children:"Fetch"})})]})]})},IJ=t=>{let{plainText:e,isOpen:n,onClose:r,sessionId:i}=t;const[o,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)({status:"",message:"",valid:!1}),u=wb(),h=(0,a.useCallback)((async()=>{s(!0);try{const t=(await Yx.post("http://localhost:8000/is-mingable",{text:e,session_id:i})).data.valid;c({status:t?"success":"error",message:t?"The conversation is mingable!":"Error: Validation failed. Reason: Content is not MINGable",valid:t})}catch(t){c({status:"error",message:"Failed to verify the conversation.",valid:!1})}finally{s(!1)}}),[e,i]);(0,a.useEffect)((()=>{n&&e&&h()}),[n,e,h]);return(0,Bt.jsxs)(tE,{isOpen:n,onClose:r,size:"lg",children:[(0,Bt.jsx)(pE,{}),(0,Bt.jsxs)(YM,{style:{backgroundColor:"#4a4b52",color:"white",borderRadius:"8px"},children:[(0,Bt.jsx)($M,{children:"Verification"}),(0,Bt.jsx)(QM,{}),(0,Bt.jsx)(ZM,{children:o?(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)(Fv,{style:{color:"blue"},size:"lg"}),(0,Bt.jsx)(JM,{mt:4,children:"Verifying the conversation..."})]}):(0,Bt.jsx)(JM,{children:l.message})}),(0,Bt.jsx)(tA,{children:(0,Bt.jsx)(e_,{colorScheme:"blue",onClick:()=>{l.valid&&u("/response",{state:{text:e,session_id:i}})},isDisabled:!l.valid,children:"Go to Analysis"})})]})]})};var DJ={exit:{duration:.15,ease:eE.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},jJ={exit:t=>{let{direction:e,transition:n,transitionEnd:r,delay:i}=t;var o;const{exit:a}=aE({direction:e});return{...a,transition:null!=(o=null==n?void 0:n.exit)?o:cE(DJ.exit,i),transitionEnd:null==r?void 0:r.exit}},enter:t=>{let{direction:e,transitionEnd:n,transition:r,delay:i}=t;var o;const{enter:a}=aE({direction:e});return{...a,transition:null!=(o=null==r?void 0:r.enter)?o:lE(DJ.enter,i),transitionEnd:null==n?void 0:n.enter}}},UJ=(0,a.forwardRef)((function(t,e){const{direction:n="right",style:r,unmountOnExit:i,in:o,className:a,transition:s,transitionEnd:l,delay:c,motionProps:u,...h}=t,d=aE({direction:n}),f=Object.assign({position:"fixed"},d.position,r),p=!i||o&&i,m=o||i?"enter":"exit",g={transitionEnd:l,transition:s,direction:n,delay:c};return(0,Bt.jsx)(sy,{custom:g,children:p&&(0,Bt.jsx)(uv.div,{...h,ref:e,initial:"exit",className:Jt("chakra-slide",a),animate:m,exit:"exit",custom:g,variants:jJ,style:f,...u})})}));UJ.displayName="Slide";const FJ=t=>{let{onClose:e,conversationData:n}=t;const[r,i]=(0,a.useState)(null),[o,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[u]=(0,a.useState)(new Audio("/ming-mind-web/Window.mp3"));kv();(0,a.useEffect)((()=>{n.length>0&&(s(!0),d())}),[n]),(0,a.useEffect)((()=>{l&&h(0,1800)}),[l]);const h=(t,e)=>{u.currentTime=t,u.play().catch((t=>console.error("Audio play error:",t))),e&&setTimeout((()=>{u.pause()}),e)},d=async()=>{try{const t=f(n),e=await Yx.post("http://localhost:8000/awry-describer",{text:t});"string"===typeof e.data?i(e.data):i(JSON.stringify(e.data)),s(!1),c(!0)}catch(t){i("Failed to fetch the description."),s(!1)}},f=t=>t.map((t=>"".concat(t.speaker,": ").concat(t.text))).join("\n");return(0,Bt.jsx)(UJ,{direction:"bottom",in:l,style:{zIndex:10},unmountOnExit:!0,children:(0,Bt.jsxs)(Vb,{width:"100%",minHeight:"200px",bg:"#4a4b52",p:4,boxShadow:"md",margin:"0 auto",display:"flex",flexDirection:"column",position:"relative",children:[(0,Bt.jsx)($v,{"aria-label":"Close modal",size:"sm",position:"absolute",right:"8px",top:"8px",onClick:()=>{e(),h(2.1,0),c(!1)}}),(0,Bt.jsx)(Xb,{spacing:4,overflowY:"auto",maxHeight:"300px",width:"100%",children:o?(0,Bt.jsx)(Fv,{}):(0,Bt.jsx)(JM,{fontSize:"md",color:"white",children:r})})]})})},zJ=(t,e)=>{(0,a.useEffect)((()=>{const n='<h1>Meet MING!<strong>\ud83d\udc7e</strong><span class="cursor"></span></h1><p>M<em></em>ING<em></em> stands for multi-modal Mediator for Interlocutory<em></em> Noxiousness<em></em> and Grievances<em></em>,<em></em> and is the work of <em></em>three graduate students at <a href="https://cis.fiu.edu">The Knight Foundation<em></em> School of Computing and Information Sciences</a>.</p><p>Our stated goal when starting this project was to "explore the possible uses for generative AI in the role of <em></em>conflict mediation".</p><p>Our first problem was to find a <em></em>dataset we could use to test our system. During our search, we were delighted to find The Conversations Gone Awry Corpus.</p><p>The corpus is a collection of arguments between <em></em>Wikipedia editors, that occurred sometime around 2017. It is <em></em>annotated with toxicity scores and personal attacks.</p><p>We liked this dataset so much we created a 3d graph visualizer that shows the argumenmts grouped into topics that can be analyzed.</p><p>...Or just paste or type your own conversation gone awry HERE to get helpful feedback!</p><p>As it turns out, in Chinese the word "ming" means LIGHT, but can also mean CLEAR, perhaps somewhat similar to the english word ELUCIDATE.</p><p>Since, shedding light on difficult arguments is what hoped to achieve with this project, we thought the name MING was a perfect choice!</p><p>Welcome to the... <em><em><em>\u660e\ud83e\udde0!!! </em></em></em></p>';let r=0,i="",o="",a=!1;const s=setInterval((()=>{if(r<1451){if(e-r>20)return void clearInterval(s);const l=n[r];r++,"<"===l?a=!0:">"===l&&(a=!1),a?o+=l:o?(i+=o+l,o=""):i+=l,t(i+o)}}),.5);return()=>{clearInterval(s)}}),[t])};var BJ=t=>t?"":void 0,VJ=t=>!!t||void 0,HJ=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(Boolean).join(" ")};function qJ(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){e.some((e=>(null==e||e(t),null==t?void 0:t.defaultPrevented)))}}function WJ(t){const{orientation:e,vertical:n,horizontal:r}=t;return"vertical"===e?n:r}var GJ={width:0,height:0},XJ=t=>t||GJ;function KJ(t){const e=function(t){var e;return null!=(e=t.view)?e:window}(t);return"undefined"!==typeof e.PointerEvent&&t instanceof e.PointerEvent?!("mouse"!==t.pointerType):t instanceof e.MouseEvent}function YJ(t){return!!t.touches}function $J(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return YJ(t)?function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";const n=t.touches[0]||t.changedTouches[0];return{x:n["".concat(e,"X")],y:n["".concat(e,"Y")]}}(t,e):function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{x:t["".concat(e,"X")],y:t["".concat(e,"Y")]}}(t,e)}function QJ(t){function e(e){t(e,{point:$J(e)})}const n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?function(t){return e=>{const n=KJ(e);(!n||n&&0===e.button)&&t(e)}}(e):e;return n}function ZJ(t,e,n,r){return function(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}(t,e,QJ(n,"pointerdown"===e),r)}const JJ=1/60*1e3,t0="undefined"!==typeof performance?()=>performance.now():()=>Date.now(),e0="undefined"!==typeof window?t=>window.requestAnimationFrame(t):t=>setTimeout((()=>t(t0())),JJ);let n0=!0,r0=!1,i0=!1;const o0={delta:0,timestamp:0},a0=["read","update","preRender","render","postRender"],s0=a0.reduce(((t,e)=>(t[e]=function(t){let e=[],n=[],r=0,i=!1,o=!1;const a=new WeakSet,s={schedule:function(t){const o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=o?e:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(t),-1===s.indexOf(t)&&(s.push(t),o&&i&&(r=e.length)),t},cancel:t=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1),a.delete(t)},process:l=>{if(i)o=!0;else{if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let n=0;n<r;n++){const r=e[n];r(l),a.has(r)&&(s.schedule(r),t())}i=!1,o&&(o=!1,s.process(l))}}};return s}((()=>r0=!0)),t)),{}),l0=a0.reduce(((t,e)=>{const n=s0[e];return t[e]=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r0||d0(),n.schedule(t,e,r)},t}),{}),c0=a0.reduce(((t,e)=>(t[e]=s0[e].cancel,t)),{}),u0=(a0.reduce(((t,e)=>(t[e]=()=>s0[e].process(o0),t)),{}),t=>s0[t].process(o0)),h0=t=>{r0=!1,o0.delta=n0?JJ:Math.max(Math.min(t-o0.timestamp,40),1),o0.timestamp=t,i0=!0,a0.forEach(u0),i0=!1,r0&&(n0=!1,e0(h0))},d0=()=>{r0=!0,n0=!0,i0||e0(h0)},f0=()=>o0,p0=l0;var m0=Object.defineProperty,g0=(t,e,n)=>(((t,e,n)=>{e in t?m0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!==typeof e?e+"":e,n),n),v0=class{constructor(t,e,n){var r;if(g0(this,"history",[]),g0(this,"startEvent",null),g0(this,"lastEvent",null),g0(this,"lastEventInfo",null),g0(this,"handlers",{}),g0(this,"removeListeners",(()=>{})),g0(this,"threshold",3),g0(this,"win"),g0(this,"updatePoint",(()=>{if(!this.lastEvent||!this.lastEventInfo)return;const t=b0(this.lastEventInfo,this.history),e=null!==this.startEvent,n=function(t,e){if("number"===typeof t&&"number"===typeof e)return w0(t,e);if(S0(t)&&S0(e)){const n=w0(t.x,e.x),r=w0(t.y,e.y);return Math.sqrt(n**2+r**2)}return 0}(t.offset,{x:0,y:0})>=this.threshold;if(!e&&!n)return;const{timestamp:r}=f0();this.history.push({...t.point,timestamp:r});const{onStart:i,onMove:o}=this.handlers;e||(null==i||i(this.lastEvent,t),this.startEvent=this.lastEvent),null==o||o(this.lastEvent,t)})),g0(this,"onPointerMove",((t,e)=>{this.lastEvent=t,this.lastEventInfo=e,p0.update(this.updatePoint,!0)})),g0(this,"onPointerUp",((t,e)=>{const n=b0(e,this.history),{onEnd:r,onSessionEnd:i}=this.handlers;null==i||i(t,n),this.end(),r&&this.startEvent&&(null==r||r(t,n))})),this.win=null!=(r=t.view)?r:window,function(t){return YJ(t)&&t.touches.length>1}(t))return;this.handlers=e,n&&(this.threshold=n),t.stopPropagation(),t.preventDefault();const i={point:$J(t)},{timestamp:o}=f0();this.history=[{...i.point,timestamp:o}];const{onSessionStart:a}=e;null==a||a(t,b0(i,this.history)),this.removeListeners=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>e.reduce(((t,e)=>e(t)),t)}(ZJ(this.win,"pointermove",this.onPointerMove),ZJ(this.win,"pointerup",this.onPointerUp),ZJ(this.win,"pointercancel",this.onPointerUp))}updateHandlers(t){this.handlers=t}end(){var t;null==(t=this.removeListeners)||t.call(this),c0.update(this.updatePoint)}};function y0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function b0(t,e){return{point:t.point,delta:y0(t.point,e[e.length-1]),offset:y0(t.point,e[0]),velocity:x0(e,.1)}}var _0=t=>1e3*t;function x0(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=t[t.length-1];for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>_0(e)));)n--;if(!r)return{x:0,y:0};const o=(i.timestamp-r.timestamp)/1e3;if(0===o)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function w0(t,e){return Math.abs(t-e)}function S0(t){return"x"in t&&"y"in t}function E0(t){const e=(0,a.useRef)(null);return e.current=t,e}var T0=Boolean(null==globalThis?void 0:globalThis.document)?a.useLayoutEffect:a.useEffect;function M0(t){let{getNodes:e,observeMutation:n=!0}=t;const[r,i]=(0,a.useState)([]),[o,s]=(0,a.useState)(0);return T0((()=>{const t=e(),r=t.map(((t,e)=>function(t,e){var n;if(!t)return void e(void 0);e({width:t.offsetWidth,height:t.offsetHeight});const r=new(null!==(n=t.ownerDocument.defaultView)&&void 0!==n?n:window).ResizeObserver((n=>{if(!Array.isArray(n)||!n.length)return;const[r]=n;let i,o;if("borderBoxSize"in r){const t=r.borderBoxSize,e=Array.isArray(t)?t[0]:t;i=e.inlineSize,o=e.blockSize}else i=t.offsetWidth,o=t.offsetHeight;e({width:i,height:o})}));return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}(t,(t=>{i((n=>[...n.slice(0,e),t,...n.slice(e+1)]))}))));if(n){const e=t[0];r.push(function(t,e){var n,r;if(!t||!t.parentElement)return;const i=new(null!=(r=null==(n=t.ownerDocument)?void 0:n.defaultView)?r:window).MutationObserver((()=>{e()}));return i.observe(t.parentElement,{childList:!0}),()=>{i.disconnect()}}(e,(()=>{s((t=>t+1))})))}return()=>{r.forEach((t=>{null==t||t()}))}}),[o]),r}function A0(t,e){let n=function(t){const e=parseFloat(t);return"number"!==typeof e||Number.isNaN(e)?0:e}(t);const r=10**(null!=e?e:10);return n=Math.round(n*r)/r,e?n.toFixed(e):n.toString()}function C0(t,e,n){return 100*(t-e)/(n-e)}function k0(t,e,n){const r=Math.round((t-e)/n)*n+e,i=function(t){if(!Number.isFinite(t))return 0;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n+=1;return n}(n);return A0(r,i)}function O0(t,e,n){return null==t?t:(n<e&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(t,e),n))}function P0(t){var e;const{min:n=0,max:r=100,onChange:i,value:o,defaultValue:s,isReversed:l,direction:c="ltr",orientation:u="horizontal",id:h,isDisabled:d,isReadOnly:f,onChangeStart:p,onChangeEnd:m,step:g=1,getAriaValueText:v,"aria-valuetext":y,"aria-label":b,"aria-labelledby":_,name:x,focusThumbOnChange:w=!0,...S}=t,E=ru(p),T=ru(m),M=ru(v),A=function(t){const{isReversed:e,direction:n,orientation:r}=t;return"ltr"===n||"vertical"===r?e:!e}({isReversed:l,direction:c,orientation:u}),[C,k]=function(t){const{value:e,defaultValue:n,onChange:r,shouldUpdate:i=((t,e)=>t!==e)}=t,o=ru(r),s=ru(i),[l,c]=(0,a.useState)(n),u=void 0!==e,h=u?e:l,d=ru((t=>{const e="function"===typeof t?t(h):t;s(h,e)&&(u||c(e),o(e))}),[u,o,h,s]);return[h,d]}({value:o,defaultValue:null!=s?s:N0(n,r),onChange:i}),[O,P]=(0,a.useState)(!1),[R,N]=(0,a.useState)(!1),L=!(d||f),I=(r-n)/10,D=g||(r-n)/100,j=O0(C,n,r),U=C0(A?r-j+n:j,n,r),F="vertical"===u,z=E0({min:n,max:r,step:g,isDisabled:d,value:j,isInteractive:L,isReversed:A,isVertical:F,eventSource:null,focusThumbOnChange:w,orientation:u}),B=(0,a.useRef)(null),V=(0,a.useRef)(null),H=(0,a.useRef)(null),q=(0,a.useId)(),W=null!=h?h:q,[G,X]=["slider-thumb-".concat(W),"slider-track-".concat(W)],K=(0,a.useCallback)((t=>{var e,n;if(!B.current)return;const r=z.current;r.eventSource="pointer";const i=B.current.getBoundingClientRect(),{clientX:o,clientY:a}=null!=(n=null==(e=t.touches)?void 0:e[0])?n:t;let s=(F?i.bottom-a:o-i.left)/(F?i.height:i.width);A&&(s=1-s);let l=function(t,e,n){return(n-e)*t+e}(s,r.min,r.max);return r.step&&(l=parseFloat(k0(l,r.min,r.step))),l=O0(l,r.min,r.max),l}),[F,A,z]),Y=(0,a.useCallback)((t=>{const e=z.current;e.isInteractive&&(t=O0(t=parseFloat(k0(t,e.min,D)),e.min,e.max),k(t))}),[D,k,z]),$=(0,a.useMemo)((()=>({stepUp(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;Y(A?j-t:j+t)},stepDown(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;Y(A?j+t:j-t)},reset(){Y(s||0)},stepTo(t){Y(t)}})),[Y,A,j,D,s]),Q=(0,a.useCallback)((t=>{const e=z.current,n={ArrowRight:()=>$.stepUp(),ArrowUp:()=>$.stepUp(),ArrowLeft:()=>$.stepDown(),ArrowDown:()=>$.stepDown(),PageUp:()=>$.stepUp(I),PageDown:()=>$.stepDown(I),Home:()=>Y(e.min),End:()=>Y(e.max)}[t.key];n&&(t.preventDefault(),t.stopPropagation(),n(t),e.eventSource="keyboard")}),[$,Y,I,z]),Z=null!=(e=null==M?void 0:M(j))?e:y,J=function(t){const[e]=M0({observeMutation:!1,getNodes(){var e;return["object"===typeof(e=t)&&null!==e&&"current"in e?t.current:t]}});return e}(V),{getThumbStyle:tt,rootStyle:et,trackStyle:nt,innerTrackStyle:rt}=(0,a.useMemo)((()=>{const t=z.current,e=null!=J?J:{width:0,height:0};return function(t){const{orientation:e,thumbPercents:n,thumbRects:r,isReversed:i}=t,o="vertical"===e?r.reduce(((t,e)=>XJ(t).height>XJ(e).height?t:e),GJ):r.reduce(((t,e)=>XJ(t).width>XJ(e).width?t:e),GJ),a={position:"relative",touchAction:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",userSelect:"none",outline:0,...WJ({orientation:e,vertical:o?{paddingLeft:o.width/2,paddingRight:o.width/2}:{},horizontal:o?{paddingTop:o.height/2,paddingBottom:o.height/2}:{}})},s={position:"absolute",...WJ({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",height:"100%"},horizontal:{top:"50%",transform:"translateY(-50%)",width:"100%"}})},l=1===n.length,c=[0,i?100-n[0]:n[0]],u=l?c:n;let h=u[0];!l&&i&&(h=100-h);const d=Math.abs(u[u.length-1]-u[0]);return{trackStyle:s,innerTrackStyle:{...s,...WJ({orientation:e,vertical:i?{height:"".concat(d,"%"),top:"".concat(h,"%")}:{height:"".concat(d,"%"),bottom:"".concat(h,"%")},horizontal:i?{width:"".concat(d,"%"),right:"".concat(h,"%")}:{width:"".concat(d,"%"),left:"".concat(h,"%")}})},rootStyle:a,getThumbStyle:t=>{var i;const o=null!=(i=r[t])?i:GJ;return{position:"absolute",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",touchAction:"none",...WJ({orientation:e,vertical:{bottom:"calc(".concat(n[t],"% - ").concat(o.height/2,"px)")},horizontal:{left:"calc(".concat(n[t],"% - ").concat(o.width/2,"px)")}})}}}}({isReversed:A,orientation:t.orientation,thumbRects:[e],thumbPercents:[U]})}),[A,J,U,z]),it=(0,a.useCallback)((()=>{z.current.focusThumbOnChange&&setTimeout((()=>{var t;return null==(t=V.current)?void 0:t.focus()}))}),[z]);function ot(t){const e=K(t);null!=e&&e!==z.current.value&&k(e)}iu((()=>{const t=z.current;it(),"keyboard"===t.eventSource&&(null==T||T(t.value))}),[j,T]),function(t,e){const{onPan:n,onPanStart:r,onPanEnd:i,onPanSessionStart:o,onPanSessionEnd:s,threshold:l}=e,c=Boolean(n||r||i||o||s),u=(0,a.useRef)(null),h=E0({onSessionStart:o,onSessionEnd:s,onStart:r,onMove:n,onEnd(t,e){u.current=null,null==i||i(t,e)}});(0,a.useEffect)((()=>{var t;null==(t=u.current)||t.updateHandlers(h.current)})),(0,a.useEffect)((()=>{const e=t.current;if(e&&c)return ZJ(e,"pointerdown",(function(t){u.current=new v0(t,h.current,l)}))}),[t,c,h,l]),(0,a.useEffect)((()=>()=>{var t;null==(t=u.current)||t.end(),u.current=null}),[])}(H,{onPanSessionStart(t){const e=z.current;e.isInteractive&&(P(!0),it(),ot(t),null==E||E(e.value))},onPanSessionEnd(){const t=z.current;t.isInteractive&&(P(!1),null==T||T(t.value))},onPan(t){z.current.isInteractive&&ot(t)}});const at=(0,a.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,...S,ref:Jb(e,H),tabIndex:-1,"aria-disabled":VJ(d),"data-focused":BJ(R),style:{...t.style,...et}}}),[S,d,R,et]),st=(0,a.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,ref:Jb(e,B),id:X,"data-disabled":BJ(d),style:{...t.style,...nt}}}),[d,X,nt]),lt=(0,a.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,ref:e,style:{...t.style,...rt}}}),[rt]),ct=(0,a.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,ref:Jb(e,V),role:"slider",tabIndex:L?0:void 0,id:G,"data-active":BJ(O),"aria-valuetext":Z,"aria-valuemin":n,"aria-valuemax":r,"aria-valuenow":j,"aria-orientation":u,"aria-disabled":VJ(d),"aria-readonly":VJ(f),"aria-label":b,"aria-labelledby":b?void 0:_,style:{...t.style,...tt(0)},onKeyDown:qJ(t.onKeyDown,Q),onFocus:qJ(t.onFocus,(()=>N(!0))),onBlur:qJ(t.onBlur,(()=>N(!1)))}}),[L,G,O,Z,n,r,j,u,d,f,b,_,tt,Q]),ut=(0,a.useCallback)((function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const i=!(t.value<n||t.value>r),o=j>=t.value,a=C0(t.value,n,r),s={position:"absolute",pointerEvents:"none",...R0({orientation:u,vertical:{bottom:"".concat(A?100-a:a,"%")},horizontal:{left:"".concat(A?100-a:a,"%")}})};return{...t,ref:e,role:"presentation","aria-hidden":!0,"data-disabled":BJ(d),"data-invalid":BJ(!i),"data-highlighted":BJ(o),style:{...t.style,...s}}}),[d,A,r,n,u,j]),ht=(0,a.useCallback)((function(){return{...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,type:"hidden",value:j,name:x}}),[x,j]);return{state:{value:j,isFocused:R,isDragging:O},actions:$,getRootProps:at,getTrackProps:st,getInnerTrackProps:lt,getThumbProps:ct,getMarkerProps:ut,getInputProps:ht}}function R0(t){const{orientation:e,vertical:n,horizontal:r}=t;return"vertical"===e?n:r}function N0(t,e){return e<t?t:t+(e-t)/2}var[L0,I0]=Gt({name:"SliderContext",hookName:"useSliderContext",providerName:"<Slider />"}),[D0,j0]=Gt({name:"SliderStylesContext",hookName:"useSliderStyles",providerName:"<Slider />"}),U0=Cv(((t,e)=>{var n;const r={...t,orientation:null!=(n=null==t?void 0:t.orientation)?n:"horizontal"},i=Lv("Slider",r),o=Wn(r),{direction:a}=kv();o.direction=a;const{getInputProps:s,getRootProps:l,...c}=P0(o),u=l(),h=s({},e);return(0,Bt.jsx)(L0,{value:c,children:(0,Bt.jsx)(D0,{value:i,children:(0,Bt.jsxs)(Tv.div,{...u,className:HJ("chakra-slider",r.className),__css:i.container,children:[r.children,(0,Bt.jsx)("input",{...h})]})})})}));U0.displayName="Slider";var F0=Cv(((t,e)=>{const{getThumbProps:n}=I0(),r=j0(),i=n(t,e);return(0,Bt.jsx)(Tv.div,{...i,className:HJ("chakra-slider__thumb",t.className),__css:r.thumb})}));F0.displayName="SliderThumb";var z0=Cv(((t,e)=>{const{getTrackProps:n}=I0(),r=j0(),i=n(t,e);return(0,Bt.jsx)(Tv.div,{...i,className:HJ("chakra-slider__track",t.className),__css:r.track})}));z0.displayName="SliderTrack";var B0=Cv(((t,e)=>{const{getInnerTrackProps:n}=I0(),r=j0(),i=n(t,e);return(0,Bt.jsx)(Tv.div,{...i,className:HJ("chakra-slider__filled-track",t.className),__css:r.filledTrack})}));B0.displayName="SliderFilledTrack";var V0=Cv(((t,e)=>{const{getMarkerProps:n}=I0(),r=j0(),i=n(t,e);return(0,Bt.jsx)(Tv.div,{...i,className:HJ("chakra-slider__marker",t.className),__css:r.mark})}));V0.displayName="SliderMark";var[H0,q0]=Gt({name:"CheckboxGroupContext",strict:!1});function W0(t){return(0,Bt.jsx)(Tv.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...t,children:(0,Bt.jsx)("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function G0(t){return(0,Bt.jsx)(Tv.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...t,children:(0,Bt.jsx)("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function X0(t){const{isIndeterminate:e,isChecked:n,...r}=t,i=e?G0:W0;return n||e?(0,Bt.jsx)(Tv.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:(0,Bt.jsx)(i,{...r})}):null}var[K0,Y0]=Gt({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[$0,Q0]=Gt({strict:!1,name:"FormControlContext"});var Z0=Cv((function(t,e){const n=Lv("Form",t),r=Wn(t),{getRootProps:i,htmlProps:o,...s}=function(t){const{id:e,isRequired:n,isInvalid:r,isDisabled:i,isReadOnly:o,...s}=t,l=(0,a.useId)(),c=e||"field-".concat(l),u="".concat(c,"-label"),h="".concat(c,"-feedback"),d="".concat(c,"-helptext"),[f,p]=(0,a.useState)(!1),[m,g]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),b=(0,a.useCallback)((function(){return{id:d,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:Jb(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(t=>{t&&g(!0)}))}}),[d]),_=(0,a.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,ref:e,"data-focus":re(v),"data-disabled":re(i),"data-invalid":re(r),"data-readonly":re(o),id:void 0!==t.id?t.id:u,htmlFor:void 0!==t.htmlFor?t.htmlFor:c}}),[c,i,v,r,o,u]),x=(0,a.useCallback)((function(){return{id:h,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:Jb(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(t=>{t&&p(!0)})),"aria-live":"polite"}}),[h]),w=(0,a.useCallback)((function(){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},...s,ref:t,role:"group","data-focus":re(v),"data-disabled":re(i),"data-invalid":re(r),"data-readonly":re(o)}}),[s,i,v,r,o]),S=(0,a.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,ref:e,role:"presentation","aria-hidden":!0,children:t.children||"*"}}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!o,isDisabled:!!i,isFocused:!!v,onFocus:()=>y(!0),onBlur:()=>y(!1),hasFeedbackText:f,setHasFeedbackText:p,hasHelpText:m,setHasHelpText:g,id:c,labelId:u,feedbackId:h,helpTextId:d,htmlProps:s,getHelpTextProps:b,getErrorMessageProps:x,getRootProps:w,getLabelProps:_,getRequiredIndicatorProps:S}}(r),l=Jt("chakra-form-control",t.className);return(0,Bt.jsx)($0,{value:s,children:(0,Bt.jsx)(K0,{value:n,children:(0,Bt.jsx)(Tv.div,{...i({},e),className:l,__css:n.container})})})}));Z0.displayName="FormControl";var J0=Cv((function(t,e){const n=Q0(),r=Y0(),i=Jt("chakra-form__helper-text",t.className);return(0,Bt.jsx)(Tv.div,{...null==n?void 0:n.getHelpTextProps(t,e),__css:r.helperText,className:i})}));function t1(t){var e,n,r;const i=Q0(),{id:o,disabled:a,readOnly:s,required:l,isRequired:c,isInvalid:u,isReadOnly:h,isDisabled:d,onFocus:f,onBlur:p,...m}=t,g=t["aria-describedby"]?[t["aria-describedby"]]:[];return(null==i?void 0:i.hasFeedbackText)&&(null==i?void 0:i.isInvalid)&&g.push(i.feedbackId),(null==i?void 0:i.hasHelpText)&&g.push(i.helpTextId),{...m,"aria-describedby":g.join(" ")||void 0,id:null!=o?o:null==i?void 0:i.id,isDisabled:null!=(e=null!=a?a:d)?e:null==i?void 0:i.isDisabled,isReadOnly:null!=(n=null!=s?s:h)?n:null==i?void 0:i.isReadOnly,isRequired:null!=(r=null!=l?l:c)?r:null==i?void 0:i.isRequired,isInvalid:null!=u?u:null==i?void 0:i.isInvalid,onFocus:ie(null==i?void 0:i.onFocus,f),onBlur:ie(null==i?void 0:i.onBlur,p)}}J0.displayName="FormHelperText";var e1={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};var n1=()=>"undefined"!==typeof document;var r1=!1,i1=null,o1=!1,a1=!1,s1=new Set;function l1(t,e){s1.forEach((n=>n(t,e)))}var c1="undefined"!==typeof window&&null!=window.navigator&&/^Mac/.test(window.navigator.platform);function u1(t){var e;o1=!0,(e=t).metaKey||!c1&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key||(i1="keyboard",l1("keyboard",t))}function h1(t){if(i1="pointer","mousedown"===t.type||"pointerdown"===t.type){o1=!0;const e=t.composedPath?t.composedPath()[0]:t.target;let n=!1;try{n=e.matches(":focus-visible")}catch{}if(n)return;l1("pointer",t)}}function d1(t){var e;(0===(e=t).mozInputSource&&e.isTrusted||0===e.detail&&!e.pointerType)&&(o1=!0,i1="virtual")}function f1(t){t.target!==window&&t.target!==document&&(o1||a1||(i1="virtual",l1("virtual",t)),o1=!1,a1=!1)}function p1(){o1=!1,a1=!0}function m1(){return"pointer"!==i1}function g1(){if(!n1()||r1)return;const{focus:t}=HTMLElement.prototype;HTMLElement.prototype.focus=function(){o1=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(this,n)},document.addEventListener("keydown",u1,!0),document.addEventListener("keyup",u1,!0),document.addEventListener("click",d1,!0),window.addEventListener("focus",f1,!0),window.addEventListener("blur",p1,!1),"undefined"!==typeof PointerEvent?(document.addEventListener("pointerdown",h1,!0),document.addEventListener("pointermove",h1,!0),document.addEventListener("pointerup",h1,!0)):(document.addEventListener("mousedown",h1,!0),document.addEventListener("mousemove",h1,!0),document.addEventListener("mouseup",h1,!0)),r1=!0}function v1(t){g1(),t(m1());const e=()=>t(m1());return s1.add(e),()=>{s1.delete(e)}}function y1(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=t1(t),{isDisabled:n,isReadOnly:r,isRequired:i,isInvalid:o,id:s,onBlur:l,onFocus:c,"aria-describedby":u}=e,{defaultChecked:h,isChecked:d,isFocusable:f,onChange:p,isIndeterminate:m,name:g,value:v,tabIndex:y,"aria-label":b,"aria-labelledby":_,"aria-invalid":x,...w}=t,S=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}(w,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),E=ru(p),T=ru(l),M=ru(c),[A,C]=(0,a.useState)(!1),[k,O]=(0,a.useState)(!1),[P,R]=(0,a.useState)(!1),[N,L]=(0,a.useState)(!1);(0,a.useEffect)((()=>v1(C)),[]);const I=(0,a.useRef)(null),[D,j]=(0,a.useState)(!0),[U,F]=(0,a.useState)(!!h),z=void 0!==d,B=z?d:U,V=(0,a.useCallback)((t=>{r||n?t.preventDefault():(z||F(B?t.target.checked:!!m||t.target.checked),null==E||E(t))}),[r,n,B,z,m,E]);sr((()=>{I.current&&(I.current.indeterminate=Boolean(m))}),[m]),iu((()=>{n&&O(!1)}),[n,O]),sr((()=>{const t=I.current;if(!(null==t?void 0:t.form))return;const e=()=>{F(!!h)};return t.form.addEventListener("reset",e),()=>{var n;return null==(n=t.form)?void 0:n.removeEventListener("reset",e)}}),[]);const H=n&&!f,q=(0,a.useCallback)((t=>{" "===t.key&&L(!0)}),[L]),W=(0,a.useCallback)((t=>{" "===t.key&&L(!1)}),[L]);sr((()=>{if(!I.current)return;I.current.checked!==B&&F(I.current.checked)}),[I.current]);const G=(0,a.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,ref:e,"data-active":re(N),"data-hover":re(P),"data-checked":re(B),"data-focus":re(k),"data-focus-visible":re(k&&A),"data-indeterminate":re(m),"data-disabled":re(n),"data-invalid":re(o),"data-readonly":re(r),"aria-hidden":!0,onMouseDown:ie(t.onMouseDown,(t=>{k&&t.preventDefault(),L(!0)})),onMouseUp:ie(t.onMouseUp,(()=>L(!1))),onMouseEnter:ie(t.onMouseEnter,(()=>R(!0))),onMouseLeave:ie(t.onMouseLeave,(()=>R(!1)))}}),[N,B,n,k,A,P,m,o,r]),X=(0,a.useCallback)((function(){return{...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,"data-active":re(N),"data-hover":re(P),"data-checked":re(B),"data-focus":re(k),"data-focus-visible":re(k&&A),"data-indeterminate":re(m),"data-disabled":re(n),"data-invalid":re(o),"data-readonly":re(r)}}),[N,B,n,k,A,P,m,o,r]),K=(0,a.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...S,...t,ref:Jb(e,(t=>{t&&j("LABEL"===t.tagName)})),onClick:ie(t.onClick,(()=>{var t;D||(null==(t=I.current)||t.click(),requestAnimationFrame((()=>{var t;null==(t=I.current)||t.focus({preventScroll:!0})})))})),"data-disabled":re(n),"data-checked":re(B),"data-invalid":re(o)}}),[S,n,B,o,D]),Y=(0,a.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,ref:Jb(I,e),type:"checkbox",name:g,value:v,id:s,tabIndex:y,onChange:ie(t.onChange,V),onBlur:ie(t.onBlur,T,(()=>O(!1))),onFocus:ie(t.onFocus,M,(()=>O(!0))),onKeyDown:ie(t.onKeyDown,q),onKeyUp:ie(t.onKeyUp,W),required:i,checked:B,disabled:H,readOnly:r,"aria-label":b,"aria-labelledby":_,"aria-invalid":x?Boolean(x):o,"aria-describedby":u,"aria-disabled":n,style:e1}}),[g,v,s,V,T,M,q,W,i,B,H,r,b,_,x,o,u,n,y]),$=(0,a.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,ref:e,onMouseDown:ie(t.onMouseDown,b1),"data-disabled":re(n),"data-checked":re(B),"data-invalid":re(o)}}),[B,n,o]);return{state:{isInvalid:o,isFocused:k,isChecked:B,isActive:N,isHovered:P,isIndeterminate:m,isDisabled:n,isReadOnly:r,isRequired:i},getRootProps:K,getCheckboxProps:G,getIndicatorProps:X,getInputProps:Y,getLabelProps:$,htmlProps:S}}function b1(t){t.preventDefault(),t.stopPropagation()}var _1={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},x1={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},w1=Ut({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),S1=Ut({from:{opacity:0},to:{opacity:1}}),E1=Ut({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),T1=Cv((function(t,e){const n=q0(),r=Lv("Checkbox",{...n,...t}),i=Wn(t),{spacing:o="0.5rem",className:s,children:l,iconColor:c,iconSize:u,icon:h=(0,Bt.jsx)(X0,{}),isChecked:d,isDisabled:f=(null==n?void 0:n.isDisabled),onChange:p,inputProps:m,...g}=i;let v=d;(null==n?void 0:n.value)&&i.value&&(v=n.value.includes(i.value));let y=p;(null==n?void 0:n.onChange)&&i.value&&(y=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){e.forEach((e=>{null==e||e(t)}))}}(n.onChange,p));const{state:b,getInputProps:_,getCheckboxProps:x,getLabelProps:w,getRootProps:S}=y1({...g,isDisabled:f,isChecked:v,onChange:y}),E=function(t){const[e,n]=(0,a.useState)(t),[r,i]=(0,a.useState)(!1);return t!==e&&(i(!0),n(t)),r}(b.isChecked),T=(0,a.useMemo)((()=>({animation:E?b.isIndeterminate?"".concat(S1," 20ms linear, ").concat(E1," 200ms linear"):"".concat(w1," 200ms linear"):void 0,fontSize:u,color:c,...r.icon})),[c,u,E,b.isIndeterminate,r.icon]),M=(0,a.cloneElement)(h,{__css:T,isIndeterminate:b.isIndeterminate,isChecked:b.isChecked});return(0,Bt.jsxs)(Tv.label,{__css:{...x1,...r.container},className:Jt("chakra-checkbox",s),...S(),children:[(0,Bt.jsx)("input",{className:"chakra-checkbox__input",..._(m,e)}),(0,Bt.jsx)(Tv.span,{__css:{..._1,...r.control},className:"chakra-checkbox__control",...x(),children:M}),l&&(0,Bt.jsx)(Tv.span,{className:"chakra-checkbox__label",...w(),__css:{marginStart:o,...r.label},children:l})]})}));T1.displayName="Checkbox";const M1=function(t){let{isOpen:e,onClose:n,onFetchConversation:r}=t;const[i,o]=(0,a.useState)(0),[s,l]=(0,a.useState)(0),[c,u]=(0,a.useState)(!1),h=DS().domain([0,1]).range(["aqua","magenta"]),d=t=>t.map((t=>{const e=h(t["meta.toxicity"]),n=t["meta.comment_has_personal_attack"]?"font-weight: bold;":"";return'<p><span style="color: '.concat(e,"; ").concat(n,'"><b>').concat(t.speaker,":</b> ").concat(t.text,"</span></p>")})).join(""),f={modalContent:{backgroundColor:"#333",color:"white",borderRadius:"8px"},header:{borderBottom:"1px solid #444",paddingBottom:"0.5rem"},footer:{borderTop:"1px solid #444",paddingTop:"0.5rem"},sliderTrack:{backgroundColor:"#555"},sliderFilled:{backgroundColor:"#4A90E2"},sliderThumb:{backgroundColor:"#4A90E2"}};return(0,Bt.jsxs)(tE,{isOpen:e,onClose:n,children:[(0,Bt.jsx)(pE,{}),(0,Bt.jsxs)(YM,{sx:f.modalContent,children:[(0,Bt.jsx)($M,{sx:f.header,children:"Fetch Conversation"}),(0,Bt.jsx)(QM,{}),(0,Bt.jsx)(ZM,{children:(0,Bt.jsxs)(Xb,{spacing:4,children:[(0,Bt.jsxs)(JM,{children:["Minimum Toxicity Score (0 to 1): ",i.toFixed(1)]}),(0,Bt.jsx)(JM,{children:"This tool fetches conversations from the Conversations Gone Awry (CGA) corpus, a dataset used to study how online interactions can escalate into toxic or harmful exchanges."}),(0,Bt.jsx)(JM,{children:"Minimum Toxicity Score (0 to 1):"}),(0,Bt.jsxs)(U0,{value:i,onChange:o,min:0,max:1,step:.1,children:[(0,Bt.jsx)(z0,{children:(0,Bt.jsx)(B0,{})}),(0,Bt.jsx)(F0,{})]}),(0,Bt.jsxs)(JM,{children:["Minimum Number of Messages: ",s]}),(0,Bt.jsxs)(U0,{value:s,onChange:l,min:0,max:100,step:1,children:[(0,Bt.jsx)(z0,{children:(0,Bt.jsx)(B0,{})}),(0,Bt.jsx)(F0,{})]}),(0,Bt.jsxs)(T1,{isChecked:c,onChange:t=>u(t.target.checked),children:["Include Personal Attacks: ",c?"Yes":"No"]})]})}),(0,Bt.jsx)(tA,{children:(0,Bt.jsx)(e_,{colorScheme:"blue",onClick:async()=>{try{const t=await Yx.get("http://localhost:8000/get-convo",{params:{"min-toxicity":i,"min-messages":s,"has-personal-attack":c}}),e=d(t.data),o=t.data.map((t=>"".concat(t.speaker,": ").concat(t.text))).join("\n");r({formattedText:e,plainText:o,json:t.data}),n()}catch(t){console.error("Error fetching conversation:",t)}},children:"Fetch"})})]})]})};const A1=function(){const[t,e]=(0,a.useState)(""),[n,r]=(0,a.useState)(""),[i,o]=(0,a.useState)([]),[s,l]=(0,a.useState)(""),[c,u]=(0,a.useState)(!1),[h,d]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1),m=(0,a.useRef)(null),g=t=>{e(t.plainText),r(t.formattedText),o(t.json),t.sessionId&&l(t.sessionId),u(!1)};return zJ(r,n.length),(0,Bt.jsxs)(Vb,{w:"100vw",h:"100vh",bg:"#4a4b52",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",children:[(0,Bt.jsxs)(Xb,{spacing:4,w:"100%",h:"100%",children:[(0,Bt.jsx)(Vb,{sx:{".quill":{border:"none",fontFamily:"'Press Start 2P', monospace"},".ql-editor":{height:"calc(100vh - 50px)",backgroundColor:"#4a4b52",color:"white"},".ql-toolbar":{display:"none"}},w:"100%",h:"100%",children:(0,Bt.jsx)(i_(),{ref:m,value:n,onChange:t=>{r(t),e((t=>{const e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText||""})(t))},readOnly:!1,theme:"snow"})}),(0,Bt.jsxs)(Kb,{position:"absolute",bottom:"20px",children:[(0,Bt.jsx)(e_,{colorScheme:"green",onClick:()=>{p(!0)},children:"MING this convo!"}),(0,Bt.jsx)(e_,{colorScheme:"purple",onClick:()=>u(!0),children:"Enter the Noxious Nebula!"}),(0,Bt.jsx)(e_,{colorScheme:"teal",onClick:()=>d(!0),children:"Load Random Convo from Corpus"})]})]}),(0,Bt.jsx)(LJ,{isOpen:c,onClose:()=>u(!1),onFetchConversation:g}),(0,Bt.jsx)(M1,{isOpen:h,onClose:()=>d(!1),onFetchConversation:g}),(0,Bt.jsx)(IJ,{plainText:t,isOpen:f,onClose:()=>p(!1),sessionId:s||""}),(0,Bt.jsx)(FJ,{onClose:()=>{},conversationData:i})]})};var C1=Cv((function(t,e){const{className:n,centerContent:r,...i}=Wn(t),o=Nv("Container",t);return(0,Bt.jsx)(Tv.div,{ref:e,className:Jt("chakra-container",n),...i,__css:{...o,...r&&{display:"flex",flexDirection:"column",alignItems:"center"}}})}));C1.displayName="Container";const k1=t=>{let{isOpen:e,onIdentificationComplete:n,text:r,setUserChoicePrompt:i}=t;const[o,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),[u,h]=(0,a.useState)([]),[d,f]=(0,a.useState)([]),[p,m]=(0,a.useState)("");(0,a.useEffect)((()=>(e&&r&&(s(!0),g()),()=>{e||(s(!1),c(null),h([]),f([]),m(""))})),[e,r]);const g=async()=>{s(!0);try{const t=(await Yx.post("http://localhost:8000/id-interlocutors",{text:r})).data.result.split("||");if(!(t.length>=5))throw new Error("Invalid data format");h([t[0],t[1]]),f([t[2],t[3]]),m(t[4])}catch(l){c("Error identifying interlocutors.")}finally{s(!1)}},v=t=>{i("You have selected: ".concat(t)),n(t,u,d)},y=Zt("#2D3748","#1A202C"),b=Zt("#FFFFFF","#E2E8F0"),_={backgroundColor:"#4A5568",color:"white",margin:"5px",_hover:{bg:"#718096"}};return(0,Bt.jsxs)(tE,{isOpen:e,onClose:()=>{},size:"lg",isCentered:!0,closeOnOverlayClick:!1,children:[(0,Bt.jsx)(pE,{}),(0,Bt.jsxs)(YM,{bg:y,children:[(0,Bt.jsx)($M,{color:b,children:"Getting to know you..."}),(0,Bt.jsx)(QM,{}),(0,Bt.jsx)(ZM,{children:o?(0,Bt.jsx)(Fv,{color:"blue.500",size:"lg"}):l?(0,Bt.jsxs)(Wv,{status:"error",children:[(0,Bt.jsx)(Gv,{}),l]}):(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)(JM,{color:b,children:p}),u.map(((t,e)=>(0,Bt.jsx)(e_,{colorScheme:"blue",style:_,onClick:()=>v(t),children:t},e))),(0,Bt.jsx)(e_,{colorScheme:"blue",style:_,onClick:()=>v("Neither"),children:"Neither"})]})})]})]})},O1=t=>{let{interlocutor:e,text:n,factors:r}=t;const[i,o]=(0,a.useState)(null),[s,l]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{e&&n&&r.length&&(async()=>{u(!0);try{const t=(await Yx.post("http://localhost:8000/feedback",{interlocutor:e,text:n,factor1:r[0],factor2:r[1]})).data.result;if(!(t.length>=3))throw new Error("Invalid feedback data format");o({message:t})}catch(s){l("Failed to get feedback.")}u(!1)})()}),[e,n,r]),(0,Bt.jsx)(Vb,{bg:"#2D3748",color:"#fff",p:4,borderRadius:"lg",my:4,children:c?(0,Bt.jsx)(Fv,{color:"blue.500"}):s?(0,Bt.jsxs)(Wv,{status:"error",children:[(0,Bt.jsx)(Gv,{}),(0,Bt.jsx)(Kv,{children:s})]}):(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)(JM,{fontSize:"xl",fontWeight:"bold",mb:4,children:"Feedback"}),i&&i.message.split("\n").filter((t=>""!==t.trim())).map(((t,e)=>(0,Bt.jsx)(JM,{children:t},e)))]})})};var P1=n(6364),R1=n.n(P1),N1=n(5687),L1=n.n(N1),I1=n(6933),D1=n.n(I1),j1=n(2007),U1=n.n(j1),F1=n(4064),z1=n.n(F1);function B1(t){return function(t){if(Array.isArray(t))return V1(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return V1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V1(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V1(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H1(t){return Array.isArray(t)&&t.length>0}function q1(t){return Array.isArray(t)&&t.some((function(t){return"string"===typeof t}))}function W1(t){return Array.isArray(t)&&t.some((function(t){return t instanceof Date}))}function G1(t){return H1(t)&&t.every(Array.isArray)}function X1(t){return t.filter((function(t){return void 0!==t}))}function K1(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=t.concat(n);return W1(i)?new Date(Math.max.apply(Math,B1(i))):Math.max.apply(Math,B1(i))}function Y1(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=t.concat(n);return W1(i)?new Date(Math.min.apply(Math,B1(i))):Math.min.apply(Math,B1(i))}var $1=n(2742),Q1=n.n($1),Z1=n(2100),J1=n.n(Z1);function t2(t,e){return(t.key||e).toString()}function e2(t){return t.reduce((function(t,e,n){return t[t2(e,n)]=e,t}),{})}function n2(t,e){var n=!1,r=Q1()(t).reduce((function(t,r){return r in e||(n=!0,t[r]=!0),t}),{});return n&&r}function r2(t){return t.type&&t.type.getData?t.type.getData(t.props):t.props&&t.props.data||!1}function i2(t,e){var n=!1,r=!1,i=function(t,e){if(!e||t.type!==e.type)return{};var i=function(t,e){var n=t&&e2(t),r=e&&e2(e);return{entering:n&&n2(r,n),exiting:r&&n2(n,r)}}(r2(t),r2(e))||{},o=i.entering,a=i.exiting;return n=n||!!a,r=r||!!o,{entering:o||!1,exiting:a||!1}},o=function(t,e){return t.map((function(n,r){return n&&n.props&&n.props.children&&e[r]?o(a.Children.toArray(t[r].props.children),a.Children.toArray(e[r].props.children)):i(n,e[r])}))},s=o(a.Children.toArray(t),a.Children.toArray(e));return{nodesWillExit:n,nodesWillEnter:r,childrenTransitions:s,nodesShouldEnter:!1}}function o2(t,e,n){var r=e&&e.nodesWillExit,i=e&&e.nodesWillEnter,o=e&&e.nodesShouldEnter,a=e&&e.nodesShouldLoad,s=e&&e.nodesDoneLoad,l=e&&e.childrenTransitions||[],c={enter:t.animate&&t.animate.onEnter&&t.animate.onEnter.duration,exit:t.animate&&t.animate.onExit&&t.animate.onExit.duration,load:t.animate&&t.animate.onLoad&&t.animate.onLoad.duration,move:t.animate&&t.animate.duration},u=function(t,e,r){return a?function(t,e,n){if((t=L1()({},t,{onEnd:n}))&&t.onLoad&&!t.onLoad.duration)return{animate:t,data:e};var r=t.onLoad&&t.onLoad.after?t.onLoad.after:J1();return{animate:t,data:e=e.map((function(t,n){return L1()({},t,r(t,n,e))}))}}(r,e,(function(){n({nodesShouldLoad:!1,nodesDoneLoad:!0})})):function(t,e,n,r){if((t=L1()({},t,{onEnd:r}))&&t.onLoad&&!t.onLoad.duration)return{animate:t,data:n};var i=t.onLoad&&t.onLoad.before?t.onLoad.before:J1();return{animate:t,data:n=n.map((function(t,e){return L1()({},t,i(t,e,n))})),clipWidth:0}}(r,0,e,(function(){n({nodesDoneLoad:!0})}))},h=function(t,e,r,i){return function(t,e,n,r,i){var o=t&&t.onExit;if(t=L1()({},t,o),r){t.onEnd=i;var a=t.onExit&&t.onExit.before?t.onExit.before:J1();n=n.map((function(t,e){var i=(t.key||e).toString();return r[i]?L1()({},t,a(t,e,n)):t}))}return{animate:t,data:n}}(i,0,r,t,(function(){n({nodesWillExit:!1})}))},d=function(t,e,r,i){return o?function(t,e,n,r){var i=t&&t.onEnter;if(t=L1()({},t,i),n){t.onEnd=r;var o=t.onEnter&&t.onEnter.after?t.onEnter.after:J1();e=e.map((function(t,r){var i=t2(t,r);return n[i]?L1()({},t,o(t,r,e)):t}))}return{animate:t,data:e}}(i,r,t,(function(){n({nodesWillEnter:!1})})):function(t,e,n,r,i){if(r){var o=(t=L1()({},t,{onEnd:i})).onEnter&&t.onEnter.before?t.onEnter.before:J1();n=n.map((function(t,e){var i=(t.key||e).toString();return r[i]?L1()({},t,o(t,e,n)):t}))}return{animate:t,data:n}}(i,0,r,t,(function(){n({nodesShouldEnter:!0})}))},f=function(t,e){var n=t.props.animate;if(!t.type)return{};var r=t.props&&t.props.polar&&t.type.defaultPolarTransitions||t.type.defaultTransitions;if(r){var i=n[e]&&n[e].duration;return void 0!==i?i:r[e]&&r[e].duration}return{}};return function(n,a){var p=r2(n)||[],m=D1()({},t.animate,n.props.animate),g=n.props.polar&&n.type.defaultPolarTransitions||n.type.defaultTransitions;m.onExit=D1()({},m.onExit,g&&g.onExit),m.onEnter=D1()({},m.onEnter,g&&g.onEnter),m.onLoad=D1()({},m.onLoad,g&&g.onLoad);var v=l[a]||l[0];if(!s){var y={duration:void 0!==c.load?c.load:f(n,"onLoad")};return u(0,p,L1()({},m,y))}if(r){var b=v&&v.exiting,_=void 0!==c.exit?c.exit:f(n,"onExit"),x=b?{duration:_}:{delay:_};return h(b,0,p,L1()({},m,x))}if(i){var w=v&&v.entering,S=void 0!==c.enter?c.enter:f(n,"onEnter"),E=void 0!==c.move?c.move:n.props.animate&&n.props.animate.duration,T={duration:o&&w?S:E};return d(w,0,p,L1()({},m,T))}return!e&&m&&m.onExit?function(t,e){var n=t.onEnter&&t.onEnter.after?t.onEnter.after:J1();return{data:e.map((function(t,r){return L1()({},t,n(t,r,e))}))}}(m,p):{animate:m,data:p}}}function a2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s2(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a2(Object(n),!0).forEach((function(e){l2(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c2(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(oct){s=!0,i=oct}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return u2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u2(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u2(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h2={nodesShouldLoad:!1,nodesDoneLoad:!1,animating:!0},d2=n(6460),f2=n.n(d2),p2=n(38),m2=n.n(p2),g2=n(4786),v2=n.n(g2);function y2(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function b2(t){var e=function(t){return void 0!==t},n=t._x,r=t._x1,i=t._x0,o=t._voronoiX,a=t._y,s=t._y1,l=t._y0,c=t._voronoiY,u=e(r)?r:n,h=e(s)?s:a,d={x:e(o)?o:u,x0:e(i)?i:n,y:e(c)?c:h,y0:e(l)?l:a};return D1()({},d,t)}function _2(t,e){var n=t.scale,r=t.polar,i=t.horizontal,o=b2(e),a=t.origin||{x:0,y:0},s=i?n.y(o.y):n.x(o.x),l=i?n.y(o.y0):n.x(o.x0),c=i?n.x(o.x):n.y(o.y),u=i?n.x(o.x0):n.y(o.y0);return{x:r?c*Math.cos(s)+a.x:s,x0:r?u*Math.cos(l)+a.x:l,y:r?-c*Math.sin(s)+a.y:c,y0:r?-u*Math.sin(l)+a.x:u}}function x2(t){var e=t[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"padding"],n="number"===typeof e?e:0,r="object"===typeof e?e:{};return{top:r.top||n,bottom:r.bottom||n,left:r.left||n,right:r.right||n}}function w2(t){return"tooltip"===(t&&t.type&&t.type.role)}function S2(t,e){return v2()(t)?t(e):t}function E2(t,e){return e.disableInlineStyles?{}:t&&Q1()(t).some((function(e){return v2()(t[e])}))?Q1()(t).reduce((function(n,r){return n[r]=S2(t[r],e),n}),{}):t}function T2(t){return"number"===typeof t?t*(Math.PI/180):t}function M2(t){return"number"===typeof t?t/(Math.PI/180):t}function A2(t){var e=x2(t),n=e.left,r=e.right,i=e.top,o=e.bottom,a=t.width,s=t.height;return Math.min(a-n-r,s-i-o)/2}function C2(t){var e=t.width,n=t.height,r=x2(t),i=r.top,o=r.bottom,a=r.left,s=r.right,l=Math.min(e-a-s,n-i-o)/2,c=e/2+a-s,u=n/2+i-o;return{x:c+l>e?l+a-s:c,y:u+l>n?l+i-o:u}}function k2(t,e){return t.range&&t.range[e]?t.range[e]:t.range&&Array.isArray(t.range)?t.range:t.polar?function(t,e){return"x"===e?[T2(t.startAngle||0),T2(t.endAngle||360)]:[t.innerRadius||0,A2(t)]}(t,e):function(t,e){var n="x"!==e,r=x2(t);return n?[t.height-r.bottom,r.top]:[r.left,t.width-r.right]}(t,e)}function O2(t){return v2()(t)?t:null===t||void 0===t?function(t){return t}:m2()(t)}function P2(t,e,n){var r=y2(t.theme&&t.theme[n]?t.theme[n]:{},["style"]),i=function(t){if(void 0!==t.horizontal||!t.children)return t.horizontal;var e=function(t){return t.reduce((function(t,n){var r=n.props||{};return t||r.horizontal||!r.children?t=t||r.horizontal:e(a.Children.toArray(r.children))}),!1)};return e(a.Children.toArray(t.children))}(t),o=void 0===i?{}:{horizontal:i};return D1()(o,t,r,e)}function R2(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(t,e){return t.concat(e)},o=["data","domain","categories","polar","startAngle","endAngle","minDomain","maxDomain","horizontal"],s=function(t,l,c){return t.reduce((function(t,r,u){var h=r.type&&r.type.role,d=r.props.name||"".concat(h,"-").concat(l[u]);if(r.props&&r.props.children){var f=L1()({},r.props,f2()(n,o)),p=r.type&&"stack"===r.type.role&&v2()(r.type.getChildren)?r.type.getChildren(f):a.Children.toArray(r.props.children).map((function(t){var e=L1()({},t.props,f2()(f,o));return a.cloneElement(t,e)})),m=p.map((function(t,e){return"".concat(d,"-").concat(e)})),g=s(p,m,r);t=i(t,g)}else{var v=e(r,d,c);v&&(t=i(t,v))}return t}),r)},l=t.map((function(t,e){return e}));return s(t,l)}function N2(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(oct){s=!0,i=oct}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return L2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L2(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L2(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j2={startsWith:["data-","aria-"],exactMatch:[]},U2=function(t){return!(!function(t){var e=!1;return j2.startsWith.forEach((function(n){new RegExp("\\b(".concat(n,")(\\w|-)+"),"g").test(t)&&(e=!0)})),e}(t)&&!function(t){return j2.exactMatch.includes(t)}(t))},F2=function(t,e){return"function"===typeof t?t(e):t},z2=function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I2(Object(n),!0).forEach((function(e){D2(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t);return Object.fromEntries(Object.entries(e).filter((function(t){var e=N2(t,1)[0];return U2(e)})).map((function(e){var n=N2(e,2),r=n[0],i=n[1];return[r,F2(i,t)]})))},B2=n(3977),V2=n.n(B2),H2=n(2063),q2=n.n(H2),W2=n(6339),G2=n.n(W2),X2=n(8444),K2=n.n(X2),Y2=n(2064),$2=n.n(Y2),Q2=n(5506),Z2=n.n(Q2),J2=n(1761),t5=n.n(J2),e5=n(806),n5=n.n(e5),r5=n(5812),i5=n.n(r5),o5=n(6222),a5=n.n(o5),s5=n(5417),l5=n.n(s5),c5=n(8092),u5=n.n(c5),h5=n(6609),d5=n.n(h5),f5=n(1139),p5=n.n(f5),m5=n(4417),g5=n.n(m5),v5=(n(2530),n(8111)),y5=n.n(v5),b5=n(5727),_5=n.n(b5);function x5(){var t,e,n=_U().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function h(){var n=r().length,h=a<o,d=h?a:o,f=h?o:a;t=(f-d)/Math.max(1,n-l+2*c),s&&(t=Math.floor(t)),d+=(f-d-t*(n-l))*u,e=t*(1-l),s&&(d=Math.round(d),e=Math.round(e));var p=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}(n).map((function(e){return d+t*e}));return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,h()):[o,a]},n.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,s=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,h()):s},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),h()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),h()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),h()):u},n.copy=function(){return x5(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},vS.apply(h(),arguments)}function w5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return w5(e())},t}function S5(){return w5(x5.apply(null,arguments).paddingInner(1))}function E5(t){var e;function n(t){return null==t||isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,lS),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return E5(t).unknown(e)},t=arguments.length?Array.from(t,lS):[0,1],IS(n)}function T5(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function M5(t){return Math.log(t)}function A5(t){return Math.exp(t)}function C5(t){return-Math.log(-t)}function k5(t){return-Math.exp(-t)}function O5(t){return isFinite(t)?+("1e"+t):t<0?0:t}function P5(t){return(e,n)=>-t(-e,n)}function R5(t){const e=t(M5,A5),n=e.domain;let r,i,o=10;function a(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(o),i=function(t){return 10===t?O5:t===Math.E?Math.exp:e=>Math.pow(t,e)}(o),n()[0]<0?(r=P5(r),i=P5(i),t(C5,k5)):t(M5,A5),e}return e.base=function(t){return arguments.length?(o=+t,a()):o},e.domain=function(t){return arguments.length?(n(t),a()):n()},e.ticks=t=>{const e=n();let a=e[0],s=e[e.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,h=r(a),d=r(s);const f=null==t?10:+t;let p=[];if(!(o%1)&&d-h<f){if(h=Math.floor(h),d=Math.ceil(d),a>0){for(;h<=d;++h)for(c=1;c<o;++c)if(u=h<0?c/i(-h):c*i(h),!(u<a)){if(u>s)break;p.push(u)}}else for(;h<=d;++h)for(c=o-1;c>=1;--c)if(u=h>0?c/i(-h):c*i(h),!(u<a)){if(u>s)break;p.push(u)}2*p.length<f&&(p=tw(a,s,f))}else p=tw(h,d,Math.min(d-h,f)).map(i);return l?p.reverse():p},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=xS(n)).precision||(n.trim=!0),n=kS(n)),t===1/0)return n;const a=Math.max(1,o*t/e.ticks().length);return t=>{let e=t/i(Math.round(r(t)));return e*o<o-.5&&(e*=o),e<=a?n(t):""}},e.nice=()=>n(T5(n(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),e}function N5(){const t=R5(mS()).domain([1,10]);return t.copy=()=>pS(t,N5()).base(t.base()),vS.apply(t,arguments),t}function L5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function I5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function D5(t){var e=1,n=t(L5(e),I5(e));return n.constant=function(n){return arguments.length?t(L5(e=+n),I5(e)):e},IS(n)}function j5(){var t=D5(mS());return t.copy=function(){return pS(t,j5()).constant(t.constant())},vS.apply(t,arguments)}function U5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function F5(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function z5(t){return t<0?-t*t:t*t}function B5(t){var e=t(uS,uS),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(uS,uS):.5===n?t(F5,z5):t(U5(n),U5(1/n)):n},IS(e)}function V5(){var t=B5(mS());return t.copy=function(){return pS(t,V5()).exponent(t.exponent())},vS.apply(t,arguments),t}function H5(){return V5.apply(null,arguments).exponent(.5)}function q5(t){return Math.sign(t)*t*t}function W5(){var t,e=gS(),n=[0,1],r=!1;function i(n){var i=function(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}(e(n));return isNaN(i)?t:r?Math.round(i):i}return i.invert=function(t){return e.invert(q5(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain()},i.range=function(t){return arguments.length?(e.range((n=Array.from(t,lS)).map(q5)),i):n.slice()},i.rangeRound=function(t){return i.range(t).round(!0)},i.round=function(t){return arguments.length?(r=!!t,i):r},i.clamp=function(t){return arguments.length?(e.clamp(t),i):e.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return W5(e.domain(),n).round(r).clamp(e.clamp()).unknown(t)},vS.apply(i,arguments),IS(i)}function G5(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rw;if(t===rw)return X5;if("function"!==typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function X5(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function K5(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=void 0===i?X5:G5(i);r>n;){if(r-n>600){const o=r-n+1,a=e-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);K5(t,e,Math.max(n,Math.floor(e-a*l/o+c)),Math.min(r,Math.floor(e+(o-a)*l/o+c)),i)}const o=t[e];let a=n,s=r;for(Y5(t,n,e),i(t[r],o)>0&&Y5(t,n,r);a<s;){for(Y5(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}0===i(t[n],o)?Y5(t,n,s):(++s,Y5(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Y5(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function $5(t,e,n){if(t=Float64Array.from(function*(t,e){if(void 0===e)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n)),(r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return Yj(t);if(e>=1)return $j(t);var r,i=(r-1)*e,o=Math.floor(i),a=$j(K5(t,o).subarray(0,o+1));return a+(Yj(t.subarray(o+1))-a)*(i-o)}}function Q5(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sw;if((r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function Z5(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=Q5(e,t/i);return o}function o(e){return null==e||isNaN(e=+e)?t:n[uw(r,e)]}return o.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(rw),i()},o.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return Z5().domain(e).range(n).unknown(t)},vS.apply(o,arguments)}function J5(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return null!=e&&e<=e?o[uw(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,s()):[e,n]},a.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return J5().domain([e,n]).range(o).unknown(t)},vS.apply(IS(a),arguments)}function t3(){var t,e=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[uw(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return t3().domain(e).range(n).unknown(t)},vS.apply(i,arguments)}const e3=1e3,n3=6e4,r3=36e5,i3=864e5,o3=6048e5,a3=2592e6,s3=31536e6,l3=new Date,c3=new Date;function u3(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<r);return a},i.filter=n=>u3((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(i.count=(e,r)=>(l3.setTime(+e),c3.setTime(+r),t(l3),t(c3),Math.floor(n(l3,c3))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t===0:e=>i.count(0,e)%t===0):i:null)),i}const h3=u3((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));h3.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?u3((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):h3:null);h3.range;const d3=u3((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*e3)}),((t,e)=>(e-t)/e3),(t=>t.getUTCSeconds())),f3=(d3.range,u3((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*e3)}),((t,e)=>{t.setTime(+t+e*n3)}),((t,e)=>(e-t)/n3),(t=>t.getMinutes()))),p3=(f3.range,u3((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*n3)}),((t,e)=>(e-t)/n3),(t=>t.getUTCMinutes()))),m3=(p3.range,u3((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*e3-t.getMinutes()*n3)}),((t,e)=>{t.setTime(+t+e*r3)}),((t,e)=>(e-t)/r3),(t=>t.getHours()))),g3=(m3.range,u3((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*r3)}),((t,e)=>(e-t)/r3),(t=>t.getUTCHours()))),v3=(g3.range,u3((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*n3)/i3),(t=>t.getDate()-1))),y3=(v3.range,u3((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/i3),(t=>t.getUTCDate()-1))),b3=(y3.range,u3((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/i3),(t=>Math.floor(t/i3))));b3.range;function _3(t){return u3((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*n3)/o3))}const x3=_3(0),w3=_3(1),S3=_3(2),E3=_3(3),T3=_3(4),M3=_3(5),A3=_3(6);x3.range,w3.range,S3.range,E3.range,T3.range,M3.range,A3.range;function C3(t){return u3((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/o3))}const k3=C3(0),O3=C3(1),P3=C3(2),R3=C3(3),N3=C3(4),L3=C3(5),I3=C3(6),D3=(k3.range,O3.range,P3.range,R3.range,N3.range,L3.range,I3.range,u3((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()))),j3=(D3.range,u3((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()))),U3=(j3.range,u3((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear())));U3.every=t=>isFinite(t=Math.floor(t))&&t>0?u3((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null;U3.range;const F3=u3((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));F3.every=t=>isFinite(t=Math.floor(t))&&t>0?u3((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null;F3.range;function z3(t,e,n,r,i,o){const a=[[d3,1,e3],[d3,5,5e3],[d3,15,15e3],[d3,30,3e4],[o,1,n3],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,r3],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,i3],[r,2,1728e5],[n,1,o3],[e,1,a3],[e,3,7776e6],[t,1,s3]];function s(e,n,r){const i=Math.abs(n-e)/r,o=ow((t=>{let[,,e]=t;return e})).right(a,i);if(o===a.length)return t.every(nw(e/s3,n/s3,r));if(0===o)return h3.every(Math.max(nw(e,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"===typeof n.range?n:s(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},s]}const[B3,V3]=z3(F3,j3,k3,b3,g3,p3),[H3,q3]=z3(U3,D3,x3,v3,m3,f3);function W3(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function G3(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function X3(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var K3,Y3,$3,Q3={"-":"",_:" ",0:"0"},Z3=/^\s*\d+/,J3=/^%/,t6=/[\\^$*+?|[\]().{}]/g;function e6(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function n6(t){return t.replace(t6,"\\$&")}function r6(t){return new RegExp("^(?:"+t.map(n6).join("|")+")","i")}function i6(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function o6(t,e,n){var r=Z3.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function a6(t,e,n){var r=Z3.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function s6(t,e,n){var r=Z3.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function l6(t,e,n){var r=Z3.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function c6(t,e,n){var r=Z3.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function u6(t,e,n){var r=Z3.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function h6(t,e,n){var r=Z3.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function d6(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function f6(t,e,n){var r=Z3.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function p6(t,e,n){var r=Z3.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function m6(t,e,n){var r=Z3.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function g6(t,e,n){var r=Z3.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function v6(t,e,n){var r=Z3.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function y6(t,e,n){var r=Z3.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function b6(t,e,n){var r=Z3.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function _6(t,e,n){var r=Z3.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function x6(t,e,n){var r=Z3.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function w6(t,e,n){var r=J3.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function S6(t,e,n){var r=Z3.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function E6(t,e,n){var r=Z3.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function T6(t,e){return e6(t.getDate(),e,2)}function M6(t,e){return e6(t.getHours(),e,2)}function A6(t,e){return e6(t.getHours()%12||12,e,2)}function C6(t,e){return e6(1+v3.count(U3(t),t),e,3)}function k6(t,e){return e6(t.getMilliseconds(),e,3)}function O6(t,e){return k6(t,e)+"000"}function P6(t,e){return e6(t.getMonth()+1,e,2)}function R6(t,e){return e6(t.getMinutes(),e,2)}function N6(t,e){return e6(t.getSeconds(),e,2)}function L6(t){var e=t.getDay();return 0===e?7:e}function I6(t,e){return e6(x3.count(U3(t)-1,t),e,2)}function D6(t){var e=t.getDay();return e>=4||0===e?T3(t):T3.ceil(t)}function j6(t,e){return t=D6(t),e6(T3.count(U3(t),t)+(4===U3(t).getDay()),e,2)}function U6(t){return t.getDay()}function F6(t,e){return e6(w3.count(U3(t)-1,t),e,2)}function z6(t,e){return e6(t.getFullYear()%100,e,2)}function B6(t,e){return e6((t=D6(t)).getFullYear()%100,e,2)}function V6(t,e){return e6(t.getFullYear()%1e4,e,4)}function H6(t,e){var n=t.getDay();return e6((t=n>=4||0===n?T3(t):T3.ceil(t)).getFullYear()%1e4,e,4)}function q6(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+e6(e/60|0,"0",2)+e6(e%60,"0",2)}function W6(t,e){return e6(t.getUTCDate(),e,2)}function G6(t,e){return e6(t.getUTCHours(),e,2)}function X6(t,e){return e6(t.getUTCHours()%12||12,e,2)}function K6(t,e){return e6(1+y3.count(F3(t),t),e,3)}function Y6(t,e){return e6(t.getUTCMilliseconds(),e,3)}function $6(t,e){return Y6(t,e)+"000"}function Q6(t,e){return e6(t.getUTCMonth()+1,e,2)}function Z6(t,e){return e6(t.getUTCMinutes(),e,2)}function J6(t,e){return e6(t.getUTCSeconds(),e,2)}function t4(t){var e=t.getUTCDay();return 0===e?7:e}function e4(t,e){return e6(k3.count(F3(t)-1,t),e,2)}function n4(t){var e=t.getUTCDay();return e>=4||0===e?N3(t):N3.ceil(t)}function r4(t,e){return t=n4(t),e6(N3.count(F3(t),t)+(4===F3(t).getUTCDay()),e,2)}function i4(t){return t.getUTCDay()}function o4(t,e){return e6(O3.count(F3(t)-1,t),e,2)}function a4(t,e){return e6(t.getUTCFullYear()%100,e,2)}function s4(t,e){return e6((t=n4(t)).getUTCFullYear()%100,e,2)}function l4(t,e){return e6(t.getUTCFullYear()%1e4,e,4)}function c4(t,e){var n=t.getUTCDay();return e6((t=n>=4||0===n?N3(t):N3.ceil(t)).getUTCFullYear()%1e4,e,4)}function u4(){return"+0000"}function h4(){return"%"}function d4(t){return+t}function f4(t){return Math.floor(+t/1e3)}function p4(t){return new Date(t)}function m4(t){return t instanceof Date?+t:+new Date(+t)}function g4(t,e,n,r,i,o,a,s,l,c){var u=gS(),h=u.invert,d=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),_=c("%Y");function x(t){return(l(t)<t?f:s(t)<t?p:a(t)<t?m:o(t)<t?g:r(t)<t?i(t)<t?v:y:n(t)<t?b:_)(t)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?d(Array.from(t,m4)):d().map(p4)},u.ticks=function(e){var n=d();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?x:c(e)},u.nice=function(t){var n=d();return t&&"function"===typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?d(T5(n,t)):u},u.copy=function(){return pS(u,g4(t,e,n,r,i,o,a,s,l,c))},u}function v4(){return vS.apply(g4(H3,q3,U3,D3,x3,v3,m3,f3,d3,Y3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function y4(){return vS.apply(g4(B3,V3,F3,j3,k3,y3,g3,p3,d3,$3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function b4(){var t,e,n,r,i,o=0,a=1,s=uS,l=!1;function c(e){return null==e||isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}function u(t){return function(e){var n,r;return arguments.length?([n,r]=e,s=t(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,t=r(o=+o),e=r(a=+a),n=t===e?0:1/(e-t),c):[o,a]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.range=u(aS),c.rangeRound=u(sS),c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),c}}function _4(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function x4(){var t=IS(b4()(uS));return t.copy=function(){return _4(t,x4())},yS.apply(t,arguments)}function w4(){var t=R5(b4()).domain([1,10]);return t.copy=function(){return _4(t,w4()).base(t.base())},yS.apply(t,arguments)}function S4(){var t=D5(b4());return t.copy=function(){return _4(t,S4()).constant(t.constant())},yS.apply(t,arguments)}function E4(){var t=B5(b4());return t.copy=function(){return _4(t,E4()).exponent(t.exponent())},yS.apply(t,arguments)}function T4(){return E4.apply(null,arguments).exponent(.5)}function M4(){var t=[],e=uS;function n(n){if(null!=n&&!isNaN(n=+n))return e((uw(t,n,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(rw),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.range=function(){return t.map(((n,r)=>e(r/(t.length-1))))},n.quantiles=function(e){return Array.from({length:e+1},((n,r)=>$5(t,r/e)))},n.copy=function(){return M4(e).domain(t)},yS.apply(n,arguments)}function A4(){var t,e,n,r,i,o,a,s=0,l=.5,c=1,u=1,h=uS,d=!1;function f(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(u*t<u*e?r:i),h(d?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,h=function(t,e){void 0===e&&(e=t,t=aS);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}(t,[n,r,i]),f):[h(0),h(.5),h(1)]}}return f.domain=function(a){return arguments.length?([s,l,c]=a,t=o(s=+s),e=o(l=+l),n=o(c=+c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),u=e<t?-1:1,f):[s,l,c]},f.clamp=function(t){return arguments.length?(d=!!t,f):d},f.interpolator=function(t){return arguments.length?(h=t,f):h},f.range=p(aS),f.rangeRound=p(sS),f.unknown=function(t){return arguments.length?(a=t,f):a},function(a){return o=a,t=a(s),e=a(l),n=a(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),u=e<t?-1:1,f}}function C4(){var t=IS(A4()(uS));return t.copy=function(){return _4(t,C4())},yS.apply(t,arguments)}function k4(){var t=R5(A4()).domain([.1,1,10]);return t.copy=function(){return _4(t,k4()).base(t.base())},yS.apply(t,arguments)}function O4(){var t=D5(A4());return t.copy=function(){return _4(t,O4()).constant(t.constant())},yS.apply(t,arguments)}function P4(){var t=B5(A4());return t.copy=function(){return _4(t,P4()).exponent(t.exponent())},yS.apply(t,arguments)}function R4(){return P4.apply(null,arguments).exponent(.5)}!function(t){K3=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=r6(i),u=i6(i),h=r6(o),d=i6(o),f=r6(a),p=i6(a),m=r6(s),g=i6(s),v=r6(l),y=i6(l),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:T6,e:T6,f:O6,g:B6,G:H6,H:M6,I:A6,j:C6,L:k6,m:P6,M:R6,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:d4,s:f4,S:N6,u:L6,U:I6,V:j6,w:U6,W:F6,x:null,X:null,y:z6,Y:V6,Z:q6,"%":h4},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:W6,e:W6,f:$6,g:s4,G:c4,H:G6,I:X6,j:K6,L:Y6,m:Q6,M:Z6,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:d4,s:f4,S:J6,u:t4,U:e4,V:r4,w:i4,W:o4,x:null,X:null,y:a4,Y:l4,Z:u4,"%":h4},x={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return E(t,e,n,r)},d:m6,e:m6,f:x6,g:h6,G:u6,H:v6,I:v6,j:g6,L:_6,m:p6,M:y6,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:f6,Q:S6,s:E6,S:b6,u:a6,U:s6,V:l6,w:o6,W:c6,x:function(t,e,r){return E(t,n,e,r)},X:function(t,e,n){return E(t,r,e,n)},y:h6,Y:u6,Z:d6,"%":w6};function w(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=Q3[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function S(t,e){return function(n){var r,i,o=X3(1900,void 0,1);if(E(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=G3(X3(o.y,0,1))).getUTCDay(),r=i>4||0===i?O3.ceil(r):O3(r),r=y3.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=W3(X3(o.y,0,1))).getDay(),r=i>4||0===i?w3.ceil(r):w3(r),r=v3.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?G3(X3(o.y,0,1)).getUTCDay():W3(X3(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,G3(o)):W3(o)}}function E(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in Q3?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),_.x=w(n,_),_.X=w(r,_),_.c=w(e,_),{format:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t+="",!0);return e.toString=function(){return t},e}}}(t),Y3=K3.format,K3.parse,$3=K3.utcFormat,K3.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var N4=["linear","time","log","sqrt"];function L4(t){return"function"===typeof t?v2()(t.copy)&&v2()(t.domain)&&v2()(t.range):"string"===typeof t&&n5()(N4,t)}function I4(t,e){return!!t.scale&&(!t.scale.x&&!t.scale.y||!!t.scale[e])}function D4(t,e){if(I4(t,e)){var n=t.scale[e]||t.scale;return"string"===typeof n?n:function(t){if("string"===typeof t)return t;var e=V4.filter((function(e){return void 0!==t[e.method]}))[0];return e?e.name:void 0}(n)}}function j4(t,e){if(!t.data)return"linear";var n=O2(t[e]);return W1(t.data.map((function(t){var r=V2()(n(t))?n(t)[e]:n(t);return void 0!==r?r:t[e]})))?"time":"linear"}function U4(t){if(L4(t)){var n=function(t){return"scale".concat(function(t){return t&&t[0].toUpperCase()+t.slice(1)}(t))}(t);return e[n]()}return DS()}function F4(t,e){var n=z4(t,e);if(n)return"string"===typeof n?U4(n):n;var r=function(t,e){var n;if(t.domain&&t.domain[e]?n=t.domain[e]:t.domain&&Array.isArray(t.domain)&&(n=t.domain),n)return W1(n)?"time":"linear"}(t,e)||j4(t,e);return U4(r)}function z4(t,e){if(I4(t,e)){var n=t.scale[e]||t.scale;return L4(n)?v2()(n)?n:U4(n):void 0}}function B4(t,e){return D4(t,e)||j4(t,e)}var V4=[{name:"quantile",method:"quantiles"},{name:"log",method:"base"}];var H4="@@__IMMUTABLE_ITERABLE__@@",q4="@@__IMMUTABLE_RECORD__@@",W4="@@__IMMUTABLE_LIST__@@";function G4(t){return!(!t||!t[H4])}function X4(t){return G4(t)||function(t){return!(!t||!t[q4])}(t)}function K4(t,e){return G4(t)?t.reduce((function(t,n,r){return e&&e[r]&&(n=K4(n)),t[r]=n,t}),function(t){return!(!t||!t[W4])}(t)?[]:{}):t}function Y4(t){return function(t){if(Array.isArray(t))return $4(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return $4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $4(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $4(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q4(t){return X4(t)?K4(t,{errorX:!0,errorY:!0}):t}function Z4(t){return G4(t)?t.size:t.length}function J4(t,e){var n=(V2()(t.domain)?t.domain[e]:t.domain)||F4(t,e).domain(),r=t.samples||1,i=Math.max.apply(Math,Y4(n)),o=Math.min.apply(Math,Y4(n)),a=(i-o)/r,s=a5()(o,i,a);return _5()(s)===i?s:s.concat(i)}function t7(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ascending";if(!e)return t;"x"!==e&&"y"!==e||(e="_".concat(e));var r="ascending"===n?"asc":"desc";return i5()(t,e,r)}function e7(t,e){var n=1/Number.MAX_SAFE_INTEGER,r={x:B4(e,"x"),y:B4(e,"y")};if("log"!==r.x&&"log"!==r.y)return t;var i=function(t,e){return"log"!==r[e]||0!==t["_".concat(e)]};return t.map((function(t){return i(t,"x")&&i(t,"y")&&i(t,"y0")?t:function(t){var e=i(t,"x")?t._x:n,r=i(t,"y")?t._y:n,o=i(t,"y0")?t._y0:n;return L1()({},t,{_x:e,_y:r,_y0:o})}(t)}))}function n7(t,e){var n=!!t.eventKey,r=function(t){return v2()(t)?t:null===t||void 0===t?function(){}:m2()(t)}(t.eventKey);return e.map((function(t,e){if(void 0!==t.eventKey)return t;if(n){var i=r(t,e);return void 0!==i?L1()({eventKey:i},t):t}return t}))}function r7(t,e){var n=s7(t,e),r=l7(t,e),i=function(t,e){var n=Array.isArray(t.data)||G4(t.data);if(!n)return[];var r=void 0===t[e]?e:t[e],i=O2(r),o=t.data.reduce((function(t,e){return t.push(Q4(e)),t}),[]),a=t7(o,t.sortKey,t.sortOrder);return a.reduce((function(t,e){return e=Q4(e),t.push(i(e)),t}),[]).filter((function(t){return"string"===typeof t})).reduce((function(t,e){return void 0!==e&&null!==e&&-1===t.indexOf(e)&&t.push(e),t}),[])}(t,e),o=$2()([].concat(Y4(n),Y4(r),Y4(i)));return 0===o.length?null:o.reduce((function(t,e,n){return t[e]=n+1,t}),{})}function i7(t,e,n){if(!(Array.isArray(t)||G4(t))||Z4(t)<1)return[];var r=["x","y","y0"];n=Array.isArray(n)?n:r;var i,o=n.reduce((function(t,n){var r;return t[n]=O2(void 0!==e[r=n]?e[r]:r),t}),{}),a=y5()(n,r)&&"_x"===e.x&&"_y"===e.y&&"_y0"===e.y0;!1===a&&(i={x:-1!==n.indexOf("x")?r7(e,"x"):void 0,y:-1!==n.indexOf("y")?r7(e,"y"):void 0,y0:-1!==n.indexOf("y0")?r7(e,"y"):void 0});var s=a?t:t.reduce((function(t,e,r){var a={x:r,y:e=Q4(e)},s=n.reduce((function(t,n){var r=o[n](e),s=void 0!==r?r:a[n];return void 0!==s&&("string"===typeof s&&i[n]?(t["".concat(n,"Name")]=s,t["_".concat(n)]=i[n][s]):t["_".concat(n)]=s),t}),{}),l=L1()({},s,e);return R1()(l)||t.push(l),t}),[]),l=e7(t7(s,e.sortKey,e.sortOrder),e);return n7(e,l)}function o7(t,e){return t.categories&&!Array.isArray(t.categories)?t.categories[e]:t.categories}function a7(t){return t.data?i7(t.data,t):i7(function(t){var e=J4(t,"x"),n=J4(t,"y"),r=e.map((function(t,e){return{x:t,y:n[e]}}));return r}(t),t)}function s7(t,e){var n=t.tickValues,r=t.tickFormat;return(n&&(Array.isArray(n)||n[e])?n[e]||n:r&&Array.isArray(r)?r:[]).filter((function(t){return"string"===typeof t}))}function l7(t,e){if(!t.categories)return[];var n=o7(t,e),r=n&&n.filter((function(t){return"string"===typeof t}));return r?X1(r):[]}function c7(t){var e=function(t){return t&&t.type?t.type.role:""},n=e(t);if("portal"===n){var r=a.Children.toArray(t.props.children);n=r.length?e(r[0]):""}return n5()(["area","bar","boxplot","candlestick","errorbar","group","histogram","line","pie","scatter","stack","voronoi"],n)}function u7(t){return function(t){if(Array.isArray(t))return h7(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return h7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h7(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h7(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d7(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"min",r=function(t){return"max"===n?Math.max.apply(Math,u7(t)):Math.min.apply(Math,u7(t))},i="max"===n?-1/0:1/0,o=!1,a=Z2()(t).reduce((function(t,n){var i=void 0!==n["_".concat(e,"0")]?n["_".concat(e,"0")]:n["_".concat(e)],a=void 0!==n["_".concat(e,"1")]?n["_".concat(e,"1")]:n["_".concat(e)],s=r([i,a]);return o=o||i instanceof Date||a instanceof Date,r([t,s])}),i);return o?new Date(a):a}function f7(t,e,n){if(!e.domainPadding)return t;var r=x7(e,n),i=_7(e,n),o=function(t,e){var n=function(t){return Array.isArray(t)?{left:t[0],right:t[1]}:{left:t,right:t}};return V2()(t.domainPadding)?n(t.domainPadding[e]):n(t.domainPadding)}(e,n);if(!o.left&&!o.right)return t;var a=Y1(t),s=K1(t),l=function(t,e){return e?"x"===t?"y":"x":t}(n,e.horizontal),c=k2(e,l),u=Math.abs(c[0]-c[1]),h=Math.max(u-o.left-o.right,1),d=Math.abs(s.valueOf()-a.valueOf())/h*u,f=d*o.left/u,p=d*o.right/u,m={min:a.valueOf()-f,max:s.valueOf()+p},g=V2()(e.singleQuadrantDomainPadding)?e.singleQuadrantDomainPadding[n]:e.singleQuadrantDomainPadding,v=function(t,e){return"min"===e&&a>=0&&t<=0||"max"===e&&s<=0&&t>=0?0:t};if((a>=0&&m.min<=0||s<=0&&m.max>=0)&&!1!==g){var y={left:Math.abs(s-a)*o.left/u,right:Math.abs(s-a)*o.right/u},b={min:v(a.valueOf()-y.left,"min"),max:v(s.valueOf()+y.right,"max")},_={left:Math.abs(b.max-b.min)*o.left/u,right:Math.abs(b.max-b.min)*o.right/u};m={min:v(a.valueOf()-_.left,"min"),max:v(s.valueOf()+_.right,"max")}}var x={min:void 0!==r?r:m.min,max:void 0!==i?i:m.max};return a instanceof Date||s instanceof Date?y7(new Date(x.min),new Date(x.max)):y7(x.min,x.max)}function p7(t,e){return t=v2()(t)?t:v7,e=v2()(e)?e:m7,function(n,r){var i=b7(n,r);if(i)return e(i,n,r);var o=o7(n,r),a=o?function(t,e,n){n=n||o7(t,e);var r=t.polar,i=t.startAngle,o=void 0===i?0:i,a=t.endAngle,s=void 0===a?360:a;if(!n)return;var l=x7(t,e),c=_7(t,e),u=q1(n)?l7(t,e):[],h=0===u.length?null:u.reduce((function(t,e,n){return t[e]=n+1,t}),{}),d=h?n.map((function(t){return h[t]})):n,f=void 0!==l?l:Y1(d),p=void 0!==c?c:K1(d),m=y7(f,p);return r&&"x"===e&&360===Math.abs(o-s)?w7(m,d):m}(n,r,o):t(n,r);return a?e(a,n,r):void 0}}function m7(t,e,n){return function(t,e,n){return"log"!==B4(e,n)?t:function(t){var e=t[0]<0||t[1]<0?-1/Number.MAX_SAFE_INTEGER:1/Number.MAX_SAFE_INTEGER;return[0===t[0]?e:t[0],0===t[1]?e:t[1]]}(t)}(f7(t,e,n),e,n)}function g7(t,e){return p7()(t,e)}function v7(t,e,n){n=n||a7(t);var r=t.polar,i=t.startAngle,o=void 0===i?0:i,a=t.endAngle,s=void 0===a?360:a,l=x7(t,e),c=_7(t,e);if(n.length<1)return void 0!==l&&void 0!==c?y7(l,c):void 0;var u=y7(void 0!==l?l:d7(n,e,"min"),void 0!==c?c:d7(n,e,"max"));return r&&"x"===e&&360===Math.abs(o-s)?w7(u,function(t,e){var n="_".concat(e);return Z2()(t).map((function(t){return t[n]&&void 0!==t[n][1]?t[n][1]:t[n]}))}(n,e)):u}function y7(t,e){return Number(t)===Number(e)?function(t){var e=0===t?2*Math.pow(10,-10):Math.pow(10,-10),n=t instanceof Date?new Date(Number(t)-1):Number(t)-e,r=t instanceof Date?new Date(Number(t)+1):Number(t)+e;return 0===t?[0,r]:[n,r]}(e):[t,e]}function b7(t,e){var n=x7(t,e),r=_7(t,e);return V2()(t.domain)&&t.domain[e]?t.domain[e]:Array.isArray(t.domain)?t.domain:void 0!==n&&void 0!==r?y7(n,r):void 0}function _7(t,e){return V2()(t.maxDomain)&&void 0!==t.maxDomain[e]?t.maxDomain[e]:"number"===typeof t.maxDomain||d5()(t.maxDomain)?t.maxDomain:void 0}function x7(t,e){return V2()(t.minDomain)&&void 0!==t.minDomain[e]?t.minDomain[e]:"number"===typeof t.minDomain||d5()(t.minDomain)?t.minDomain:void 0}function w7(t,e){var n=p5()(e.sort((function(t,e){return t-e}))),r=n[1]-n[0];return[t[0],t[1]+r]}function S7(t){var e=function(t){return t&&t.type?t.type.role:""},n=e(t);if("portal"===n){var r=a.Children.toArray(t.props.children);n=r.length?e(r[0]):""}return n5()(["area","axis","bar","boxplot","candlestick","errorbar","group","histogram","line","pie","scatter","stack","voronoi"],n)}function E7(t){return function(t){if(Array.isArray(t))return T7(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return T7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T7(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T7(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M7(t){return t.dependentAxis?"y":"x"}function A7(t,e){e=e||J1();var n=function(t){return t.reduce((function(t,r){return r.type&&"axis"===r.type.role&&e(r)?t.concat(r):r.props&&r.props.children?t.concat(n(a.Children.toArray(r.props.children))):t}),[])};return n(t)}function C7(t,e){return A7(t,(function(t){return t.type.getAxis(t.props)===e}))[0]}function k7(t,e){var n=function(t){return t.reduce((function(t,r){return r.type&&"axis"===r.type.role&&function(t){return"dependent"===e?t.props.dependentAxis:!t.props.dependentAxis}(r)||r.props&&r.props.children&&n(a.Children.toArray(r.props.children)).length>0?t.concat(r):t}),[])};return n(t)}function O7(t){var e=function(t){var e=Math.min.apply(Math,E7(t)),n=Math.max.apply(Math,E7(t));return n<0?n:Math.max(0,e)};return{x:W1(t.x)?new Date(Math.min.apply(Math,E7(t.x))):e(t.x),y:W1(t.y)?new Date(Math.min.apply(Math,E7(t.y))):e(t.y)}}function P7(t,e){return W1(e)?"positive":t<=0&&Math.max.apply(Math,E7(e))<=0?"negative":"positive"}function R7(t){return{top:!1,bottom:!1,left:!0,right:!0}[t.orientation||(t.dependentAxis?"left":"bottom")]}function N7(t){return void 0!==t.tickValues&&q1(t.tickValues)}function L7(t){var e=M7(t),n=t.stringMap&&t.stringMap[e],r=Array.isArray(t.categories)?t.categories:t.categories&&t.categories[e],i=r&&function(t){return H1(t)&&t.every((function(t){return"string"===typeof t}))}(r)?r.map((function(t){return n[t]})):void 0,o=n&&q2()(n);return i&&0!==i.length?i:o}function I7(t){var e=t.tickValues,n=t.tickFormat,r=M7(t),i=t.stringMap&&t.stringMap[r],o=e;i&&(o=L7(t)),e&&q1(e)&&(o=i?e.map((function(t){return i[t]})):a5()(1,e.length+1));var a=o?$2()(o):function(){if(n&&Array.isArray(n))return q1(n)?n.map((function(t,e){return e})):n}();return Array.isArray(a)&&a.length?function(e){var n=[],i=t.domain&&t.domain[r]||t.domain;if(e)return e.forEach((function(t,e){Array.isArray(i)?t>=Y1(i)&&t<=K1(i)&&n.push({value:t,index:e}):n.push({value:t,index:e})})),n}(a):void 0}function D7(t,e){var n=t.tickFormat,r=M7(t),i=t.stringMap&&t.stringMap[r];if(!n){var o=function(t){var e=t.tickValues,n=M7(t),r=t.stringMap&&t.stringMap[n],i=e&&!W1(e)?function(t){return t}:void 0;if(!r)return N7(t)?function(t,n){return e[n]}:i;var o=r&&l5()(r),a=i5()(q2()(r),(function(t){return t})).map((function(t){return o[t]})),s=[""].concat(E7(a),[""]);return function(t){return s[t]}}(t),a=e.tickFormat&&v2()(e.tickFormat)?e.tickFormat():function(t){return t};return o||a}if(n&&Array.isArray(n)){var s=I7(t),l=null===s||void 0===s?void 0:s.map((function(t){return t.index})),c=n.filter((function(t,e){return null===l||void 0===l?void 0:l.includes(e)}));return function(t,e){return c[e]}}if(n&&v2()(n)){return i?function(e,n,r){var o=l5()(i),a=r.map((function(t){return o[t]}));return t.tickFormat(o[e],n,a)}:n}return function(t){return t}}function j7(t,e){if(!e||!Array.isArray(t)||t.length<=e)return t;var n=Math.floor(t.length/e);return t.filter((function(t,e){return e%n===0}))}function U7(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.tickCount,i=I7(t),o=i?i.map((function(t){return t.value})):void 0;if(o)return j7(o,r);if(e.ticks&&v2()(e.ticks)){var a=r||5,s=e.ticks(a),l=j7(Array.isArray(s)&&s.length?s:e.domain(),r);if(n){var c=n5()(l,0)?t5()(l,0):l;return c.length?c:l}return l}return e.domain()}function F7(t,e){var n=t.polar,r=t.startAngle,i=void 0===r?0:r,o=t.endAngle,a=void 0===o?360:o,s=I7(t),l=s?s.map((function(t){return t.value})):void 0;if(Array.isArray(l)){var c=x7(t,e),u=_7(t,e),h=N7(t),d=l.map((function(t){return Number(t)})),f=h?1:Y1(d),p=h?l.length:K1(d),m=y7(void 0!==c?c:f,void 0!==u?u:p),g=n&&"x"===e&&360===Math.abs(i-a)?w7(m,d):m;return R7(t)&&!n&&g.reverse(),g}}function z7(t,e){var n=M7(t);if(!e||e===n)return p7(F7)(t,n)}function B7(t,e){if(t.axisValue){var n="x"===e?"y":"x",r=u5()(t.scale)&&v2()(t.scale[n])?t.scale[n]:void 0;if(r){var i="x"===e?"y":"x",o=u5()(t.stringMap)&&t.stringMap[i];return r(o&&"string"===typeof t.axisValue?o[t.axisValue]:t.axisValue)}}}function V7(t,e){if(!u5()(t.theme))return P2(t,e,"axis");var n="axis";if(t.dependentAxis&&t.theme.dependentAxis?n="dependentAxis":!t.dependentAxis&&t.theme.independentAxis&&(n="independentAxis"),"axis"===n)return P2(t,e,"axis");var r=D1()({},t.theme[n],t.theme.axis),i=L1()({},t.theme,{axis:r});return P2(L1()({},t,{theme:i}),e,"axis")}var H7=n(7790),q7=n.n(H7);function W7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G7(t){return function(t){if(Array.isArray(t))return X7(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return X7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X7(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X7(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var K7=/^onGlobal(.*)$/;function Y7(t,e,n,r){var i=this,o=function(t){var r=function(){var r=t.reduce((function(t,n){return void 0!==n.target?(Array.isArray(n.target)?n5()(n.target,e):"".concat(n.target)==="".concat(e))?t.concat(n):t:t.concat(n)}),[]);return void 0!==n&&"parent"!==e?r.filter((function(t){var e=t.eventKey,r=function(t){return!t||"".concat(t)==="".concat(n)};return Array.isArray(e)?e.some((function(t){return r(t)})):r(e)})):r}();return Array.isArray(r)&&r.reduce((function(t,e){return e?L1()(t,e.eventHandlers):t}),{})},a=function(){var e;return Array.isArray(i.componentEvents)?Array.isArray(t.events)?(e=i.componentEvents).concat.apply(e,G7(t.events)):i.componentEvents:t.events}(),s=a&&v2()(r)?r(o(a),e):void 0;if(!t.sharedEvents)return s;var l=t.sharedEvents.getEvents,c=t.sharedEvents.events&&l(o(t.sharedEvents.events),e);return L1()({},c,s)}function $7(t,e,n,r){var i=this;if(R1()(t))return{};r=r||this.baseProps;var o=function(t,e){var n=t.childName,o=t.target,a=t.key,s="props"===e?r:i.state||{},l=void 0!==n&&null!==n&&s[n]?s[n]:s;return"parent"===a?l.parent:l[a]&&l[a][o]},a=function(t,a){var s="parent"===e?t.childName:t.childName||n,l=t.target||e,c=function(e,n){var a=i.state||{};if(!v2()(t.mutation))return a;var s=o({childName:n,key:e,target:l},"props"),c=o({childName:n,key:e,target:l},"state"),u=t.mutation(L1()({},s,c),r),h=a[n]||{},d=function(t){return u?function(t){return"parent"===l?L1()(t,W7({},e,L1()(t[e],u))):L1()(t,W7({},e,L1()(t[e],W7({},l,u))))}(t):function(t){return t[e]&&t[e][l]&&delete t[e][l],t[e]&&!Q1()(t[e]).length&&delete t[e],t}(t)};return void 0!==n&&null!==n?L1()(a,W7({},n,d(h))):d(a)},u=function(e){var n=function(e){return"parent"===l?"parent":"all"===t.eventKey?r[e]?t5()(Q1()(r[e]),"parent"):t5()(Q1()(r),"parent"):void 0===t.eventKey&&"parent"===a?r[e]?Q1()(r[e]):Q1()(r):void 0!==t.eventKey?t.eventKey:a}(e);return Array.isArray(n)?n.reduce((function(t,n){return L1()(t,c(n,e))}),{}):c(n,e)},h="all"===s?t5()(Q1()(r),"parent"):s;return Array.isArray(h)?h.reduce((function(t,e){return L1()(t,u(e))}),{}):u(h)},s=function(e,n,r,o){var s=t[o](e,n,r,i);if(!R1()(s)){var l=function(t){var e=function(t){return v2()(t.callback)&&t.callback},n=(Array.isArray(t)?t.map((function(t){return e(t)})):[e(t)]).filter((function(t){return!1!==t}));return n.length?function(){return n.forEach((function(t){return t()}))}:void 0}(s);i.setState(function(t,e){return Array.isArray(t)?t.reduce((function(t,n){return L1()({},t,a(n,e))}),{}):a(t,e)}(s,r),l)}};return Q1()(t).reduce((function(t,e){return t[e]=s,t}),{})}function Q7(t,e,n){return t?Q1()(t).reduce((function(r,i){return r[i]=function(r){return t[i](r,n,e,i)},r}),{}):{}}function Z7(t,e,n){var r=this.state||{};return n?r[n]&&r[n][t]&&r[n][t][e]:"parent"===t?r[t]&&r[t][e]||r[t]:r[t]&&r[t][e]}function J7(t,e,n,r){return e=e||{},n=n||{},Q1()(e).reduce((function(i,o){var a=n[o]||{},s=e[o]||{};if("parent"===o){var l=t8(t,s,a,{eventKey:o,target:"parent"});i[o]=void 0!==l?L1()({},a,l):a}else{var c=$2()(Q1()(s).concat(Q1()(a)));i[o]=c.reduce((function(e,n){var i={eventKey:o,target:n,childName:r},l=t8(t,s[n],a[n],i);return e[n]=void 0!==l?L1()({},a[n],l):a[n],q7()(e,(function(t){return!R1()(t)}))}),{})}return q7()(i,(function(t){return!R1()(t)}))}),{})}function t8(t,e,n,r){var i=function(t,e){if("string"===typeof t[e])return"all"===t[e]||t[e]===r[e];if(Array.isArray(t[e])){var n=t[e].map((function(t){return"".concat(t)}));return n5()(n,r[e])}return!1},o=t=Array.isArray(t)?t:[t];r.childName&&(o=t.filter((function(t){return i(t,"childName")})));var a=o.filter((function(t){return i(t,"target")}));if(!R1()(a)){var s=a.filter((function(t){return i(t,"eventKey")}));if(!R1()(s))return s.reduce((function(t,r){var i=(r&&v2()(r.mutation)?r.mutation:function(){})(L1()({},e,n));return L1()({},t,i)}),{})}}function e8(t,e){var n=Array.isArray(e)&&e.reduce((function(e,n){var r,i=t[n],o=i&&i.type&&i.type.defaultEvents,a=v2()(o)?o(i.props):o;return e=Array.isArray(a)?(r=e).concat.apply(r,G7(a)):e}),[]);return n&&n.length?n:void 0}function n8(t){var e=t.match(K7);return e&&e[1]&&e[1].toLowerCase()}var r8=function(t){return q7()(t,(function(t,e){return K7.test(e)}))},i8=function(t){return g5()(t,(function(t,e){return K7.test(e)}))},o8=function(t){return L1()(t,{nativeEvent:t})};function a8(t){return function(t){if(Array.isArray(t))return s8(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return s8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s8(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s8(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l8(t,e,n){var r=t.datasets,i=k2(t,t.horizontal?"y":"x"),o=Math.abs(i[1]-i[0]);n=void 0!==n?n:Array.isArray(r[0])&&r[0].length||1;var a=(e=e||r.length)*n;return Math.round(.5*o/a)}function c8(t,e,n){n=n||a.Children.toArray(t.children);var r,i=b7(t,e),o=function(t,e,n){if(!t.polar&&"x"===e){var r=n.filter((function(t){return t.type&&t.type.role&&"group"===t.type.role}));if(!(r.length<1)){var i=r[0].props,o=i.offset,a=i.children;if(o){var s=Array.isArray(a)&&a[0];if(s){var l=s.props.barWidth,c=s.props.data&&s.props.data.length||1;if(s&&"stack"===s.type.role){var u=s.props.children&&s.props.children[0];if(!u)return;l=u.props.barWidth,c=s.props.children.length}var h=l||l8(t,a.length,c);return{x:h*a.length/2+(o-h*((a.length-1)/2))}}}}}}(t,e,n);if(i)r=i;else{var s=x7(t,e),l=_7(t,e),c=(t.data||t.y)&&a7(t),u=c?v7(t,e,c):[],h=function(t,e,n){var r=n?n.slice(0):a.Children.toArray(t.children),i=t.data?a7(t):void 0,o=t.polar,s=t.startAngle,l=t.endAngle,c=t.categories,u=t.minDomain,h=t.maxDomain,d={horizontal:t.horizontal,polar:o,startAngle:s,endAngle:l,minDomain:u,maxDomain:h,categories:c},f=i?L1()(d,{data:i}):d,p=R2(r,(function(t){var n=L1()({},t.props,f);return S7(t)?t.type&&v2()(t.type.getDomain)?t.props&&t.type.getDomain(n,e):g7(n,e):null}),t);return[0===p.length?0:Y1(p),0===p.length?1:K1(p)]}(t,e,n);r=y7(s||Y1([].concat(a8(u),a8(h))),l||K1([].concat(a8(u),a8(h))))}return m7(r,L1()({domainPadding:o},t),e)}function u8(t,e,n){if(t.data)return F4(t,e);var r=n?n.slice(0):a.Children.toArray(t.children),i=$2()(R2(r,(function(n){return B4(L1()({},n.props,{horizontal:t.horizontal}),e)}),t));return i.length>1?U4("linear"):U4(i[0])}function h8(t,e,n){var r=V2()(t.categories)?t.categories[e]:t.categories,i=C7(n,e),o=i?s7(i.props,e):[],a=r||function(t,e){return R2(t.slice(0),(function(t){var n=t.props||{};if(!S7(t)||!n.categories)return null;var r=n.categories&&!Array.isArray(n.categories)?n.categories[e]:n.props.categories,i=r&&r.filter((function(t){return"string"===typeof t}));return i?X1(i):[]}))}(n,e);return $2()(Z2()([].concat(a8(a),a8(o))))}function d8(t,e){var n=h8(t,"x",e=e||a.Children.toArray(t.children)),r=h8(t,"y",e),i=function(t){return R2(t.slice(0),(function(t){var e=t.props||{};return c7(t)?(t.type&&v2()(t.type.getData)?t.type.getData(e):a7(e)).map((function(t){return{x:t.xName,y:t.yName}})):null}),{},{x:[],y:[]},(function(t,e){var n=Array.isArray(e)?e.map((function(t){return t.x})).filter(Boolean):e.x,r=Array.isArray(e)?e.map((function(t){return t.y})).filter(Boolean):e.y;return{x:void 0!==n?t.x.concat(n):t.x,y:void 0!==r?t.y.concat(r):t.y}}))}(e);return{x:$2()(Z2()([].concat(a8(n),a8(i.x)))),y:$2()(Z2()([].concat(a8(r),a8(i.y))))}}var f8=n(5625),p8=n.n(f8),m8=n(1996),g8=n.n(m8);function v8(t){0}var y8=function(t){var e=function(e){return function(n,r,i){var o=n[r];if(void 0===o||null===o)return e?new Error("Required `".concat(r,"` was not specified in `").concat(i,"`.")):null;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return t.apply(void 0,[n,r,i].concat(s))}};return Object.assign(e(!1),{isRequired:e(!0)})},b8=function(){return null},_8=function(){},x8=function(t){return void 0===t?_8:null===t?b8:t.constructor},w8=function(t){return void 0===t?"undefined":null===t?"null":Object.prototype.toString.call(t).slice(8,-1)};function S8(t){return y8((function(e,n,r){for(var i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return t.reduce((function(t,i){return t||i.apply(void 0,[e,n,r].concat(o))}),null)}))}var E8=y8((function(t,e,n){var r=t[e];return"number"!==typeof r||r<0?new Error("`".concat(e,"` in `").concat(n,"` must be a non-negative number.")):null})),T8=y8((function(t,e,n){var r=t[e];return"number"!==typeof r||r%1!==0?new Error("`".concat(e,"` in `").concat(n,"` must be an integer.")):null})),M8=y8((function(t,e,n){var r=t[e];return"number"!==typeof r||r<=0?new Error("`".concat(e,"` in `").concat(n,"` must be a number greater than zero.")):null})),A8=y8((function(t,e,n){var r=t[e];return Array.isArray(r)&&2===r.length&&r[1]!==r[0]?null:new Error("`".concat(e,"` in `").concat(n,"` must be an array of two unique numeric values."))})),C8=y8((function(t,e,n){return L4(t[e])?null:new Error("`".concat(e,"` in `").concat(n,"` must be a d3 scale."))})),k8=y8((function(t,e,n){var r=t[e];if(!Array.isArray(r))return new Error("`".concat(e,"` in `").concat(n,"` must be an array."));if(r.length<2)return null;var i=x8(r[0]),o=g8()(r,(function(t){return i!==x8(t)}));if(o){var a=w8(r[0]),s=w8(o);return new Error("Expected `".concat(e,"` in `").concat(n,"` to be a ")+"homogeneous array, but found types `".concat(a,"` and ")+"`".concat(s,"`."))}return null})),O8=(y8((function(t,e){return t[e]&&Array.isArray(t[e])&&t[e].length!==t.data.length?new Error("Length of data and ".concat(e," arrays must match.")):null})),y8((function(t,e,n){return t[e]&&!p8()(t[e])?new Error("`".concat(e,"` in `").concat(n,"` must be a regular expression.")):null}))),P8={dataProps:{categories:U1().oneOfType([U1().arrayOf(U1().string),U1().shape({x:U1().arrayOf(U1().string),y:U1().arrayOf(U1().string)})]),data:U1().oneOfType([U1().array,U1().object]),dataComponent:U1().element,disableInlineStyles:U1().bool,labelComponent:U1().element,labels:U1().oneOfType([U1().func,U1().array]),samples:E8,sortKey:U1().oneOfType([U1().func,S8([T8,E8]),U1().string,U1().arrayOf(U1().string.isRequired)]),sortOrder:U1().oneOf(["ascending","descending"]),style:U1().shape({parent:U1().object,data:U1().object,labels:U1().object}),x:U1().oneOfType([U1().func,S8([T8,E8]),U1().string,U1().arrayOf(U1().string.isRequired)]),y:U1().oneOfType([U1().func,S8([T8,E8]),U1().string,U1().arrayOf(U1().string.isRequired)]),y0:U1().oneOfType([U1().func,S8([T8,E8]),U1().string,U1().arrayOf(U1().string.isRequired)])},baseProps:{animate:U1().oneOfType([U1().bool,U1().object]),containerComponent:U1().element,domain:U1().oneOfType([A8,U1().shape({x:A8,y:A8})]),maxDomain:U1().oneOfType([U1().number,U1().instanceOf(Date),U1().shape({x:U1().oneOfType([U1().number,U1().instanceOf(Date)]),y:U1().oneOfType([U1().number,U1().instanceOf(Date)])})]),minDomain:U1().oneOfType([U1().number,U1().instanceOf(Date),U1().shape({x:U1().oneOfType([U1().number,U1().instanceOf(Date)]),y:U1().oneOfType([U1().number,U1().instanceOf(Date)])})]),domainPadding:U1().oneOfType([U1().shape({x:U1().oneOfType([U1().number,U1().arrayOf(U1().number)]),y:U1().oneOfType([U1().number,U1().arrayOf(U1().number)])}),U1().number,U1().arrayOf(U1().number)]),eventKey:U1().oneOfType([U1().func,S8([T8,E8]),U1().string]),events:U1().arrayOf(U1().shape({target:U1().oneOf(["data","labels","parent"]),eventKey:U1().oneOfType([U1().array,S8([T8,E8]),U1().string]),eventHandlers:U1().object})),externalEventMutations:U1().arrayOf(U1().shape({callback:U1().func,childName:U1().oneOfType([U1().string,U1().array]),eventKey:U1().oneOfType([U1().array,S8([T8,E8]),U1().string]),mutation:U1().func,target:U1().oneOfType([U1().string,U1().array])})),groupComponent:U1().element,height:E8,name:U1().string,origin:U1().shape({x:U1().number,y:U1().number}),padding:U1().oneOfType([U1().number,U1().shape({top:U1().number,bottom:U1().number,left:U1().number,right:U1().number})]),polar:U1().bool,range:U1().oneOfType([A8,U1().shape({x:A8.isRequired,y:A8.isRequired})]),scale:U1().oneOfType([C8,U1().shape({x:C8.isRequired,y:C8.isRequired})]),sharedEvents:U1().shape({events:U1().array,getEventState:U1().func}),singleQuadrantDomainPadding:U1().oneOfType([U1().bool,U1().shape({x:U1().oneOfType([U1().bool]),y:U1().oneOfType([U1().bool])})]),standalone:U1().bool,theme:U1().object,width:E8},primitiveProps:{active:U1().bool,ariaLabel:U1().oneOfType([U1().string,U1().func]),className:U1().string,clipPath:U1().string,data:U1().oneOfType([U1().array,U1().object]),desc:U1().oneOfType([U1().string,U1().func]),disableInlineStyles:U1().bool,events:U1().object,id:U1().oneOfType([U1().number,U1().string,U1().func]),index:U1().oneOfType([U1().number,U1().string]),origin:U1().shape({x:U1().number,y:U1().number}),polar:U1().bool,role:U1().string,scale:U1().oneOfType([C8,U1().shape({x:C8,y:C8})]),shapeRendering:U1().string,style:U1().object,tabIndex:U1().oneOfType([U1().number,U1().func]),transform:U1().string}},R8=["desc"];function N8(){return N8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N8.apply(this,arguments)}function L8(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var I8=function(t){var e=t.desc,n=L8(t,R8);return e?a.createElement("rect",N8({vectorEffect:"non-scaling-stroke"},n),a.createElement("desc",null,e)):a.createElement("rect",N8({vectorEffect:"non-scaling-stroke"},n))},D8=["desc"];function j8(){return j8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j8.apply(this,arguments)}function U8(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var F8=function(t){var e=t.desc,n=U8(t,D8);return e?a.createElement("circle",j8({vectorEffect:"non-scaling-stroke"},n),a.createElement("desc",null,e)):a.createElement("circle",j8({vectorEffect:"non-scaling-stroke"},n))};function z8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function B8(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z8(Object(n),!0).forEach((function(e){V8(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z8(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function V8(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var H8=function(t){return t=function(t){var e=S2(t.id,t);return L1()({},t,{id:e})}(t),t.polar?a.cloneElement(t.circleComponent,B8(B8({},t.events),{},{style:t.style,role:t.role,shapeRendering:t.shapeRendering,cx:t.x,cy:t.y,r:t.height,className:t.className})):a.cloneElement(t.rectComponent,B8(B8({},t.events),{},{style:t.style,role:t.role,shapeRendering:t.shapeRendering,x:t.x,y:t.y,rx:t.rx,ry:t.ry,width:t.width,height:t.height,className:t.className}))};H8.propTypes=B8(B8({},P8.primitiveProps),{},{circleComponent:U1().element,height:U1().number,rectComponent:U1().element,rx:U1().number,ry:U1().number,width:U1().number,x:U1().number,y:U1().number}),H8.defaultProps={circleComponent:a.createElement(F8,null),rectComponent:a.createElement(I8,null),role:"presentation",shapeRendering:"auto"};var q8=n(804),W8=n.n(q8);function G8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function X8(t,e){return X8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},X8(t,e)}function K8(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Y8(t);if(e){var i=Y8(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Y8(t){return Y8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Y8(t)}var $8=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X8(t,e)}(o,t);var e,n,r,i=K8(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,t)).map=void 0,e.index=void 0,e.portalRegister=function(){return++e.index},e.portalUpdate=function(t,n){e.map[t]=n,e.forceUpdate()},e.portalDeregister=function(t){delete e.map[t],e.forceUpdate()},e.map={},e.index=1,e}return e=o,n=[{key:"getChildren",value:function(){var t=this;return Q1()(this.map).map((function(e){var n=t.map[e];return n?a.cloneElement(n,{key:e}):n}))}},{key:"render",value:function(){return a.createElement("svg",this.props,this.getChildren())}}],n&&G8(e.prototype,n),r&&G8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(a.Component);$8.displayName="Portal",$8.propTypes={className:U1().string,height:E8,style:U1().object,viewBox:U1().string,width:E8};var Q8=a.createContext({});function Z8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Q8.displayName="PortalContext";var J8=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.shouldAnimate=void 0,this.subscribers=void 0,this.activeSubscriptions=void 0,this.timer=void 0,this.loop=function(){e.subscribers.forEach((function(t){t.callback(vD()-t.startTime,t.duration)}))},this.shouldAnimate=!0,this.subscribers=[],this.timer=null,this.activeSubscriptions=0}var e,n,r;return e=t,n=[{key:"bypassAnimation",value:function(){this.shouldAnimate=!1}},{key:"resumeAnimation",value:function(){this.shouldAnimate=!0}},{key:"start",value:function(){this.timer||(this.timer=_D(this.loop))}},{key:"stop",value:function(){this.timer&&(this.timer.stop(),this.timer=null)}},{key:"subscribe",value:function(t,e){e=this.shouldAnimate?e:0;var n=this.subscribers.push({startTime:vD(),callback:t,duration:e});return this.activeSubscriptions++,this.start(),n}},{key:"unsubscribe",value:function(t){null!==t&&this.subscribers[t-1]&&(delete this.subscribers[t-1],this.activeSubscriptions--),0===this.activeSubscriptions&&this.stop()}}],n&&Z8(e.prototype,n),r&&Z8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),t9=a.createContext({transitionTimer:new J8,animationTimer:new J8});t9.displayName="TimerContext";const e9=t9;function n9(){return n9=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n9.apply(this,arguments)}function r9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i9(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r9(Object(n),!0).forEach((function(e){o9(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r9(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s9(t,e){return s9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s9(t,e)}function l9(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c9(t);if(e){var i=c9(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function c9(t){return c9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c9(t)}var u9=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s9(t,e)}(o,t);var e,n,r,i=l9(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,t)).containerId=void 0,e.portalRef=void 0,e.containerRef=void 0,e.shouldHandleWheel=void 0,e.savePortalRef=function(t){return e.portalRef=t,t},e.portalUpdate=function(t,n){return e.portalRef.portalUpdate(t,n)},e.portalRegister=function(){return e.portalRef.portalRegister()},e.portalDeregister=function(t){return e.portalRef.portalDeregister(t)},e.saveContainerRef=function(t){return v2()(e.props.containerRef)&&e.props.containerRef(t),e.containerRef=t,t},e.handleWheel=function(t){return t.preventDefault()},e.containerId=u5()(t)&&void 0!==t.containerId?t.containerId:W8()("victory-container-"),e.shouldHandleWheel=!!(t&&t.events&&t.events.onWheel),e}return e=o,(n=[{key:"componentDidMount",value:function(){this.shouldHandleWheel&&this.containerRef&&this.containerRef.addEventListener("wheel",this.handleWheel)}},{key:"componentWillUnmount",value:function(){this.shouldHandleWheel&&this.containerRef&&this.containerRef.removeEventListener("wheel",this.handleWheel)}},{key:"getIdForElement",value:function(t){return"".concat(this.containerId,"-").concat(t)}},{key:"getChildren",value:function(t){return t.children}},{key:"getOUIAProps",value:function(t){var e=t.ouiaId,n=t.ouiaSafe,r=t.ouiaType;return i9(i9(i9({},e&&{"data-ouia-component-id":e}),r&&{"data-ouia-component-type":r}),void 0!==n&&{"data-ouia-safe":n})}},{key:"renderContainer",value:function(t,e,n){var r=t.title,i=t.desc,o=t.portalComponent,s=t.className,l=t.width,c=t.height,u=t.portalZIndex,h=t.responsive,d=this.getChildren(t),f=h?{width:"100%",height:"100%"}:{width:l,height:c},p=L1()({pointerEvents:"none",touchAction:"none",position:"relative"},f),m=L1()({zIndex:u,position:"absolute",top:0,left:0},f),g=L1()({pointerEvents:"all"},f),v=L1()({overflow:"visible"},f),y={width:l,height:c,viewBox:e.viewBox,preserveAspectRatio:e.preserveAspectRatio,style:v};return a.createElement(Q8.Provider,{value:{portalUpdate:this.portalUpdate,portalRegister:this.portalRegister,portalDeregister:this.portalDeregister}},a.createElement("div",n9({style:D1()({},n,p),className:s,ref:this.saveContainerRef},this.getOUIAProps(t)),a.createElement("svg",n9({},e,{style:g}),r?a.createElement("title",{id:this.getIdForElement("title")},r):null,i?a.createElement("desc",{id:this.getIdForElement("desc")},i):null,d),a.createElement("div",{style:m},a.cloneElement(o,i9(i9({},y),{},{ref:this.savePortalRef})))))}},{key:"render",value:function(){var t=this.props,e=t.width,n=t.height,r=t.responsive,i=t.events,o=t.title,a=t.desc,s=t.tabIndex,l=t.preserveAspectRatio,c=t.role,u=r?this.props.style:y2(this.props.style,["height","width"]),h=z2(this.props),d=L1()(i9({width:e,height:n,tabIndex:s,role:c,"aria-labelledby":[o&&this.getIdForElement("title"),this.props["aria-labelledby"]].filter(Boolean).join(" ")||void 0,"aria-describedby":[a&&this.getIdForElement("desc"),this.props["aria-describedby"]].filter(Boolean).join(" ")||void 0,viewBox:r?"0 0 ".concat(e," ").concat(n):void 0,preserveAspectRatio:r?l:void 0},h),i);return this.renderContainer(this.props,d,u)}}])&&a9(e.prototype,n),r&&a9(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(a.Component);u9.displayName="VictoryContainer",u9.role="container",u9.propTypes={"aria-describedby":U1().string,"aria-labelledby":U1().string,children:U1().oneOfType([U1().arrayOf(U1().node),U1().node]),className:U1().string,containerId:U1().oneOfType([U1().number,U1().string]),containerRef:U1().func,desc:U1().string,events:U1().object,height:E8,name:U1().string,origin:U1().shape({x:E8,y:E8}),ouiaId:U1().oneOfType([U1().number,U1().string]),ouiaSafe:U1().bool,ouiaType:U1().string,polar:U1().bool,portalComponent:U1().element,portalZIndex:T8,preserveAspectRatio:U1().string,responsive:U1().bool,role:U1().string,style:U1().object,tabIndex:U1().number,theme:U1().object,title:U1().string,width:E8},u9.defaultProps={className:"VictoryContainer",portalComponent:a.createElement($8,null),portalZIndex:99,responsive:!0,role:"img"},u9.contextType=e9;var h9=["#252525","#525252","#737373","#969696","#bdbdbd","#d9d9d9","#f0f0f0"],d9="#252525",f9="#969696",p9={width:450,height:300,padding:50,colorScale:h9},m9={fontFamily:"'Gill Sans', 'Seravek', 'Trebuchet MS', sans-serif",fontSize:14,letterSpacing:"normal",padding:10,fill:d9,stroke:"transparent"},g9=L1()({textAnchor:"middle"},m9),v9={area:L1()({style:{data:{fill:d9},labels:m9}},p9),axis:L1()({style:{axis:{fill:"transparent",stroke:d9,strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"},axisLabel:L1()({},g9,{padding:25}),grid:{fill:"none",stroke:"none",pointerEvents:"painted"},ticks:{fill:"transparent",size:1,stroke:"transparent"},tickLabels:m9}},p9),bar:L1()({style:{data:{fill:d9,padding:8,strokeWidth:0},labels:m9}},p9),boxplot:L1()({style:{max:{padding:8,stroke:d9,strokeWidth:1},maxLabels:L1()({},m9,{padding:3}),median:{padding:8,stroke:d9,strokeWidth:1},medianLabels:L1()({},m9,{padding:3}),min:{padding:8,stroke:d9,strokeWidth:1},minLabels:L1()({},m9,{padding:3}),q1:{padding:8,fill:f9},q1Labels:L1()({},m9,{padding:3}),q3:{padding:8,fill:f9},q3Labels:L1()({},m9,{padding:3})},boxWidth:20},p9),candlestick:L1()({style:{data:{stroke:d9,strokeWidth:1},labels:L1()({},m9,{padding:5})},candleColors:{positive:"#ffffff",negative:d9}},p9),chart:p9,errorbar:L1()({borderWidth:8,style:{data:{fill:"transparent",stroke:d9,strokeWidth:2},labels:m9}},p9),group:L1()({colorScale:h9},p9),histogram:L1()({style:{data:{fill:f9,stroke:d9,strokeWidth:2},labels:m9}},p9),legend:{colorScale:h9,gutter:10,orientation:"vertical",titleOrientation:"top",style:{data:{type:"circle"},labels:m9,title:L1()({},m9,{padding:5})}},line:L1()({style:{data:{fill:"transparent",stroke:d9,strokeWidth:2},labels:m9}},p9),pie:{style:{data:{padding:10,stroke:"transparent",strokeWidth:1},labels:L1()({},m9,{padding:20})},colorScale:h9,width:400,height:400,padding:50},scatter:L1()({style:{data:{fill:d9,stroke:"transparent",strokeWidth:0},labels:m9}},p9),stack:L1()({colorScale:h9},p9),tooltip:{style:L1()({},m9,{padding:0,pointerEvents:"none"}),flyoutStyle:{stroke:d9,strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"},flyoutPadding:5,cornerRadius:5,pointerLength:10},voronoi:L1()({style:{data:{fill:"transparent",stroke:"transparent",strokeWidth:0},labels:L1()({},m9,{padding:5,pointerEvents:"none"}),flyout:{stroke:d9,strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"}}},p9)},y9=["#F4511E","#FFF59D","#DCE775","#8BC34A","#00796B","#006064"],b9="#ECEFF1",_9="#90A4AE",x9="#455A64",w9="#212121",S9={width:350,height:350,padding:50},E9={fontFamily:"'Helvetica Neue', 'Helvetica', sans-serif",fontSize:12,letterSpacing:"normal",padding:8,fill:x9,stroke:"transparent",strokeWidth:0},T9=L1()({textAnchor:"middle"},E9),M9="round",A9="round",C9={grayscale:v9,material:{area:L1()({style:{data:{fill:w9},labels:E9}},S9),axis:L1()({style:{axis:{fill:"transparent",stroke:_9,strokeWidth:2,strokeLinecap:M9,strokeLinejoin:A9},axisLabel:L1()({},T9,{padding:8,stroke:"transparent"}),grid:{fill:"none",stroke:b9,strokeDasharray:"10, 5",strokeLinecap:M9,strokeLinejoin:A9,pointerEvents:"painted"},ticks:{fill:"transparent",size:5,stroke:_9,strokeWidth:1,strokeLinecap:M9,strokeLinejoin:A9},tickLabels:L1()({},E9,{fill:x9})}},S9),polarDependentAxis:L1()({style:{ticks:{fill:"transparent",size:1,stroke:"transparent"}}}),bar:L1()({style:{data:{fill:x9,padding:8,strokeWidth:0},labels:E9}},S9),boxplot:L1()({style:{max:{padding:8,stroke:x9,strokeWidth:1},maxLabels:L1()({},E9,{padding:3}),median:{padding:8,stroke:x9,strokeWidth:1},medianLabels:L1()({},E9,{padding:3}),min:{padding:8,stroke:x9,strokeWidth:1},minLabels:L1()({},E9,{padding:3}),q1:{padding:8,fill:x9},q1Labels:L1()({},E9,{padding:3}),q3:{padding:8,fill:x9},q3Labels:L1()({},E9,{padding:3})},boxWidth:20},S9),candlestick:L1()({style:{data:{stroke:x9},labels:L1()({},E9,{padding:5})},candleColors:{positive:"#ffffff",negative:x9}},S9),chart:S9,errorbar:L1()({borderWidth:8,style:{data:{fill:"transparent",opacity:1,stroke:x9,strokeWidth:2},labels:E9}},S9),group:L1()({colorScale:y9},S9),histogram:L1()({style:{data:{fill:x9,stroke:w9,strokeWidth:2},labels:E9}},S9),legend:{colorScale:y9,gutter:10,orientation:"vertical",titleOrientation:"top",style:{data:{type:"circle"},labels:E9,title:L1()({},E9,{padding:5})}},line:L1()({style:{data:{fill:"transparent",opacity:1,stroke:x9,strokeWidth:2},labels:E9}},S9),pie:L1()({colorScale:y9,style:{data:{padding:8,stroke:b9,strokeWidth:1},labels:L1()({},E9,{padding:20})}},S9),scatter:L1()({style:{data:{fill:x9,opacity:1,stroke:"transparent",strokeWidth:0},labels:E9}},S9),stack:L1()({colorScale:y9},S9),tooltip:{style:L1()({},E9,{padding:0,pointerEvents:"none"}),flyoutStyle:{stroke:w9,strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"},flyoutPadding:5,cornerRadius:5,pointerLength:10},voronoi:L1()({style:{data:{fill:"transparent",stroke:"transparent",strokeWidth:0},labels:L1()({},E9,{padding:5,pointerEvents:"none"}),flyout:{stroke:w9,strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"}}},S9)}},k9=n(1180),O9=n.n(k9),P9=n(9305),R9=n.n(P9),N9=n(2451),L9=n.n(N9);function I9(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(oct){s=!0,i=oct}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||j9(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D9(t){return function(t){if(Array.isArray(t))return U9(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||j9(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j9(t,e){if(t){if("string"===typeof t)return U9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U9(t,e):void 0}}function U9(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z9(t,e){return z9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},z9(t,e)}function B9(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H9(t);if(e){var i=H9(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return V9(t)}(this,n)}}function V9(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H9(t){return H9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H9(t)}var q9=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z9(t,e)}(o,t);var e,n,r,i=B9(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,t)).state=e.state||{},e.getScopedEvents=$7.bind(V9(e)),e.getEventState=Z7.bind(V9(e)),e.baseProps=e.getBaseProps(t),e.sharedEventsCache={},e.globalEvents={},e.prevGlobalEventKeys=[],e.boundGlobalEvents={},e}return e=o,n=[{key:"shouldComponentUpdate",value:function(t){if(!Pv()(this.props,t)){this.baseProps=this.getBaseProps(t);var e=this.getExternalMutations(t,this.baseProps);this.applyExternalMutations(t,e)}return!0}},{key:"componentDidMount",value:function(){var t=this,e=Q1()(this.globalEvents);e.forEach((function(e){return t.addGlobalListener(e)})),this.prevGlobalEventKeys=e}},{key:"componentDidUpdate",value:function(){var t=this,e=Q1()(this.globalEvents);O9()(this.prevGlobalEventKeys,e).forEach((function(e){return t.removeGlobalListener(e)})),O9()(e,this.prevGlobalEventKeys).forEach((function(e){return t.addGlobalListener(e)})),this.prevGlobalEventKeys=e}},{key:"componentWillUnmount",value:function(){var t=this;this.prevGlobalEventKeys.forEach((function(e){return t.removeGlobalListener(e)}))}},{key:"addGlobalListener",value:function(t){var e=this,n=function(n){var r=e.globalEvents[t];return r&&r(o8(n))};this.boundGlobalEvents[t]=n,window.addEventListener(n8(t),n)}},{key:"removeGlobalListener",value:function(t){window.removeEventListener(n8(t),this.boundGlobalEvents[t])}},{key:"getAllEvents",value:function(t){var e=e8(t,["container","groupComponent"]);return Array.isArray(e)?Array.isArray(t.events)?e.concat.apply(e,D9(t.events)):e:t.events}},{key:"applyExternalMutations",value:function(t,e){if(!R1()(e)){var n=t.externalEventMutations.reduce((function(t,e){return t=v2()(e.callback)?t.concat(e.callback):t}),[]),r=n.length?function(){n.forEach((function(t){return t()}))}:void 0;this.setState(e,r)}}},{key:"getExternalMutations",value:function(t,e){return R1()(t.externalEventMutations)?void 0:function(t,e,n,r){return e=e||{},n=n||{},r.reduce((function(r,i){var o=n[i],a=J7(t,e[i],n[i],i);return r[i]=a||o,q7()(r,(function(t){return!R1()(t)}))}),{})}(t.externalEventMutations,e,this.state,Q1()(e))}},{key:"cacheSharedEvents",value:function(t,e,n){this.sharedEventsCache[t]=[e,n]}},{key:"getCachedSharedEvents",value:function(t,e){var n=I9(this.sharedEventsCache[t]||[],2),r=n[0],i=n[1];if(r&&Pv()(e,i))return r}},{key:"getBaseProps",value:function(t){var e=t.container,n=a.Children.toArray(this.props.children),r=this.getBasePropsFromChildren(n),i=e?e.props:{};return L1()({},r,{parent:i})}},{key:"getBasePropsFromChildren",value:function(t){var e=R2(t,(function(t,e){if(t.type&&v2()(t.type.getBaseProps)){var n=t.props&&t.type.getBaseProps(t.props);return n?[[e,n]]:null}return null}));return R9()(e)}},{key:"getNewChildren",value:function(t,e){var n=this,r=t.events,i=t.eventKey,o=function(t,s){return t.reduce((function(t,l,c){if(l.props.children){var u=a.Children.toArray(l.props.children),h=s.slice(c,c+u.length),d=a.cloneElement(l,l.props,o(u,h));return t.concat(d)}if("parent"!==s[c]&&l.type&&v2()(l.type.getBaseProps)){var f=l.props.name||s[c],p=Array.isArray(r)&&r.filter((function(t){return"parent"!==t.target&&(Array.isArray(t.childName)?t.childName.indexOf(f)>-1:t.childName===f||"all"===t.childName)})),m=[f,e,p,L9()(n.state[f])],g=n.getCachedSharedEvents(f,m)||{events:p,getEvents:function(t,r){return n.getScopedEvents(t,r,f,e)},getEventState:function(t,e){return n.getEventState(t,e,f)}};return n.cacheSharedEvents(f,g,m),t.concat(a.cloneElement(l,L1()({key:"events-".concat(f),sharedEvents:g,eventKey:i,name:f},l.props)))}return t.concat(l)}),[])},s=Q1()(e),l=a.Children.toArray(t.children);return o(l,s)}},{key:"getContainer",value:function(t,e,n){var r=this,i=this.getNewChildren(t,e),o=Array.isArray(n)&&n.filter((function(t){return"parent"===t.target})),s=o.length>0?{events:o,getEvents:function(t,n){return r.getScopedEvents(t,n,null,e)},getEventState:this.getEventState}:null,l=t.container||t.groupComponent,c=l.type&&l.type.role,u=l.props||{},h=Y7.bind(this),d=s&&h({sharedEvents:s},"parent"),f=D1()({},this.getEventState("parent","parent"),u,e.parent,{children:i}),p=D1()({},Q7(d,"parent",f),u.events);this.globalEvents=r8(p);var m=i8(p);return"container"===c?a.cloneElement(l,L1()({},f,{events:m})):a.cloneElement(l,m,i)}},{key:"render",value:function(){var t=this.getAllEvents(this.props);return t?this.getContainer(this.props,this.baseProps,t):a.cloneElement(this.props.container,{children:this.props.children})}}],n&&F9(e.prototype,n),r&&F9(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(a.Component);q9.displayName="VictorySharedEvents",q9.role="shared-event-wrapper",q9.propTypes={children:U1().oneOfType([U1().arrayOf(U1().node),U1().node]),container:U1().node,eventKey:U1().oneOfType([U1().array,U1().func,S8([T8,E8]),U1().string]),events:U1().arrayOf(U1().shape({childName:U1().oneOfType([U1().string,U1().array]),eventHandlers:U1().object,eventKey:U1().oneOfType([U1().array,U1().func,S8([T8,E8]),U1().string]),target:U1().string})),externalEventMutations:U1().arrayOf(U1().shape({callback:U1().func,childName:U1().oneOfType([U1().string,U1().array]),eventKey:U1().oneOfType([U1().array,S8([T8,E8]),U1().string]),mutation:U1().func,target:U1().oneOfType([U1().string,U1().array])})),groupComponent:U1().node},q9.defaultProps={groupComponent:a.createElement("g",null)},q9.contextType=e9;var W9=n(9151),G9=n.n(W9);function X9(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(oct){s=!0,i=oct}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||Y9(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K9(t){return function(t){if(Array.isArray(t))return $9(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Y9(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y9(t,e){if(t){if("string"===typeof t)return $9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$9(t,e):void 0}}function $9(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Q9={"American Typewriter":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.25,.4203125,.3296875,.6,.6375,.8015625,.8203125,.1875,.45625,.45625,.6375,.5,.2734375,.309375,.2734375,.4390625,.6375,.6375,.6375,.6375,.6375,.6375,.6375,.6375,.6375,.6375,.2734375,.2734375,.5,.5,.5,.6,.6921875,.7640625,.6921875,.6375,.728125,.6734375,.6203125,.7109375,.784375,.3828125,.6421875,.7859375,.6375,.9484375,.7640625,.65625,.6375,.65625,.7296875,.6203125,.6375,.7109375,.740625,.940625,.784375,.7578125,.6203125,.4375,.5,.4375,.5,.5,.4921875,.5734375,.5890625,.5109375,.6,.528125,.43125,.5578125,.6375,.3109375,.40625,.6234375,.309375,.928125,.6375,.546875,.6,.58125,.4921875,.4921875,.4,.6203125,.625,.825,.6375,.640625,.528125,.5,.5,.5,.6671875],avg:.5793421052631578},Arial:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.278125,.278125,.35625,.55625,.55625,.890625,.6671875,.1921875,.334375,.334375,.390625,.584375,.278125,.334375,.278125,.278125,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.278125,.278125,.584375,.584375,.584375,.55625,1.015625,.6703125,.6671875,.7234375,.7234375,.6671875,.6109375,.778125,.7234375,.278125,.5,.6671875,.55625,.834375,.7234375,.778125,.6671875,.778125,.7234375,.6671875,.6109375,.7234375,.6671875,.9453125,.6671875,.6671875,.6109375,.278125,.278125,.278125,.4703125,.584375,.334375,.55625,.55625,.5,.55625,.55625,.3125,.55625,.55625,.2234375,.2703125,.5,.2234375,.834375,.55625,.55625,.55625,.55625,.346875,.5,.278125,.55625,.5,.7234375,.5,.5,.5,.334375,.2609375,.334375,.584375],avg:.528733552631579},"Arial Black":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.33125,.334375,.5,.6609375,.6671875,1,.890625,.278125,.390625,.390625,.55625,.6609375,.334375,.334375,.334375,.28125,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.334375,.334375,.6609375,.6609375,.6609375,.6109375,.7453125,.78125,.778125,.778125,.778125,.7234375,.6671875,.834375,.834375,.390625,.6671875,.834375,.6671875,.9453125,.834375,.834375,.7234375,.834375,.78125,.7234375,.7234375,.834375,.7796875,1.003125,.78125,.78125,.7234375,.390625,.28125,.390625,.6609375,.5125,.334375,.6671875,.6671875,.6671875,.6671875,.6671875,.41875,.6671875,.6671875,.334375,.384375,.6671875,.334375,1,.6671875,.6671875,.6671875,.6671875,.4703125,.6109375,.4453125,.6671875,.6140625,.946875,.6671875,.615625,.55625,.390625,.278125,.390625,.6609375],avg:.6213157894736842},Baskerville:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.25,.25,.40625,.6671875,.490625,.875,.7015625,.178125,.2453125,.246875,.4171875,.6671875,.25,.3125,.25,.521875,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.25,.25,.6671875,.6671875,.6671875,.396875,.9171875,.684375,.615625,.71875,.7609375,.625,.553125,.771875,.803125,.3546875,.515625,.78125,.6046875,.928125,.75,.8234375,.5625,.96875,.7296875,.5421875,.6984375,.771875,.7296875,.9484375,.771875,.678125,.6359375,.3640625,.521875,.3640625,.46875,.5125,.334375,.46875,.521875,.428125,.521875,.4375,.3890625,.4765625,.53125,.25,.359375,.4640625,.240625,.803125,.53125,.5,.521875,.521875,.365625,.334375,.2921875,.521875,.4640625,.678125,.4796875,.465625,.428125,.4796875,.5109375,.4796875,.6671875],avg:.5323519736842108},Courier:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.5984375,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6078125,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.61875,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.615625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6140625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625],avg:.6020559210526316},"Courier New":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.5984375,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625],avg:.6015296052631579},cursive:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.1921875,.24375,.40625,.5671875,.3984375,.721875,.909375,.2328125,.434375,.365625,.4734375,.5578125,.19375,.3484375,.19375,.7734375,.503125,.4171875,.5453125,.45,.6046875,.4703125,.5984375,.55625,.503125,.5546875,.20625,.2,.5625,.5546875,.546875,.403125,.70625,.734375,.7078125,.64375,.85,.753125,.75,.6484375,1.0765625,.44375,.5359375,.8359375,.653125,1.0109375,1.1515625,.6796875,.6984375,1.0625,.8234375,.5125,.9234375,.8546875,.70625,.9109375,.7421875,.715625,.6015625,.4640625,.3359375,.4109375,.5421875,.5421875,.4328125,.5125,.5,.3859375,.7375,.359375,.75625,.540625,.5328125,.3203125,.5296875,.5015625,.484375,.7890625,.5640625,.4203125,.703125,.471875,.4734375,.35,.4125,.5640625,.471875,.6484375,.5296875,.575,.4140625,.415625,.20625,.3796875,.5421875],avg:.5604440789473684},fantasy:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.215625,.2625,.3265625,.6109375,.534375,.7625,.7828125,.2,.4359375,.4359375,.3765625,.5109375,.2796875,.4609375,.2796875,.5296875,.6640625,.253125,.521875,.4765625,.6640625,.490625,.528125,.5546875,.496875,.5421875,.2796875,.2796875,.5625,.4609375,.5625,.4828125,.609375,.740625,.7234375,.740625,.8265625,.7234375,.6171875,.7359375,.765625,.240625,.5453125,.715625,.6078125,.8640625,.653125,.9125,.6484375,.946875,.6921875,.653125,.6953125,.8015625,.58125,.784375,.671875,.6265625,.690625,.4359375,.5296875,.4359375,.53125,.5,.2875,.5375,.603125,.4984375,.60625,.53125,.434375,.6421875,.56875,.209375,.4671875,.5484375,.2203125,.709375,.55,.5984375,.6140625,.5765625,.40625,.4734375,.3734375,.559375,.4421875,.6421875,.4890625,.578125,.4484375,.2546875,.2203125,.2546875,.55],avg:.536496710526316},Geneva:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.3328125,.3046875,.5,.6671875,.6671875,.90625,.728125,.3046875,.446875,.446875,.5078125,.6671875,.3046875,.3796875,.3046875,.5390625,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.3046875,.3046875,.6671875,.6671875,.6671875,.56875,.871875,.728125,.6375,.6515625,.7015625,.5765625,.5546875,.675,.690625,.2421875,.4921875,.6640625,.584375,.7890625,.709375,.7359375,.584375,.78125,.60625,.60625,.640625,.6671875,.728125,.946875,.6109375,.6109375,.5765625,.446875,.5390625,.446875,.6671875,.6671875,.5921875,.5546875,.6109375,.546875,.603125,.5765625,.390625,.6109375,.584375,.2359375,.334375,.5390625,.2359375,.8953125,.584375,.60625,.603125,.603125,.3875,.509375,.44375,.584375,.565625,.78125,.53125,.571875,.5546875,.4515625,.246875,.4515625,.6671875],avg:.5762664473684211},Georgia:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2421875,.33125,.4125,.64375,.6109375,.81875,.7109375,.215625,.375,.375,.4734375,.64375,.2703125,.375,.2703125,.46875,.6140625,.4296875,.559375,.553125,.565625,.5296875,.5671875,.503125,.596875,.5671875,.3125,.3125,.64375,.64375,.64375,.4796875,.9296875,.715625,.6546875,.6421875,.75,.6546875,.6,.7265625,.815625,.390625,.51875,.7203125,.6046875,.928125,.7671875,.7453125,.6109375,.7453125,.7234375,.5625,.61875,.7578125,.70625,.99375,.7125,.6640625,.6015625,.375,.46875,.375,.64375,.65,.5,.5046875,.56875,.4546875,.575,.484375,.39375,.509375,.5828125,.29375,.3671875,.546875,.2875,.88125,.5921875,.5390625,.571875,.5640625,.4109375,.4328125,.3453125,.5765625,.5203125,.75625,.50625,.5171875,.4453125,.43125,.375,.43125,.64375],avg:.5551809210526316},"Gill Sans":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2765625,.271875,.3546875,.584375,.5421875,.6765625,.625,.1890625,.3234375,.3234375,.4171875,.584375,.2203125,.3234375,.2203125,.28125,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.2203125,.2296875,.584375,.584375,.584375,.334375,1.0109375,.6671875,.5640625,.709375,.75,.5,.4703125,.740625,.7296875,.25,.3125,.65625,.490625,.78125,.78125,.8234375,.5109375,.8234375,.6046875,.459375,.6046875,.709375,.6046875,1.0421875,.709375,.6046875,.646875,.334375,.28125,.334375,.4703125,.5828125,.334375,.428125,.5,.4390625,.5109375,.4796875,.296875,.428125,.5,.2203125,.2265625,.5,.2203125,.771875,.5,.553125,.5,.5,.3984375,.3859375,.334375,.5,.4390625,.7203125,.5,.4390625,.4171875,.334375,.2609375,.334375,.584375],avg:.4933717105263159},Helvetica:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2796875,.2765625,.3546875,.5546875,.5546875,.8890625,.665625,.190625,.3328125,.3328125,.3890625,.5828125,.2765625,.3328125,.2765625,.3015625,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.2765625,.2765625,.584375,.5828125,.584375,.5546875,1.0140625,.665625,.665625,.721875,.721875,.665625,.609375,.7765625,.721875,.2765625,.5,.665625,.5546875,.8328125,.721875,.7765625,.665625,.7765625,.721875,.665625,.609375,.721875,.665625,.94375,.665625,.665625,.609375,.2765625,.3546875,.2765625,.4765625,.5546875,.3328125,.5546875,.5546875,.5,.5546875,.5546875,.2765625,.5546875,.5546875,.221875,.240625,.5,.221875,.8328125,.5546875,.5546875,.5546875,.5546875,.3328125,.5,.2765625,.5546875,.5,.721875,.5,.5,.5,.3546875,.259375,.353125,.5890625],avg:.5279276315789471},"Helvetica Neue":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.278125,.259375,.4265625,.55625,.55625,1,.6453125,.278125,.2703125,.26875,.353125,.6,.278125,.3890625,.278125,.36875,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.278125,.278125,.6,.6,.6,.55625,.8,.6625,.6859375,.7234375,.7046875,.6125,.575,.759375,.7234375,.259375,.5203125,.6703125,.55625,.871875,.7234375,.7609375,.6484375,.7609375,.6859375,.6484375,.575,.7234375,.6140625,.9265625,.6125,.6484375,.6125,.259375,.36875,.259375,.6,.5,.25625,.5375,.59375,.5375,.59375,.5375,.2984375,.575,.55625,.2234375,.2375,.5203125,.2234375,.853125,.55625,.575,.59375,.59375,.334375,.5,.315625,.55625,.5,.759375,.51875,.5,.48125,.334375,.2234375,.334375,.6],avg:.5279440789473684},"Hoefler Text":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2359375,.2234375,.3921875,.7125,.49375,.8859375,.771875,.2125,.3078125,.309375,.375,.4234375,.234375,.3125,.234375,.3,.5828125,.365625,.434375,.3921875,.5234375,.3984375,.5125,.4328125,.46875,.5125,.234375,.234375,.515625,.4234375,.515625,.340625,.7609375,.7359375,.6359375,.721875,.8125,.6375,.5875,.8078125,.853125,.4296875,.503125,.78125,.609375,.9609375,.8515625,.8140625,.6125,.8140625,.71875,.49375,.7125,.76875,.771875,1.125,.7765625,.7734375,.65625,.321875,.3078125,.321875,.3546875,.5,.3375,.446875,.5359375,.45,.5296875,.4546875,.425,.4921875,.54375,.2671875,.240625,.5390625,.25,.815625,.5375,.5234375,.5390625,.5421875,.365625,.36875,.35625,.5171875,.5015625,.75,.5,.509375,.44375,.2421875,.14375,.2421875,.35],avg:.5116447368421051},Montserrat:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2625,.2609375,.3734375,.696875,.615625,.8296875,.6703125,.203125,.3296875,.3296875,.3875,.575,.2125,.3828125,.2125,.3953125,.6625,.3625,.56875,.5640625,.6625,.5671875,.609375,.5890625,.6390625,.609375,.2125,.2125,.575,.575,.575,.5671875,1.034375,.7171875,.7546875,.7203125,.8265625,.6703125,.634375,.7734375,.8140625,.303125,.5078125,.7125,.5890625,.95625,.8140625,.8390625,.71875,.8390625,.7234375,.615625,.575,.7921875,.6984375,1.1125,.65625,.6359375,.6515625,.31875,.396875,.31875,.5765625,.5,.6,.590625,.678125,.5640625,.678125,.6046875,.375,.6875,.678125,.2703125,.365625,.6015625,.2703125,1.0625,.678125,.628125,.678125,.678125,.4015625,.4890625,.40625,.6734375,.5421875,.8796875,.534375,.5671875,.5125,.334375,.2953125,.334375,.575],avg:.571792763157895},monospace:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.5984375,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6078125,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.61875,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.615625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6140625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625],avg:.6020559210526316},Overpass:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2296875,.2765625,.4203125,.68125,.584375,.8515625,.7015625,.2203125,.3453125,.3453125,.53125,.63125,.2234375,.3953125,.2234375,.509375,.65,.4046875,.6171875,.60625,.6484375,.60625,.6015625,.5375,.615625,.6015625,.2234375,.2234375,.63125,.63125,.63125,.5015625,.8203125,.696875,.6671875,.65,.6859375,.6015625,.559375,.690625,.7078125,.2953125,.565625,.678125,.58125,.8046875,.7109375,.740625,.6421875,.740625,.6765625,.6046875,.590625,.696875,.6640625,.853125,.65,.6671875,.6625,.3734375,.509375,.3734375,.63125,.5125,.4,.5328125,.5625,.51875,.5625,.546875,.3359375,.5625,.565625,.25625,.3203125,.55,.265625,.85,.565625,.5671875,.5625,.5625,.4046875,.4765625,.3796875,.565625,.521875,.7265625,.53125,.5390625,.5125,.3671875,.275,.3671875,.63125],avg:.5430756578947369},Palatino:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.25,.278125,.371875,.60625,.5,.840625,.778125,.209375,.334375,.334375,.390625,.60625,.2578125,.334375,.25,.60625,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.25,.25,.60625,.60625,.60625,.4453125,.7484375,.778125,.6109375,.709375,.775,.6109375,.55625,.7640625,.8328125,.3375,.346875,.7265625,.6109375,.946875,.83125,.7875,.6046875,.7875,.66875,.525,.6140625,.778125,.7234375,1,.6671875,.6671875,.6671875,.334375,.60625,.334375,.60625,.5,.334375,.5,.565625,.4453125,.6109375,.4796875,.340625,.55625,.5828125,.2921875,.2671875,.5640625,.2921875,.8828125,.5828125,.546875,.6015625,.5609375,.3953125,.425,.3265625,.603125,.565625,.834375,.5171875,.55625,.5,.334375,.60625,.334375,.60625],avg:.5408552631578947},RedHatText:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2328125,.2203125,.35625,.6890625,.55,.7390625,.6703125,.2140625,.4015625,.4015625,.4546875,.53125,.2203125,.45625,.2203125,.515625,.6609375,.3078125,.5484375,.5875,.61875,.5703125,.6203125,.559375,.6140625,.6203125,.2203125,.2234375,.465625,.534375,.465625,.5125,.7671875,.6609375,.6703125,.7265625,.728125,.6203125,.6109375,.8,.73125,.253125,.6,.6125,.6078125,.8625,.7390625,.8109375,.6546875,.809375,.6484375,.6234375,.6171875,.7125,.6609375,.8984375,.6546875,.646875,.60625,.3625,.5203125,.3625,.540625,.4609375,.5234375,.5265625,.584375,.509375,.5828125,.5578125,.3703125,.5828125,.553125,.2234375,.24375,.4890625,.2234375,.8453125,.553125,.58125,.584375,.5828125,.353125,.453125,.378125,.553125,.5015625,.6984375,.4875,.4984375,.459375,.3953125,.2921875,.3953125,.58125],avg:.5341940789473685},"sans-serif":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.278125,.278125,.35625,.55625,.55625,.890625,.6671875,.1921875,.334375,.334375,.390625,.584375,.278125,.334375,.278125,.303125,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.278125,.278125,.5859375,.584375,.5859375,.55625,1.015625,.6671875,.6671875,.7234375,.7234375,.6671875,.6109375,.778125,.7234375,.278125,.5,.6671875,.55625,.834375,.7234375,.778125,.6671875,.778125,.7234375,.6671875,.6109375,.7234375,.6671875,.9453125,.6671875,.6671875,.6109375,.278125,.35625,.278125,.478125,.55625,.334375,.55625,.55625,.5,.55625,.55625,.278125,.55625,.55625,.2234375,.2421875,.5,.2234375,.834375,.55625,.55625,.55625,.55625,.334375,.5,.278125,.55625,.5,.7234375,.5,.5,.5,.35625,.2609375,.3546875,.590625],avg:.5293256578947368},Seravek:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.215625,.296875,.4171875,.6734375,.4953125,.9125,.740625,.2421875,.3375,.3375,.409375,.60625,.2609375,.35625,.25625,.41875,.5921875,.3515625,.475,.4875,.5375,.509375,.5484375,.4546875,.5421875,.5484375,.25625,.2546875,.5875,.6171875,.5875,.4578125,.8140625,.6765625,.5703125,.6109375,.684375,.5109375,.4953125,.678125,.6859375,.2625,.2625,.5859375,.4734375,.846875,.709375,.740625,.509375,.740625,.584375,.5015625,.528125,.675,.5953125,.9453125,.596875,.540625,.540625,.359375,.4203125,.359375,.5109375,.421875,.4046875,.5015625,.5421875,.446875,.5453125,.484375,.38125,.5140625,.5546875,.240625,.2640625,.490625,.2765625,.8625,.5546875,.546875,.5453125,.5453125,.3625,.41875,.3890625,.5453125,.4703125,.7546875,.4921875,.4609375,.453125,.4015625,.2640625,.4015625,.58125],avg:.5044078947368421},serif:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2484375,.334375,.409375,.5,.5,.834375,.778125,.18125,.334375,.334375,.5,.5640625,.25,.334375,.25,.278125,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.278125,.278125,.5640625,.5640625,.5640625,.4453125,.921875,.7234375,.6671875,.6671875,.7234375,.6109375,.55625,.7234375,.7234375,.334375,.390625,.7234375,.6109375,.890625,.7234375,.7234375,.55625,.7234375,.6671875,.55625,.6109375,.7234375,.7234375,.9453125,.7234375,.7234375,.6109375,.334375,.340625,.334375,.4703125,.5,.3453125,.4453125,.5,.4453125,.5,.4453125,.3828125,.5,.5,.278125,.3359375,.5,.278125,.778125,.5,.5,.5,.5,.3375,.390625,.2796875,.5,.5,.7234375,.5,.5,.4453125,.48125,.2015625,.48125,.5421875],avg:.5126315789473684},Tahoma:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.3109375,.3328125,.4015625,.728125,.546875,.9765625,.70625,.2109375,.3828125,.3828125,.546875,.728125,.303125,.3640625,.303125,.3953125,.546875,.546875,.546875,.546875,.546875,.546875,.546875,.546875,.546875,.546875,.3546875,.3546875,.728125,.728125,.728125,.475,.909375,.6109375,.590625,.6015625,.6796875,.5625,.521875,.66875,.6765625,.3734375,.4171875,.6046875,.4984375,.771875,.66875,.7078125,.5515625,.7078125,.6375,.5578125,.5875,.65625,.60625,.903125,.58125,.5890625,.559375,.3828125,.39375,.3828125,.728125,.5625,.546875,.525,.553125,.4625,.553125,.5265625,.3546875,.553125,.5578125,.2296875,.328125,.51875,.2296875,.840625,.5578125,.54375,.553125,.553125,.3609375,.446875,.3359375,.5578125,.4984375,.7421875,.4953125,.4984375,.4453125,.48125,.3828125,.48125,.728125],avg:.5384374999999998},"Times New Roman":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2484375,.334375,.409375,.5,.5,.834375,.778125,.18125,.334375,.334375,.5,.5640625,.25,.334375,.25,.28125,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.278125,.278125,.5640625,.5640625,.5640625,.4453125,.921875,.7234375,.6671875,.6671875,.7234375,.6109375,.55625,.7234375,.7234375,.334375,.390625,.73125,.6109375,.890625,.7375,.7234375,.55625,.7234375,.6765625,.55625,.6109375,.7234375,.7234375,.9453125,.7234375,.7234375,.6109375,.334375,.28125,.334375,.4703125,.51875,.334375,.4453125,.503125,.4453125,.503125,.4453125,.4359375,.5,.5,.278125,.35625,.50625,.278125,.778125,.5,.5,.5046875,.5,.340625,.390625,.2796875,.5,.5,.7234375,.5,.5,.4453125,.48125,.2015625,.48125,.5421875],avg:.5134375},"Trebuchet MS":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.3015625,.3671875,.325,.53125,.525,.6015625,.70625,.1609375,.3671875,.3671875,.3671875,.525,.3671875,.3671875,.3671875,.525,.525,.525,.525,.525,.525,.525,.525,.525,.525,.525,.3671875,.3671875,.525,.525,.525,.3671875,.771875,.590625,.5671875,.5984375,.6140625,.5359375,.525,.6765625,.6546875,.2796875,.4765625,.5765625,.5078125,.7109375,.6390625,.675,.5578125,.7421875,.5828125,.48125,.58125,.6484375,.5875,.853125,.5578125,.5703125,.5515625,.3671875,.3578125,.3671875,.525,.53125,.525,.5265625,.5578125,.4953125,.5578125,.546875,.375,.503125,.546875,.2859375,.3671875,.5046875,.2953125,.83125,.546875,.5375,.5578125,.5578125,.3890625,.40625,.396875,.546875,.490625,.7453125,.5015625,.49375,.475,.3671875,.525,.3671875,.525],avg:.5085197368421052},Verdana:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.35,.39375,.459375,.81875,.6359375,1.0765625,.759375,.26875,.4546875,.4546875,.6359375,.81875,.3640625,.4546875,.3640625,.4703125,.6359375,.6359375,.6359375,.6359375,.6359375,.6359375,.6359375,.6359375,.6359375,.6359375,.4546875,.4546875,.81875,.81875,.81875,.546875,1,.684375,.6859375,.6984375,.771875,.6328125,.575,.7765625,.7515625,.421875,.4546875,.69375,.5578125,.84375,.7484375,.7875,.603125,.7875,.7,.684375,.6171875,.7328125,.684375,.9890625,.6859375,.615625,.6859375,.4546875,.46875,.4546875,.81875,.6421875,.6359375,.6015625,.6234375,.521875,.6234375,.596875,.384375,.6234375,.6328125,.275,.3765625,.5921875,.275,.9734375,.6328125,.6078125,.6234375,.6234375,.43125,.521875,.3953125,.6328125,.5921875,.81875,.5921875,.5921875,.5265625,.6359375,.4546875,.6359375,.81875],avg:.6171875000000003}},Z9={mm:3.8,sm:38,pt:1.33,pc:16,in:96,px:1},J9={em:1,ex:.5},ttt=1.05,ett=1.15,ntt={lineHeight:1,letterSpacing:"0px",fontSize:0,angle:0,fontFamily:""},rtt=function(t){return Array.isArray(t)?t:t.toString().split(/\r\n|\r|\n/g)},itt=function(t,e,n){var r=function(t){return t*Math.PI/180}(n);return Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e)},ott=function(t,e){var n,r=null===(n=t.match(/[a-zA-Z%]+/))||void 0===n?void 0:n[0],i=Number(t.match(/[0-9.,]+/));return r?Z9.hasOwnProperty(r)?i*Z9[r]:J9.hasOwnProperty(r)?(e?i*e:i*ntt.fontSize)*J9[r]:i:i||0},att=function(t,e){var n=Array.isArray(t)?t[e]:t,r=D1()({},n,ntt);return L1()({},r,{fontFamily:r.fontFamily,letterSpacing:"number"===typeof r.letterSpacing?r.letterSpacing:ott(String(r.letterSpacing),r.fontSize),fontSize:"number"===typeof r.fontSize?r.fontSize:ott(String(r.fontSize))})},stt=function(t,e){if(void 0===t||""===t||null===t)return 0;var n=rtt(t).map((function(t,n){var r=t.toString().length,i=att(e,n),o=i.fontSize,a=i.letterSpacing,s=function(t){var e=t.split(",").map((function(t){return t.replace(/'|"/g,"")})).find((function(t){return Q9[t]}))||"Helvetica";return Q9[e]}(i.fontFamily),l=t.toString().split("").map((function(t){return t.charCodeAt(0)<s.widths.length?s.widths[t.charCodeAt(0)]:s.avg})).reduce((function(t,e){return e+t}),0)*o;return l+a*Math.max(r-1,0)}));return Math.max.apply(Math,K9(n))},ltt=function(t,e){var n=Array.isArray(e)?e[0]&&e[0].angle:e&&e.angle,r=function(t,e){return void 0===t||""===t||null===t?0:rtt(t).reduce((function(t,n,r){var i=att(e,r),o=n.toString().match(/[(A-Z)(0-9)]/)?i.fontSize*ett:i.fontSize;return t+i.lineHeight*o}),0)}(t,e),i=stt(t,e);return{width:n?itt(i,r,n):i,height:(n?itt(r,i,n):r)*ttt}},ctt=G9()((function(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("xlink","http://www.w3.org/1999/xlink"),t.setAttribute("width","300"),t.setAttribute("height","300"),t.setAttribute("viewBox","0 0 300 300"),t.setAttribute("aria-hidden","true");var e=document.createElementNS("http://www.w3.org/2000/svg","text");return t.appendChild(e),t.style.position="fixed",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t),e})),utt=function(t){return t?"".concat(t.angle,":").concat(t.fontFamily,":").concat(t.fontSize,":").concat(t.letterSpacing,":").concat(t.lineHeight):"null"},htt=G9()((function(t,e){var n=ctt(),r=rtt(t),i=0;for(var o of r.entries()){var a=X9(o,2),s=a[0],l=a[1],c=document.createElementNS("http://www.w3.org/2000/svg","tspan"),u=att(e,s);c.style.fontFamily=u.fontFamily,c.style.fontSize="".concat(u.fontSize,"px"),c.style.lineHeight=u.lineHeight,c.style.fontFamily=u.fontFamily,c.style.letterSpacing=u.letterSpacing,c.textContent=l,c.setAttribute("x","0"),c.setAttribute("y","".concat(i)),n.appendChild(c),i+=u.lineHeight*c.getBoundingClientRect().height}var h=n.getBoundingClientRect().width;return n.innerHTML="",{width:null!==e&&void 0!==e&&e.angle?itt(h,i,null===e||void 0===e?void 0:e.angle):h,height:null!==e&&void 0!==e&&e.angle?itt(i,h,null===e||void 0===e?void 0:e.angle):i}}),(function(t,e){var n=Array.isArray(t)?t.join():t,r=Array.isArray(e)?e.map(utt).join():utt(e);return"".concat(n,"::").concat(r)})),dtt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!("undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement)||n?ltt(t,e):htt(t,e)},ftt=function(t,e){return dtt(t,e)},ptt=["desc"];function mtt(){return mtt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mtt.apply(this,arguments)}function gtt(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var vtt=function(t){var e=t.desc,n=gtt(t,ptt);return e?a.createElement("line",mtt({vectorEffect:"non-scaling-stroke"},n),a.createElement("desc",null,e)):a.createElement("line",mtt({vectorEffect:"non-scaling-stroke"},n))};function ytt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function btt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ytt(Object(n),!0).forEach((function(e){_tt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ytt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xtt=function(t){return t=function(t){var e=S2(t.ariaLabel,t),n=S2(t.desc,t),r=S2(t.id,t),i=E2(L1()({stroke:"black"},t.style),t),o=S2(t.tabIndex,t);return L1()({},t,{ariaLabel:e,desc:n,id:r,style:i,tabIndex:o})}(t),a.cloneElement(t.lineComponent,btt(btt({},t.events),{},{"aria-label":t.ariaLabel,style:t.style,desc:t.desc,tabIndex:t.tabIndex,className:t.className,role:t.role,shapeRendering:t.shapeRendering,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,transform:t.transform,clipPath:t.clipPath}))};function wtt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Stt(t,e){return Stt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Stt(t,e)}function Ett(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ttt(t);if(e){var i=Ttt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Ttt(t){return Ttt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ttt(t)}xtt.propTypes=btt(btt({},P8.primitiveProps),{},{datum:U1().any,lineComponent:U1().element,x1:U1().number,x2:U1().number,y1:U1().number,y2:U1().number}),xtt.defaultProps={lineComponent:a.createElement(vtt,null),role:"presentation",shapeRendering:"auto"};var Mtt=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Stt(t,e)}(o,t);var e,n,r,i=Ett(o);function o(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).checkedContext=void 0,t.renderInPlace=void 0,t.element=void 0,t.portalKey=void 0,t}return e=o,(n=[{key:"componentDidMount",value:function(){this.checkedContext||("function"!==typeof this.context.portalUpdate&&(v8(),this.renderInPlace=!0),this.checkedContext=!0),this.forceUpdate()}},{key:"componentDidUpdate",value:function(){this.renderInPlace||(this.portalKey=this.portalKey||this.context.portalRegister(),this.context.portalUpdate(this.portalKey,this.element))}},{key:"componentWillUnmount",value:function(){this.context&&this.context.portalDeregister&&this.context.portalDeregister(this.portalKey)}},{key:"renderPortal",value:function(t){return this.renderInPlace?t:(this.element=t,null)}},{key:"render",value:function(){var t=Array.isArray(this.props.children)?this.props.children[0]:this.props.children,e=this.props.groupComponent,n=t&&t.props||{},r=n.groupComponent?{groupComponent:e,standalone:!1}:{},i=D1()(r,n,y2(this.props,["children","groupComponent"])),o=t&&a.cloneElement(t,i);return this.renderPortal(o)}}])&&wtt(e.prototype,n),r&&wtt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(a.Component);Mtt.displayName="VictoryPortal",Mtt.role="portal",Mtt.propTypes={children:U1().node,groupComponent:U1().element},Mtt.defaultProps={groupComponent:a.createElement("g",null)},Mtt.contextType=Q8;var Att=["children","title","desc"];function Ctt(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var ktt=function(t){var e=t.children,n=t.title,r=t.desc,i=Ctt(t,Att);return a.createElement("text",i,n&&a.createElement("title",null,n),r&&a.createElement("desc",null,r),e)};ktt.propTypes={children:U1().node,desc:U1().string,title:U1().string};var Ott=function(t){return a.createElement("tspan",t)};function Ptt(t,e){if(t.polar)return{};var n=function(t,e){e=e||{};var n=t.horizontal,r=S2((t.style.labels||{}).padding,t)||0,i=e._y<0?-1:1;return{x:n?i*r:0,y:n?0:-1*i*r}}(t,e);return{dx:n.x,dy:n.y}}function Rtt(t,e){var n=t.polar,r=_2(t,e),i=r.x,o=r.y;if(!n)return{x:i,y:o};var a=function(t,e){var n=t.style,r=Utt(t,e),i=S2((n.labels||{}).padding,t)||0,o=T2(r);return{x:i*Math.cos(o),y:-i*Math.sin(o)}}(t,e);return{x:i+a.x,y:o+a.y}}function Ntt(t){var e=t.labelComponent,n=t.labelPlacement,r=t.polar?"perpendicular":"vertical";return n||(e.props&&e.props.labelPlacement||r)}function Ltt(t,e,n){return void 0!==(e=e||{}).label?e.label:Array.isArray(t.labels)?t.labels[n]:t.labels}function Itt(t,e){var n=Ntt(t);return"perpendicular"===n||"vertical"===n&&(90===e||270===e)?"middle":e<=90||e>270?"start":"end"}function Dtt(t,e){var n=Ntt(t),r=function(t){return t<45||t>315?"right":t>=45&&t<=135?"top":t>135&&t<225?"left":"bottom"}(e);return"parallel"===n||"left"===r||"right"===r?"middle":"top"===r?"end":"start"}function jtt(t,e){var n=t.labelPlacement,r=t.datum;if(!n||"vertical"===n)return 0;var i=void 0!==e?e%360:Utt(t,r),o=0;return 0===i||180===i?o=90:i>0&&i<180?o=90-i:i>180&&i<360&&(o=270-i),o+(i>90&&i<180||i>270?1:-1)*("perpendicular"===n?0:90)}function Utt(t,e){var n=b2(e).x;return M2(t.scale.x(n))%360}function Ftt(t,e){var n=t.scale,r=t.data,i=t.style,o=t.horizontal,a=t.polar,s=t.width,l=t.height,c=t.theme,u=t.labelComponent,h=t.disableInlineStyles,d=r[e],f=Utt(t,d),p=a?Itt(t,f):function(t,e){e=e||{};var n=t.style,r=t.horizontal,i=e._y>=0?1:-1,o=n&&n.labels||{};return e.verticalAnchor||o.verticalAnchor?e.verticalAnchor||o.verticalAnchor:r?i>=0?"start":"end":"middle"}(t,d),m=a?Dtt(t,f):function(t,e){var n=(e=e||{})._y>=0?1:-1,r=t.style&&t.style.labels||{};return e.verticalAnchor||r.verticalAnchor?e.verticalAnchor||r.verticalAnchor:t.horizontal?"middle":n>=0?"end":"start"}(t,d),g=function(t,e){e=e||{};var n=t.style&&t.style.labels||{};return void 0===e.angle?n.angle:e.angle}(t,d),v=Ltt(t,d,e),y=Ntt(t),b=Rtt(t,d),_=b.x,x=b.y,w=Ptt(t,d),S={angle:g,data:r,datum:d,disableInlineStyles:h,horizontal:o,index:e,polar:a,scale:n,labelPlacement:y,text:v,textAnchor:p,verticalAnchor:m,x:_,y:x,dx:w.dx,dy:w.dy,width:s,height:l,style:i.labels};if(!w2(u))return S;var E=c&&c.tooltip||{};return D1()({},S,y2(E,["style"]))}var ztt=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(n.length>0)return n.reduce((function(t,e){return[t,ztt(e)].join(" ")}),ztt(t)).trim();if(void 0===t||null===t||"string"===typeof t)return t;var i=[];for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];i.push("".concat(o,"(").concat(a,")"))}return i.join(" ").trim()};function Btt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vtt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Btt(Object(n),!0).forEach((function(e){Htt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Btt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Htt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qtt(t){return function(t){if(Array.isArray(t))return Wtt(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Wtt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wtt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wtt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Gtt={fill:"#252525",fontSize:14,fontFamily:"'Gill Sans', 'Gill Sans MT', 'Ser\xadavek', 'Trebuchet MS', sans-serif",stroke:"transparent"},Xtt=function(t,e){return t.datum?_2(t,t.datum)[e]:0},Ktt=function(t){var e=t&&t.fontSize;if("number"===typeof e)return e;if(void 0===e||null===e)return Gtt.fontSize;if("string"===typeof e){var n=Number(e.replace("px",""));return isNaN(n)?(v8(),Gtt.fontSize):n}return Gtt.fontSize},Ytt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array.isArray(t)?t[e]||t[0]:t},$tt=function(t){var e=t.backgroundStyle,n=t.backgroundPadding;return Array.isArray(e)&&!R1()(e)||Array.isArray(n)&&!R1()(n)},Qtt=function(t,e){var n=t.direction,r=t.textAnchor,i=t.x,o=t.dx;if("rtl"===n)return i-e;switch(r){case"middle":return Math.round(i-e/2);case"end":return Math.round(i-e);default:return i+(o||0)}},Ztt=function(t,e){var n=t.verticalAnchor,r=t.y,i=t.originalDy,o=r+(void 0===i?0:i);switch(n){case"start":return Math.floor(o);case"end":return Math.ceil(o-e);default:return Math.floor(o-e/2)}},Jtt=function(t,e){return $tt(t)?function(t,e){var n=t.dy,r=t.dx,i=t.transform,o=t.backgroundStyle,s=t.backgroundPadding,l=t.backgroundComponent,c=t.inline,u=t.y,h=e.map((function(t,i){var o=Ytt(e,i-1),a=t.textSize,l=t.fontSize*t.lineHeight,h=Math.ceil(l),d=Ytt(s,i),f=Ytt(s,i-1),p=c&&r||0,m=i&&!c?o.fontSize*o.lineHeight+f.top+f.bottom:n-.5*l-(t.fontSize-t.capHeight);return{textHeight:h,labelSize:a,heightWithPadding:h+d.top+d.bottom,widthWithPadding:a.width+d.left+d.right+p,y:u,fontSize:t.fontSize,dy:m}}));return h.map((function(e,n){var r=Qtt(t,e.labelSize.width),d=h.slice(0,n+1).reduce((function(t,e){return t+e.dy}),u),f=Ytt(s,n),p=e.heightWithPadding,m=c?function(t,e,n){var r=t.textAnchor,i=e.map((function(t){return t.widthWithPadding})),o=i.reduce((function(t,e){return t+e}),0),a=-o/2;switch(r){case"start":return i.reduce((function(t,e,r){return r<n?t+e:t}),0);case"end":return i.reduce((function(t,e,r){return r>n?t-e:t}),0);default:return i.reduce((function(t,e,r){return r===n?t+e/2:t+(r<n?e:0)}),a)}}(t,h,n)+r-f.left:r,g=c?Ztt(t,p)-f.top:d,v={key:"tspan-background-".concat(n),height:p,style:Ytt(o,n),width:e.widthWithPadding,transform:i,x:m-f.left,y:g};return a.cloneElement(l,D1()({},l.props,v))}))}(t,e):function(t,e){var n=t.dx,r=void 0===n?0:n,i=t.transform,o=t.backgroundComponent,s=t.backgroundStyle,l=t.inline,c=t.backgroundPadding,u=t.capHeight,h=e.map((function(t){return t.textSize})),d=l?Math.max.apply(Math,qtt(h.map((function(t){return t.height})))):h.reduce((function(t,n,r){var i=r?0:u/2;return t+n.height*(e[r].lineHeight-i)}),0),f=l?h.reduce((function(t,e,n){var i=n?r:0;return t+e.width+i}),0):Math.max.apply(Math,qtt(h.map((function(t){return t.width})))),p=Qtt(t,f),m=Ztt(t,d),g={key:"background",height:d+c.top+c.bottom,style:s,transform:i,width:f+c.left+c.right,x:l?p-c.left:p+r-c.left,y:m};return a.cloneElement(o,D1()({},o.props,g))}(t,e)},tet=function(t,e,n){var r=e.inline,i=Ytt(t,n);return n&&!r?function(t,e,n){var r=Ytt(t,e),i=Ytt(t,e-1),o=i.fontSize*i.lineHeight,a=r.fontSize*r.lineHeight,s=i.fontSize-i.capHeight,l=r.fontSize-r.capHeight,c=o-i.fontSize/2+r.fontSize/2-o/2+a/2-l/2+s/2;return $tt(n)?c+r.backgroundPadding.top+i.backgroundPadding.bottom:c}(t,n,e):r?0===n?i.backgroundPadding.top:void 0:i.backgroundPadding.top},eet=function(t){var e=function(t,e){if(void 0!==t&&null!==t){if(Array.isArray(t))return t.map((function(t){return S2(t,e)}));var n=S2(t,e);if(void 0!==n&&null!==n)return Array.isArray(n)?n:"".concat(n).split("\n")}}(t.text,t),n=function(t,e){if(e.disableInlineStyles){var n=E2(t,e);return{fontSize:Ktt(n)}}var r=function(t){var n=E2(t=t?D1()({},t,Gtt):Gtt,e);return L1()({},n,{fontSize:Ktt(n)})};return Array.isArray(t)&&!R1()(t)?t.map((function(t){return r(t)})):r(t)}(t.style,L1()({},t,{text:e})),r=function(t,e){if(t)return Array.isArray(t)&&!R1()(t)?t.map((function(t){return E2(t,e)})):E2(t,e)}(t.backgroundStyle,L1()({},t,{text:e,style:n})),i=function(t){return t.backgroundPadding&&Array.isArray(t.backgroundPadding)?t.backgroundPadding.map((function(e){return x2({padding:S2(e,t)})})):x2({padding:S2(t.backgroundPadding,t)})}(L1()({},t,{text:e,style:n,backgroundStyle:r})),o=S2(t.id,t);return L1()({},t,{backgroundStyle:r,backgroundPadding:i,style:n,text:e,id:o})},net=function(t){var e=S2(t.ariaLabel,t),n=Ytt(t.style),r=function(t){var e=S2(t.lineHeight,t);return Array.isArray(e)&&R1()(e)?[1]:e}(t),i=t.direction?S2(t.direction,t):"inherit",o=t.textAnchor?S2(t.textAnchor,t):n.textAnchor||"start",a=t.verticalAnchor?S2(t.verticalAnchor,t):n.verticalAnchor||"middle",s=t.dx?S2(t.dx,t):0,l=function(t,e,n){var r=t.dy?S2(t.dy,t):0,i=t.inline?1:t.text.length,o=S2(t.capHeight,t),a=e?S2(e,t):"middle",s=qtt(Array(i).keys()).map((function(e){return Ytt(t.style,e).fontSize})),l=qtt(Array(i).keys()).map((function(t){return Ytt(n,t)}));if("start"===a)return r+(o/2+l[0]/2)*s[0];if(t.inline)return"end"===a?r+(o/2-l[0]/2)*s[0]:r+o/2*s[0];if(1===i)return"end"===a?r+(o/2+(.5-i)*l[0])*s[0]:r+(o/2+(.5-i/2)*l[0])*s[0];var c=qtt(Array(i).keys()).reduce((function(t,e){return t+(o/2+(.5-i)*l[e])*s[e]/i}),0);return"end"===a?r+c:r+c/2+o/2*l[i-1]*s[i-1]}(t,a,r),c=void 0!==t.x?t.x:Xtt(t,"x"),u=void 0!==t.y?t.y:Xtt(t,"y"),h=function(t,e,n){var r=t.polar,i=Ytt(t.style),o=r?jtt(t):0,a=void 0===i.angle?S2(t.angle,t):i.angle,s=void 0===a?o:a,l=t.transform||i.transform,c=l&&S2(l,t);return c||s?ztt(c,s&&{rotate:[s,e,n]}):void 0}(t,c,u);return L1()({},t,{ariaLabel:e,lineHeight:r,direction:i,textAnchor:o,verticalAnchor:a,dx:s,dy:l,originalDy:t.dy,transform:h,x:c,y:u})},ret=function(t){if(null===(t=eet(t)).text||void 0===t.text)return null;var e=net(t),n=e.text,r=e.style,i=e.capHeight,o=e.backgroundPadding,s=e.lineHeight,l=n.map((function(t,e){var n=Ytt(r,e),a=ott("".concat(i,"em"),n.fontSize),l=Ytt(s,e);return{style:n,fontSize:n.fontSize||Gtt.fontSize,capHeight:a,text:t,textSize:ftt(t,n),lineHeight:l,backgroundPadding:Ytt(o,e)}})),c=function(t,e){var n=t.ariaLabel,r=t.inline,i=t.className,o=t.title,s=t.events,l=t.direction,c=t.text,u=t.textAnchor,h=t.dx,d=t.dy,f=t.transform,p=t.x,m=t.y,g=t.desc,v=t.id,y=t.tabIndex,b=t.tspanComponent,_=t.textComponent,x=z2(t),w=Vtt(Vtt({"aria-label":n,key:"text"},s),{},{direction:l,dx:h,x:p,y:m+d,transform:f,className:i,title:o,desc:S2(g,t),tabIndex:S2(y,t),id:v},x),S=c.map((function(n,i){var o=e[i].style,s={key:"".concat(v,"-key-").concat(i),x:r?void 0:p,dx:r?h+e[i].backgroundPadding.left:h,dy:tet(e,t,i),textAnchor:o.textAnchor||u,style:o,children:n};return a.cloneElement(b,s)}));return a.cloneElement(_,w,S)}(e,l);if(t.backgroundStyle){var u=[Jtt(e,l),c],h=a.cloneElement(t.groupComponent,{},u);return t.renderInPortal?a.createElement(Mtt,null,h):h}return t.renderInPortal?a.createElement(Mtt,null,c):c};ret.displayName="VictoryLabel",ret.role="label",ret.defaultStyles=Gtt,ret.propTypes={active:U1().bool,angle:U1().oneOfType([U1().string,U1().number,U1().func]),ariaLabel:U1().oneOfType([U1().string,U1().func]),backgroundComponent:U1().element,backgroundPadding:U1().oneOfType([U1().number,U1().object,U1().array]),backgroundStyle:U1().oneOfType([U1().object,U1().array]),capHeight:U1().oneOfType([U1().string,E8,U1().func]),className:U1().string,data:U1().array,datum:U1().any,desc:U1().oneOfType([U1().string,U1().func]),direction:U1().oneOf(["rtl","ltr","inherit"]),dx:U1().oneOfType([U1().number,U1().string,U1().func]),dy:U1().oneOfType([U1().number,U1().string,U1().func]),events:U1().object,groupComponent:U1().element,id:U1().oneOfType([U1().number,U1().string,U1().func]),index:U1().oneOfType([U1().number,U1().string]),inline:U1().bool,labelPlacement:U1().oneOf(["parallel","perpendicular","vertical"]),lineHeight:U1().oneOfType([U1().string,E8,U1().func,U1().array]),origin:U1().shape({x:E8.isRequired,y:E8.isRequired}),polar:U1().bool,renderInPortal:U1().bool,scale:U1().shape({x:C8,y:C8}),style:U1().oneOfType([U1().object,U1().array]),tabIndex:U1().oneOfType([U1().number,U1().func]),text:U1().oneOfType([U1().string,U1().number,U1().func,U1().array]),textAnchor:U1().oneOfType([U1().oneOf(["start","middle","end","inherit"]),U1().func]),textComponent:U1().element,title:U1().string,transform:U1().oneOfType([U1().string,U1().object,U1().func]),tspanComponent:U1().element,verticalAnchor:U1().oneOfType([U1().oneOf(["start","middle","end"]),U1().func]),x:U1().oneOfType([U1().number,U1().string]),y:U1().oneOfType([U1().number,U1().string])},ret.defaultProps={backgroundComponent:a.createElement(I8,null),groupComponent:a.createElement("g",null),direction:"inherit",textComponent:a.createElement(ktt,null),tspanComponent:a.createElement(Ott,null),capHeight:.71,lineHeight:1};var iet=n(5633),oet=n.n(iet);const aet=t=>+t;function set(t){return t*t}function cet(t){return t*(2-t)}function uet(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function het(t){return t*t*t}function det(t){return--t*t*t+1}function fet(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var pet=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),met=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),get=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),vet=Math.PI,yet=vet/2;function bet(t){return 1===+t?1:1-Math.cos(t*yet)}function _et(t){return Math.sin(t*yet)}function xet(t){return(1-Math.cos(vet*t))/2}function wet(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Eet(t){return wet(1-+t)}function Tet(t){return 1-wet(t)}function Met(t){return((t*=2)<=1?wet(1-t):2-wet(t-1))/2}function Aet(t){return 1-Math.sqrt(1-t*t)}function Cet(t){return Math.sqrt(1- --t*t)}function ket(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Oet=4/11,Pet=6/11,Ret=8/11,Net=3/4,Let=9/11,Iet=10/11,Det=15/16,jet=21/22,Uet=63/64,Fet=1/Oet/Oet;function zet(t){return 1-Bet(1-t)}function Bet(t){return(t=+t)<Oet?Fet*t*t:t<Ret?Fet*(t-=Pet)*t+Net:t<Iet?Fet*(t-=Let)*t+Det:Fet*(t-=jet)*t+Uet}function Vet(t){return((t*=2)<=1?1-Bet(1-t):Bet(t-1)+1)/2}var Het=1.70158,qet=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(Het),Wet=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(Het),Get=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(Het),Xet=2*Math.PI,Ket=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Xet);function i(t){return e*wet(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Xet)},i.period=function(n){return t(e,n)},i}(1,.3),Yet=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Xet);function i(t){return 1-e*wet(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Xet)},i.period=function(n){return t(e,n)},i}(1,.3),$et=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Xet);function i(t){return((t=2*t-1)<0?e*wet(-t)*Math.sin((r-t)/n):2-e*wet(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Xet)},i.period=function(n){return t(e,n)},i}(1,.3),Qet=function(t){if(null!==t)switch(typeof t){case"undefined":case"boolean":return!1;case"number":return!isNaN(t)&&t!==Number.POSITIVE_INFINITY&&t!==Number.NEGATIVE_INFINITY;case"string":case"function":return!0;case"object":return t instanceof Date||Array.isArray(t)||V2()(t)}return!1},Zet=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(r){return r<n?t:e}},Jet=function(t,e){return function(n){return n>=1?e:function(){return aS("function"===typeof t?t.apply(this,arguments):t,"function"===typeof e?e.apply(this,arguments):e)(n)}}},tnt=function(t,e){var n,r=function(t,e){return t!==e&&Qet(t)&&Qet(e)?"function"===typeof t||"function"===typeof e?Jet(t,e):"object"===typeof t&&V2()(t)||"object"===typeof e&&V2()(e)?tnt(t,e):aS(t,e):Zet(t,e)},i=function(t){return Array.isArray(t)?i5()(t,"key"):t},o={},a={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?o[n]=r(i(t[n]),i(e[n])):a[n]=e[n];return function(t){for(n in o)a[n]=o[n](t);return a}},ent=function(t,e){return t!==e&&Qet(t)&&Qet(e)?"function"===typeof t||"function"===typeof e?Jet(t,e):V2()(t)||V2()(e)?tnt(t,e):"string"===typeof t||"string"===typeof e?function(t,e){var n=function(t){return"string"===typeof t?t.replace(/,/g,""):t};return aS(n(t),n(e))}(t,e):aS(t,e):Zet(t,e)};function nnt(t){return function(t){if(Array.isArray(t))return rnt(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return rnt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rnt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rnt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function int(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ont(t,e){return ont=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ont(t,e)}function ant(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=snt(t);if(e){var i=snt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function snt(t){return snt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},snt(t)}var lnt=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ont(t,e)}(a,t);var e,n,i,o=ant(a);function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,t,e)).interpolator=void 0,n.queue=void 0,n.ease=void 0,n.timer=void 0,n.loopID=void 0,n.functionToBeRunEachFrame=function(t,e){var r=(e=void 0!==e?e:n.props.duration)?t/e:1;if(r>=1)return n.setState({data:n.interpolator(1),animationInfo:{progress:1,animating:!1,terminating:!0}}),n.loopID&&n.timer.unsubscribe(n.loopID),n.queue.shift(),void n.traverseQueue();n.setState({data:n.interpolator(n.ease(r)),animationInfo:{progress:r,animating:r<1}})},n.state={data:Array.isArray(n.props.data)?n.props.data[0]:n.props.data,animationInfo:{progress:0,animating:!1}},n.interpolator=null,n.queue=Array.isArray(n.props.data)?n.props.data.slice(1):[],n.ease=r[n.toNewName(n.props.easing)],n.timer=n.context.animationTimer,n}return e=a,n=[{key:"componentDidMount",value:function(){this.queue.length&&this.traverseQueue()}},{key:"componentDidUpdate",value:function(t){if(!Pv()(this.props,t))if(this.interpolator&&this.state.animationInfo&&this.state.animationInfo.progress<1)this.setState({data:this.interpolator(1),animationInfo:{progress:1,animating:!1,terminating:!0}});else{var e;this.timer.unsubscribe(this.loopID),Array.isArray(this.props.data)?(e=this.queue).push.apply(e,nnt(this.props.data)):(this.queue.length=0,this.queue.push(this.props.data)),this.traverseQueue()}}},{key:"componentWillUnmount",value:function(){this.loopID?this.timer.unsubscribe(this.loopID):this.timer.stop()}},{key:"toNewName",value:function(t){return"ease".concat(function(t){return t&&t[0].toUpperCase()+t.slice(1)}(t))}},{key:"traverseQueue",value:function(){var t=this;if(this.queue.length){var e=this.queue[0];this.interpolator=ent(this.state.data,e),this.props.delay?setTimeout((function(){t.loopID=t.timer.subscribe(t.functionToBeRunEachFrame,t.props.duration)}),this.props.delay):this.loopID=this.timer.subscribe(this.functionToBeRunEachFrame,this.props.duration)}else this.props.onEnd&&this.props.onEnd()}},{key:"render",value:function(){return this.props.children(this.state.data,this.state.animationInfo)}}],n&&int(e.prototype,n),i&&int(e,i),Object.defineProperty(e,"prototype",{writable:!1}),a}(a.Component);function cnt(){return cnt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cnt.apply(this,arguments)}function unt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hnt(t,e){return hnt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hnt(t,e)}function dnt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fnt(t);if(e){var i=fnt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function fnt(t){return fnt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fnt(t)}lnt.displayName="VictoryAnimation",lnt.propTypes={children:U1().func,data:U1().oneOfType([U1().object,U1().array]),delay:U1().number,duration:U1().number,easing:U1().oneOf(["back","backIn","backOut","backInOut","bounce","bounceIn","bounceOut","bounceInOut","circle","circleIn","circleOut","circleInOut","linear","linearIn","linearOut","linearInOut","cubic","cubicIn","cubicOut","cubicInOut","elastic","elasticIn","elasticOut","elasticInOut","exp","expIn","expOut","expInOut","poly","polyIn","polyOut","polyInOut","quad","quadIn","quadOut","quadInOut","sin","sinIn","sinOut","sinInOut"]),onEnd:U1().func},lnt.defaultProps={data:{},delay:0,duration:1e3,easing:"quadInOut"},lnt.contextType=e9;var pnt=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hnt(t,e)}(o,t);var e,n,r,i=dnt(o);function o(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this,t,e)).continuous=void 0,n.timer=void 0,n.transitionProps=void 0,n.state={nodesShouldLoad:!1,nodesDoneLoad:!1};var r=n.props.children,a=r.props.polar;return n.continuous=!a&&r.type&&!0===r.type.continuous,n.timer=n.context.transitionTimer,n}return e=o,n=[{key:"componentDidMount",value:function(){this.setState({nodesShouldLoad:!0})}},{key:"shouldComponentUpdate",value:function(t){var e=this;return Pv()(this.props,t)||(this.timer.bypassAnimation(),this.setState(this.getTransitionState(this.props,t),(function(){return e.timer.resumeAnimation()}))),!0}},{key:"componentWillUnmount",value:function(){this.timer.stop()}},{key:"getTransitionState",value:function(t,e){var n=t.animate;if(!n)return{};if(n.parentState)return{oldProps:n.parentState.nodesWillExit?t:null,nextProps:e};var r=i2(a.Children.toArray(t.children),a.Children.toArray(e.children)),i=r.nodesWillExit;return{nodesWillExit:i,nodesWillEnter:r.nodesWillEnter,childrenTransitions:r.childrenTransitions,nodesShouldEnter:r.nodesShouldEnter,oldProps:i?t:null,nextProps:e}}},{key:"getDomainFromChildren",value:function(t,e){var n=function(t){return t.reduce((function(t,r){if(r.type&&v2()(r.type.getDomain)){var i=r.props&&r.type.getDomain(r.props,e);return i?t.concat(i):t}return r.props&&r.props.children?t.concat(n(a.Children.toArray(r.props.children))):t}),[])},r=a.Children.toArray(t.children)[0],i=r.props||{},o=Array.isArray(i.domain)?i.domain:i.domain&&i.domain[e];if(!i.children&&o)return o;var s=n([r]);return 0===s.length?[0,1]:[Y1(s),K1(s)]}},{key:"pickProps",value:function(){return this.state&&this.state.nodesWillExit&&this.state.oldProps||this.props}},{key:"pickDomainProps",value:function(t){var e,n=null===(e=t.animate)||void 0===e?void 0:e.parentState;return n&&n.nodesWillExit?(this.continuous||n.continuous)&&(n.nextProps||this.state.nextProps)||t:this.continuous&&this.state.nodesWillExit&&this.state.nextProps||t}},{key:"getClipWidth",value:function(t,e){var n=this.transitionProps?this.transitionProps.clipWidth:void 0;return void 0!==n?n:function(){var n=k2(e.props,"x");return n?Math.abs(n[1]-n[0]):t.width}()}},{key:"render",value:function(){var t,e=this,n=this.pickProps(),r=null!==(t=this.props.animate)&&void 0!==t&&t.getTransitions?this.props.animate.getTransitions:o2(n,this.state,(function(t){return e.setState(t)})),i=a.Children.toArray(n.children)[0],o=r(i);this.transitionProps=o;var s={x:this.getDomainFromChildren(this.pickDomainProps(n),"x"),y:this.getDomainFromChildren(n,"y")},l=this.getClipWidth(n,i),c=D1()({domain:s,clipWidth:l},o,i.props),u=(n.animationWhitelist||[]).concat(["clipWidth"]),h=u.length?f2()(c,u):c;return a.createElement(lnt,cnt({},c.animate,{data:h}),(function(t){if(i.props.groupComponent){var n=e.continuous?a.cloneElement(i.props.groupComponent,{clipWidth:t.clipWidth||0}):i.props.groupComponent;return a.cloneElement(i,D1()({animate:null,animating:!0,groupComponent:n},t,c))}return a.cloneElement(i,D1()({animate:null,animating:!0},t,c))}))}}],n&&unt(e.prototype,n),r&&unt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(a.Component);function mnt(t){return function(t){if(Array.isArray(t))return gnt(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return gnt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gnt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gnt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vnt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ynt(t,e){return ynt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ynt(t,e)}function bnt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xnt(t);if(e){var i=xnt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _nt(t)}(this,n)}}function _nt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xnt(t){return xnt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xnt(t)}pnt.displayName="VictoryTransition",pnt.propTypes={animate:U1().oneOfType([U1().bool,U1().object]),animationWhitelist:U1().array,children:U1().node},pnt.contextType=e9;var wnt=function(t){return!oet()(t._x)&&!oet()(t._y)},Snt=[{name:"parent",index:"parent"},{name:"data"},{name:"labels"}];function Ent(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(n){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ynt(t,e)}(l,n);var r,i,o,s=bnt(l);function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=s.call(this,t)).state={},e.getEventState=Z7.bind(_nt(e)),e.getScopedEvents=$7.bind(_nt(e)),e.getEvents=function(t,n,r){return Y7.call(_nt(e),t,n,r,e.getScopedEvents)},e.externalMutations=e.getExternalMutations(e.props),e.calculatedState=e.getStateChanges(e.props),e.globalEvents={},e.prevGlobalEventKeys=[],e.boundGlobalEvents={},e.cacheValues(e.getCalculatedValues(t)),e}return r=l,i=[{key:"shouldComponentUpdate",value:function(t){var e=this.getExternalMutations(t),n=this.props.animating||this.props.animate,r=!Pv()(e,this.externalMutations);if(n||r)return this.cacheValues(this.getCalculatedValues(t)),this.externalMutations=e,this.applyExternalMutations(t,e),!0;var i=this.getStateChanges(t);return Pv()(this.calculatedState,i)?!Pv()(this.props,t)&&(this.cacheValues(this.getCalculatedValues(t)),!0):(this.cacheValues(this.getCalculatedValues(t)),!0)}},{key:"componentDidMount",value:function(){var t=this,e=Q1()(this.globalEvents);e.forEach((function(e){return t.addGlobalListener(e)})),this.prevGlobalEventKeys=e}},{key:"componentDidUpdate",value:function(t){var e=this,n=this.getStateChanges(t);this.calculatedState=n;var r=Q1()(this.globalEvents);O9()(this.prevGlobalEventKeys,r).forEach((function(t){return e.removeGlobalListener(t)})),O9()(r,this.prevGlobalEventKeys).forEach((function(t){return e.addGlobalListener(t)})),this.prevGlobalEventKeys=r}},{key:"componentWillUnmount",value:function(){var t=this;this.prevGlobalEventKeys.forEach((function(e){return t.removeGlobalListener(e)}))}},{key:"addGlobalListener",value:function(t){var e=this,n=function(n){var r=e.globalEvents[t];return r&&r(o8(n))};this.boundGlobalEvents[t]=n,window.addEventListener(n8(t),n)}},{key:"removeGlobalListener",value:function(t){window.removeEventListener(n8(t),this.boundGlobalEvents[t])}},{key:"getStateChanges",value:function(t){var n=this;if(!this.hasEvents)return{};var r=function(t,e){var r=D1()({},n.getEventState(t,e),n.getSharedEventState(t,e));return R1()(r)?void 0:r},i=(e.components||Snt).map((function(e){if(t.standalone||"parent"!==e.name)return void 0!==e.index?r(e.index,e.name):n.dataKeys.map((function(t){return r(t,e.name)})).filter(Boolean)})).filter(Boolean);return i}},{key:"applyExternalMutations",value:function(t,e){if(!R1()(e)){var n=t.externalEventMutations.reduce((function(t,e){return t=v2()(e.callback)?t.concat(e.callback):t}),[]),r=n.length?function(){n.forEach((function(t){return t()}))}:void 0;this.setState(e,r)}}},{key:"getCalculatedValues",value:function(e){var n=e.sharedEvents,r=e8(e,t.expectedComponents),i=n&&v2()(n.getEventState)?n.getEventState:function(){},o=this.getBaseProps(e,i),a=Q1()(o).filter((function(t){return"parent"!==t}));return{componentEvents:r,getSharedEventState:i,baseProps:o,dataKeys:a,hasEvents:e.events||e.sharedEvents||r,events:this.getAllEvents(e)}}},{key:"getExternalMutations",value:function(t){var e=t.sharedEvents,n=t.externalEventMutations;return R1()(n)||e?void 0:J7(n,this.baseProps,this.state)}},{key:"cacheValues",value:function(t){var e=this;Q1()(t).forEach((function(n){e[n]=t[n]}))}},{key:"getBaseProps",value:function(e,n){var r=(n=n||this.getSharedEventState.bind(this))("parent","parent"),i=this.getEventState("parent","parent"),o=D1()({},i,r),a=o.parentControlledProps,s=a?f2()(o,a):{},l=D1()({},s,e);return"function"===typeof t.getBaseProps?t.getBaseProps(l):{}}},{key:"getAllEvents",value:function(t){var e;return Array.isArray(this.componentEvents)?Array.isArray(t.events)?(e=this.componentEvents).concat.apply(e,mnt(t.events)):this.componentEvents:t.events}},{key:"getComponentProps",value:function(e,n,r){var i=this.props.name||t.role,o=this.dataKeys&&this.dataKeys[r]||r,a="".concat(i,"-").concat(n,"-").concat(o),s=this.baseProps[o]&&this.baseProps[o][n]||this.baseProps[o];if(s||this.hasEvents){if(this.hasEvents){var l=this.getEvents(this.props,n,o),c=D1()({index:r,key:a},this.getEventState(o,n),this.getSharedEventState(o,n),e.props,s,{id:a}),u=D1()({},Q7(l,o,c),c.events);return L1()({},c,{events:u})}return D1()({index:r,key:a},e.props,s,{id:a})}}},{key:"renderContainer",value:function(t,e){var n=t.type&&"container"===t.type.role?this.getComponentProps(t,"parent","parent"):{};return n.events&&(this.globalEvents=r8(n.events),n.events=i8(n.events)),a.cloneElement(t,n,e)}},{key:"animateComponent",value:function(t,e){var n,r="object"===typeof t.animate&&(null===(n=t.animate)||void 0===n?void 0:n.animationWhitelist)||e,i=this.constructor;return a.createElement(pnt,{animate:t.animate,animationWhitelist:r},a.createElement(i,t))}},{key:"renderContinuousData",value:function(t){var e=this,n=t.dataComponent,r=t.labelComponent,i=t.groupComponent,o=t5()(this.dataKeys,"all").reduce((function(t,n){var i=e.getComponentProps(r,"labels",n);return i&&void 0!==i.text&&null!==i.text&&(t=t.concat(a.cloneElement(r,i))),t}),[]),s=this.getComponentProps(n,"data","all"),l=[a.cloneElement(n,s)].concat(mnt(o));return this.renderContainer(i,l)}},{key:"renderData",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wnt,r=t.dataComponent,i=t.labelComponent,o=t.groupComponent,s=this.dataKeys.reduce((function(t,i,o){var s=e.getComponentProps(r,"data",o);return n(s.datum)&&t.push(a.cloneElement(r,s)),t}),[]),l=this.dataKeys.map((function(t,n){var r=e.getComponentProps(i,"labels",n);if(void 0!==r.text&&null!==r.text)return a.cloneElement(i,r)})).filter(Boolean),c=[].concat(mnt(s),mnt(l));return this.renderContainer(o,c)}}],i&&vnt(r.prototype,i),o&&vnt(r,o),Object.defineProperty(r,"prototype",{writable:!1}),l}(t);return n}function Tnt(t){return function(t){if(Array.isArray(t))return Mnt(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Mnt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mnt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mnt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ant(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cnt={top:-1,left:-1,right:1,bottom:1},knt=function(t){return null!==t&&void 0!==t},Ont=function(t,e){var n=t.style||{};e=e||{};return{parent:D1()(n.parent,e.parent,{height:"100%",width:"100%"}),axis:D1()({},n.axis,e.axis),axisLabel:D1()({},n.axisLabel,e.axisLabel),grid:D1()({},n.grid,e.grid),ticks:D1()({},n.ticks,e.ticks),tickLabels:D1()({},n.tickLabels,e.tickLabels)}},Pnt=function(t,e,n){var r=t.position,i=t.transform;return{x1:i.x,y1:i.y,x2:i.x+r.x2,y2:i.y+r.y2,style:e,datum:n}},Rnt=function(t,e,n,r,i){var o=t.position,a=t.transform;return{style:e,x:a.x+o.x,y:a.y+o.y,verticalAnchor:n.verticalAnchor,textAnchor:n.textAnchor,angle:e.angle,text:i,datum:r}},Nnt=function(t,e,n){var r=t.edge,i=t.transform;return{x1:i.x,y1:i.y,x2:r.x+i.x,y2:r.y+i.y,style:e,datum:n}},Lnt=function(t,e,n){var r=e||"positive";return n?{positive:{x:"left",y:"bottom"},negative:{x:"right",y:"top"}}[r][t]:{positive:{x:"bottom",y:"left"},negative:{x:"top",y:"right"}}[r][t]},Int=function(t,e,n){var r=e.orientation,i=B7(t,e.axis);return{top:{x:0,y:void 0!==i?i:n.y},bottom:{x:0,y:void 0!==i?i:t.height-n.y},left:{x:void 0!==i?i:n.x,y:0},right:{x:void 0!==i?i:t.width-n.x,y:0}}[r]},Dnt=function(t,e,n){var r=t.tickStyle,i=t.labelStyle,o=r.size||0,a=o+(r.padding||0)+(i.padding||0),s=Cnt[e];return{x:n?s*a:0,x2:n?s*o:0,y:n?0:s*a,y2:n?0:s*o}},jnt=function(t,e,n){return{x:n?e.x:t+e.x,y:n?t+e.y:e.y}},Unt=function(t,e){var n=e.orientation,r=e.padding,i=e.isVertical,o=-Cnt[n];return{x:i?o*(t.width-(r.left+r.right)):0,y:i?0:o*(t.height-(r.top+r.bottom))}},Fnt=function(t,e){var n=t.padding,r=t.orientation,i=t.crossAxis,o="right"===r?n.right:n.left,a="top"===r?n.top:n.bottom;return{x:i?e.x-o:0,y:i?e.y-a:0}},znt=function(t,e){var n;return n=e.domain.x&&e.domain.y?t.horizontal?function(t,e){var n=e.scale,r=e.origin,i=e.orientation,o=e.orientations,a=e.domain,s=e.padding,l=s.top,c=s.bottom,u=s.left,h=s.right,d="bottom"===i||"top"===i?i:o.x,f="left"===i||"right"===i?i:o.y,p={x:"bottom"===d?c:l,y:"left"===f?u:h},m="left"===f?0:t.width,g="bottom"===d?t.height:0,v=r.x===a.x[0]||r.x===a.x[1]?0:n.x(r.x),y=r.y===a.y[0]||r.y===a.y[1]?0:n.y(r.y),b=v?Math.abs(g-v):p.x,_=y?Math.abs(m-y):p.y;return{x:knt(t.offsetX)?t.offsetX:_,y:knt(t.offsetY)?t.offsetY:b}}(t,e):function(t,e){var n=e.scale,r=e.origin,i=e.orientation,o=e.orientations,a=e.domain,s=e.padding,l=s.top,c=s.bottom,u=s.left,h=s.right,d="bottom"===i||"top"===i?i:o.x,f="left"===i||"right"===i?i:o.y,p={x:"left"===f?u:h,y:"bottom"===d?c:l},m="left"===f?0:t.width,g="bottom"===d?t.height:0,v=r.x===a.x[0]||r.x===a.x[1]?0:n.x(r.x),y=r.y===a.y[0]||r.y===a.y[1]?0:n.y(r.y),b=v?Math.abs(m-v):p.x,_=y?Math.abs(g-y):p.y;return{x:knt(t.offsetX)?t.offsetX:b,y:knt(t.offsetY)?t.offsetY:_}}(t,e):function(t,e){var n=e.style,r=e.scale,i=e.orientation,o=e.padding,a=e.axis,s=e.ticks,l=e.stringTicks,c=e.isVertical,u=e.labelPadding,h=t.polar,d=t.horizontal,f={scale:Ant({},a,r),polar:h,horizontal:d,ticks:s,stringTicks:l},p="right"===i?o.right:o.left,m="top"===i?o.top:o.bottom,g=null!==t.offsetX&&void 0!==t.offsetX?t.offsetX:p,v=null!==t.offsetY&&void 0!==t.offsetY?t.offsetY:m,y=n.axisLabel.fontSize||14,b=s.map((function(e,r){var i=l?t.tickValues[e-1]:e;return E2(n.ticks,L1()({},f,{tick:i,index:r})).size||0})),_=y+2*Math.max.apply(Math,Tnt(b))+u,x=1.2*y;return{x:null!==g&&void 0!==g?g:c?_:x,y:null!==v&&void 0!==v?v:c?x:_}}(t,e),{globalTransform:Int(t,e,n),gridOffset:Fnt(e,n),gridEdge:Unt(t,e)}},Bnt=function(t){var e=function(t){var e=t.theme,n=t.dependentAxis,r=e&&e.axis&&e.axis.style,i=n?"dependentAxis":"independentAxis",o=e&&e[i]&&e[i].style;return r&&o?["axis","axisLabel","grid","parent","tickLabels","ticks"].reduce((function(t,e){return t[e]=D1()({},o[e],r[e]),t}),{}):o||r}(t),n=Ont(t,e),r=x2(t),i=function(t,e){var n=e.axisLabel||{};if(void 0!==n.padding&&null!==n.padding)return n.padding;var r=R7(t),i=n.fontSize||14;return t.label?i*(r?2.3:1.6):0}(t,n),o=N7(t)?t.tickValues:void 0,a=M7(t),s=z7(t),l=function(t){var e=M7(t),n=function(t,e){var n=t.orientation,r=t.horizontal;return n?{top:"x",bottom:"x",left:"y",right:"y"}[n]:r?"x"===e?"y":"x":e}(t,e),r=F4(t,e),i=t.domain&&t.domain[e]||z7(t)||r.domain();return r.range(k2(t,n)),r.domain(i),r}(t),c="x"===a?s:void 0,u="y"===a?s:void 0,h="x"===a?l:void 0,d="y"===a?l:void 0,f=!(!1===t.crossAxis||!0===t.standalone),p=U7(t,l,f),m=D7(t,l),g={x:k2(t,"x"),y:k2(t,"y")},v={x:t.domain&&t.domain.x?t.domain.x:c,y:t.domain&&t.domain.y?t.domain.y:u},y={x:t.domain&&t.domain.x?F4(t,"x").domain(t.domain.x).range(t.horizontal?g.y:g.x):h,y:t.domain&&t.domain.y?F4(t,"y").domain(t.domain.y).range(t.horizontal?g.x:g.y):d},b=v.x&&v.y?O7(v):void 0,_=b?{x:P7(b.x,v.x),y:P7(b.y,v.y)}:void 0,x=_?{x:Lnt("x",_.y,t.horizontal),y:Lnt("y",_.x,t.horizontal)}:void 0,w=x?t.orientation||x[a]:function(t){if(t.orientation)return t.orientation;var e={dependent:t.horizontal?"bottom":"left",independent:t.horizontal?"left":"bottom"};return t.dependentAxis?e.dependent:e.independent}(t),S=R7(Object.assign({},t,{orientation:w})),E=function(t,e){var n={top:"end",left:"end",right:"start",bottom:"start"}[t];return{textAnchor:e?n:"middle",verticalAnchor:e?"middle":n}}(w,S);return{anchors:E,axis:a,crossAxis:f,domain:v,isVertical:S,labelPadding:i,orientation:w,orientations:x,origin:b,padding:r,scale:y,stringTicks:o,style:n,tickFormat:m,ticks:p}},Vnt=function(t,e){t=V7(t,e);var n=Bnt(t),r=n.axis,i=n.style,o=n.orientation,a=n.isVertical,s=n.scale,l=n.ticks,c=n.tickFormat,u=n.anchors,h=n.domain,d=n.stringTicks,f="x"===r?"y":"x",p=t,m=p.width,g=p.height,v=p.standalone,y=p.theme,b=p.polar,_=p.padding,x=p.horizontal,w=znt(t,n),S=w.globalTransform,E=w.gridOffset,T=w.gridEdge,M={scale:Ant({},r,s[r]),polar:b,horizontal:x,ticks:l,stringTicks:d},A=function(t,e,n){var r=e.style,i=e.padding,o=e.isVertical,a=t.width,s=t.height;return{style:r.axis,x1:o?n.x:i.left+n.x,x2:o?n.x:a-i.right+n.x,y1:o?i.top+n.y:n.y,y2:o?s-i.bottom+n.y:n.y}}(t,n,S),C=function(t,e,n){var r=e.style,i=e.orientation,o=e.padding,a=e.labelPadding,s=e.isVertical,l=Cnt[i],c=o.left+o.right,u=o.top+o.bottom,h=l<0?"end":"start",d=r.axisLabel,f=s?-90:0;return{x:s?n.x+l*a:(t.width-c)/2+o.left+n.x,y:s?(t.height-u)/2+o.top+n.y:l*a+n.y,verticalAnchor:d.verticalAnchor||h,textAnchor:d.textAnchor||"middle",angle:void 0===d.angle?f:d.angle,style:d,text:t.label}}(t,n,S),k={parent:L1()({style:i.parent,ticks:l,standalone:v,theme:y,width:m,height:g,padding:_,domain:h},M)},O={dimension:f,range:Ant({},f,k2(t,f)),scale:t.scale&&t.scale[f]?Ant({},f,t.scale[f]):void 0};return l.reduce((function(t,e,n){var h,f,p,m=d?d[n]:e,g=c(e,n,l),v=function(t,e){return{tickStyle:E2(t.ticks,e),labelStyle:E2(t.tickLabels,e),gridStyle:E2(t.grid,e)}}(i,L1()({},M,{tick:m,tickValue:e,index:n,text:g})),y={position:Dnt(v,o,a),transform:jnt(null===(h=s[r])||void 0===h?void 0:h.call(s,e),S,a)},b={edge:T,transform:{x:a?-E.x+S.x:(null===(f=s[r])||void 0===f?void 0:f.call(s,e))+S.x,y:a?(null===(p=s[r])||void 0===p?void 0:p.call(s,e))+S.y:E.y+S.y}};return t[n]={axis:L1()({dimension:r},M,A),axisLabel:L1()({},M,C),ticks:L1()({},M,Pnt(y,v.tickStyle,e)),tickLabels:L1()({},M,Rnt(y,v.labelStyle,u,e,g)),grid:L1()({},M,O,Nnt(b,v.gridStyle,e))},t}),k)};function Hnt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qnt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hnt(Object(n),!0).forEach((function(e){Wnt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hnt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wnt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gnt(t){return function(t){if(Array.isArray(t))return Xnt(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Xnt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xnt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xnt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Knt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ynt(t,e){return Ynt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ynt(t,e)}function $nt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qnt(t);if(e){var i=Qnt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Qnt(t){return Qnt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qnt(t)}var Znt={width:450,height:300,padding:50},Jnt=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ynt(t,e)}(o,t);var e,n,r,i=$nt(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,n=[{key:"renderLine",value:function(t){var e=t.axisComponent,n=this.getComponentProps(e,"axis",0);return a.cloneElement(e,n)}},{key:"renderLabel",value:function(t){var e=t.axisLabelComponent;if(!t.label)return null;var n=this.getComponentProps(e,"axisLabel",0);return a.cloneElement(e,n)}},{key:"renderGridAndTicks",value:function(t){var e=this,n=t.tickComponent,r=t.tickLabelComponent,i=t.gridComponent,o=t.name,s=function(t){var e=t.style,n=void 0===e?{}:e,r=t.events,i=void 0===r?{}:r;return"transparent"!==n.stroke&&"none"!==n.stroke&&0!==n.strokeWidth||!R1()(i)};return this.dataKeys.map((function(l,c){var u=e.getComponentProps(n,"ticks",c),h=a.cloneElement(n,u),d=s(h.props)?h:void 0,f=e.getComponentProps(i,"grid",c),p=a.cloneElement(i,f),m=s(p.props)?p:void 0,g=e.getComponentProps(r,"tickLabels",c),v=[m,d,a.cloneElement(r,g)].filter(Boolean);return a.cloneElement(t.groupComponent,{key:"".concat(o,"-tick-group-").concat(l)},v)}))}},{key:"fixLabelOverlap",value:function(t,e){var n=R7(e),r=n?e.height:e.width,i=function(t){return t.type&&"label"===t.type.role},o=t.map((function(t){return t.props.children})).reduce((function(t,e){return t.concat(e)}),[]).filter(i).map((function(t){return t.props})),a=o.reduce((function(t,e){var r=function(t){return"object"===typeof t?L1()({},{top:0,right:0,bottom:0,left:0},t):{top:t,right:t,bottom:t,left:t}}(e.style.padding),i=ftt(e.text,{angle:e.angle,fontSize:e.style.fontSize,letterSpacing:e.style.letterSpacing,fontFamily:e.style.fontFamily});return t+(n?i.height+r.top+r.bottom:i.width+r.right+r.left)}),0),s=Math.floor(r*t.length/a),l=Math.ceil(t.length/s)||1,c=function(t){return t.props.children.filter(i).reduce((function(t,e){return(n?e.props.y:e.props.x)||0}),0)},u=t.sort((function(t,e){return n?c(e)-c(t):c(t)-c(e)}));return u.filter((function(t,e){return e%l===0}))}},{key:"shouldAnimate",value:function(){return!!this.props.animate}},{key:"render",value:function(){var t=trt.animationWhitelist,e=V7(this.props,Znt),n=z2(this.props);if(this.shouldAnimate())return this.animateComponent(e,t);var r=this.renderGridAndTicks(e),i=e.fixLabelOverlap?this.fixLabelOverlap(r,e):r,o=[this.renderLine(e),this.renderLabel(e)].concat(Gnt(i)),s=a.cloneElement(e.containerComponent,n);return e.standalone?this.renderContainer(s,o):a.cloneElement(e.groupComponent,n,o)}}],n&&Knt(e.prototype,n),r&&Knt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(a.Component);Jnt.animationWhitelist=["style","domain","range","tickCount","tickValues","offsetX","offsetY","padding","width","height"],Jnt.displayName="VictoryAxis",Jnt.role="axis",Jnt.defaultTransitions={onExit:{duration:500},onEnter:{duration:500}},Jnt.propTypes=qnt(qnt({},P8.baseProps),{},{axisComponent:U1().element,axisLabelComponent:U1().element,axisValue:U1().oneOfType([U1().number,U1().string,U1().object]),categories:U1().oneOfType([U1().arrayOf(U1().string),U1().shape({x:U1().arrayOf(U1().string),y:U1().arrayOf(U1().string)})]),crossAxis:U1().bool,dependentAxis:U1().bool,events:U1().arrayOf(U1().shape({target:U1().oneOf(["axis","axisLabel","grid","ticks","tickLabels"]),eventKey:U1().oneOfType([U1().array,S8([T8,E8]),U1().string]),eventHandlers:U1().object})),fixLabelOverlap:U1().bool,gridComponent:U1().element,groupComponent:U1().element,invertAxis:U1().bool,label:U1().any,offsetX:U1().number,offsetY:U1().number,orientation:U1().oneOf(["top","bottom","left","right"]),origin:U1().shape({x:U1().number,y:U1().number}),stringMap:U1().object,style:U1().shape({parent:U1().object,axis:U1().object,axisLabel:U1().object,grid:U1().object,ticks:U1().object,tickLabels:U1().object}),tickComponent:U1().element,tickCount:S8([T8,M8]),tickFormat:U1().oneOfType([U1().func,k8]),tickLabelComponent:U1().element,tickValues:k8}),Jnt.defaultProps={axisComponent:a.createElement(xtt,null),axisLabelComponent:a.createElement(ret,null),tickLabelComponent:a.createElement(ret,null),tickComponent:a.createElement(xtt,null),gridComponent:a.createElement(xtt,null),standalone:!0,theme:C9.grayscale,containerComponent:a.createElement(u9,null),groupComponent:a.createElement("g",{role:"presentation"}),fixLabelOverlap:!1},Jnt.getDomain=z7,Jnt.getAxis=M7,Jnt.getStyles=function(t){return Ont(t)},Jnt.getBaseProps=function(t){return Vnt(t,Znt)},Jnt.expectedComponents=["axisComponent","axisLabelComponent","groupComponent","containerComponent","tickComponent","tickLabelComponent","gridComponent"];var trt=Ent(Jnt,{components:[{name:"axis",index:0},{name:"axisLabel",index:0},{name:"grid"},{name:"parent",index:"parent"},{name:"ticks"},{name:"tickLabels"}]}),ert=["desc"];function nrt(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var rrt=function(t){var e=t.desc,n=nrt(t,ert);return e?a.createElement("path",n,a.createElement("desc",null,e)):a.createElement("path",n)};function irt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ort(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?irt(Object(n),!0).forEach((function(e){art(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):irt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function art(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var srt=function(t){var e=t.cx,n=t.cy,r=t.r,i=t.startAngle,o=t.endAngle,a=t.closedPath,s=Math.abs(o-i)/2+i,l=e+r*Math.cos(T2(i)),c=n-r*Math.sin(T2(i)),u=e+r*Math.cos(T2(s)),h=n-r*Math.sin(T2(s)),d=e+r*Math.cos(T2(o)),f=n-r*Math.sin(T2(o)),p=s-i<=180?0:1,m=o-s<=180?0:1,g=a?" M ".concat(e,", ").concat(n," L ").concat(l,", ").concat(c):"M ".concat(l,", ").concat(c),v="A ".concat(r,", ").concat(r,", 0, ").concat(p,", 0, ").concat(u,", ").concat(h),y="A ".concat(r,", ").concat(r,", 0, ").concat(m,", 0, ").concat(d,", ").concat(f),b=a?"Z":"";return"".concat(g," ").concat(v," ").concat(y," ").concat(b)},lrt=function(t){return t=function(t){var e=S2(t.ariaLabel,t),n=S2(t.desc,t),r=S2(t.id,t),i=E2(L1()({stroke:"black",fill:"none"},t.style),t),o=S2(t.tabIndex,t);return L1()({},t,{ariaLabel:e,desc:n,id:r,style:i,tabIndex:o})}(t),a.cloneElement(t.pathComponent,ort(ort({},t.events),{},{"aria-label":t.ariaLabel,d:srt(t),style:t.style,desc:t.desc,tabIndex:t.tabIndex,className:t.className,role:t.role,shapeRendering:t.shapeRendering,transform:t.transform,clipPath:t.clipPath}))};lrt.propTypes=ort(ort({},P8.primitiveProps),{},{closedPath:U1().bool,cx:U1().number,cy:U1().number,datum:U1().any,endAngle:U1().number,pathComponent:U1().element,r:U1().number,startAngle:U1().number}),lrt.defaultProps={pathComponent:a.createElement(rrt,null),role:"presentation",shapeRendering:"auto"};var crt=function(t,e,n){return"x"===n?t*Math.cos(e):-t*Math.sin(e)},urt=function(t){var e=t.dependentAxis?"radial":"angular",n="angular"===e?"radial":"angular";return t.horizontal?n:e},hrt=function(t,e){return{tickStyle:E2(t.ticks,e),labelStyle:E2(t.tickLabels,e),gridStyle:E2(t.grid,e)}},drt=function(t){var e=x2(t),n=e.left,r=e.right,i=e.top,o=e.bottom,a=t.width,s=t.height;return Math.min(a-n-r,s-i-o)/2},frt=function(t,e){if(t.range&&t.range[e])return t.range[e];if(t.range&&Array.isArray(t.range))return t.range;if("angular"===urt(t))return[T2(t.startAngle),T2(t.endAngle)];var n=drt(t);return[t.innerRadius||0,n]},prt=function(t){var e=M7(t),n=F4(t,e),r=z7(t,e)||n.domain(),i=frt(t,e);return n.range(i),n.domain(r),n},mrt=function(t,e){if(t.disableInlineStyles)return{};var n=t.style||{};e=e||{};return{parent:D1()({height:"auto",width:"100%"},n.parent,e.parent),axis:D1()({},n.axis,e.axis),axisLabel:D1()({},n.axisLabel,e.axisLabel),grid:D1()({},n.grid,e.grid),ticks:D1()({},n.ticks,e.ticks),tickLabels:D1()({},n.tickLabels,e.tickLabels)}},grt=function(t){var e=t.axisAngle,n=t.startAngle,r=t.dependentAxis,i=B7(t,M7(t));return void 0!==i&&r?M2(i):void 0===e?n:e},vrt=function(t,e,n,r){var i=e.axisType,o=e.radius,a=e.scale,s=e.style,l=e.stringTicks,c=e.ticks,u=e.tickFormat,h=e.origin,d=u(n,r,c),f=l?l[r]:n,p=hrt(s,{tick:f,tickValue:n,index:r,ticks:c,stringTicks:l,radius:o,scale:a,axisType:i,text:d}).tickStyle,m="radial"===i?grt(t):void 0,g=p.padding||p.size||0,v=T2(90-m),y="angular"===i?a(n):T2(-1*m),b="angular"===i?o:a(n);return"angular"===i?{index:r,datum:f,style:p,x1:crt(b,y,"x")+h.x,y1:crt(b,y,"y")+h.y,x2:crt(b+g,y,"x")+h.x,y2:crt(b+g,y,"y")+h.y}:{index:r,datum:f,style:p,x1:b*Math.cos(y)+Math.cos(v)*g+h.x,x2:b*Math.cos(y)-Math.cos(v)*g+h.x,y1:b*Math.sin(y)+Math.sin(v)*g+h.y,y2:b*Math.sin(y)-Math.sin(v)*g+h.y}},yrt=function(t,e,n,r){var i=e.axisType,o=e.radius,a=e.tickFormat,s=e.style,l=e.scale,c=e.ticks,u=e.stringTicks,h=e.origin,d=a(n,r,c),f=u?u[r]:n,p=hrt(s,{text:d,tick:f,tickValue:n,index:r,ticks:c,stringTicks:u,radius:o,scale:l,axisType:i}).labelStyle,m=t.tickLabelComponent,g=m.props&&m.props.labelPlacement?m.props.labelPlacement:t.labelPlacement,v=p.padding||0,y="radial"===i?grt(t):void 0,b="angular"===i?M2(l(n)):y+0,_=void 0===p.angle?jtt(L1()({},t,{labelPlacement:g}),b):p.angle,x="angular"===i?o+v:l(n);return{index:r,datum:f,style:p,angle:_,textAnchor:p.textAnchor||Itt(L1()({},t,{labelPlacement:g}),b),text:d,x:x*Math.cos(T2(b))+h.x,y:-x*Math.sin(T2(b))+h.y}},brt=function(t,e,n,r){var i=e.axisType,o=e.radius,a=e.style,s=e.scale,l=e.stringTicks,c=e.ticks,u=e.tickFormat,h=e.origin,d=u(n,r,c),f=t.startAngle,p=t.endAngle,m=t.innerRadius,g=void 0===m?0:m,v=l?l[r]:n,y=hrt(a,{tick:v,tickValue:n,index:r,ticks:c,stringTicks:l,radius:o,scale:s,axisType:i,text:d}).gridStyle,b=s(n);return"angular"===i?{index:r,datum:v,style:y,x1:crt(o,b,"x")+h.x,y1:crt(o,b,"y")+h.y,x2:crt(g,b,"x")+h.x,y2:crt(g,b,"y")+h.y}:{style:y,index:r,datum:v,cx:h.x,cy:h.y,r:s(n),startAngle:f,endAngle:p}},_rt=function(t){var e=function(t){var e=t.theme,n=void 0===e?{}:e,r=t.dependentAxis,i=n.polarAxis&&n.polarAxis.style||n.axis&&n.axis.style,o=r?"polarDependentAxis":"polarIndependentAxis",a=r?"dependentAxis":"independentAxis",s=n[o]&&n[o].style||n[a]&&n[a].style;return i&&s?["axis","axisLabel","grid","parent","tickLabels","ticks"].reduce((function(t,e){return t[e]=D1()({},s[e],i[e]),t}),{}):s||i}(t=L1()({polar:!0},t)),n=mrt(t,e),r=x2(t),i=M7(t),o=urt(t),a=N7(t)?t.tickValues:void 0,s=z7(t,i),l=frt(t,i),c=prt(t),u=U7(t,c),h="angular"===o?function(t,e){return G2()(t,(function(t){return e(t)%(2*Math.PI)}))}(u,c):u;return{axis:i,style:n,padding:r,stringTicks:a,axisType:o,scale:c,ticks:h,tickFormat:D7(t,c),domain:s,range:l,radius:drt(t),origin:C2(t)}},xrt=function(t,e){t=V7(t,e);var n=_rt(t),r=n.style,i=n.scale,o=n.ticks,a=n.domain,s=t,l=s.width,c=s.height,u=s.standalone,h=s.theme,d=s.name,f=function(t,e){var n=e.style,r=e.axisType,i=e.radius,o=(e.scale,e.origin),a=t.startAngle,s=t.endAngle,l=t.innerRadius,c=void 0===l?0:l,u="radial"===r?T2(grt(t)):void 0;return"radial"===r?{style:n.axis,x1:crt(c,u,"x")+o.x,x2:crt(i,u,"x")+o.x,y1:crt(c,u,"y")+o.y,y2:crt(i,u,"y")+o.y}:{style:n.axis,cx:o.x,cy:o.y,r:i,startAngle:a,endAngle:s}}(t,n),p=function(t,e){var n=e.axisType,r=e.radius,i=e.style,o=(e.scale,e.origin),a=t.axisLabelComponent;if("radial"!==n)return{};var s=a.props&&a.props.labelPlacement?a.props.labelPlacement:t.labelPlacement,l=i&&i.axisLabel||{},c="radial"===n?grt(t):void 0,u=void 0===l.angle?jtt(L1()({},t,{labelPlacement:s}),c):l.angle,h=r+(l.padding||0);return{style:l,angle:u,textAnchor:l.textAnchor||Itt(L1()({},t,{labelPlacement:s}),c),verticalAnchor:l.verticalAnchor||Dtt(L1()({},t,{labelPlacement:s}),c),text:t.label,x:crt(h,T2(c),"x")+o.x,y:crt(h,T2(c),"y")+o.y}}(t,n),m={parent:{style:r.parent,ticks:o,scale:i,width:l,height:c,domain:a,standalone:u,theme:h,name:d}};return o.reduce((function(e,r,i){return e[i]={axis:f,axisLabel:p,ticks:vrt(t,n,r,i),tickLabels:yrt(t,n,r,i),grid:brt(t,n,r,i)},e}),m)};function wrt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Srt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wrt(Object(n),!0).forEach((function(e){Ert(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wrt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ert(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Trt(t){return function(t){if(Array.isArray(t))return Mrt(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Mrt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mrt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mrt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Art(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Crt(t,e){return Crt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Crt(t,e)}function krt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ort(t);if(e){var i=Ort(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Ort(t){return Ort=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ort(t)}var Prt={width:450,height:300,padding:50},Rrt=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Crt(t,e)}(o,t);var e,n,r,i=krt(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,n=[{key:"renderAxisLine",value:function(t){var e=t.dependentAxis?t.axisComponent:t.circularAxisComponent,n=this.getComponentProps(e,"axis",0);return a.cloneElement(e,n)}},{key:"renderLabel",value:function(t){var e=t.axisLabelComponent,n=t.dependentAxis;if(!t.label||!n)return null;var r=this.getComponentProps(e,"axisLabel",0);return a.cloneElement(e,r)}},{key:"renderAxis",value:function(t){var e=this,n=t.tickComponent,r=t.tickLabelComponent,i=t.name,o=function(t){var e=t.style,n=void 0===e?{}:e,r=t.events,i=void 0===r?{}:r;return"transparent"!==n.stroke&&"none"!==n.stroke&&0!==n.strokeWidth||!R1()(i)},s="radial"===(t.dependentAxis?"radial":"angular")?t.circularGridComponent:t.gridComponent,l=this.dataKeys.map((function(t,r){var s=L1()({key:"".concat(i,"-tick-").concat(t)},e.getComponentProps(n,"ticks",r)),l=a.cloneElement(n,s);return o(l.props)?l:void 0})).filter(Boolean),c=this.dataKeys.map((function(t,n){var r=L1()({key:"".concat(i,"-grid-").concat(t)},e.getComponentProps(s,"grid",n)),l=a.cloneElement(s,r);return o(l.props)?l:void 0})).filter(Boolean),u=this.dataKeys.map((function(t,n){var o=L1()({key:"".concat(i,"-tick-").concat(t)},e.getComponentProps(r,"tickLabels",n));return a.cloneElement(r,o)})),h=[this.renderAxisLine(t),this.renderLabel(t)].concat(Trt(l),Trt(c),Trt(u));return this.renderGroup(t,h)}},{key:"renderGroup",value:function(t,e){var n=t.groupComponent;return a.cloneElement(n,{},e)}},{key:"shouldAnimate",value:function(){return!!this.props.animate}},{key:"render",value:function(){var t=o.animationWhitelist,e=V7(this.props,Prt);if(this.shouldAnimate())return this.animateComponent(e,t);var n=this.renderAxis(e);return e.standalone?this.renderContainer(e.containerComponent,n):n}}],n&&Art(e.prototype,n),r&&Art(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(a.Component);Rrt.animationWhitelist=["style","domain","range","tickCount","tickValues","padding","width","height"],Rrt.displayName="VictoryAxis",Rrt.role="axis",Rrt.defaultTransitions={onExit:{duration:500},onEnter:{duration:500}},Rrt.propTypes=Srt(Srt({},P8.baseProps),{},{axisAngle:U1().number,axisComponent:U1().element,axisLabelComponent:U1().element,axisValue:U1().oneOfType([U1().number,U1().string,U1().object]),categories:U1().oneOfType([U1().arrayOf(U1().string),U1().shape({x:U1().arrayOf(U1().string),y:U1().arrayOf(U1().string)})]),circularAxisComponent:U1().element,circularGridComponent:U1().element,containerComponent:U1().element,dependentAxis:U1().bool,disableInlineStyles:U1().bool,endAngle:U1().number,events:U1().arrayOf(U1().shape({target:U1().oneOf(["axis","axisLabel","grid","ticks","tickLabels"]),eventKey:U1().oneOfType([U1().array,S8([T8,E8]),U1().string]),eventHandlers:U1().object})),gridComponent:U1().element,innerRadius:E8,labelPlacement:U1().oneOf(["parallel","perpendicular","vertical"]),startAngle:U1().number,stringMap:U1().object,style:U1().shape({parent:U1().object,axis:U1().object,axisLabel:U1().object,grid:U1().object,ticks:U1().object,tickLabels:U1().object}),tickComponent:U1().element,tickCount:S8([T8,M8]),tickFormat:U1().oneOfType([U1().func,k8]),tickLabelComponent:U1().element,tickValues:k8}),Rrt.defaultProps={axisComponent:a.createElement(xtt,null),axisLabelComponent:a.createElement(ret,null),circularAxisComponent:a.createElement(lrt,null),circularGridComponent:a.createElement(lrt,null),containerComponent:a.createElement(u9,null),endAngle:360,gridComponent:a.createElement(xtt,null),groupComponent:a.createElement("g",{role:"presentation"}),labelPlacement:"parallel",startAngle:0,standalone:!0,theme:C9.grayscale,tickComponent:a.createElement(xtt,null),tickLabelComponent:a.createElement(ret,null)},Rrt.getDomain=z7,Rrt.getAxis=M7,Rrt.getScale=prt,Rrt.getStyles=function(t){return mrt(t,Prt.style)},Rrt.getBaseProps=function(t){return xrt(t,Prt)},Rrt.expectedComponents=["axisComponent","circularAxisComponent","groupComponent","containerComponent","tickComponent","tickLabelComponent","gridComponent","circularGridComponent"];const Nrt=Ent(Rrt,{components:[{name:"axis",index:0},{name:"axisLabel",index:0},{name:"grid"},{name:"parent",index:"parent"},{name:"ticks"},{name:"tickLabels"}]});function Lrt(t){return function(t){if(Array.isArray(t))return Irt(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Irt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Irt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Irt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Drt={width:450,height:300,padding:50};function jrt(t,e){var n=function(t){var e=t.style&&t.style.parent;return{parent:D1()({},e,{height:"100%",width:"100%",userSelect:"none"})}}(t),r=t=P2(t,Drt,"chart"),i=r.horizontal,o=r.polar,a=d8(t,e),s=function(t,e,n){var r=t.categories&&!Array.isArray(t.categories)?t.categories.x:t.categories,i=t.categories&&!Array.isArray(t.categories)?t.categories.y:t.categories,o=r&&i?{}:n||d8(t,e),a=r||o.x,s=i||o.y;return{x:a.length>0?a:void 0,y:s.length>0?s:void 0}}(t,e,a),l=Brt(t,e,a),c={x:zrt(L1()({},t,{categories:s}),"x",e),y:zrt(L1()({},t,{categories:s}),"y",e)},u={x:k2(t,"x"),y:k2(t,"y")},h={x:z4(t,"x")||u8(t,"x"),y:z4(t,"y")||u8(t,"y")};return{categories:s,domain:c,range:u,horizontal:i,scale:{x:h.x.domain(c.x).range(i?u.y:u.x),y:h.y.domain(c.y).range(i?u.x:u.y)},stringMap:l,style:n,origin:o?C2(t):O7(c),padding:x2(t)}}function Urt(t,e,n){e=e||Frt(t);var r=(n=n||jrt(t,e)).style.parent,i=t.height,o=t.polar,s=t.theme,l=t.width,c=n,u=c.origin,h=c.horizontal,d=t.name||"chart";return e.map((function(e,c){var f=e.type&&e.type.role,p=Array.isArray(e.props.style)?e.props.style:D1()({},e.props.style,{parent:r}),m=function(t,e,n){var r=A7([t]);return r.length>0?function(t,e,n){var r=n.domain,i=n.scale,o=n.stringMap,a=n.categories;return{stringMap:o,horizontal:n.horizontal,categories:a,startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:e.innerRadius,domain:r,scale:i}}(r[0],e,n):{categories:n.categories,domain:n.domain,range:n.range,scale:n.scale,stringMap:n.stringMap,horizontal:n.horizontal}}(e,t,n),g=e.props.name||"".concat(d,"-").concat(f,"-").concat(c),v=D1()({horizontal:h,height:i,polar:o,theme:s,width:l,style:p,name:g,origin:o?u:void 0,padding:n.padding,key:"".concat(g,"-key-").concat(c),standalone:!1},m);return a.cloneElement(e,v)}))}var Frt=function(t,e){var n=a.Children.toArray(t.children),r=Lrt(n);if(0===n.length)r.push(e.independent,e.dependent);else{var i={dependent:k7(n,"dependent"),independent:k7(n,"independent")};0===i.dependent.length&&0===i.independent.length&&(r=t.prependDefaultAxes?[e.independent,e.dependent].concat(r):r.concat([e.independent,e.dependent]))}return r},zrt=function(t,e,n){var r=c8(t,e,n=n||a.Children.toArray(t.children)),i=C7(n,e);return i&&i.props&&i.props.invertAxis?r.concat().reverse():r},Brt=function(t,e,n){var r=n.x&&0!==n.x.length?n.x.reduce((function(t,e,n){return t[e]=n+1,t}),{}):null,i=n.y&&0!==n.y.length?n.y.reduce((function(t,e,n){return t[e]=n+1,t}),{}):null;return{x:r,y:i}};function Vrt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hrt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vrt(Object(n),!0).forEach((function(e){qrt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vrt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qrt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wrt={width:450,height:300,padding:50},Grt=function(t){var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h2,e=c2(a.useState(t),2),n=e[0],r=e[1],i=a.useCallback((function(t){r((function(e){return s2(s2({},e),t)}))}),[r]),o=a.useCallback((function(t,e,r){if(null===t||void 0===t||!t.animate)return e.props.animate;var o=t.animate&&t.animate.getTransitions,a=function(){var t=n&&n.childrenTransitions;return t=G1(t)?t[r]:t,D1()({childrenTransitions:t},n)}(),s=t.animate&&t.animate.parentState||a;if(!o){var l=o2(t,a,(function(t){return i(t)}));o=function(t){return l(t,r)}}return D1()({getTransitions:o,parentState:s},t.animate,e.props.animate)}),[n,i]),s=a.useCallback((function(t,e){if(null!==t&&void 0!==t&&t.animate)if(t.animate.parentState){var n=t.animate.parentState.nodesWillExit?t:null,r=D1()({oldProps:n,nextProps:e},t.animate.parentState);i(r)}else{var o=a.Children.toArray(t.children),s=a.Children.toArray(e.children),l=function(t){var e=function(t){return t.type&&t.type.continuous};return Array.isArray(t)?z1()(t,e):e(t)},c=!t.polar&&z1()(o,(function(t){return l(t)||t.props.children&&l(t.props.children)})),u=i2(o,s),h=u.nodesWillExit,d=u.nodesWillEnter,f=u.childrenTransitions,p=u.nodesShouldEnter;i({nodesWillExit:h,nodesWillEnter:d,nodesShouldEnter:p,childrenTransitions:G1(f)?f[0]:f,oldProps:h?t:void 0,nextProps:e,continuous:c})}}),[i]),l=a.useCallback((function(t){return n&&n.nodesWillExit&&n.oldProps||t}),[n]);return{state:n,setState:i,getAnimationProps:o,setAnimationState:s,getProps:l}}(),n=e.getAnimationProps,r=e.setAnimationState,i=(0,e.getProps)(t),o=P2(i,Wrt,"chart"),s=o.desc,l=o.eventKey,c=o.containerComponent,u=o.standalone,h=o.groupComponent,d=o.externalEventMutations,f=o.width,p=o.height,m=o.theme,g=o.polar,v=o.name,y=o.title,b=i.polar?o.defaultPolarAxes:o.defaultAxes,_=a.useMemo((function(){return Frt(o,b)}),[o,b]),x=a.useMemo((function(){return jrt(o,_)}),[o,_]),w=x.domain,S=x.scale,E=x.style,T=x.origin,M=x.horizontal,A=a.useMemo((function(){var t=Urt(i,_,x).map((function(t,e){var r=L1()({animate:n(i,t,e)},t.props);return a.cloneElement(t,r)}));if(i.style&&i.style.background){var e=function(t,e){var n=t.backgroundComponent,r=t.polar?e.range.y[1]:e.range.y[0]-e.range.y[1],i=e.range.x[1]-e.range.x[0],o=t.horizontal?e.scale.y.range()[0]:e.scale.x.range()[0],s=t.horizontal?e.scale.x.range()[1]:e.scale.y.range()[1],l=t.polar?e.origin.x:o,c=t.polar?e.origin.y:s,u=t.name||"chart",h={height:r,polar:t.polar,scale:e.scale,style:t.style.background,x:l,y:c,key:"".concat(u,"-background"),width:i};return a.cloneElement(n,D1()({},n.props,h))}(i,x);t.unshift(e)}return t}),[n,_,i,x]),C=a.useMemo((function(){return u?{desc:s,domain:w,width:f,height:p,horizontal:M,name:v,origin:g?T:void 0,polar:g,theme:m,title:y,scale:S,standalone:u,style:E.parent}:{}}),[s,w,p,M,v,T,g,S,u,E,y,m,f]),k=a.useMemo((function(){if(u){var e=D1()({},c.props,C,z2(t));return a.cloneElement(c,e)}return h}),[h,u,c,C,t]),O=a.useMemo((function(){return function(t){var e=e8(t,["groupComponent","containerComponent","labelComponent"]),n=t.events;return Array.isArray(e)&&(n=Array.isArray(t.events)?e.concat.apply(e,a8(t.events)):e),n||[]}(i)}),[i]),P=function(t){var e=a.useRef();return a.useEffect((function(){e.current=t})),e.current}(t);return a.useEffect((function(){return function(){t.animate&&r(P,t)}}),[r,P,t]),R1()(O)?a.cloneElement(k,k.props,A):a.createElement(q9,{container:k,eventKey:l,events:O,externalEventMutations:d},A)};Grt.propTypes=Hrt(Hrt({},P8.baseProps),{},{backgroundComponent:U1().element,children:U1().oneOfType([U1().arrayOf(U1().node),U1().node]),defaultAxes:U1().shape({independent:U1().element,dependent:U1().element}),defaultPolarAxes:U1().shape({independent:U1().element,dependent:U1().element}),endAngle:U1().number,innerRadius:E8,prependDefaultAxes:U1().bool,startAngle:U1().number}),Grt.defaultProps={backgroundComponent:a.createElement(H8,null),containerComponent:a.createElement(u9,null),defaultAxes:{independent:a.createElement(trt,null),dependent:a.createElement(trt,{dependentAxis:!0})},defaultPolarAxes:{independent:a.createElement(Nrt,null),dependent:a.createElement(Nrt,{dependentAxis:!0})},groupComponent:a.createElement("g",null),standalone:!0,theme:C9.grayscale};var Xrt=a.memo(Grt,Pv());function Krt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yrt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Krt(Object(n),!0).forEach((function(e){$rt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Krt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Xrt.displayName="VictoryChart",Xrt.expectedComponents=["groupComponent","containerComponent"];var Qrt=function(t){var e=t.orientation||"top";return"left"===e||"right"===e?function(t){var e=t.pointerWidth,n=t.cornerRadius,r=t.orientation,i=t.width,o=t.height,a=t.center,s="left"===r?1:-1,l=t.x+(t.dx||0),c=t.y+(t.dy||0),u=V2()(a)&&a.x,h=V2()(a)&&a.y,d=u-s*(i/2),f=u+s*(i/2),p=h+o/2,m=h-o/2,g=s*(l-d)>0?0:t.pointerLength,v="left"===r?"0 0 0":"0 0 1",y="".concat(n," ").concat(n," ").concat(v);return"M ".concat(d,", ").concat(h-e/2,"\n    L ").concat(g?l:d,", ").concat(g?c:h+e/2,"\n    L ").concat(d,", ").concat(h+e/2,"\n    L ").concat(d,", ").concat(p-n,"\n    A ").concat(y," ").concat(d+s*n,", ").concat(p,"\n    L ").concat(f-s*n,", ").concat(p,"\n    A ").concat(y," ").concat(f,", ").concat(p-n,"\n    L ").concat(f,", ").concat(m+n,"\n    A ").concat(y," ").concat(f-s*n,", ").concat(m,"\n    L ").concat(d+s*n,", ").concat(m,"\n    A ").concat(y," ").concat(d,", ").concat(m+n,"\n    z")}(t):function(t){var e=t.pointerWidth,n=t.cornerRadius,r=t.orientation,i=t.width,o=t.height,a=t.center,s="bottom"===r?1:-1,l=t.x+(t.dx||0),c=t.y+(t.dy||0),u=V2()(a)&&a.x,h=V2()(a)&&a.y,d=h+s*(o/2),f=h-s*(o/2),p=u+i/2,m=u-i/2,g=s*(c-d)<0?0:t.pointerLength,v="bottom"===r?"0 0 0":"0 0 1",y="".concat(n," ").concat(n," ").concat(v);return"M ".concat(u-e/2,", ").concat(d,"\n    L ").concat(g?l:u+e/2,", ").concat(g?c:d,"\n    L ").concat(u+e/2,", ").concat(d,"\n    L ").concat(p-n,", ").concat(d,"\n    A ").concat(y," ").concat(p,", ").concat(d-s*n,"\n    L ").concat(p,", ").concat(f+s*n,"\n    A ").concat(y," ").concat(p-n,", ").concat(f,"\n    L ").concat(m+n,", ").concat(f,"\n    A ").concat(y," ").concat(m,", ").concat(f+s*n,"\n    L ").concat(m,", ").concat(d-s*n,"\n    A ").concat(y," ").concat(m+n,", ").concat(d,"\n    z")}(t)},Zrt=function(t){t=function(t){var e=S2(t.id,t),n=E2(t.style,t);return L1()({},t,{id:e,style:n})}(t);var e=z2(t);return a.cloneElement(t.pathComponent,Yrt(Yrt(Yrt({},t.events),e),{},{style:t.style,d:Qrt(t),className:t.className,shapeRendering:t.shapeRendering,role:t.role,transform:t.transform,clipPath:t.clipPath}))};Zrt.propTypes=Yrt(Yrt({},P8.primitiveProps),{},{center:U1().shape({x:U1().number,y:U1().number}),cornerRadius:U1().number,datum:U1().object,dx:U1().number,dy:U1().number,height:U1().number,orientation:U1().oneOf(["top","bottom","left","right"]),pathComponent:U1().element,pointerLength:U1().number,pointerWidth:U1().number,width:U1().number,x:U1().number,y:U1().number}),Zrt.defaultProps={pathComponent:a.createElement(rrt,null),role:"presentation",shapeRendering:"auto"};const Jrt=Zrt;function tit(t){return function(t){if(Array.isArray(t))return eit(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return eit(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eit(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eit(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nit(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rit(t,e){return rit=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rit(t,e)}function iit(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=oit(t);if(e){var i=oit(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function oit(t){return oit=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oit(t)}var ait={cornerRadius:5,pointerLength:10,pointerWidth:10},sit=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rit(t,e)}(o,t);var e,n,r,i=iit(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,t)).id=void 0===t.id?W8()("tooltip-"):t.id,e}return e=o,n=[{key:"getDefaultOrientation",value:function(t){var e=t.datum,n=t.horizontal;if(!t.polar){var r=n?"right":"top",i=n?"left":"bottom";return e&&e.y<0?i:r}return this.getPolarOrientation(t,e)}},{key:"getPolarOrientation",value:function(t,e){var n=Utt(t,e),r=t.labelPlacement||"vertical";return" vertical"===r?this.getVerticalOrientations(n):"parallel"===r?n<90||n>270?"right":"left":n>180?"bottom":"top"}},{key:"getVerticalOrientations",value:function(t){return t<45||t>315?"right":t>=45&&t<=135?"top":t>135&&t<225?"left":"bottom"}},{key:"getStyles",value:function(t){var e=t.theme||C9.grayscale,n=e&&e.tooltip&&e.tooltip.style?e.tooltip.style:{},r=Array.isArray(t.style)?t.style.map((function(t){return D1()({},t,n)})):D1()({},t.style,n),i=e&&e.tooltip&&e.tooltip.flyoutStyle?e.tooltip.flyoutStyle:{},o=t.flyoutStyle?D1()({},t.flyoutStyle,i):i,a=Array.isArray(r)?r.map((function(e){return E2(e,t)})):E2(r,t);return{style:a,flyoutStyle:E2(o,L1()({},t,{style:a}))}}},{key:"getEvaluatedProps",value:function(t){var e=t.cornerRadius,n=t.centerOffset,r=t.dx,i=t.dy,o=S2(t.active,t),a=S2(t.text,L1()({},t,{active:o})),s=this.getStyles(L1()({},t,{active:o,text:a})),l=s.style,c=s.flyoutStyle,u=S2(t.orientation,L1()({},t,{active:o,text:a,style:l,flyoutStyle:c}))||this.getDefaultOrientation(t),h=x2({padding:S2(t.flyoutPadding,L1()({},t,{active:o,text:a,style:l,flyoutStyle:c,orientation:u}))||this.getLabelPadding(l)}),d=S2(t.pointerWidth,L1()({},t,{active:o,text:a,style:l,flyoutStyle:c,orientation:u})),f=S2(t.pointerLength,L1()({},t,{active:o,text:a,style:l,flyoutStyle:c,orientation:u})),p=ftt(a,l),m=this.getDimensions(L1()({},t,{style:l,flyoutStyle:c,active:o,text:a,orientation:u,flyoutPadding:h,pointerWidth:d,pointerLength:f}),p),g=m.flyoutHeight,v=m.flyoutWidth,y=L1()({},t,{active:o,text:a,style:l,flyoutStyle:c,orientation:u,flyoutHeight:g,flyoutWidth:v,flyoutPadding:h,pointerWidth:d,pointerLength:f}),b=V2()(n)&&void 0!==n.x?S2(n.x,y):0,_=V2()(n)&&void 0!==n.y?S2(n.y,y):0;return L1()({},y,{centerOffset:{x:b,y:_},dx:void 0!==r?S2(r,y):0,dy:void 0!==i?S2(i,y):0,cornerRadius:S2(e,y)})}},{key:"getCalculatedValues",value:function(t){var e=t.style,n=t.text,r=t.flyoutStyle,i={height:t.flyoutHeight,width:t.flyoutWidth};return{style:e,flyoutStyle:r,labelSize:ftt(n,e),flyoutDimensions:i,flyoutCenter:this.getFlyoutCenter(t,i),transform:this.getTransform(t)}}},{key:"getTransform",value:function(t){var e=t.x,n=t.y,r=(t.style||{}).angle||t.angle||this.getDefaultAngle(t);return r?"rotate(".concat(r," ").concat(e," ").concat(n,")"):void 0}},{key:"getDefaultAngle",value:function(t){var e=t.polar,n=t.labelPlacement,r=t.orientation,i=t.datum;if(!e||!n||"vertical"===n)return 0;var o,a=Utt(t,i);return 0===a||180===a?o="top"===r&&180===a?270:90:a>0&&a<180?o=90-a:a>180&&a<360&&(o=270-a),o+(a>90&&a<180||a>270?1:-1)*("perpendicular"===n?0:90)}},{key:"constrainTooltip",value:function(t,e,n){var r=t.x,i=t.y,o=n.width,a=n.height,s=[0,e.width],l=[0,e.height],c=[r-o/2,r+o/2],u=[i-a/2,i+a/2],h=[c[0]<s[0]?s[0]-c[0]:0,c[1]>s[1]?c[1]-s[1]:0],d=[u[0]<l[0]?l[0]-u[0]:0,u[1]>l[1]?u[1]-l[1]:0];return{x:Math.round(r+h[0]-h[1]),y:Math.round(i+d[0]-d[1])}}},{key:"getFlyoutCenter",value:function(t,e){var n=t.x,r=t.y,i=t.dx,o=t.dy,a=t.pointerLength,s=t.orientation,l=t.constrainToVisibleArea,c=t.centerOffset,u=e.height,h=e.width,d="left"===s?-1:1,f="bottom"===s?-1:1,p={x:"left"===s||"right"===s?n+d*(a+h/2+d*i):n+i,y:"top"===s||"bottom"===s?r-f*(a+u/2-f*o):r+o},m=V2()(t.center)&&void 0!==t.center.x?t.center.x:p.x,g=V2()(t.center)&&void 0!==t.center.y?t.center.y:p.y,v={x:m+c.x,y:g+c.y};return l?this.constrainTooltip(v,t,e):v}},{key:"getLabelPadding",value:function(t){if(!t)return 0;var e=Array.isArray(t)?t.map((function(t){return t.padding})):[t.padding];return Math.max.apply(Math,tit(e).concat([0]))}},{key:"getDimensions",value:function(t,e){var n=t.orientation,r=t.pointerLength,i=t.pointerWidth,o=t.flyoutHeight,a=t.flyoutWidth,s=t.flyoutPadding,l=S2(t.cornerRadius,t);return{flyoutHeight:o?S2(o,t):function(){var t=e.height+s.top+s.bottom,r="top"===n||"bottom"===n?2*l:2*l+i;return Math.max(r,t)}(),flyoutWidth:a?S2(a,t):function(){var t=e.width+s.left+s.right,i="left"===n||"right"===n?2*l+r:2*l;return Math.max(i,t)}()}}},{key:"getLabelProps",value:function(t,e){var n=e.flyoutCenter,r=e.style,i=e.labelSize,o=e.dy,a=void 0===o?0:o,s=e.dx,l=void 0===s?0:s,c=t.text,u=t.datum,h=t.activePoints,d=t.labelComponent,f=t.index,p=t.flyoutPadding,m=(Array.isArray(r)&&r.length?r[0].textAnchor:r.textAnchor)||"middle";return D1()({},d.props,{key:"".concat(this.id,"-label-").concat(f),text:c,datum:u,activePoints:h,textAnchor:m,dy:a,dx:l,style:r,x:function(){if(!m||"middle"===m)return n.x;var t="end"===m?-1:1;return n.x-t*(i.width/2)}()+(p.left-p.right)/2,y:n.y+(p.top-p.bottom)/2,verticalAnchor:"middle",angle:r.angle})}},{key:"getPointerOrientation",value:function(t,e,n){var r=e.y+n.height/2,i=e.y-n.height/2,o=e.x-n.width/2,a=e.x+n.width/2,s=[{side:"top",val:i>t.y?i-t.y:-1},{side:"bottom",val:r<t.y?t.y-r:-1},{side:"right",val:a<t.x?t.x-a:-1},{side:"left",val:o>t.x?o-t.x:-1}];return i5()(s,"val","desc")[0].side}},{key:"getFlyoutProps",value:function(t,e){var n=e.flyoutDimensions,r=e.flyoutStyle,i=e.flyoutCenter,o=t.x,a=t.y,s=t.dx,l=t.dy,c=t.datum,u=t.activePoints,h=t.index,d=t.pointerLength,f=t.pointerWidth,p=t.cornerRadius,m=t.events,g=t.flyoutComponent,v=S2(t.pointerOrientation,t);return D1()({},g.props,{x:o,y:a,dx:s,dy:l,datum:c,activePoints:u,index:h,pointerLength:d,pointerWidth:f,cornerRadius:p,events:m,orientation:v||this.getPointerOrientation({x:o,y:a},i,n),key:"".concat(this.id,"-tooltip-").concat(h),width:n.width,height:n.height,style:r,center:i})}},{key:"renderTooltip",value:function(t){var e=S2(t.active,t),n=t.renderInPortal;if(!e)return n?a.createElement(Mtt,null,null):null;var r=this.getEvaluatedProps(t),i=r.flyoutComponent,o=r.labelComponent,s=r.groupComponent,l=this.getCalculatedValues(r),c=[a.cloneElement(i,this.getFlyoutProps(r,l)),a.cloneElement(o,this.getLabelProps(r,l))],u=a.cloneElement(s,{role:"presentation",transform:l.transform},c);return n?a.createElement(Mtt,null,u):u}},{key:"render",value:function(){var t=P2(this.props,ait,"tooltip");return this.renderTooltip(t)}}],n&&nit(e.prototype,n),r&&nit(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(a.Component);sit.displayName="VictoryTooltip",sit.role="tooltip",sit.propTypes={activateData:U1().bool,active:U1().oneOfType([U1().bool,U1().func]),activePoints:U1().array,angle:U1().number,center:U1().shape({x:E8,y:E8}),centerOffset:U1().shape({x:U1().oneOfType([U1().number,U1().func]),y:U1().oneOfType([U1().number,U1().func])}),constrainToVisibleArea:U1().bool,cornerRadius:U1().oneOfType([E8,U1().func]),data:U1().array,datum:U1().object,dx:U1().oneOfType([U1().number,U1().func]),dy:U1().oneOfType([U1().number,U1().func]),events:U1().object,flyoutComponent:U1().element,flyoutHeight:U1().oneOfType([E8,U1().func]),flyoutPadding:U1().oneOfType([U1().func,U1().number,U1().shape({top:U1().number,bottom:U1().number,left:U1().number,right:U1().number})]),flyoutStyle:U1().object,flyoutWidth:U1().oneOfType([E8,U1().func]),groupComponent:U1().element,height:U1().number,horizontal:U1().bool,id:U1().oneOfType([U1().number,U1().string]),index:U1().oneOfType([U1().number,U1().string]),labelComponent:U1().element,orientation:U1().oneOfType([U1().oneOf(["top","bottom","left","right"]),U1().func]),pointerLength:U1().oneOfType([E8,U1().func]),pointerOrientation:U1().oneOfType([U1().oneOf(["top","bottom","left","right"]),U1().func]),pointerWidth:U1().oneOfType([E8,U1().func]),polar:U1().bool,renderInPortal:U1().bool,scale:U1().shape({x:C8,y:C8}),style:U1().oneOfType([U1().object,U1().array]),text:U1().oneOfType([U1().string,U1().number,U1().func,U1().array]),theme:U1().object,width:U1().number,x:U1().number,y:U1().number},sit.defaultProps={active:!1,renderInPortal:!0,labelComponent:a.createElement(ret,null),flyoutComponent:a.createElement(Jrt,null),groupComponent:a.createElement("g",null)},sit.defaultEvents=function(t){var e=t.activateData?[{target:"labels",mutation:function(){return{active:!0}}},{target:"data",mutation:function(){return{active:!0}}}]:[{target:"labels",mutation:function(){return{active:!0}}}],n=t.activateData?[{target:"labels",mutation:function(){return{active:void 0}}},{target:"data",mutation:function(){return{active:void 0}}}]:[{target:"labels",mutation:function(){return{active:void 0}}}];return[{target:"data",eventHandlers:{onMouseOver:function(){return e},onFocus:function(){return e},onTouchStart:function(){return e},onMouseOut:function(){return n},onBlur:function(){return n},onTouchEnd:function(){return n}}}]};var lit=n(6769),cit=n.n(lit),uit=n(3038),hit=n.n(uit);function dit(t,e,n){var r=e.a,i=e.d,o=e.e,a=e.f;return"y"===n?i*t+a:r*t+o}function fit(t){return!(!t||void 0===t.identifier)}function pit(t){if(!fit(t.nativeEvent)){var e=function(t){return"svg"===t.nodeName?t:t.parentNode?e(t.parentNode):t};return e(t.target)}}var mit=n(1168);function git(t){return function(t){if(Array.isArray(t))return vit(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return vit(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vit(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vit(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yit={withinBounds:function(t,e){var n=t.width,r=t.height,i=t.polar,o=t.origin,a=t.scale,s=x2(t,"voronoiPadding"),l=e.x,c=e.y;if(i){var u=Math.pow(l-o.x,2)+Math.pow(c-o.y,2),h=Math.max.apply(Math,git(a.y.range()));return u<Math.pow(h,2)}return l>=s.left&&l<=n-s.right&&c>=s.top&&c<=r-s.bottom},getDatasets:function(t){var e={x:Y1(t.domain.x),y:Y1(t.domain.y)},n=a.Children.toArray(t.children),r=function(n,r,i){var o=i&&i.type&&i.type.continuous,a=i?i.props&&i.props.style:t.style;return n.map((function(n,i){var s=b2(n),l=s.x,c=s.y,u=s.y0,h=s.x0,d=(Number(l)+Number(h))/2,f=(Number(c)+Number(u))/2;return L1()({_voronoiX:"y"===t.voronoiDimension?e.x:d,_voronoiY:"x"===t.voronoiDimension?e.y:f,eventKey:i,childName:r,continuous:o,style:a},n)}))};if(t.data)return r(t.data);var i=function(t){var e=a7(t);return Array.isArray(e)&&e.length>0?e:void 0};return R2(n,(function(e,n){var o=(e.props||{}).name||n,a=t.voronoiBlacklist||[],s=a.filter(cit()),l=a.filter(p8()).some((function(t){return t.test(o)}));if(!c7(e)||n5()(s,o)||l)return null;var c=(e.type&&v2()(e.type.getData)?e.type.getData:i)(e.props);return c?r(c,o,e):null}),t)},findPoints:function(t,e){return t.filter((function(t){return e._voronoiX===t._voronoiX&&e._voronoiY===t._voronoiY}))},withinRadius:function(t,e,n){if(!t)return!1;if(!n)return!0;var r=e.x,i=e.y;return Math.pow(r-t[0],2)+Math.pow(i-t[1],2)<Math.pow(n,2)},getVoronoiPoints:function(t,e){var n=this.getDatasets(t),r=n.map((function(e){var n=_2(t,e);return[n.x,n.y]})),i=mit.Z.from(r).find(e.x,e.y);return{points:this.withinRadius(r[i],e,t.radius)?this.findPoints(n,n[i]):[],index:i}},getActiveMutations:function(t,e){var n=e.childName,r=e.continuous,i=t.activateData,o=t.activateLabels,a=t.labels;if(!i&&!o)return[];var s=i?["data"]:[],l=a&&!o?s:s.concat("labels");return R1()(l)?[]:l.map((function(t){var i=!0===r&&"data"===t?"all":e.eventKey;return{childName:n,eventKey:i,target:t,mutation:function(){return{active:!0}}}}))},getInactiveMutations:function(t,e){var n=e.childName,r=e.continuous,i=t.activateData,o=t.activateLabels,a=t.labels;if(!i&&!o)return[];var s=i?["data"]:[],l=a&&!o?s:s.concat("labels");return R1()(l)?[]:l.map((function(t){var i=r&&"data"===t?"all":e.eventKey;return{childName:n,eventKey:i,target:t,mutation:function(){return null}}}))},getParentMutation:function(t,e,n,r){return[{target:"parent",eventKey:"parent",mutation:function(){return{activePoints:t,mousePosition:e,parentSVG:n,vIndex:r}}}]},onActivated:function(t,e){v2()(t.onActivated)&&t.onActivated(e,t)},onDeactivated:function(t,e){v2()(t.onDeactivated)&&t.onDeactivated(e,t)},onMouseLeave:function(t,e){var n,r=this,i=e.activePoints||[];this.onDeactivated(e,i);var o=i.length?i.map((function(t){return r.getInactiveMutations(e,t)})):[];return(n=this.getParentMutation([])).concat.apply(n,git(o))},onMouseMove:function(t,e){var n=this,r=e.activePoints||[],i=e.parentSVG||pit(t),o=function(t,e){if(fit(t.nativeEvent))return{x:t.nativeEvent.locationX,y:t.nativeEvent.locationY};var n=function(t){return t.changedTouches&&t.changedTouches.length>0}(t)?t.changedTouches[0]:t,r=function(t){return t.getScreenCTM().inverse()}(e=e||pit(n));return{x:dit(n.clientX,r,"x"),y:dit(n.clientY,r,"y")}}(t,i);if(!this.withinBounds(e,o)){var a;this.onDeactivated(e,r);var s=r.length?r.map((function(t){return n.getInactiveMutations(e,t)})):[];return(a=this.getParentMutation([],o,i)).concat.apply(a,git(s))}var l=this.getVoronoiPoints(e,o),c=l.points,u=void 0===c?[]:c,h=l.index,d=this.getParentMutation(u,o,i,h);if(r.length&&Pv()(u,r))return d;this.onActivated(e,u),this.onDeactivated(e,r);var f=u.length?u.map((function(t){return n.getActiveMutations(e,t)})):[],p=r.length?r.map((function(t){return n.getInactiveMutations(e,t)})):[];return d.concat.apply(d,git(p).concat(git(f)))}};const bit={onMouseLeave:yit.onMouseLeave.bind(yit),onMouseMove:hit()(yit.onMouseMove.bind(yit),32,{leading:!0,trailing:!1})};var _it=["childName","eventKey","style","continuous"];function xit(t){return function(t){if(Array.isArray(t))return wit(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return wit(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wit(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wit(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sit(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Eit(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tit(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Eit(Object(n),!0).forEach((function(e){Mit(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eit(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mit(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ait(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cit(t,e){return Cit=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Cit(t,e)}function kit(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Oit(t);if(e){var i=Oit(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Oit(t){return Oit=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Oit(t)}const Pit=function(t){var e;return e=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cit(t,e)}(o,t);var e,n,r,i=kit(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,n=[{key:"getDimension",value:function(t){var e=t.horizontal,n=t.voronoiDimension;return e&&n?"x"===n?"y":"x":n}},{key:"getPoint",value:function(t){return f2()(t,["_x","_x1","_x0","_y","_y1","_y0"])}},{key:"getLabelPosition",value:function(t,e,n){var r=t.mousePosition,i=t.mouseFollowTooltips,o=this.getDimension(t),a=_2(t,this.getPoint(n[0])),s=i?r:void 0;if(!o||n.length<2)return Tit(Tit({},a),{},{center:D1()({},e.center,s)});var l="y"===o?r.x:a.x,c="x"===o?r.y:a.y;return s=i?r:{x:l,y:c},{x:l,y:c,center:D1()({},e.center,s)}}},{key:"getStyle",value:function(t,e,n){var r=t.labels,i=t.labelComponent,o=t.theme,a=i.props||{},s=o&&o.voronoi&&o.voronoi.style?o.voronoi.style:{},l="flyout"===n?a.flyoutStyle:a.style;return e.reduce((function(t,e,i){var o=D1()({},a,{datum:e,active:!0}),c=v2()(r)?r(o):void 0,u=void 0!==c?"".concat(c).split("\n"):[],h=e.style&&e.style[n]||{},d=Array.isArray(l)?l[i]:l,f=E2(D1()({},d,h,s[n]),o),p=u.length?u.map((function(){return f})):[f];return t=t.concat(p)}),[])}},{key:"getDefaultLabelProps",value:function(t,e){var n=t.voronoiDimension,r=t.horizontal,i=t.mouseFollowTooltips,o=this.getPoint(e[0]),a=n&&e.length>1,s=void 0!==o._y1?o._y1:o._y;return{orientation:i?void 0:r?s<0?"left":"right":s<0?"bottom":"top",pointerLength:a?0:void 0,constrainToVisibleArea:!(!a&&!i)||void 0}}},{key:"getLabelProps",value:function(t,e){var n=t.labels,r=t.scale,i=t.labelComponent,o=t.theme,a=t.width,s=t.height,l=i.props||{},c=e.reduce((function(t,e){var r=D1()({},l,{datum:e,active:!0}),i=v2()(n)?n(r):null;return null===i||void 0===i?t:t=t.concat("".concat(i).split("\n"))}),[]),u=e[0],h=u.childName,d=u.eventKey,f=(u.style,u.continuous,Sit(u,_it)),p=t.name===h?h:"".concat(t.name,"-").concat(h),m=D1()({key:"".concat(p,"-").concat(d,"-voronoi-tooltip"),id:"".concat(p,"-").concat(d,"-voronoi-tooltip"),active:!0,renderInPortal:!1,activePoints:e,datum:f,scale:r,theme:o},l,{text:c,width:a,height:s,style:this.getStyle(t,e,"labels"),flyoutStyle:this.getStyle(t,e,"flyout")[0]},this.getDefaultLabelProps(t,e)),g=this.getLabelPosition(t,m,e);return D1()({},g,m)}},{key:"getTooltip",value:function(t){var e=t.labels,n=t.activePoints,r=t.labelComponent;if(!e)return null;if(Array.isArray(n)&&n.length){var i=this.getLabelProps(t,n),o=i.text;return(Array.isArray(o)?o.filter(Boolean).length:o)?a.cloneElement(r,i):null}return null}},{key:"getChildren",value:function(t){return[].concat(xit(a.Children.toArray(t.children)),[this.getTooltip(t)])}}],n&&Ait(e.prototype,n),r&&Ait(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(t),e.displayName="VictoryVoronoiContainer",e.propTypes=Tit(Tit({},u9.propTypes),{},{activateData:U1().bool,activateLabels:U1().bool,disable:U1().bool,labelComponent:U1().element,labels:U1().func,mouseFollowTooltips:U1().bool,onActivated:U1().func,onDeactivated:U1().func,radius:U1().number,voronoiBlacklist:U1().arrayOf(U1().oneOfType([U1().string,O8])),voronoiDimension:U1().oneOf(["x","y"]),voronoiPadding:U1().oneOfType([U1().number,U1().shape({top:U1().number,bottom:U1().number,left:U1().number,right:U1().number})])}),e.defaultProps=Tit(Tit({},u9.defaultProps),{},{activateData:!0,activateLabels:!0,labelComponent:a.createElement(sit,null),voronoiPadding:5}),e.defaultEvents=function(t){return[{target:"parent",eventHandlers:{onMouseLeave:function(e,n){return t.disable?{}:bit.onMouseLeave(e,n)},onTouchCancel:function(e,n){return t.disable?{}:bit.onMouseLeave(e,n)},onMouseMove:function(e,n){return t.disable?{}:bit.onMouseMove(e,n)},onTouchMove:function(e,n){return t.disable?{}:bit.onMouseMove(e,n)}}},{target:"data",eventHandlers:t.disable?{}:{onMouseOver:function(){return null},onMouseOut:function(){return null},onMouseMove:function(){return null}}}]},e}(u9);var Rit=n(7151),Nit=n.n(Rit);function Lit(t){return function(t){if(Array.isArray(t))return Iit(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Iit(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iit(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iit(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dit(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jit(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dit(Object(n),!0).forEach((function(e){Uit(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dit(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Uit(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fit=function(t){var e=t.data,n=t.style;return e.map((function(t,r){return E2(D1()({},t.labels,n.labels),{datum:t,index:r,data:e})}))},zit=function(t){var e=t.orientation,n=t.theme,r=function(t,e){var n=t.style||{};return e=e||{},{parent:D1()(n.parent,e.parent,{height:"100%",width:"100%"}),data:D1()({},n.data,e.data),labels:D1()({},n.labels,e.labels),border:D1()({},n.border,e.border),title:D1()({},n.title,e.title)}}(t,n&&n.legend&&n.legend.style?n.legend.style:{}),i=function(t){var e=t.colorScale;return"string"===typeof e?function(t){var e={grayscale:["#cccccc","#969696","#636363","#252525"],qualitative:["#334D5C","#45B29D","#EFC94C","#E27A3F","#DF5A49","#4F7DA1","#55DBC1","#EFDA97","#E2A37F","#DF948A"],heatmap:["#428517","#77D200","#D6D305","#EC8E19","#C92B05"],warm:["#940031","#C43343","#DC5429","#FF821D","#FFAF55"],cool:["#2746B9","#0B69D4","#2794DB","#31BB76","#60E83B"],red:["#FCAE91","#FB6A4A","#DE2D26","#A50F15","#750B0E"],blue:["#002C61","#004B8F","#006BC9","#3795E5","#65B4F4"],green:["#354722","#466631","#649146","#8AB25C","#A9C97E"]};return t?e[t]:e.grayscale}(e):e||[]}(t),o="horizontal"===e,a=x2({padding:t.borderPadding});return L1()({},t,{style:r,isHorizontal:o,colorScale:i,borderPadding:a})},Bit=function(t,e){var n=t.itemsPerRow,r=t.isHorizontal;return n?r?e%n:Math.floor(e/n):r?e:0},Vit=function(t,e){var n=t.itemsPerRow,r=t.isHorizontal;return n?r?Math.floor(e/n):e%n:r?0:e},Hit=function(t){var e=t.data,n=t.style&&t.style.data||{},r=Fit(t);return e.map((function(e,i){var o=e.symbol||{},a=r[i].fontSize,s=o.size||n.size||a/2.5,l=t.symbolSpacer||Math.max(s,a);return jit(jit({},e),{},{size:s,symbolSpacer:l,fontSize:a,textSize:ftt(e.name,r[i]),column:Bit(t,i),row:Vit(t,i)})}))},qit=function(t,e){var n=t.gutter||{},r="object"===typeof n?(n.left||0)+(n.right||0):n||0,i=K2()(e,"column");return Q1()(i).reduce((function(t,e,n){var o=i[e].map((function(t){return t.textSize.width+t.size+t.symbolSpacer+r}));return t[n]=Math.max.apply(Math,Lit(o)),t}),[])},Wit=function(t,e){var n=t.rowGutter||{},r="object"===typeof n?(n.top||0)+(n.bottom||0):n||0,i=K2()(e,"row");return Q1()(i).reduce((function(t,e,n){var o=i[e].map((function(t){return t.textSize.height+t.symbolSpacer+r}));return t[n]=Math.max.apply(Math,Lit(o)),t}),[])},Git=function(t){var e=t.style&&t.style.title||{},n=ftt(t.title,e),r=e.padding||0;return{height:n.height+2*r||0,width:n.width+2*r||0}},Xit=function(t,e){var n=t.title,r=t.titleOrientation,i=t.centerTitle,o=t.borderPadding,a=e.height,s=e.width,l=function(t){var e=t.titleOrientation,n=t.centerTitle,r=t.titleComponent,i=t.style&&t.style.title||{},o=r.props&&r.props.style||{},a=function(t,e){var n={textAnchor:"right"===t?"end":"start",verticalAnchor:"bottom"===t?"end":"start"};if(e){var r="top"===t||"bottom"===t;return{textAnchor:r?"middle":n.textAnchor,verticalAnchor:r?n.verticalAnchor:"middle"}}return n}(e,n);return Array.isArray(o)?o.map((function(t){return D1()({},t,i,a)})):D1()({},o,i,a)}(t),c=Array.isArray(l)?l[0].padding:l.padding,u="top"===r||"bottom"===r,h="right"===r?"right":"left",d={x:i?s/2:o["bottom"===r?"bottom":"top"]+(c||0),y:i?a/2:o[h]+(c||0)},f=function(){return o[r]+(c||0)},p=u?d.x:f(),m=u?f():d.y;return{x:"right"===r?t.x+s-p:t.x+p,y:"bottom"===r?t.y+a-m:t.y+m,style:l,text:n}},Kit=function(t,e){var n=P2(t,e,"legend"),r=t=L1()({},n,zit(n)),i=r.title,o=r.titleOrientation,a=Hit(t),s=qit(t,a),l=Wit(t,a),c=i?Git(t):{height:0,width:0};return{height:"left"===o||"right"===o?Math.max(Nit()(l),c.height):Nit()(l)+c.height,width:"left"===o||"right"===o?Nit()(s)+c.width:Math.max(Nit()(s),c.width)}},Yit=function(t,e){var n=P2(t,e,"legend"),r=t=L1()({},n,zit(n)),i=r.data,o=r.standalone,a=r.theme,s=r.padding,l=r.style,c=r.colorScale,u=r.gutter,h=r.rowGutter,d=r.borderPadding,f=r.title,p=r.titleOrientation,m=r.name,g=r.x,v=void 0===g?0:g,y=r.y,b=void 0===y?0:y,_=Hit(t),x=qit(t,_),w=Wit(t,_),S=Fit(t),E=f?Git(t):{height:0,width:0},T="left"===p?E.width:0,M="top"===p?E.height:0,A=u&&"object"===typeof u&&u.left||0,C=h&&"object"===typeof h&&h.top||0,k=Kit(t,e),O=function(t,e,n){var r=t.x,i=t.y,o=t.borderPadding,a=t.style;return{x:r,y:i,height:(e||0)+o.top+o.bottom,width:(n||0)+o.left+o.right,style:L1()({fill:"none"},a.border)}}(t,k.height,k.width),P=Xit(t,O),R={parent:{data:i,standalone:o,theme:a,padding:s,name:m,height:t.height,width:t.width,style:l.parent},all:{border:O,title:P}};return _.reduce((function(t,e,n){var r=c[n%c.length],o=D1()({},e.symbol,l.data,{fill:r}),a=oet()(e.eventKey)?n:e.eventKey,s=function(t,e,n){var r=t.column,i=t.row;return{x:a5()(r).reduce((function(t,e){return t+n[e]}),0),y:a5()(i).reduce((function(t,n){return t+e[n]}),0)}}(e,w,x),u=b+d.top+e.symbolSpacer,h=v+d.left+e.symbolSpacer,f={index:n,data:i,datum:e,symbol:o.type||o.symbol||"circle",size:e.size,style:o,y:u+s.y+M+C,x:h+s.x+T+A},p={datum:e,data:i,text:e.name,style:S[n],y:f.y,x:f.x+e.symbolSpacer+e.size/2};return t[a]={data:f,labels:p},t}),R)};function $it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qit(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$it(Object(n),!0).forEach((function(e){Zit(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$it(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zit(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jit=function(t){return t=function(t){var e=S2(t.ariaLabel,t),n=S2(t.desc,t),r=S2(t.id,t),i=E2(L1()({fill:"none"},t.style),t),o=S2(t.tabIndex,t);return L1()({},t,{ariaLabel:e,desc:n,id:r,style:i,tabIndex:o})}(t),a.cloneElement(t.rectComponent,Qit(Qit({},t.events),{},{"aria-label":t.ariaLabel,style:t.style,desc:t.desc,tabIndex:t.tabIndex,transform:t.transform,className:t.className,role:t.role,shapeRendering:t.shapeRendering,x:t.x,y:t.y,width:t.width,height:t.height,clipPath:t.clipPath}))};function tot(t,e,n){return"M ".concat(t,", ").concat(e,"\n      m ").concat(-n,", 0\n      a ").concat(n,", ").concat(n," 0 1,0 ").concat(2*n,",0\n      a ").concat(n,", ").concat(n," 0 1,0 ").concat(2*-n,",0")}function eot(t,e,n){var r=.87*n,i=t-r,o=e+r,a=t+r-i;return"M ".concat(i,", ").concat(o,"\n      h").concat(a,"\n      v-").concat(a,"\n      h-").concat(a,"\n      z")}function not(t,e,n){var r=.87*n,i=Math.sqrt(r*r*2);return"M ".concat(t,", ").concat(e+i,"\n      l ").concat(i,", -").concat(i,"\n      l -").concat(i,", -").concat(i,"\n      l -").concat(i,", ").concat(i,"\n      l ").concat(i,", ").concat(i,"\n      z")}function rot(t,e,n){var r=t+n,i=e-n,o=e+n/2*Math.sqrt(3);return"M ".concat(t-n,", ").concat(i,"\n      L ").concat(r,", ").concat(i,"\n      L ").concat(t,", ").concat(o,"\n      z")}function iot(t,e,n){var r=t+n,i=e-n/2*Math.sqrt(3),o=e+n;return"M ".concat(t-n,", ").concat(o,"\n      L ").concat(r,", ").concat(o,"\n      L ").concat(t,", ").concat(i,"\n      z")}function oot(t,e,n){var r=1.1*n,i=r/1.5;return"\n      M ".concat(t-i/2,", ").concat(e+r,"\n      v-").concat(i,"\n      h-").concat(i,"\n      v-").concat(i,"\n      h").concat(i,"\n      v-").concat(i,"\n      h").concat(i,"\n      v").concat(i,"\n      h").concat(i,"\n      v").concat(i,"\n      h-").concat(i,"\n      v").concat(i,"\n      z")}function aot(t,e,n){var r=.8*n,i=r/1.5;return"\n      M ".concat(t-i/2,", ").concat(e+r+i,"\n      v-").concat(2*i,"\n      h-").concat(i,"\n      v-").concat(i,"\n      h").concat(i,"\n      v-").concat(i,"\n      h").concat(i,"\n      v").concat(i,"\n      h").concat(i,"\n      v").concat(i,"\n      h-").concat(i,"\n      v").concat(2*i,"\n      z")}function sot(t,e,n){var r=1.1*n,i=r-.3*r,o=t-r,a=e+i/2,s=t+r-o;return"M ".concat(o,", ").concat(a,"\n      h").concat(s,"\n      v-").concat(i,"\n      h-").concat(s,"\n      z")}function lot(t,e,n){var r=1.35*n,i=Math.PI/5,o=a5()(10).map((function(n){var o=n%2===0?r:r/2;return"".concat(o*Math.sin(i*(n+1))+t,",\n        ").concat(o*Math.cos(i*(n+1))+e)}));return"M ".concat(o.join("L")," z")}function cot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function uot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cot(Object(n),!0).forEach((function(e){hot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Jit.propTypes=Qit(Qit({},P8.primitiveProps),{},{height:U1().number,rectComponent:U1().element,width:U1().number,x:U1().number,y:U1().number}),Jit.defaultProps={rectComponent:a.createElement(I8,null),role:"presentation",shapeRendering:"auto"};var dot=function(t){var e=t.x,n=t.y,r=t.size,o=t.symbol;if(t.getPath)return t.getPath(e,n,r);return("function"===typeof i[o]?i[o]:i.circle)(e,n,r)},fot=function(t){t=function(t){var e=S2(t.ariaLabel,t),n=S2(t.desc,t),r=S2(t.id,t),i=S2(t.size,t),o=E2(t.style,t),a=S2(t.symbol,t),s=S2(t.tabIndex,t);return L1()({},t,{ariaLabel:e,desc:n,id:r,size:i,style:o,symbol:a,tabIndex:s})}(t);var e=z2(t);return a.cloneElement(t.pathComponent,uot(uot({},t.events),{},{"aria-label":t.ariaLabel,d:dot(t),style:t.style,desc:t.desc,tabIndex:t.tabIndex,role:t.role,shapeRendering:t.shapeRendering,className:t.className,transform:t.transform,clipPath:t.clipPath},e))};function pot(t){return function(t){if(Array.isArray(t))return mot(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return mot(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mot(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function got(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vot(t,e){return vot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vot(t,e)}function yot(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=bot(t);if(e){var i=bot(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function bot(t){return bot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bot(t)}fot.propTypes=uot(uot({},P8.primitiveProps),{},{datum:U1().object,getPath:U1().func,pathComponent:U1().element,size:U1().oneOfType([U1().number,U1().func]),symbol:U1().oneOfType([U1().oneOf(["circle","cross","diamond","plus","minus","square","star","triangleDown","triangleUp"]),U1().func]),x:U1().number,y:U1().number}),fot.defaultProps={pathComponent:a.createElement(rrt,null),role:"presentation",shapeRendering:"auto"};var _ot={orientation:"vertical",titleOrientation:"top",width:450,height:300,x:0,y:0},xot=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vot(t,e)}(o,t);var e,n,r,i=yot(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,n=[{key:"renderChildren",value:function(t){var e=this,n=t.dataComponent,r=t.labelComponent,i=t.title,o=this.dataKeys.map((function(t,r){if("all"!==t){var i=e.getComponentProps(n,"data",r);return a.cloneElement(n,i)}})).filter(Boolean),s=this.dataKeys.map((function(t,n){if("all"!==t){var i=e.getComponentProps(r,"labels",n);return void 0!==i.text&&null!==i.text?a.cloneElement(r,i):void 0}})).filter(Boolean),l=this.getComponentProps(t.borderComponent,"border","all"),c=a.cloneElement(t.borderComponent,l);if(i){var u=this.getComponentProps(t.title,"title","all"),h=a.cloneElement(t.titleComponent,u);return[c].concat(pot(o),[h],pot(s))}return[c].concat(pot(o),pot(s))}},{key:"render",value:function(){var t=this.constructor.role,e=P2(this.props,_ot,t),n=[this.renderChildren(e)];return e.standalone?this.renderContainer(e.containerComponent,n):a.cloneElement(e.groupComponent,{},n)}}],n&&got(e.prototype,n),r&&got(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(a.Component);xot.displayName="VictoryLegend",xot.role="legend",xot.propTypes={borderComponent:U1().element,borderPadding:U1().oneOfType([U1().number,U1().shape({top:U1().number,bottom:U1().number,left:U1().number,right:U1().number})]),centerTitle:U1().bool,colorScale:U1().oneOfType([U1().arrayOf(U1().string),U1().oneOf(["grayscale","qualitative","heatmap","warm","cool","red","green","blue"])]),containerComponent:U1().element,data:U1().arrayOf(U1().shape({name:U1().string.isRequired,label:U1().object,symbol:U1().object})),dataComponent:U1().element,eventKey:U1().oneOfType([U1().func,S8([T8,E8]),U1().string]),events:U1().arrayOf(U1().shape({target:U1().oneOf(["data","labels","parent"]),eventKey:U1().oneOfType([U1().array,S8([T8,E8]),U1().string]),eventHandlers:U1().object})),externalEventMutations:U1().arrayOf(U1().shape({callback:U1().func,childName:U1().oneOfType([U1().string,U1().array]),eventKey:U1().oneOfType([U1().array,S8([T8,E8]),U1().string]),mutation:U1().func,target:U1().oneOfType([U1().string,U1().array])})),groupComponent:U1().element,gutter:U1().oneOfType([U1().number,U1().shape({left:U1().number,right:U1().number})]),height:E8,itemsPerRow:E8,labelComponent:U1().element,name:U1().string,orientation:U1().oneOf(["horizontal","vertical"]),padding:U1().oneOfType([U1().number,U1().shape({top:U1().number,bottom:U1().number,left:U1().number,right:U1().number})]),rowGutter:U1().oneOfType([U1().number,U1().shape({top:U1().number,bottom:U1().number})]),sharedEvents:U1().shape({events:U1().array,getEventState:U1().func}),standalone:U1().bool,style:U1().shape({border:U1().object,data:U1().object,labels:U1().object,parent:U1().object,title:U1().object}),symbolSpacer:U1().number,theme:U1().object,title:U1().oneOfType([U1().string,U1().array]),titleComponent:U1().element,titleOrientation:U1().oneOf(["top","bottom","left","right"]),width:E8,x:E8,y:E8},xot.defaultProps={borderComponent:a.createElement(Jit,null),data:[{name:"Series 1"},{name:"Series 2"}],containerComponent:a.createElement(u9,null),dataComponent:a.createElement(fot,null),groupComponent:a.createElement("g",null),labelComponent:a.createElement(ret,null),standalone:!0,theme:C9.grayscale,titleComponent:a.createElement(ret,null)},xot.getBaseProps=function(t){return Yit(t,_ot)},xot.getDimensions=function(t){return Kit(t,_ot)},xot.expectedComponents=["borderComponent","containerComponent","dataComponent","groupComponent","labelComponent","titleComponent"];const wot=Ent(xot);var Sot=function(t){var e=a7(t);e.length<2&&(e=[]);var n={x:k2(t,"x"),y:k2(t,"y")},r={x:g7(t,"x"),y:g7(t,"y")},i={x:F4(t,"x").domain(r.x).range(t.horizontal?n.y:n.x),y:F4(t,"y").domain(r.y).range(t.horizontal?n.x:n.y)},o=t.polar?t.origin||C2(t):void 0,a=function(t,e){var n=t.theme,r=void 0===n?{}:n,i=t.labelComponent,o=r[e]&&r[e].style||{};if(!w2(i))return o;var a=r.tooltip&&r.tooltip.style||{},s=D1()({},a,o.labels);return D1()({},{labels:s},o)}(t,"line"),s=function(t,e){var n="100%",r="100%";if(!t)return D1()({parent:{height:r,width:n}},e);var i=t.data,o=t.labels,a=t.parent,s=e&&e.parent||{},l=e&&e.labels||{},c=e&&e.data||{};return{parent:D1()({},a,s,{width:n,height:r}),labels:D1()({},o,l),data:D1()({},i,c)}}(t.style,a);return{domain:r,data:e,scale:i,style:s,origin:o}};function Eot(t){return function(){return t}}const Tot=Math.abs,Mot=Math.atan2,Aot=Math.cos,Cot=Math.max,kot=Math.min,Oot=Math.sin,Pot=Math.sqrt,Rot=1e-12,Not=Math.PI,Lot=Not/2,Iot=2*Not;function Dot(t){return t>=1?Lot:t<=-1?-Lot:Math.asin(t)}var jot,Uot,Fot,zot,Bot,Vot,Hot,qot,Wot,Got,Xot,Kot,Yot,$ot;const Qot=Math.PI,Zot=2*Qot,Jot=1e-6,tat=Zot-Jot;function eat(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class nat{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?eat:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error("invalid digits: ".concat(t));if(e>15)return eat;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append(jot||(jot=c(["M",",",""])),this._x0=this._x1=+t,this._y0=this._y1=+e)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(Uot||(Uot=c(["Z"]))))}lineTo(t,e){this._append(Fot||(Fot=c(["L",",",""])),this._x1=+t,this._y1=+e)}quadraticCurveTo(t,e,n,r){this._append(zot||(zot=c(["Q",",",",",",",""])),+t,+e,this._x1=+n,this._y1=+r)}bezierCurveTo(t,e,n,r,i,o){this._append(Bot||(Bot=c(["C",",",",",",",",",",",""])),+t,+e,+n,+r,this._x1=+i,this._y1=+o)}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let o=this._x1,a=this._y1,s=n-t,l=r-e,u=o-t,h=a-e,d=u*u+h*h;if(null===this._x1)this._append(Vot||(Vot=c(["M",",",""])),this._x1=t,this._y1=e);else if(d>Jot)if(Math.abs(h*s-l*u)>Jot&&i){let f=n-o,p=r-a,m=s*s+l*l,g=f*f+p*p,v=Math.sqrt(m),y=Math.sqrt(d),b=i*Math.tan((Qot-Math.acos((m+d-g)/(2*v*y)))/2),_=b/y,x=b/v;Math.abs(_-1)>Jot&&this._append(qot||(qot=c(["L",",",""])),t+_*u,e+_*h),this._append(Wot||(Wot=c(["A",",",",0,0,",",",",",""])),i,i,+(h*f>u*p),this._x1=t+x*s,this._y1=e+x*l)}else this._append(Hot||(Hot=c(["L",",",""])),this._x1=t,this._y1=e);else;}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),s=n*Math.sin(r),l=t+a,u=e+s,h=1^o,d=o?r-i:i-r;null===this._x1?this._append(Got||(Got=c(["M",",",""])),l,u):(Math.abs(this._x1-l)>Jot||Math.abs(this._y1-u)>Jot)&&this._append(Xot||(Xot=c(["L",",",""])),l,u),n&&(d<0&&(d=d%Zot+Zot),d>tat?this._append(Kot||(Kot=c(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,h,t-a,e-s,n,n,h,this._x1=l,this._y1=u):d>Jot&&this._append(Yot||(Yot=c(["A",",",",0,",",",",",",",""])),n,n,+(d>=Qot),h,this._x1=t+n*Math.cos(i),this._y1=e+n*Math.sin(i)))}rect(t,e,n,r){this._append($ot||($ot=c(["M",",","h","v","h","Z"])),this._x0=this._x1=+t,this._y0=this._y1=+e,n=+n,+r,-n)}toString(){return this._}}function rat(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError("invalid digits: ".concat(n));e=t}return t},()=>new nat(e)}function iat(t){return t.innerRadius}function oat(t){return t.outerRadius}function aat(t){return t.startAngle}function sat(t){return t.endAngle}function lat(t){return t&&t.padAngle}function cat(t,e,n,r,i,o,a){var s=t-n,l=e-r,c=(a?o:-o)/Pot(s*s+l*l),u=c*l,h=-c*s,d=t+u,f=e+h,p=n+u,m=r+h,g=(d+p)/2,v=(f+m)/2,y=p-d,b=m-f,_=y*y+b*b,x=i-o,w=d*m-p*f,S=(b<0?-1:1)*Pot(Cot(0,x*x*_-w*w)),E=(w*b-y*S)/_,T=(-w*y-b*S)/_,M=(w*b+y*S)/_,A=(-w*y+b*S)/_,C=E-g,k=T-v,O=M-g,P=A-v;return C*C+k*k>O*O+P*P&&(E=M,T=A),{cx:E,cy:T,x01:-u,y01:-h,x11:E*(i/x-1),y11:T*(i/x-1)}}function uat(){var t=iat,e=oat,n=Eot(0),r=null,i=aat,o=sat,a=lat,s=null,l=rat(c);function c(){var c,u,h=+t.apply(this,arguments),d=+e.apply(this,arguments),f=i.apply(this,arguments)-Lot,p=o.apply(this,arguments)-Lot,m=Tot(p-f),g=p>f;if(s||(s=c=l()),d<h&&(u=d,d=h,h=u),d>Rot)if(m>Iot-Rot)s.moveTo(d*Aot(f),d*Oot(f)),s.arc(0,0,d,f,p,!g),h>Rot&&(s.moveTo(h*Aot(p),h*Oot(p)),s.arc(0,0,h,p,f,g));else{var v,y,b=f,_=p,x=f,w=p,S=m,E=m,T=a.apply(this,arguments)/2,M=T>Rot&&(r?+r.apply(this,arguments):Pot(h*h+d*d)),A=kot(Tot(d-h)/2,+n.apply(this,arguments)),C=A,k=A;if(M>Rot){var O=Dot(M/h*Oot(T)),P=Dot(M/d*Oot(T));(S-=2*O)>Rot?(x+=O*=g?1:-1,w-=O):(S=0,x=w=(f+p)/2),(E-=2*P)>Rot?(b+=P*=g?1:-1,_-=P):(E=0,b=_=(f+p)/2)}var R=d*Aot(b),N=d*Oot(b),L=h*Aot(w),I=h*Oot(w);if(A>Rot){var D,j=d*Aot(_),U=d*Oot(_),F=h*Aot(x),z=h*Oot(x);if(m<Not)if(D=function(t,e,n,r,i,o,a,s){var l=n-t,c=r-e,u=a-i,h=s-o,d=h*l-u*c;if(!(d*d<Rot))return[t+(d=(u*(e-o)-h*(t-i))/d)*l,e+d*c]}(R,N,F,z,j,U,L,I)){var B=R-D[0],V=N-D[1],H=j-D[0],q=U-D[1],W=1/Oot(function(t){return t>1?0:t<-1?Not:Math.acos(t)}((B*H+V*q)/(Pot(B*B+V*V)*Pot(H*H+q*q)))/2),G=Pot(D[0]*D[0]+D[1]*D[1]);C=kot(A,(h-G)/(W-1)),k=kot(A,(d-G)/(W+1))}else C=k=0}E>Rot?k>Rot?(v=cat(F,z,R,N,d,k,g),y=cat(j,U,L,I,d,k,g),s.moveTo(v.cx+v.x01,v.cy+v.y01),k<A?s.arc(v.cx,v.cy,k,Mot(v.y01,v.x01),Mot(y.y01,y.x01),!g):(s.arc(v.cx,v.cy,k,Mot(v.y01,v.x01),Mot(v.y11,v.x11),!g),s.arc(0,0,d,Mot(v.cy+v.y11,v.cx+v.x11),Mot(y.cy+y.y11,y.cx+y.x11),!g),s.arc(y.cx,y.cy,k,Mot(y.y11,y.x11),Mot(y.y01,y.x01),!g))):(s.moveTo(R,N),s.arc(0,0,d,b,_,!g)):s.moveTo(R,N),h>Rot&&S>Rot?C>Rot?(v=cat(L,I,j,U,h,-C,g),y=cat(R,N,F,z,h,-C,g),s.lineTo(v.cx+v.x01,v.cy+v.y01),C<A?s.arc(v.cx,v.cy,C,Mot(v.y01,v.x01),Mot(y.y01,y.x01),!g):(s.arc(v.cx,v.cy,C,Mot(v.y01,v.x01),Mot(v.y11,v.x11),!g),s.arc(0,0,h,Mot(v.cy+v.y11,v.cx+v.x11),Mot(y.cy+y.y11,y.cx+y.x11),g),s.arc(y.cx,y.cy,C,Mot(y.y11,y.x11),Mot(y.y01,y.x01),!g))):s.arc(0,0,h,w,x,g):s.lineTo(L,I)}else s.moveTo(0,0);if(s.closePath(),c)return s=null,c+""||null}return c.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Not/2;return[Aot(r)*n,Oot(r)*n]},c.innerRadius=function(e){return arguments.length?(t="function"===typeof e?e:Eot(+e),c):t},c.outerRadius=function(t){return arguments.length?(e="function"===typeof t?t:Eot(+t),c):e},c.cornerRadius=function(t){return arguments.length?(n="function"===typeof t?t:Eot(+t),c):n},c.padRadius=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:Eot(+t),c):r},c.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:Eot(+t),c):i},c.endAngle=function(t){return arguments.length?(o="function"===typeof t?t:Eot(+t),c):o},c.padAngle=function(t){return arguments.length?(a="function"===typeof t?t:Eot(+t),c):a},c.context=function(t){return arguments.length?(s=null==t?null:t,c):s},c}nat.prototype;var hat=Array.prototype.slice;function dat(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function fat(t){this._context=t}function pat(t){return new fat(t)}function mat(t){return t[0]}function gat(t){return t[1]}function vat(t,e){var n=Eot(!0),r=null,i=pat,o=null,a=rat(s);function s(s){var l,c,u,h=(s=dat(s)).length,d=!1;for(null==r&&(o=i(u=a())),l=0;l<=h;++l)!(l<h&&n(c=s[l],l,s))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(c,l,s),+e(c,l,s));if(u)return o=null,u+""||null}return t="function"===typeof t?t:void 0===t?mat:Eot(t),e="function"===typeof e?e:void 0===e?gat:Eot(e),s.x=function(e){return arguments.length?(t="function"===typeof e?e:Eot(+e),s):t},s.y=function(t){return arguments.length?(e="function"===typeof t?t:Eot(+t),s):e},s.defined=function(t){return arguments.length?(n="function"===typeof t?t:Eot(!!t),s):n},s.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),s):i},s.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),s):r},s}function yat(t,e,n){var r=null,i=Eot(!0),o=null,a=pat,s=null,l=rat(c);function c(c){var u,h,d,f,p,m=(c=dat(c)).length,g=!1,v=new Array(m),y=new Array(m);for(null==o&&(s=a(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)h=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=u-1;d>=h;--d)s.point(v[d],y[d]);s.lineEnd(),s.areaEnd()}g&&(v[u]=+t(f,u,c),y[u]=+e(f,u,c),s.point(r?+r(f,u,c):v[u],n?+n(f,u,c):y[u]))}if(p)return s=null,p+""||null}function u(){return vat().defined(i).curve(a).context(o)}return t="function"===typeof t?t:void 0===t?mat:Eot(+t),e="function"===typeof e?e:Eot(void 0===e?0:+e),n="function"===typeof n?n:void 0===n?gat:Eot(+n),c.x=function(e){return arguments.length?(t="function"===typeof e?e:Eot(+e),r=null,c):t},c.x0=function(e){return arguments.length?(t="function"===typeof e?e:Eot(+e),c):t},c.x1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:Eot(+t),c):r},c.y=function(t){return arguments.length?(e="function"===typeof t?t:Eot(+t),n=null,c):e},c.y0=function(t){return arguments.length?(e="function"===typeof t?t:Eot(+t),c):e},c.y1=function(t){return arguments.length?(n=null==t?null:"function"===typeof t?t:Eot(+t),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(t){return arguments.length?(i="function"===typeof t?t:Eot(!!t),c):i},c.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),c):a},c.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),c):o},c}function bat(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function _at(t){return t}function xat(){var t=_at,e=bat,n=null,r=Eot(0),i=Eot(Iot),o=Eot(0);function a(a){var s,l,c,u,h,d=(a=dat(a)).length,f=0,p=new Array(d),m=new Array(d),g=+r.apply(this,arguments),v=Math.min(Iot,Math.max(-Iot,i.apply(this,arguments)-g)),y=Math.min(Math.abs(v)/d,o.apply(this,arguments)),b=y*(v<0?-1:1);for(s=0;s<d;++s)(h=m[p[s]=s]=+t(a[s],s,a))>0&&(f+=h);for(null!=e?p.sort((function(t,n){return e(m[t],m[n])})):null!=n&&p.sort((function(t,e){return n(a[t],a[e])})),s=0,c=f?(v-d*b)/f:0;s<d;++s,g=u)l=p[s],u=g+((h=m[l])>0?h*c:0)+b,m[l]={data:a[l],index:s,value:h,startAngle:g,endAngle:u,padAngle:y};return m}return a.value=function(e){return arguments.length?(t="function"===typeof e?e:Eot(+e),a):t},a.sortValues=function(t){return arguments.length?(e=t,n=null,a):e},a.sort=function(t){return arguments.length?(n=t,e=null,a):n},a.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:Eot(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"===typeof t?t:Eot(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"===typeof t?t:Eot(+t),a):o},a}fat.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var wat=Eat(pat);function Sat(t){this._curve=t}function Eat(t){function e(e){return new Sat(t(e))}return e._curve=t,e}function Tat(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Eat(t)):e()._curve},t}function Mat(){return Tat(vat().curve(wat))}function Aat(){var t=yat().curve(wat),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Tat(n())},delete t.lineX0,t.lineEndAngle=function(){return Tat(r())},delete t.lineX1,t.lineInnerRadius=function(){return Tat(i())},delete t.lineY0,t.lineOuterRadius=function(){return Tat(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Eat(t)):e()._curve},t}function Cat(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}Sat.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};class kat{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}class Oat{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,e){if(t=+t,e=+e,0===this._point)this._point=1;else{const n=Cat(this._x0,this._y0),r=Cat(this._x0,this._y0=(this._y0+e)/2),i=Cat(t,this._y0),o=Cat(t,e);this._context.moveTo(...n),this._context.bezierCurveTo(...r,...i,...o)}this._x0=t,this._y0=e}}function Pat(t){return new kat(t,!0)}function Rat(t){return new kat(t,!1)}function Nat(t){return new Oat(t)}function Lat(t){return t.source}function Iat(t){return t.target}function Dat(t){let e=Lat,n=Iat,r=mat,i=gat,o=null,a=null,s=rat(l);function l(){let l;const c=hat.call(arguments),u=e.apply(this,c),h=n.apply(this,c);if(null==o&&(a=t(l=s())),a.lineStart(),c[0]=u,a.point(+r.apply(this,c),+i.apply(this,c)),c[0]=h,a.point(+r.apply(this,c),+i.apply(this,c)),a.lineEnd(),l)return a=null,l+""||null}return l.source=function(t){return arguments.length?(e=t,l):e},l.target=function(t){return arguments.length?(n=t,l):n},l.x=function(t){return arguments.length?(r="function"===typeof t?t:Eot(+t),l):r},l.y=function(t){return arguments.length?(i="function"===typeof t?t:Eot(+t),l):i},l.context=function(e){return arguments.length?(null==e?o=a=null:a=t(o=e),l):o},l}function jat(){return Dat(Pat)}function Uat(){return Dat(Rat)}function Fat(){const t=Dat(Nat);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const zat=Pot(3),Bat={draw(t,e){const n=.59436*Pot(e+kot(e/28,.75)),r=n/2,i=r*zat;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},Vat={draw(t,e){const n=Pot(e/Not);t.moveTo(n,0),t.arc(0,0,n,0,Iot)}},Hat={draw(t,e){const n=Pot(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},qat=Pot(1/3),Wat=2*qat,Gat={draw(t,e){const n=Pot(e/Wat),r=n*qat;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Xat={draw(t,e){const n=.62625*Pot(e);t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},Kat={draw(t,e){const n=.87559*Pot(e-kot(e/7,2));t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},Yat={draw(t,e){const n=Pot(e),r=-n/2;t.rect(r,r,n,n)}},$at={draw(t,e){const n=.4431*Pot(e);t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},Qat=Oot(Not/10)/Oot(7*Not/10),Zat=Oot(Iot/10)*Qat,Jat=-Aot(Iot/10)*Qat,tst={draw(t,e){const n=Pot(.8908130915292852*e),r=Zat*n,i=Jat*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const e=Iot*o/5,a=Aot(e),s=Oot(e);t.lineTo(s*n,-a*n),t.lineTo(a*r-s*i,s*r+a*i)}t.closePath()}},est=Pot(3),nst={draw(t,e){const n=-Pot(e/(3*est));t.moveTo(0,2*n),t.lineTo(-est*n,-n),t.lineTo(est*n,-n),t.closePath()}},rst=Pot(3),ist={draw(t,e){const n=.6824*Pot(e),r=n/2,i=n*rst/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},ost=-.5,ast=Pot(3)/2,sst=1/Pot(12),lst=3*(sst/2+1),cst={draw(t,e){const n=Pot(e/lst),r=n/2,i=n*sst,o=r,a=n*sst+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(ost*r-ast*i,ast*r+ost*i),t.lineTo(ost*o-ast*a,ast*o+ost*a),t.lineTo(ost*s-ast*l,ast*s+ost*l),t.lineTo(ost*r+ast*i,ost*i-ast*r),t.lineTo(ost*o+ast*a,ost*a-ast*o),t.lineTo(ost*s+ast*l,ost*l-ast*s),t.closePath()}},ust={draw(t,e){const n=.6189*Pot(e-kot(e/6,1.7));t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},hst=[Vat,Hat,Gat,Yat,tst,nst,cst],dst=[Vat,Kat,ust,ist,Bat,$at,Xat];function fst(t,e){let n=null,r=rat(i);function i(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return t="function"===typeof t?t:Eot(t||Vat),e="function"===typeof e?e:Eot(void 0===e?64:+e),i.type=function(e){return arguments.length?(t="function"===typeof e?e:Eot(e),i):t},i.size=function(t){return arguments.length?(e="function"===typeof t?t:Eot(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i}function pst(){}function mst(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function gst(t){this._context=t}function vst(t){return new gst(t)}function yst(t){this._context=t}function bst(t){return new yst(t)}function _st(t){this._context=t}function xst(t){return new _st(t)}function wst(t,e){this._basis=new gst(t),this._beta=e}gst.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mst(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mst(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},yst.prototype={areaStart:pst,areaEnd:pst,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:mst(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},_st.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:mst(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},wst.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(i+r*a),this._beta*e[l]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Sst=function t(e){function n(t){return 1===e?new gst(t):new wst(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Est(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Tst(t,e){this._context=t,this._k=(1-e)/6}Tst.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Est(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Est(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Mst=function t(e){function n(t){return new Tst(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Ast(t,e){this._context=t,this._k=(1-e)/6}Ast.prototype={areaStart:pst,areaEnd:pst,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Est(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Cst=function t(e){function n(t){return new Ast(t,e)}return n.tension=function(e){return t(+e)},n}(0);function kst(t,e){this._context=t,this._k=(1-e)/6}kst.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Est(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ost=function t(e){function n(t){return new kst(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Pst(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Rot){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>Rot){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Rst(t,e){this._context=t,this._alpha=e}Rst.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Pst(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Nst=function t(e){function n(t){return e?new Rst(t,e):new Tst(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Lst(t,e){this._context=t,this._alpha=e}Lst.prototype={areaStart:pst,areaEnd:pst,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Pst(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ist=function t(e){function n(t){return e?new Lst(t,e):new Ast(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Dst(t,e){this._context=t,this._alpha=e}Dst.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Pst(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const jst=function t(e){function n(t){return e?new Dst(t,e):new kst(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Ust(t){this._context=t}function Fst(t){return new Ust(t)}function zst(t){return t<0?-1:1}function Bst(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(zst(o)+zst(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Vst(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Hst(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function qst(t){this._context=t}function Wst(t){this._context=new Gst(t)}function Gst(t){this._context=t}function Xst(t){return new qst(t)}function Kst(t){return new Wst(t)}function Yst(t){this._context=t}function $st(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Qst(t){return new Yst(t)}function Zst(t,e){this._context=t,this._t=e}function Jst(t){return new Zst(t,.5)}function tlt(t){return new Zst(t,0)}function elt(t){return new Zst(t,1)}function nlt(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function rlt(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ilt(t,e){return t[e]}function olt(t){const e=[];return e.key=t,e}function alt(){var t=Eot([]),e=rlt,n=nlt,r=ilt;function i(i){var o,a,s=Array.from(t.apply(this,arguments),olt),l=s.length,c=-1;for(const t of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(t,s[o].key,c,i)]).data=t;for(o=0,a=dat(e(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(e){return arguments.length?(t="function"===typeof e?e:Eot(Array.from(e)),i):t},i.value=function(t){return arguments.length?(r="function"===typeof t?t:Eot(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?rlt:"function"===typeof t?t:Eot(Array.from(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?nlt:t,i):n},i}function slt(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}nlt(t,e)}}function llt(t,e){if((s=t.length)>0)for(var n,r,i,o,a,s,l=0,c=t[e[0]].length;l<c;++l)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][l])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)}function clt(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}nlt(t,e)}}function ult(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=t[e[s]],h=u[a][1]||0,d=(h-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=t[e[f]];d+=(p[a][1]||0)-(p[a-1][1]||0)}l+=h,c+=d*h}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,nlt(t,e)}}function hlt(t){var e=t.map(dlt);return rlt(t).sort((function(t,n){return e[t]-e[n]}))}function dlt(t){for(var e,n=-1,r=0,i=t.length,o=-1/0;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}function flt(t){var e=t.map(plt);return rlt(t).sort((function(t,n){return e[t]-e[n]}))}function plt(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function mlt(t){return flt(t).reverse()}function glt(t){var e,n,r=t.length,i=t.map(plt),o=hlt(t),a=0,s=0,l=[],c=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],l.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(l)}function vlt(t){return rlt(t).reverse()}Ust.prototype={areaStart:pst,areaEnd:pst,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},qst.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hst(this,this._t0,Vst(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Hst(this,Vst(this,n=Bst(this,t,e)),n);break;default:Hst(this,this._t0,n=Bst(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Wst.prototype=Object.create(qst.prototype)).point=function(t,e){qst.prototype.point.call(this,e,t)},Gst.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},Yst.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=$st(t),i=$st(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Zst.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var ylt=function(t){var e=void 0!==t._y1?t._y1:t._y;return null!==e&&void 0!==e&&null!==t._y0},blt=function(t){return function(e){return t.x(void 0!==e._x1?e._x1:e._x)}},_lt=function(t){return function(e){return t.y(void 0!==e._y1?e._y1:e._y)}},xlt=function(t){return"curve".concat(function(t){return t&&t[0].toUpperCase()+t.slice(1)}(t))},wlt=function(t){var e=t.interpolation;if("function"===typeof e)return e;if("string"===typeof e){var n=t.polar,r=t.openCurve,i=(void 0===r?!n:r)?xlt(e):function(t){return"".concat(xlt(t),"Closed")}(e);return o[i]}return pat},Slt=function(t){var e=t.polar,n=t.scale,r=t.horizontal;return e?Mat().defined(ylt).curve(wlt(t)).angle(function(t){return function(e){return-1*t.x(void 0!==e._x1?e._x1:e._x)+Math.PI/2}}(n)).radius(_lt(n)):vat().defined(ylt).curve(wlt(t)).x(r?_lt(n):blt(n)).y(r?blt(n):_lt(n))};function Elt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tlt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Elt(Object(n),!0).forEach((function(e){Mlt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Elt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mlt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Alt=function(t){t=function(t){var e=S2(t.ariaLabel,t),n=S2(t.id,t),r=E2(L1()({fill:"none",stroke:"black",pointerEvents:"stroke"},t.style),t),i=S2(t.tabIndex,t);return L1()({},t,{ariaLabel:e,id:n,style:r,tabIndex:i})}(t);var e=z2(t),n=t,r=n.polar,i=n.origin,o=Slt(t),s=r&&i?"translate(".concat(i.x,", ").concat(i.y,")"):void 0,l=o(t.data);return a.cloneElement(t.pathComponent,Tlt(Tlt(Tlt({},t.events),e),{},{"aria-label":t.ariaLabel,d:l,style:t.style,transform:t.transform||s,className:t.className,role:t.role,shapeRendering:t.shapeRendering,clipPath:t.clipPath,tabIndex:t.tabIndex}))};Alt.propTypes=Tlt(Tlt({},P8.primitiveProps),{},{interpolation:U1().oneOfType([U1().string,U1().func]),openCurve:U1().bool,origin:U1().shape({x:U1().number.isRequired,y:U1().number.isRequired}),pathComponent:U1().element,polar:U1().bool}),Alt.defaultProps={pathComponent:a.createElement(rrt,null),role:"presentation",shapeRendering:"auto"};var Clt=function(t){return a.createElement("defs",null,a.createElement("clipPath",{id:t.clipId},t.children))};function klt(t){return function(t){if(Array.isArray(t))return Olt(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Olt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Olt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Olt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Plt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rlt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Plt(Object(n),!0).forEach((function(e){Nlt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Plt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nlt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Llt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ilt(t,e){return Ilt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ilt(t,e)}function Dlt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jlt(t);if(e){var i=jlt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function jlt(t){return jlt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jlt(t)}Clt.propTypes={children:U1().oneOfType([U1().arrayOf(U1().node),U1().node]),clipId:U1().oneOfType([U1().number,U1().string])};var Ult=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ilt(t,e)}(o,t);var e,n,r,i=Dlt(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,t)).clipId=void 0,e.clipId=u5()(t)&&void 0!==t.clipId?t.clipId:W8()("victory-clip-"),e}return e=o,n=[{key:"calculateAttributes",value:function(t){var e=t.polar,n=t.origin,r=t.clipWidth,i=void 0===r?0:r,o=t.clipHeight,a=void 0===o?0:o,s=t.translateX,l=void 0===s?0:s,c=t.translateY,u=void 0===c?0:c,h=x2({padding:t.clipPadding}),d=t.radius||A2(t);return{x:(e?n.x:l)-h.left,y:(e?n.y:u)-h.top,width:Math.max((e?d:i)+h.left+h.right,0),height:Math.max((e?d:a)+h.top+h.bottom,0)}}},{key:"renderClippedGroup",value:function(t,e){var n=z2(t),r=t.style,i=t.events,o=t.transform,s=t.children,l=t.className,c=t.groupComponent,u=t.tabIndex,h=this.renderClipComponent(t,e),d=L1()({className:l,style:r,transform:o,key:"clipped-group-".concat(e),clipPath:"url(#".concat(e,")")},i);return a.cloneElement(c,Rlt(Rlt({},d),{},{tabIndex:u},n),[h].concat(klt(a.Children.toArray(s))))}},{key:"renderGroup",value:function(t){var e=t.style,n=t.events,r=t.transform,i=t.children,o=t.className,s=t.groupComponent,l=t.tabIndex;return a.cloneElement(s,L1()({className:o,style:e,transform:r,"aria-label":t["aria-label"],tabIndex:l},n),i)}},{key:"renderClipComponent",value:function(t,e){var n,r=t.polar,i=t.origin,o=t.clipWidth,s=void 0===o?0:o,l=t.clipHeight,c=void 0===l?0:l,u=t.translateX,h=void 0===u?0:u,d=t.translateY,f=void 0===d?0:d,p=t.circleComponent,m=t.rectComponent,g=t.clipPathComponent,v=x2({padding:t.clipPadding}),y=v.top,b=v.bottom,_=v.left,x=v.right;if(r){var w=t.radius||A2(t),S={r:Math.max(w+_+x,w+y+b,0),cx:i.x-_,cy:i.y-y};n=a.cloneElement(p,S)}else{var E={x:h-_,y:f-y,width:Math.max(s+_+x,0),height:Math.max(c+y+b,0)};n=a.cloneElement(m,E)}return a.cloneElement(g,L1()({key:"clip-path-".concat(e)},t,{clipId:e}),n)}},{key:"getClipValue",value:function(t,e){var n={x:t.clipWidth,y:t.clipHeight};if(void 0!==n[e])return n[e];var r=k2(t,e);return r&&Math.abs(r[0]-r[1])||void 0}},{key:"getTranslateValue",value:function(t,e){var n={x:t.translateX,y:t.translateY};if(void 0!==n[e])return n[e];var r=k2(t,e);return r?Math.min.apply(Math,klt(r)):void 0}},{key:"render",value:function(){var t=this.getClipValue(this.props,"y"),e=this.getClipValue(this.props,"x");if(void 0===e||void 0===t)return this.renderGroup(this.props);var n=this.getTranslateValue(this.props,"x"),r=this.getTranslateValue(this.props,"y"),i=D1()({},this.props,{clipHeight:t,clipWidth:e,translateX:n,translateY:r});return this.renderClippedGroup(i,this.clipId)}}],n&&Llt(e.prototype,n),r&&Llt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(a.Component);function Flt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zlt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Flt(Object(n),!0).forEach((function(e){Blt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Flt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Blt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vlt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hlt(t,e){return Hlt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hlt(t,e)}function qlt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wlt(t);if(e){var i=Wlt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Wlt(t){return Wlt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wlt(t)}Ult.displayName="VictoryClipContainer",Ult.role="container",Ult.propTypes={"aria-label":U1().string,children:U1().oneOfType([U1().arrayOf(U1().node),U1().node]),circleComponent:U1().element,className:U1().string,clipHeight:E8,clipId:U1().oneOfType([U1().number,U1().string]),clipPadding:U1().shape({top:U1().number,bottom:U1().number,left:U1().number,right:U1().number}),clipPathComponent:U1().element,clipWidth:E8,events:U1().object,groupComponent:U1().element,origin:U1().shape({x:E8,y:E8}),polar:U1().bool,radius:E8,style:U1().object,tabIndex:U1().number,transform:U1().string,translateX:U1().number,translateY:U1().number},Ult.defaultProps={circleComponent:a.createElement(F8,null),rectComponent:a.createElement(I8,null),clipPathComponent:a.createElement(Clt,null),groupComponent:a.createElement("g",null)};var Glt,Xlt,Klt={width:450,height:300,padding:50,interpolation:"linear"},Ylt=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hlt(t,e)}(o,t);var e,n,r,i=qlt(o);function o(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,t)}return e=o,(n=[{key:"shouldAnimate",value:function(){return!!this.props.animate}},{key:"render",value:function(){var t=o.animationWhitelist,e=o.role,n=P2(this.props,Klt,e);if(this.shouldAnimate())return this.animateComponent(n,t);var r=this.renderContinuousData(n);return function(t,e){return a.cloneElement(t,z2(e))}(n.standalone?this.renderContainer(n.containerComponent,r):r,n)}}])&&Vlt(e.prototype,n),r&&Vlt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(a.Component);Ylt.animationWhitelist=["data","domain","height","padding","samples","style","width"],Ylt.displayName="VictoryLine",Ylt.role="line",Ylt.defaultTransitions={onLoad:{duration:2e3},onExit:{duration:500},onEnter:{duration:500}},Ylt.defaultPolarTransitions={onLoad:{duration:2e3,before:function(){return{_y:0,_y1:0,_y0:0}},after:function(t){return{_y:t._y,_y1:t._y1,_y0:t._y0}}},onExit:{duration:500,before:function(t,e,n){var r=function(t){return(0===e?n[e+1]:n[e-1])[t]};return{_x:r("_x"),_y:r("_y"),_y0:r("_y0")}}},onEnter:{duration:500,before:function(t,e,n){var r=function(t){return(0===e?n[e+1]:n[e-1])[t]};return{_x:r("_x"),_y:r("_y"),_y0:r("_y0")}},after:function(t){return{_x:t._x,_y:t._y,_y1:t._y1,_y0:t._y0}}}},Ylt.continuous=!0,Ylt.propTypes=zlt(zlt(zlt({},P8.baseProps),P8.dataProps),{},{interpolation:U1().oneOfType([U1().oneOf(["basis","bundle","cardinal","catmullRom","linear","monotoneX","monotoneY","natural","step","stepAfter","stepBefore"]),U1().func]),label:(Glt=U1().string,Xlt="Use `labels` instead for individual data labels",function(t,e,n){var r=t[e];return null!==r&&void 0!==r&&v8('"'.concat(e,'" property of "').concat(n,'" has been deprecated ').concat(Xlt)),U1().checkPropTypes(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,Glt),t,e,n),null})}),Ylt.defaultProps={containerComponent:a.createElement(u9,null),dataComponent:a.createElement(Alt,null),labelComponent:a.createElement(ret,{renderInPortal:!0}),groupComponent:a.createElement(Ult,null),samples:50,sortKey:"x",sortOrder:"ascending",standalone:!0,theme:C9.grayscale},Ylt.getDomain=g7,Ylt.getData=a7,Ylt.getBaseProps=function(t){return function(t,e){var n=P2(t,e,"line"),r=t=L1()({},n,Sot(n)),i=r.data,o=r.domain,a=r.events,s=r.groupComponent,l=r.height,c=r.horizontal,u=r.interpolation,h=r.origin,d=r.padding,f=r.polar,p=r.scale,m=r.sharedEvents,g=r.standalone,v=r.style,y=r.theme,b=r.width,_=r.labels,x=r.name,w=r.disableInlineStyles,S={parent:{style:v.parent,scale:p,data:i,height:l,width:b,name:x,domain:o,standalone:g,polar:f,origin:h,padding:d,horizontal:c},all:{data:{horizontal:c,polar:f,origin:h,scale:p,data:i,interpolation:u,groupComponent:s,style:w?{}:v.data,theme:y,disableInlineStyles:w}}};return i.reduce((function(e,n,r){var i=Ltt(t,n,r);return(void 0!==i&&null!==i||_&&(a||m))&&(e[oet()(n.eventKey)?r:n.eventKey]={labels:Ftt(t,r)}),e}),S)}(t,Klt)},Ylt.expectedComponents=["dataComponent","labelComponent","groupComponent","containerComponent"];var $lt=Ent(Ylt,{components:[{name:"parent",index:"parent"},{name:"data",index:"all"},{name:"labels"}]}),Qlt=Cv((function(t,e){var n;const r=Nv("FormLabel",t),i=Wn(t),{className:o,children:a,requiredIndicator:s=(0,Bt.jsx)(Zlt,{}),optionalIndicator:l=null,...c}=i,u=Q0(),h=null!=(n=null==u?void 0:u.getLabelProps(c,e))?n:{ref:e,...c};return(0,Bt.jsxs)(Tv.label,{...h,className:Jt("chakra-form__label",i.className),__css:{display:"block",textAlign:"start",...r},children:[a,(null==u?void 0:u.isRequired)?s:l]})}));Qlt.displayName="FormLabel";var Zlt=Cv((function(t,e){const n=Q0(),r=Y0();if(!(null==n?void 0:n.isRequired))return null;const i=Jt("chakra-form__required-indicator",t.className);return(0,Bt.jsx)(Tv.span,{...null==n?void 0:n.getRequiredIndicatorProps(t,e),__css:r.requiredIndicator,className:i})}));Zlt.displayName="RequiredIndicator";var Jlt=Cv((function(t,e){const n=Lv("Switch",t),{spacing:r="0.5rem",children:i,...o}=Wn(t),{getIndicatorProps:s,getInputProps:l,getCheckboxProps:c,getRootProps:u,getLabelProps:h}=y1(o),d=(0,a.useMemo)((()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...n.container})),[n.container]),f=(0,a.useMemo)((()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...n.track})),[n.track]),p=(0,a.useMemo)((()=>({userSelect:"none",marginStart:r,...n.label})),[r,n.label]);return(0,Bt.jsxs)(Tv.label,{...u(),className:Jt("chakra-switch",t.className),__css:d,children:[(0,Bt.jsx)("input",{className:"chakra-switch__input",...l({},e)}),(0,Bt.jsx)(Tv.span,{...c(),className:"chakra-switch__track",__css:f,children:(0,Bt.jsx)(Tv.span,{__css:n.thumb,className:"chakra-switch__thumb",...s()})}),i&&(0,Bt.jsx)(Tv.span,{className:"chakra-switch__label",...h(),__css:p,children:i})]})}));Jlt.displayName="Switch";const tct=t=>{let{participants:e,text:n,factors:r}=t;const[i,o]=(0,a.useState)(0),[s,l]=(0,a.useState)(null),[c,u]=(0,a.useState)(null);(0,a.useEffect)((()=>{e.length&&n&&(async()=>{try{const t=await Yx.post("http://localhost:8000/timeseries",{participant1:e[0],participant2:e[1],factor1:r[0],factor2:r[1],text:n});l(JSON.parse(t.data.trim())),u(null)}catch(c){u("Failed to load data. Please try again later."),console.error(c)}})()}),[e,n,r]);const h=Zt("#2D3748","#1A202C"),d=Zt("#FFFFFF","#E2E8F0"),f=s?s.data.map((t=>({x:t.utterance,y:t[r[i].trim()],participant:t.participant,label:"".concat(t.participant,": ").concat(t[r[i].trim()])}))):[];return(0,Bt.jsxs)(Vb,{bg:h,p:4,borderRadius:"lg",width:"100%",children:[(0,Bt.jsxs)(Z0,{display:"flex",alignItems:"center",mb:4,children:[(0,Bt.jsxs)(Qlt,{htmlFor:"factor-switch",mb:"0",color:d,children:["Toggle between ",r[0]," and ",r[1]]}),(0,Bt.jsx)(Jlt,{id:"factor-switch",onChange:()=>{o((t=>0===t?1:0))}})]}),c?(0,Bt.jsx)(JM,{color:"red.500",children:c}):s?(0,Bt.jsx)(Bt.Fragment,{children:(0,Bt.jsxs)(Xrt,{domainPadding:20,containerComponent:(0,Bt.jsx)(Pit,{labels:t=>{let{datum:e}=t;return e.label},labelComponent:(0,Bt.jsx)(sit,{cornerRadius:5,flyoutStyle:{fill:"white",stroke:d,strokeWidth:1},flyoutPadding:{top:10,bottom:10,left:15,right:15},style:{fontSize:10,fill:d}})}),children:[(0,Bt.jsx)(wot,{x:125,y:10,title:"Participants",centerTitle:!0,orientation:"horizontal",gutter:20,style:{border:{stroke:"none"},title:{fontSize:10,fill:d}},data:[{name:e[0],symbol:{fill:"#FF6347"}},{name:e[1],symbol:{fill:"#4682B4"}}]}),(0,Bt.jsx)(trt,{style:{axis:{stroke:d},tickLabels:{fill:d}}}),(0,Bt.jsx)(trt,{dependentAxis:!0,style:{axis:{stroke:d},tickLabels:{fill:d}}}),e.map(((t,e)=>(0,Bt.jsx)($lt,{data:f.filter((e=>e.participant.trim()===t)),style:{data:{stroke:0===e?"#FF6347":"#4682B4"}}},e)))]})}):(0,Bt.jsx)(JM,{color:d,children:"Loading..."})]})};const ect=function(){const t=_b().state,[e,n]=(0,a.useState)(null),[r,i]=(0,a.useState)(!1),[o,s]=(0,a.useState)(null),[l,c]=(0,a.useState)([]),[u,h]=(0,a.useState)(""),[d,f]=(0,a.useState)([]);(0,a.useEffect)((()=>{null!==t&&void 0!==t&&t.text&&n(t.text)}),[t]);const p={pageContainer:{backgroundColor:"#1A202C",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},contentContainer:{backgroundColor:"#2D3748",color:"#fff",padding:"20px",borderRadius:"8px",margin:"20px",width:"100%",maxWidth:"600px"}};return(0,Bt.jsx)(Vb,{style:p.pageContainer,children:(0,Bt.jsxs)(C1,{style:p.contentContainer,children:[(0,Bt.jsx)(JM,{children:"Conversation Analysis"}),(0,Bt.jsx)(JM,{children:u}),!o&&e&&(0,Bt.jsx)(k1,{text:e,isOpen:!o,onIdentificationComplete:(t,e,n)=>{s(t),c(e),f(n),i(!0)},setUserChoicePrompt:h}),r&&(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)(dE,{in:!0,unmountOnExit:!0,children:(0,Bt.jsx)(O1,{interlocutor:o,text:e,factors:d})}),(0,Bt.jsx)(dE,{in:!0,unmountOnExit:!0,children:(0,Bt.jsx)(tct,{participants:l,factors:d,text:e})})]})]})})},nct=Ty({colors:{primary:{50:"#f2f2f2",100:"#e6e6e6",200:"#cccccc",300:"#b3b3b3",400:"#999999",500:"#808080",600:"#666666",700:"#4d4d4d",800:"#333333",900:"#1a1a1a"},complementary:"#4a4b52"}});const rct=function(){return(0,Bt.jsxs)(xy,{theme:Ty(nct,Qc),children:[" ",(0,Bt.jsx)(Oy,{initialColorMode:"dark"})," ",(0,Bt.jsx)(Wt,{}),(0,Bt.jsx)(Fb,{children:(0,Bt.jsxs)(Db,{children:[(0,Bt.jsx)(Lb,{path:"/",element:(0,Bt.jsx)(A1,{})}),(0,Bt.jsx)(Lb,{path:"/response",element:(0,Bt.jsx)(ect,{})})]})})]})},ict=t=>{t&&t instanceof Function&&n.e(787).then(n.bind(n,787)).then((e=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=e;n(t),r(t),i(t),o(t),a(t)}))};l.createRoot(document.getElementById("root")).render((0,Bt.jsx)(rct,{})),ict()})()})();
//# sourceMappingURL=main.6ccfb0b6.js.map